frontend/.next/dev/server/chunks/ssr/[root-of-the-server]__5dc6b4be._.js:    async getFinancialSummary(startDate, endDate) {
frontend/.next/dev/server/chunks/ssr/[root-of-the-server]__5dc6b4be._.js.map:    {"offset": {"line": 603, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASHROCK/Desktop/pro%2B/project3/projectai/frontend/lib/api.ts"],"sourcesContent":["// lib/api.ts\r\n'use client';\r\n\r\nimport axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\r\n\r\nconst DEFAULT_BASE_URL = 'http://localhost:8000/api/v1';\r\nconst API_BASE_URL = (process.env.NEXT_PUBLIC_API_URL || DEFAULT_BASE_URL).replace(/\\/$/, '');\r\n\r\ninterface ApiResponse<T = unknown> {\r\n  success?: boolean;\r\n  data: T;\r\n  message?: string;\r\n  error?: string;\r\n}\r\n\r\ntype Filters = Record<string, string | number | boolean | undefined>;\r\ntype RevenueRecord = {\r\n  id?: number | string;\r\n  amount?: number;\r\n  date?: string;\r\n  created_at?: string;\r\n  [key: string]: unknown;\r\n};\r\ntype ExpenseRecord = RevenueRecord;\r\ntype TransactionRecord = (RevenueRecord | ExpenseRecord) & {\r\n  transaction_type: 'revenue' | 'expense';\r\n};\r\n\r\ninterface AuthTokens {\r\n  access_token: string;\r\n  token_type: string;\r\n}\r\n\r\ninterface User {\r\n  id: number;\r\n  email: string;\r\n  username?: string;\r\n  full_name: string;\r\n  role: string;\r\n  department?: string;\r\n  phone?: string | null;\r\n  is_active: boolean;\r\n  created_at?: string;\r\n  manager_id?: number;\r\n}\r\n\r\ntype LoginResponse = AuthTokens & { user: User };\r\nexport type ApiUser = User;\r\nexport interface ApiRole {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  permissions?: string[];\r\n  user_count?: number;\r\n  permission_count?: number;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nclass ApiClient {\r\n  private client: AxiosInstance;\r\n\r\n  constructor() {\r\n    this.client = axios.create({\r\n      baseURL: API_BASE_URL,\r\n      timeout: 300000, // 5 minutes timeout for ML training requests (can take longer)\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    this.setupInterceptors();\r\n  }\r\n\r\n  private setupInterceptors() {\r\n    this.client.interceptors.request.use(\r\n      (config) => {\r\n        if (typeof window !== 'undefined') {\r\n          const token = localStorage.getItem('access_token');\r\n          if (token) {\r\n            config.headers = config.headers ?? {};\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n          }\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(error),\r\n    );\r\n\r\n    this.client.interceptors.response.use(\r\n      (response) => response,\r\n      async (error) => {\r\n        const originalRequest = error.config;\r\n        const requestUrl = originalRequest?.url || '';\r\n        \r\n        // Handle 401 Unauthorized - but DON'T redirect on login endpoint\r\n        // The login page handles its own error states and redirects\r\n        if (error.response?.status === 401 && !originalRequest?._retry) {\r\n          originalRequest._retry = true;\r\n          if (typeof window !== 'undefined') {\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n            \r\n            // Only redirect if NOT on the login endpoint\r\n            // Login endpoint errors should be handled by the login page component\r\n            const isLoginEndpoint = requestUrl.includes('/auth/login-json') || \r\n                                   requestUrl.includes('/auth/login');\r\n            \r\n            if (!isLoginEndpoint && !window.location.pathname.includes('/auth/login')) {\r\n              // Redirect to home page for other 401 errors (not login-related)\r\n              window.location.href = '/';\r\n            }\r\n            // For login endpoint 401s, let the error propagate to the component\r\n          }\r\n        }\r\n        \r\n        // Handle 403 Forbidden - user doesn't have permission\r\n        if (error.response?.status === 403) {\r\n          const url = error.config?.url || '';\r\n          const errorDetail = error.response?.data?.detail || 'Insufficient permissions';\r\n          \r\n          // Suppress warnings for expected 403s on role-restricted endpoints\r\n          // These are handled gracefully by the calling code\r\n          const suppressWarnings = url.includes('/inventory/summary') || \r\n                                   url.includes('/sales/summary') || \r\n                                   url.includes('/sales/summary/overview') ||\r\n                                   url.includes('/sales/journal-entries') ||\r\n                                   url.includes('/backup');\r\n          \r\n          // For user endpoints, provide more helpful error messages\r\n          if (url.includes('/users/') && !url.includes('/users/me')) {\r\n            // Don't suppress warnings for user endpoints - these are important\r\n            if (typeof window !== 'undefined') {\r\n              console.warn('Access forbidden to user resource:', errorDetail);\r\n            }\r\n            // Enhance error with more context\r\n            error.response.data = {\r\n              ...error.response.data,\r\n              detail: errorDetail,\r\n              message: `You don't have permission to access this user. ${errorDetail}`,\r\n            };\r\n          } else if (!suppressWarnings && typeof window !== 'undefined') {\r\n            console.warn('Access forbidden:', errorDetail);\r\n          }\r\n        }\r\n        \r\n        // Handle 404 Not Found - suppress console warnings for non-critical endpoints\r\n        if (error.response?.status === 404) {\r\n          const url = error.config?.url || '';\r\n          // Only log 404s in development mode to reduce console noise\r\n          if (process.env.NODE_ENV === 'development' && typeof window !== 'undefined') {\r\n            console.warn('Resource not found:', url);\r\n          }\r\n        }\r\n        \r\n        // Handle network errors - suppress repetitive errors for polling endpoints\r\n        if (!error.response) {\r\n          const url = error.config?.url || '';\r\n          // Suppress errors for polling endpoints to reduce console noise\r\n          // These are expected when backend is down\r\n          const isPollingEndpoint = url.includes('/notifications/unread/count') || \r\n                                   url.includes('/dashboard/recent-activity') ||\r\n                                   url.includes('/health');\r\n          \r\n          if (!isPollingEndpoint) {\r\n            // Only log non-polling endpoint errors\r\n            const errorMessage = error.message || 'Network error: Unable to connect to server';\r\n            \r\n            if (process.env.NODE_ENV === 'development') {\r\n              console.error('Network error:', errorMessage);\r\n              \r\n              if (error.code === 'ECONNREFUSED' || error.message?.includes('Network Error')) {\r\n                console.error('Backend server may not be running. Please ensure the backend is running on http://localhost:8000');\r\n              } else if (error.code === 'ERR_NETWORK') {\r\n                console.error('Network request failed. Check your internet connection and backend server status.');\r\n              }\r\n            }\r\n          }\r\n          // Polling endpoint errors are silently handled - they're expected when backend is down\r\n        }\r\n        \r\n        return Promise.reject(error);\r\n      },\r\n    );\r\n  }\r\n\r\n  private normalizeResponse<T>(payload: unknown): ApiResponse<T> {\r\n    // Handle different response formats from the backend\r\n    if (!payload) {\r\n      return { data: null as unknown as T };\r\n    }\r\n    \r\n    // If payload is already in ApiResponse format\r\n    if (typeof payload === 'object' && payload !== null) {\r\n      if ('data' in payload) {\r\n        return payload as ApiResponse<T>;\r\n      }\r\n      // If payload is the data itself (direct response)\r\n      return { data: payload as T };\r\n    }\r\n    \r\n    // Fallback: wrap primitive values\r\n    return { data: payload as T };\r\n  }\r\n\r\n  /**\r\n   * Extract error message from various error formats\r\n   */\r\n  private extractErrorMessage(error: unknown): string {\r\n    if (error && typeof error === 'object') {\r\n      // Axios error format\r\n      if ('response' in error) {\r\n        const axiosError = error as { response?: { data?: { detail?: string; message?: string; error?: string } } };\r\n        return axiosError.response?.data?.detail || \r\n               axiosError.response?.data?.message || \r\n               axiosError.response?.data?.error || \r\n               'An error occurred';\r\n      }\r\n      // Standard Error object\r\n      if ('message' in error) {\r\n        return (error as { message: string }).message;\r\n      }\r\n    }\r\n    // Fallback\r\n    return error instanceof Error ? error.message : 'An unknown error occurred';\r\n  }\r\n\r\n  private async get<T>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.get<T>(url, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async post<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.post<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async put<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.put<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async delete<T>(url: string, data?: unknown, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.delete<T>(url, { ...config, data });\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  // Auth endpoints\r\n  async login(identifier: string, password: string): Promise<ApiResponse<LoginResponse>> {\r\n    const response = await this.client.post<LoginResponse>('/auth/login-json', {\r\n      username: identifier,\r\n      password,\r\n    });\r\n    const normalized = this.normalizeResponse<LoginResponse>(response.data);\r\n    \r\n    // Only set token if we have a valid access token and user data\r\n    if (normalized.data?.access_token && normalized.data?.user) {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.setItem('access_token', normalized.data.access_token);\r\n      }\r\n    } else {\r\n      // Clear any existing tokens if response is invalid\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n        localStorage.removeItem('refresh_token');\r\n      }\r\n      throw new Error('Invalid login response: missing access token or user data');\r\n    }\r\n    \r\n    return normalized;\r\n  }\r\n\r\n  async register(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post<User>('/auth/register', userData);\r\n  }\r\n\r\n  async logout(): Promise<void> {\r\n    try {\r\n      await this.post('/auth/logout');\r\n    } finally {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n      }\r\n    }\r\n  }\r\n\r\n  async refreshToken(): Promise<ApiResponse<{ access_token: string }>> {\r\n    if (typeof window === 'undefined') throw new Error('Token refresh is client only');\r\n    const token = localStorage.getItem('access_token');\r\n    if (!token) throw new Error('No token to refresh');\r\n    const response = await this.client.post('/auth/refresh', { token });\r\n    const normalized = this.normalizeResponse<{ access_token: string }>(response.data);\r\n    localStorage.setItem('access_token', normalized.data.access_token);\r\n    return normalized;\r\n  }\r\n\r\n  async generateOTP(): Promise<ApiResponse<{ otp_code: string; message: string }>> {\r\n    return this.post('/auth/generate-otp');\r\n  }\r\n\r\n  async verifyOTP(otp_code: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/verify-otp', { otp_code });\r\n  }\r\n\r\n  async requestOTP(email: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/request-otp', { email });\r\n  }\r\n\r\n  async resetPassword(email: string, code: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/reset-password', { email, code, newPassword });\r\n  }\r\n\r\n  // User endpoints\r\n  async getCurrentUser(): Promise<ApiResponse<User>> {\r\n    return this.get('/users/me');\r\n  }\r\n\r\n  async updateCurrentUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put('/users/me', userData);\r\n  }\r\n\r\n  async changePassword(currentPassword: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/users/me/change-password', { current_password: currentPassword, new_password: newPassword });\r\n  }\r\n\r\n  async getUsers(): Promise<ApiResponse<User[]>> {\r\n    try {\r\n      const response = await this.get<User[]>('/users/');\r\n      // Ensure we always return an array\r\n      if (Array.isArray(response.data)) {\r\n        return response;\r\n      }\r\n      return { ...response, data: [] };\r\n    } catch (error: unknown) {\r\n      const axiosError = error as { response?: { status?: number } };\r\n      if (axiosError.response?.status === 403) {\r\n        // Return empty array instead of throwing for 403 on list endpoint\r\n        // This allows the UI to handle permission errors gracefully\r\n        return { data: [] };\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getUser(userId: number): Promise<ApiResponse<User>> {\r\n    try {\r\n      return await this.get(`/users/${userId}`);\r\n    } catch (error: unknown) {\r\n      // Provide better error context for user fetch failures\r\n      const axiosError = error as { response?: { status?: number; data?: { detail?: string } } };\r\n      if (axiosError.response?.status === 403) {\r\n        const detail = axiosError.response.data?.detail || 'Insufficient permissions';\r\n        const enhancedError = new Error(`Cannot access user ${userId}: ${detail}`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      if (axiosError.response?.status === 404) {\r\n        const enhancedError = new Error(`User ${userId} not found`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getSubordinates(userId: number): Promise<ApiResponse<User[]>> {\r\n    return this.get(`/users/${userId}/subordinates`);\r\n  }\r\n\r\n  async createUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    try {\r\n      return await this.post('/users', userData);\r\n    } catch (error: unknown) {\r\n      // Provide better error context for user creation failures\r\n      const axiosError = error as { response?: { status?: number; data?: { detail?: string } } };\r\n      if (axiosError.response?.status === 403) {\r\n        const detail = axiosError.response.data?.detail || 'Insufficient permissions';\r\n        const enhancedError = new Error(`Cannot create user: ${detail}. You may not have permission to create users with this role.`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      if (axiosError.response?.status === 400) {\r\n        const detail = axiosError.response.data?.detail || 'Invalid user data';\r\n        const enhancedError = new Error(`Failed to create user: ${detail}`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a subordinate (accountant or employee)\r\n   * Used by finance managers to create accountants/employees\r\n   */\r\n  async createSubordinate(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post('/users/subordinates', userData);\r\n  }\r\n\r\n  async updateUser(userId: number, userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put(`/users/${userId}`, userData);\r\n  }\r\n\r\n  async deleteUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/delete`, { password });\r\n  }\r\n\r\n  async activateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/deactivate`, { password });\r\n  }\r\n\r\n  // Permission endpoints\r\n  async getUserPermissions(userId: number): Promise<ApiResponse<{ permissions: string[] }>> {\r\n    return this.get(`/users/${userId}/permissions`);\r\n  }\r\n\r\n  async updateUserPermissions(userId: number, permissions: string[]): Promise<ApiResponse<{ message: string; permissions: string[] }>> {\r\n    return this.put(`/users/${userId}/permissions`, { permissions });\r\n  }\r\n\r\n  // Financial endpoints\r\n  async getRevenues(filters?: Filters): Promise<ApiResponse<RevenueRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/revenue', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getRevenue(revenueId: number): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.get(`/revenue/${revenueId}`);\r\n  }\r\n\r\n  async createRevenue(revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.post('/revenue', revenueData);\r\n  }\r\n\r\n  async updateRevenue(revenueId: number, revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.put(`/revenue/${revenueId}`, revenueData);\r\n  }\r\n\r\n  async deleteRevenue(revenueId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/revenue/${revenueId}/delete`, { password });\r\n  }\r\n\r\n  async getExpenses(filters?: Filters): Promise<ApiResponse<ExpenseRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/expenses', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getExpense(expenseId: number): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.get(`/expenses/${expenseId}`);\r\n  }\r\n\r\n  async createExpense(expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.post('/expenses', expenseData);\r\n  }\r\n\r\n  async updateExpense(expenseId: number, expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.put(`/expenses/${expenseId}`, expenseData);\r\n  }\r\n\r\n  async deleteExpense(expenseId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/expenses/${expenseId}/delete`, { password });\r\n  }\r\n\r\n  // Transactions (combined revenues and expenses)\r\n  async getTransactions(): Promise<ApiResponse<TransactionRecord[]>> {\r\n    try {\r\n      const [revenuesResponse, expensesResponse] = await Promise.all([\r\n        this.getRevenues(),\r\n        this.getExpenses(),\r\n      ]);\r\n\r\n      const revenues = (revenuesResponse.data || []).map((r: RevenueRecord): TransactionRecord => ({\r\n        ...r,\r\n        transaction_type: 'revenue',\r\n        id: `revenue-${r.id}`,\r\n      }));\r\n\r\n      const expenses = (expensesResponse.data || []).map((e: ExpenseRecord): TransactionRecord => ({\r\n        ...e,\r\n        transaction_type: 'expense',\r\n        id: `expense-${e.id}`,\r\n        amount: -Math.abs(Number(e.amount ?? 0)), // Make expenses negative\r\n      }));\r\n\r\n      const transactions = [...revenues, ...expenses].sort((a, b) => {\r\n        const dateA = new Date(a.date || a.created_at || 0).getTime();\r\n        const dateB = new Date(b.date || b.created_at || 0).getTime();\r\n        return dateB - dateA; // Most recent first\r\n      });\r\n\r\n      return { data: transactions };\r\n    } catch (error) {\r\n      // Error handled by caller\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Dashboard\r\n  async getDashboardOverview(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/overview');\r\n  }\r\n\r\n  async getDashboardKPIs(period: 'week' | 'month' | 'quarter' | 'year' = 'month'): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/kpis', { params: { period } });\r\n  }\r\n\r\n  async getDashboardRecentActivity(limit = 10): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/dashboard/recent-activity', { params: { limit } });\r\n  }\r\n\r\n  // Analytics\r\n  async getAdvancedKPIs(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/kpis', { params });\r\n  }\r\n\r\n  async getTrendAnalysis(params?: {\r\n    metric?: 'revenue' | 'expenses' | 'profit';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/trends', { params });\r\n  }\r\n\r\n  async getTimeSeriesData(params?: {\r\n    interval?: 'day' | 'week' | 'month' | 'quarter' | 'year';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/time-series', { params });\r\n  }\r\n\r\n  async getCategoryBreakdown(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/category-breakdown', { params });\r\n  }\r\n\r\n  async getAnalyticsOverview(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get('/analytics/overview', { params });\r\n  }\r\n\r\n  // Reports\r\n  async getReports(filters?: Filters): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    return this.get('/reports', { params: filters });\r\n  }\r\n\r\n  async getReport(reportId: number): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get(`/reports/${reportId}`);\r\n  }\r\n\r\n  async createReport(reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.post('/reports', reportData);\r\n  }\r\n\r\n  async updateReport(reportId: number, reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.put(`/reports/${reportId}`, reportData);\r\n  }\r\n\r\n  async deleteReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/reports/${reportId}`);\r\n  }\r\n\r\n  async downloadReport(reportId: number): Promise<ApiResponse<{ download_url: string; file_size: number; filename: string }>> {\r\n    return this.post(`/reports/${reportId}/download`);\r\n  }\r\n\r\n  async regenerateReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/reports/${reportId}/regenerate`);\r\n  }\r\n\r\n  async getAvailableReportTypes(): Promise<ApiResponse<{ report_types: Array<{ type: string; name: string; description: string }> }>> {\r\n    return this.get('/reports/types/available');\r\n  }\r\n\r\n  // Financial Reports - Direct data fetching\r\n  async getIncomeStatement(startDate?: string, endDate?: string): Promise<ApiResponse<Record<string, unknown>>> {\r\n    const params: Filters = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n    \r\n    // Fetch revenue and expense data to calculate income statement\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n      \r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate totals - ONLY from approved entries\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n\r\n    // Group by category - handle both enum and string categories - ONLY from approved entries\r\n    const revenueByCategory: Record<string, number> = {};\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const catValue =\r\n        r.category && typeof r.category === 'object' && 'value' in r.category\r\n          ? (r.category as { value?: unknown }).value\r\n          : r.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      revenueByCategory[catKey] = (revenueByCategory[catKey] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const catValue =\r\n        e.category && typeof e.category === 'object' && 'value' in e.category\r\n          ? (e.category as { value?: unknown }).value\r\n          : e.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      expenseByCategory[catKey] = (expenseByCategory[catKey] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        revenue: {\r\n          total: totalRevenue,\r\n          by_category: revenueByCategory,\r\n        },\r\n        expenses: {\r\n          total: totalExpenses,\r\n          by_category: expenseByCategory,\r\n        },\r\n        profit,\r\n        profit_margin: totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0,\r\n      },\r\n    };\r\n  }\r\n\r\n  async getCashFlow(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    summary: { total_inflow: number; total_outflow: number; net_cash_flow: number };\r\n    daily_cash_flow: Record<string, { inflow: number; outflow: number; net: number }>;\r\n  }>> {\r\n    const params: Record<string, unknown> = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n    \r\n    // Fetch revenue and expense data to calculate cash flow\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([this.getRevenues(), this.getExpenses()]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures cash flow is only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate daily cash flow - ONLY from approved entries\r\n    const cashFlowByDay: Record<string, { inflow: number; outflow: number; net: number }> = {};\r\n    \r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = r.date || r.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(r.amount || 0);\r\n      cashFlowByDay[day].inflow += amount;\r\n      cashFlowByDay[day].net += amount;\r\n    });\r\n\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = e.date || e.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(e.amount || 0);\r\n      cashFlowByDay[day].outflow += amount;\r\n      cashFlowByDay[day].net -= amount;\r\n    });\r\n\r\n    const totalInflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.inflow, 0);\r\n    const totalOutflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.outflow, 0);\r\n    const netCashFlow = totalInflow - totalOutflow;\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        summary: {\r\n          total_inflow: totalInflow,\r\n          total_outflow: totalOutflow,\r\n          net_cash_flow: netCashFlow,\r\n        },\r\n        daily_cash_flow: cashFlowByDay,\r\n      },\r\n    };\r\n  }\r\n\r\n  // Financial Summary Report\r\n  async getFinancialSummary(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    financials: {\r\n      total_revenue: number;\r\n      total_expenses: number;\r\n      profit: number;\r\n      profit_margin: number;\r\n    };\r\n    revenue_by_category: Record<string, number>;\r\n    expenses_by_category: Record<string, number>;\r\n    transaction_counts: { revenue: number; expenses: number; total: number };\r\n    generated_at: string;\r\n  }>> {\r\n    // Always fetch all data first, then calculate summary\r\n    const [allRevenuesRes, allExpensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = allRevenuesRes.data || [];\r\n    let expenses = allExpensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n    \r\n    // Filter to only include APPROVED revenue entries for calculations\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    \r\n    // Filter to only include APPROVED expense entries for calculations\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate totals from filtered data - ONLY approved revenue and expenses\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n    const profitMargin = totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0;\r\n\r\n    // Process category summaries - ONLY from approved revenue\r\n    const revenueByCategory: Record<string, number> = {};\r\n    const normalizeCategory = (raw: unknown): string => {\r\n      if (typeof raw === 'string') return raw || 'other';\r\n      if (raw && typeof raw === 'object' && 'value' in raw) {\r\n        const value = (raw as { value?: unknown }).value;\r\n        return typeof value === 'string' ? value : String(value ?? 'other');\r\n      }\r\n      return String(raw ?? 'other');\r\n    };\r\n\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const cat = normalizeCategory(r.category);\r\n      revenueByCategory[cat] = (revenueByCategory[cat] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    // Process category summaries - ONLY from approved expenses\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const cat = normalizeCategory(e.category);\r\n      expenseByCategory[cat] = (expenseByCategory[cat] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    // Calculate actual transaction counts - ONLY approved items\r\n    const revenueCount = approvedRevenues.length;\r\n    const expenseCount = approvedExpenses.length;\r\n\r\n    const result = {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        financials: {\r\n          total_revenue: totalRevenue,\r\n          total_expenses: totalExpenses,\r\n          profit,\r\n          profit_margin: profitMargin,\r\n        },\r\n        revenue_by_category: revenueByCategory,\r\n        expenses_by_category: expenseByCategory,\r\n        transaction_counts: {\r\n          revenue: revenueCount,\r\n          expenses: expenseCount,\r\n          total: revenueCount + expenseCount,\r\n        },\r\n        generated_at: new Date().toISOString(),\r\n      },\r\n    };\r\n\r\n    return result;\r\n  }\r\n\r\n  // Approvals\r\n  async getApprovals(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/approvals');\r\n  }\r\n\r\n  async getApproval(approvalId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/approvals/${approvalId}`);\r\n  }\r\n\r\n  async getApprovalComments(approvalId: number): Promise<ApiResponse<unknown[]>> {\r\n    return this.get(`/approvals/${approvalId}/comments`);\r\n  }\r\n\r\n  async createApprovalComment(approvalId: number, comment: string): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${approvalId}/comments`, { comment });\r\n  }\r\n\r\n  async approveItem(itemId: number, itemType: 'revenue' | 'expense'): Promise<ApiResponse<unknown>> {\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/approve`);\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/approve`);\r\n    }\r\n  }\r\n\r\n  async rejectItem(\r\n    itemId: number,\r\n    itemType: 'revenue' | 'expense',\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // Reject revenue or expense entry through their respective endpoints\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    }\r\n  }\r\n\r\n  async approveWorkflow(workflowId: number): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/approve`);\r\n  }\r\n\r\n  async rejectWorkflow(\r\n    workflowId: number,\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/reject`, { rejection_reason: reason, password });\r\n  }\r\n\r\n  // Notifications\r\n  async getNotifications(unreadOnly?: boolean): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/notifications', { params: { unread_only: unreadOnly } });\r\n  }\r\n\r\n  async getNotification(notificationId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async markNotificationAsRead(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/notifications/${notificationId}/mark-read`);\r\n  }\r\n\r\n  async markAllNotificationsAsRead(): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/notifications/mark-all-read');\r\n  }\r\n\r\n  async deleteNotification(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async getUnreadCount(): Promise<ApiResponse<{ unread_count: number }>> {\r\n    return this.get('/notifications/unread/count');\r\n  }\r\n\r\n  async getNotificationPreferences(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/notifications/preferences');\r\n  }\r\n\r\n  async updateNotificationPreferences(\r\n    preferences: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put('/notifications/preferences', preferences);\r\n  }\r\n\r\n  // Admin endpoints\r\n  async getAdminSystemStats(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/system/stats');\r\n  }\r\n\r\n  async getSystemSettings(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/settings');\r\n  }\r\n\r\n  async getSystemHealth(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/health');\r\n  }\r\n\r\n  async getHierarchy(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/hierarchy');\r\n  }\r\n\r\n  async getRoles(): Promise<ApiResponse<ApiRole[]>> {\r\n    return this.get('/admin/roles');\r\n  }\r\n\r\n  async getPermissions(): Promise<ApiResponse<string[]>> {\r\n    return this.get('/admin/permissions');\r\n  }\r\n\r\n  async createRole(roleData: { name: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.post('/admin/roles', payload);\r\n  }\r\n\r\n  async updateRole(roleId: number, roleData: { name?: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.put(`/admin/roles/${roleId}`, payload);\r\n  }\r\n\r\n  async deleteRole(roleId: number): Promise<ApiResponse<null>> {\r\n    return this.delete(`/admin/roles/${roleId}`);\r\n  }\r\n\r\n  // Backup endpoints\r\n  async createBackup(includeFiles: boolean = false): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/create', null, {\r\n      params: { include_files: includeFiles }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async listBackups(): Promise<ApiResponse<{ backups: unknown[] }>> {\r\n    return this.get('/admin/backup/list');\r\n  }\r\n\r\n  async restoreBackup(backupName: string): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/restore', null, {\r\n      params: { backup_name: backupName }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async deleteBackup(backupName: string, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/admin/backup/${encodeURIComponent(backupName)}/delete`, { password });\r\n  }\r\n\r\n  async getVerificationHistory(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/users/me/verification-history');\r\n  }\r\n\r\n  // 2FA endpoints\r\n  async get2FAStatus(): Promise<ApiResponse<{ enabled: boolean }>> {\r\n    return this.get('/users/me/2fa/status');\r\n  }\r\n\r\n  async setup2FA(): Promise<ApiResponse<{ secret: string; qr_code_url: string; manual_entry_key: string }>> {\r\n    return this.post('/users/me/2fa/setup');\r\n  }\r\n\r\n  async verify2FA(code: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/verify', { code });\r\n  }\r\n\r\n  async disable2FA(currentPassword: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/disable', { current_password: currentPassword });\r\n  }\r\n\r\n  // IP Restriction endpoints\r\n  async getIPRestrictionStatus(): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.get('/users/me/ip-restriction');\r\n  }\r\n\r\n  async updateIPRestriction(enabled: boolean): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.put('/users/me/ip-restriction', { enabled });\r\n  }\r\n\r\n  async addAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.post('/users/me/ip-restriction/allowed-ips', { ip_address: ipAddress });\r\n  }\r\n\r\n  async removeAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.delete(`/users/me/ip-restriction/allowed-ips/${encodeURIComponent(ipAddress)}`);\r\n  }\r\n\r\n  async triggerBackup(includeFiles = false): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/admin/backup/create', undefined, { params: { include_files: includeFiles } });\r\n  }\r\n\r\n  // Department endpoints\r\n  async getDepartments(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/departments');\r\n  }\r\n\r\n  async getDepartment(departmentId: string | number): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.get(`/departments/${encodedId}`);\r\n  }\r\n\r\n  async createDepartment(departmentData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/departments', departmentData);\r\n  }\r\n\r\n  async updateDepartment(\r\n    departmentId: string | number,\r\n    departmentData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.put(`/departments/${encodedId}`, departmentData);\r\n  }\r\n\r\n  async deleteDepartment(\r\n    departmentId: string | number,\r\n    password: string,\r\n  ): Promise<ApiResponse<{ message: string }>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.post(`/departments/${encodedId}/delete`, { password });\r\n  }\r\n\r\n  // Project endpoints\r\n  async getProjects(filters?: Record<string, unknown>): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/projects', { params: filters });\r\n  }\r\n\r\n  async getProject(projectId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/projects/${projectId}`);\r\n  }\r\n\r\n  async createProject(projectData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/projects', projectData);\r\n  }\r\n\r\n  async updateProject(\r\n    projectId: number,\r\n    projectData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put(`/projects/${projectId}`, projectData);\r\n  }\r\n\r\n  async deleteProject(projectId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/projects/${projectId}/delete`, { password });\r\n  }\r\n\r\n  // Audit Logs endpoints (Admin only)\r\n  async getAuditLogs(filters?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    user_id?: number;\r\n    action?: string;\r\n    resource_type?: string;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    const params: Record<string, unknown> = {};\r\n    if (filters) {\r\n      if (filters.skip !== undefined) params.skip = filters.skip;\r\n      if (filters.limit !== undefined) params.limit = filters.limit;\r\n      if (filters.user_id !== undefined) params.user_id = filters.user_id;\r\n      if (filters.action) params.action = filters.action;\r\n      if (filters.resource_type) params.resource_type = filters.resource_type;\r\n      if (filters.start_date) {\r\n        // Convert to ISO format for backend\r\n        const start = new Date(filters.start_date + 'T00:00:00');\r\n        params.start_date = start.toISOString();\r\n      }\r\n      if (filters.end_date) {\r\n        // Convert to ISO format for backend\r\n        const end = new Date(filters.end_date + 'T23:59:59');\r\n        params.end_date = end.toISOString();\r\n      }\r\n    }\r\n    return this.get('/admin/audit/logs', { params });\r\n  }\r\n\r\n  // ============================================================================\r\n  // BUDGETING & FORECASTING (FP&A)\r\n  // ============================================================================\r\n\r\n  // Budget Management\r\n  async getBudgets(params?: { skip?: number; limit?: number; status?: string; department?: string }) {\r\n    return this.get('/budgeting/budgets', { params });\r\n  }\r\n\r\n  async getBudget(id: number) {\r\n    return this.get(`/budgeting/budgets/${id}`);\r\n  }\r\n\r\n  async createBudget(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/budgets', data);\r\n  }\r\n\r\n  async createBudgetFromTemplate(templateName: string, data: Record<string, unknown>) {\r\n    const params: Record<string, unknown> = {\r\n      template_name: templateName\r\n    };\r\n    if (data.name) params.name = data.name;\r\n    if (data.start_date) params.start_date = data.start_date;\r\n    if (data.end_date) params.end_date = data.end_date;\r\n    if (data.department) params.department = data.department;\r\n    if (data.project) params.project = data.project;\r\n    \r\n    return this.post(`/budgeting/budgets/from-template`, {}, { params });\r\n  }\r\n\r\n  async updateBudget(id: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${id}`, data);\r\n  }\r\n\r\n  async deleteBudget(id: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${id}/delete`, { password });\r\n  }\r\n\r\n  async validateBudget(id: number) {\r\n    return this.post(`/budgeting/budgets/${id}/validate`);\r\n  }\r\n\r\n  // Budget Items\r\n  async getBudgetItems(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/items`);\r\n  }\r\n\r\n  async createBudgetItem(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items`, data);\r\n  }\r\n\r\n  async updateBudgetItem(budgetId: number, itemId: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${budgetId}/items/${itemId}`, data);\r\n  }\r\n\r\n  async deleteBudgetItem(budgetId: number, itemId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  // Scenario Planning\r\n  async getScenarios(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/scenarios`);\r\n  }\r\n\r\n  async createScenario(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios`, data);\r\n  }\r\n\r\n  async compareScenarios(budgetId: number, scenarioIds: number[]) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/compare`, { scenario_ids: scenarioIds });\r\n  }\r\n\r\n  async deleteScenario(budgetId: number, scenarioId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/${scenarioId}/delete`, { password });\r\n  }\r\n\r\n  // Forecasting\r\n  async getForecasts(params?: { skip?: number; limit?: number }) {\r\n    // Always provide explicit defaults to match backend expectations\r\n    const queryParams = {\r\n      skip: params?.skip !== undefined && params.skip >= 0 ? params.skip : 0,\r\n      limit: params?.limit !== undefined && params.limit >= 1 && params.limit <= 1000 ? params.limit : 100\r\n    };\r\n    \r\n    return this.get('/budgeting/forecasts', { params: queryParams });\r\n  }\r\n\r\n  async createForecast(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/forecasts', data);\r\n  }\r\n\r\n  async getForecast(id: number) {\r\n    return this.get(`/budgeting/forecasts/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Update a forecast\r\n   * @param id - Forecast ID\r\n   * @param data - Forecast update data (name, description, and optionally forecast_data)\r\n   */\r\n  async updateForecast(\r\n    id: number,\r\n    data: {\r\n      name?: string;\r\n      description?: string;\r\n      forecast_data?: Array<{\r\n        period?: string;\r\n        date?: string;\r\n        forecasted_value?: number;\r\n        method?: string;\r\n      }>;\r\n    },\r\n  ) {\r\n    return this.put(`/budgeting/forecasts/${id}`, data);\r\n  }\r\n\r\n  async deleteForecast(id: number, password: string) {\r\n    return this.post(`/budgeting/forecasts/${id}/delete`, { password });\r\n  }\r\n\r\n  // ============================================================================\r\n  // AI/ML MODEL TRAINING\r\n  // ============================================================================\r\n\r\n  /**\r\n   * Train all AI/ML models\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   */\r\n  async trainAllModels(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/all',\r\n      params: { start_date: startDate, end_date: endDate }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train ARIMA model for expenses\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   * @param order - ARIMA order (p,d,q) as string \"p,d,q\"\r\n   */\r\n  async trainExpensesArima(startDate: string, endDate: string, order: string = \"1,1,1\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/arima',\r\n      params: { start_date: startDate, end_date: endDate, order },\r\n      timeout: 120000 // 2 minutes for ARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for expenses\r\n   */\r\n  async trainExpensesProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Linear Regression model for expenses\r\n   */\r\n  async trainExpensesLinearRegression(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/linear-regression',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for revenue\r\n   */\r\n  async trainRevenueProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for revenue\r\n   */\r\n  async trainRevenueXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for revenue\r\n   */\r\n  async trainRevenueLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train SARIMA model for inventory\r\n   */\r\n  async trainInventorySARIMA(startDate: string, endDate: string, order: string = \"1,1,1\", seasonalOrder: string = \"1,1,1,12\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/sarima',\r\n      params: { start_date: startDate, end_date: endDate, order, seasonal_order: seasonalOrder },\r\n      timeout: 180000 // 3 minutes for SARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for inventory\r\n   */\r\n  async trainInventoryXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for inventory\r\n   */\r\n  async trainInventoryLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get auto-learning status and statistics\r\n   */\r\n  async getAutoLearnStatus() {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/auto-learn/status'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Manually trigger auto-learning for a metric\r\n   * @param metric - 'expense', 'revenue', or 'inventory'\r\n   */\r\n  async triggerAutoLearn(metric: 'expense' | 'revenue' | 'inventory') {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: `/budgeting/ml/auto-learn/trigger/${metric}`,\r\n      timeout: 300000 // 5 minutes for training\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get list of all trained models\r\n   * @param metric - Optional filter by metric\r\n   */\r\n  async getTrainedModels(metric?: 'expense' | 'revenue' | 'inventory') {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/models',\r\n      params: metric ? { metric } : {}\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get ML scheduler status and scheduled jobs\r\n   */\r\n  async getSchedulerStatus() {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/scheduler/status'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Generate forecast with AI-powered advice and recommendations\r\n   * @param metric - 'expense', 'revenue', or 'inventory'\r\n   * @param modelType - 'arima', 'sarima', 'prophet', 'xgboost', 'lstm', 'linear_regression'\r\n   * @param periods - Number of periods to forecast\r\n   */\r\n  async generateForecastWithAdvice(\r\n    metric: 'expense' | 'revenue' | 'inventory',\r\n    modelType: 'arima' | 'sarima' | 'prophet' | 'xgboost' | 'lstm' | 'linear_regression',\r\n    periods: number = 12\r\n  ) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/forecast/with-advice',\r\n      params: { metric, model_type: modelType, periods },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  // Variance Analysis\r\n  async calculateVariance(budgetId: number, periodStart: string, periodEnd: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/variance`, {}, {\r\n      params: { period_start: periodStart, period_end: periodEnd }\r\n    });\r\n  }\r\n\r\n  async getVarianceHistory(budgetId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance`, { params });\r\n  }\r\n\r\n  async getVarianceSummary(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance/summary`);\r\n  }\r\n\r\n  // ============================================================================\r\n  // INVENTORY MANAGEMENT API\r\n  // ============================================================================\r\n  \r\n  async createInventoryItem(itemData: {\r\n    item_name: string;\r\n    buying_price: number;\r\n    expense_amount?: number;\r\n    selling_price: number;\r\n    quantity: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.post('/inventory/items', itemData);\r\n  }\r\n\r\n  async getInventoryItems(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    category?: string;\r\n    is_active?: boolean;\r\n    search?: string;\r\n  }) {\r\n    return this.get('/inventory/items', { params });\r\n  }\r\n\r\n  async getInventoryItem(itemId: number) {\r\n    return this.get(`/inventory/items/${itemId}`);\r\n  }\r\n\r\n  async updateInventoryItem(itemId: number, itemData: {\r\n    item_name?: string;\r\n    buying_price?: number;\r\n    expense_amount?: number;\r\n    selling_price?: number;\r\n    quantity?: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.put(`/inventory/items/${itemId}`, itemData);\r\n  }\r\n\r\n  async deleteInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  async activateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/deactivate`, { password });\r\n  }\r\n\r\n  async getInventoryAuditLogs(itemId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/inventory/items/${itemId}/audit`, { params });\r\n  }\r\n\r\n  async getLowStockItems(threshold?: number) {\r\n    return this.get('/inventory/items/low-stock/list', { params: { threshold } });\r\n  }\r\n\r\n  async getInventorySummary() {\r\n    return this.get('/inventory/summary');\r\n  }\r\n\r\n  // ============================================================================\r\n  // SALES API\r\n  // ============================================================================\r\n\r\n  async createSale(saleData: {\r\n    item_id: number;\r\n    quantity_sold: number;\r\n    customer_name?: string;\r\n    customer_email?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post('/sales/', saleData);\r\n  }\r\n\r\n  async getSales(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    status?: 'pending' | 'posted' | 'cancelled';\r\n    item_id?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    // Enforce backend maximum limit of 1000 to prevent 422 errors\r\n    // Backend has a hard limit of 1000 (le=1000), so cap any higher values\r\n    let safeLimit: number | undefined = params?.limit;\r\n    if (safeLimit !== undefined && safeLimit > 1000) {\r\n      console.warn(`getSales: Limit ${safeLimit} exceeds backend maximum of 1000. Capping to 1000.`);\r\n      safeLimit = 1000;\r\n    }\r\n    \r\n    const safeParams = params ? {\r\n      ...params,\r\n      limit: safeLimit\r\n    } : undefined;\r\n    \r\n    return this.get('/sales', { params: safeParams });\r\n  }\r\n\r\n  async getSale(saleId: number) {\r\n    return this.get(`/sales/${saleId}`);\r\n  }\r\n\r\n  async postSale(saleId: number, postData: {\r\n    debit_account?: string;\r\n    credit_account?: string;\r\n    reference_number?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post(`/sales/${saleId}/post`, postData);\r\n  }\r\n\r\n  async cancelSale(saleId: number) {\r\n    return this.post(`/sales/${saleId}/cancel`, {});\r\n  }\r\n\r\n  async getSalesSummary(params?: { start_date?: string; end_date?: string }) {\r\n    return this.get('/sales/summary/overview', { params });\r\n  }\r\n\r\n  async getReceipt(saleId: number) {\r\n    return this.get(`/sales/receipt/${saleId}`);\r\n  }\r\n\r\n  async getJournalEntries(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    return this.get('/sales/journal-entries/list', { params });\r\n  }\r\n\r\n  /**\r\n   * Submit a contact/support message\r\n   * You can override the endpoint path with NEXT_PUBLIC_CONTACT_ENDPOINT (e.g. \"/contact\")\r\n   * Note: The base URL already includes /api/v1, so the path should be relative to that\r\n   */\r\n  async submitContact(payload: { name: string; email: string; message: string }) {\r\n    const contactPath = process.env.NEXT_PUBLIC_CONTACT_ENDPOINT || '/contact';\r\n    return this.post(contactPath, payload);\r\n  }\r\n\r\n  // Generic request method\r\n  async request<T = unknown>(config: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.request<T>(config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n}\r\n\r\nexport const apiClient = new ApiClient();\r\nexport default apiClient;"],"names":[],"mappings":"AAAA,aAAa;;;;;;;AAGb;AAFA;;AAIA,MAAM,mBAAmB;AACzB,MAAM,eAAe,CAAC,QAAQ,GAAG,CAAC,mBAAmB,IAAI,gBAAgB,EAAE,OAAO,CAAC,OAAO;AAqD1F,MAAM;IACI,OAAsB;IAE9B,aAAc;QACZ,IAAI,CAAC,MAAM,GAAG,gJAAK,CAAC,MAAM,CAAC;YACzB,SAAS;YACT,SAAS;YACT,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;QAEA,IAAI,CAAC,iBAAiB;IACxB;IAEQ,oBAAoB;QAC1B,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAClC,CAAC;YACC;;YAOA,OAAO;QACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;QAG5B,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CACnC,CAAC,WAAa,UACd,OAAO;YACL,MAAM,kBAAkB,MAAM,MAAM;YACpC,MAAM,aAAa,iBAAiB,OAAO;YAE3C,iEAAiE;YACjE,4DAA4D;YAC5D,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,CAAC,iBAAiB,QAAQ;gBAC9D,gBAAgB,MAAM,GAAG;gBACzB;;YAeF;YAEA,sDAAsD;YACtD,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;gBAClC,MAAM,MAAM,MAAM,MAAM,EAAE,OAAO;gBACjC,MAAM,cAAc,MAAM,QAAQ,EAAE,MAAM,UAAU;gBAEpD,mEAAmE;gBACnE,mDAAmD;gBACnD,MAAM,mBAAmB,IAAI,QAAQ,CAAC,yBACb,IAAI,QAAQ,CAAC,qBACb,IAAI,QAAQ,CAAC,8BACb,IAAI,QAAQ,CAAC,6BACb,IAAI,QAAQ,CAAC;gBAEtC,0DAA0D;gBAC1D,IAAI,IAAI,QAAQ,CAAC,cAAc,CAAC,IAAI,QAAQ,CAAC,cAAc;oBACzD,mEAAmE;oBACnE;;oBAGA,kCAAkC;oBAClC,MAAM,QAAQ,CAAC,IAAI,GAAG;wBACpB,GAAG,MAAM,QAAQ,CAAC,IAAI;wBACtB,QAAQ;wBACR,SAAS,CAAC,+CAA+C,EAAE,aAAa;oBAC1E;gBACF,OAAO;;YAGT;YAEA,8EAA8E;YAC9E,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;gBAClC,MAAM,MAAM,MAAM,MAAM,EAAE,OAAO;gBACjC,4DAA4D;gBAC5D;;YAGF;YAEA,2EAA2E;YAC3E,IAAI,CAAC,MAAM,QAAQ,EAAE;gBACnB,MAAM,MAAM,MAAM,MAAM,EAAE,OAAO;gBACjC,gEAAgE;gBAChE,0CAA0C;gBAC1C,MAAM,oBAAoB,IAAI,QAAQ,CAAC,kCACd,IAAI,QAAQ,CAAC,iCACb,IAAI,QAAQ,CAAC;gBAEtC,IAAI,CAAC,mBAAmB;oBACtB,uCAAuC;oBACvC,MAAM,eAAe,MAAM,OAAO,IAAI;oBAEtC,wCAA4C;wBAC1C,QAAQ,KAAK,CAAC,kBAAkB;wBAEhC,IAAI,MAAM,IAAI,KAAK,kBAAkB,MAAM,OAAO,EAAE,SAAS,kBAAkB;4BAC7E,QAAQ,KAAK,CAAC;wBAChB,OAAO,IAAI,MAAM,IAAI,KAAK,eAAe;4BACvC,QAAQ,KAAK,CAAC;wBAChB;oBACF;gBACF;YACA,uFAAuF;YACzF;YAEA,OAAO,QAAQ,MAAM,CAAC;QACxB;IAEJ;IAEQ,kBAAqB,OAAgB,EAAkB;QAC7D,qDAAqD;QACrD,IAAI,CAAC,SAAS;YACZ,OAAO;gBAAE,MAAM;YAAqB;QACtC;QAEA,8CAA8C;QAC9C,IAAI,OAAO,YAAY,YAAY,YAAY,MAAM;YACnD,IAAI,UAAU,SAAS;gBACrB,OAAO;YACT;YACA,kDAAkD;YAClD,OAAO;gBAAE,MAAM;YAAa;QAC9B;QAEA,kCAAkC;QAClC,OAAO;YAAE,MAAM;QAAa;IAC9B;IAEA;;GAEC,GACD,AAAQ,oBAAoB,KAAc,EAAU;QAClD,IAAI,SAAS,OAAO,UAAU,UAAU;YACtC,qBAAqB;YACrB,IAAI,cAAc,OAAO;gBACvB,MAAM,aAAa;gBACnB,OAAO,WAAW,QAAQ,EAAE,MAAM,UAC3B,WAAW,QAAQ,EAAE,MAAM,WAC3B,WAAW,QAAQ,EAAE,MAAM,SAC3B;YACT;YACA,wBAAwB;YACxB,IAAI,aAAa,OAAO;gBACtB,OAAO,AAAC,MAA8B,OAAO;YAC/C;QACF;QACA,WAAW;QACX,OAAO,iBAAiB,QAAQ,MAAM,OAAO,GAAG;IAClD;IAEA,MAAc,IAAO,GAAW,EAAE,MAA2B,EAA2B;QACtF,MAAM,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAI,KAAK;QAC/C,OAAO,IAAI,CAAC,iBAAiB,CAAI,SAAS,IAAI;IAChD;IAEA,MAAc,KAAqB,GAAW,EAAE,IAAQ,EAAE,MAA2B,EAA2B;QAC9G,MAAM,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAI,KAAK,MAAM;QACtD,OAAO,IAAI,CAAC,iBAAiB,CAAI,SAAS,IAAI;IAChD;IAEA,MAAc,IAAoB,GAAW,EAAE,IAAQ,EAAE,MAA2B,EAA2B;QAC7G,MAAM,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAI,KAAK,MAAM;QACrD,OAAO,IAAI,CAAC,iBAAiB,CAAI,SAAS,IAAI;IAChD;IAEA,MAAc,OAAU,GAAW,EAAE,IAAc,EAAE,MAA2B,EAA2B;QACzG,MAAM,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAI,KAAK;YAAE,GAAG,MAAM;YAAE;QAAK;QACpE,OAAO,IAAI,CAAC,iBAAiB,CAAI,SAAS,IAAI;IAChD;IAEA,iBAAiB;IACjB,MAAM,MAAM,UAAkB,EAAE,QAAgB,EAAuC;QACrF,MAAM,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAgB,oBAAoB;YACzE,UAAU;YACV;QACF;QACA,MAAM,aAAa,IAAI,CAAC,iBAAiB,CAAgB,SAAS,IAAI;QAEtE,+DAA+D;QAC/D,IAAI,WAAW,IAAI,EAAE,gBAAgB,WAAW,IAAI,EAAE,MAAM;YAC1D;;QAGF,OAAO;YACL,mDAAmD;YACnD;;YAIA,MAAM,IAAI,MAAM;QAClB;QAEA,OAAO;IACT;IAEA,MAAM,SAAS,QAAuB,EAA8B;QAClE,OAAO,IAAI,CAAC,IAAI,CAAO,kBAAkB;IAC3C;IAEA,MAAM,SAAwB;QAC5B,IAAI;YACF,MAAM,IAAI,CAAC,IAAI,CAAC;QAClB,SAAU;YACR;;QAGF;IACF;IAEA,MAAM,eAA+D;QACnE,wCAAmC,MAAM,IAAI,MAAM;QACnD,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO,MAAM,IAAI,MAAM;QAC5B,MAAM,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB;YAAE;QAAM;QACjE,MAAM,aAAa,IAAI,CAAC,iBAAiB,CAA2B,SAAS,IAAI;QACjF,aAAa,OAAO,CAAC,gBAAgB,WAAW,IAAI,CAAC,YAAY;QACjE,OAAO;IACT;IAEA,MAAM,cAA2E;QAC/E,OAAO,IAAI,CAAC,IAAI,CAAC;IACnB;IAEA,MAAM,UAAU,QAAgB,EAA6C;QAC3E,OAAO,IAAI,CAAC,IAAI,CAAC,oBAAoB;YAAE;QAAS;IAClD;IAEA,MAAM,WAAW,KAAa,EAA6C;QACzE,OAAO,IAAI,CAAC,IAAI,CAAC,qBAAqB;YAAE;QAAM;IAChD;IAEA,MAAM,cAAc,KAAa,EAAE,IAAY,EAAE,WAAmB,EAA6C;QAC/G,OAAO,IAAI,CAAC,IAAI,CAAC,wBAAwB;YAAE;YAAO;YAAM;QAAY;IACtE;IAEA,iBAAiB;IACjB,MAAM,iBAA6C;QACjD,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,MAAM,kBAAkB,QAAuB,EAA8B;QAC3E,OAAO,IAAI,CAAC,GAAG,CAAC,aAAa;IAC/B;IAEA,MAAM,eAAe,eAAuB,EAAE,WAAmB,EAA6C;QAC5G,OAAO,IAAI,CAAC,IAAI,CAAC,6BAA6B;YAAE,kBAAkB;YAAiB,cAAc;QAAY;IAC/G;IAEA,MAAM,WAAyC;QAC7C,IAAI;YACF,MAAM,WAAW,MAAM,IAAI,CAAC,GAAG,CAAS;YACxC,mCAAmC;YACnC,IAAI,MAAM,OAAO,CAAC,SAAS,IAAI,GAAG;gBAChC,OAAO;YACT;YACA,OAAO;gBAAE,GAAG,QAAQ;gBAAE,MAAM,EAAE;YAAC;QACjC,EAAE,OAAO,OAAgB;YACvB,MAAM,aAAa;YACnB,IAAI,WAAW,QAAQ,EAAE,WAAW,KAAK;gBACvC,kEAAkE;gBAClE,4DAA4D;gBAC5D,OAAO;oBAAE,MAAM,EAAE;gBAAC;YACpB;YACA,MAAM;QACR;IACF;IAEA,MAAM,QAAQ,MAAc,EAA8B;QACxD,IAAI;YACF,OAAO,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,QAAQ;QAC1C,EAAE,OAAO,OAAgB;YACvB,uDAAuD;YACvD,MAAM,aAAa;YACnB,IAAI,WAAW,QAAQ,EAAE,WAAW,KAAK;gBACvC,MAAM,SAAS,WAAW,QAAQ,CAAC,IAAI,EAAE,UAAU;gBACnD,MAAM,gBAAgB,IAAI,MAAM,CAAC,mBAAmB,EAAE,OAAO,EAAE,EAAE,QAAQ;gBACxE,cAAoD,QAAQ,GAAG,WAAW,QAAQ;gBACnF,MAAM;YACR;YACA,IAAI,WAAW,QAAQ,EAAE,WAAW,KAAK;gBACvC,MAAM,gBAAgB,IAAI,MAAM,CAAC,KAAK,EAAE,OAAO,UAAU,CAAC;gBACzD,cAAoD,QAAQ,GAAG,WAAW,QAAQ;gBACnF,MAAM;YACR;YACA,MAAM;QACR;IACF;IAEA,MAAM,gBAAgB,MAAc,EAAgC;QAClE,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,OAAO,aAAa,CAAC;IACjD;IAEA,MAAM,WAAW,QAAuB,EAA8B;QACpE,IAAI;YACF,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,UAAU;QACnC,EAAE,OAAO,OAAgB;YACvB,0DAA0D;YAC1D,MAAM,aAAa;YACnB,IAAI,WAAW,QAAQ,EAAE,WAAW,KAAK;gBACvC,MAAM,SAAS,WAAW,QAAQ,CAAC,IAAI,EAAE,UAAU;gBACnD,MAAM,gBAAgB,IAAI,MAAM,CAAC,oBAAoB,EAAE,OAAO,6DAA6D,CAAC;gBAC3H,cAAoD,QAAQ,GAAG,WAAW,QAAQ;gBACnF,MAAM;YACR;YACA,IAAI,WAAW,QAAQ,EAAE,WAAW,KAAK;gBACvC,MAAM,SAAS,WAAW,QAAQ,CAAC,IAAI,EAAE,UAAU;gBACnD,MAAM,gBAAgB,IAAI,MAAM,CAAC,uBAAuB,EAAE,QAAQ;gBACjE,cAAoD,QAAQ,GAAG,WAAW,QAAQ;gBACnF,MAAM;YACR;YACA,MAAM;QACR;IACF;IAEA;;;GAGC,GACD,MAAM,kBAAkB,QAAuB,EAA8B;QAC3E,OAAO,IAAI,CAAC,IAAI,CAAC,uBAAuB;IAC1C;IAEA,MAAM,WAAW,MAAc,EAAE,QAAuB,EAA8B;QACpF,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,QAAQ,EAAE;IACtC;IAEA,MAAM,WAAW,MAAc,EAAE,QAAgB,EAA6C;QAC5F,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,OAAO,OAAO,CAAC,EAAE;YAAE;QAAS;IACzD;IAEA,MAAM,aAAa,MAAc,EAAE,QAAgB,EAA6C;QAC9F,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,OAAO,SAAS,CAAC,EAAE;YAAE;QAAS;IAC3D;IAEA,MAAM,eAAe,MAAc,EAAE,QAAgB,EAA6C;QAChG,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,OAAO,WAAW,CAAC,EAAE;YAAE;QAAS;IAC7D;IAEA,uBAAuB;IACvB,MAAM,mBAAmB,MAAc,EAAmD;QACxF,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,OAAO,YAAY,CAAC;IAChD;IAEA,MAAM,sBAAsB,MAAc,EAAE,WAAqB,EAAoE;QACnI,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,OAAO,YAAY,CAAC,EAAE;YAAE;QAAY;IAChE;IAEA,sBAAsB;IACtB,MAAM,YAAY,OAAiB,EAAyC;QAC1E,iEAAiE;QACjE,MAAM,SAAS;YAAE,GAAG,OAAO;YAAE,OAAO;YAAO,MAAM;QAAE;QACnD,MAAM,WAAW,MAAM,IAAI,CAAC,GAAG,CAAC,YAAY;YAAE;QAAO;QACrD,MAAM,OAAO,MAAM,OAAO,CAAC,SAAS,IAAI,IAAI,SAAS,IAAI,GAAG,EAAE;QAC9D,OAAO;YAAE,GAAG,QAAQ;YAAE;QAAK;IAC7B;IAEA,MAAM,WAAW,SAAiB,EAAuC;QACvE,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,WAAW;IACzC;IAEA,MAAM,cAAc,WAA0B,EAAuC;QACnF,OAAO,IAAI,CAAC,IAAI,CAAC,YAAY;IAC/B;IAEA,MAAM,cAAc,SAAiB,EAAE,WAA0B,EAAuC;QACtG,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,WAAW,EAAE;IAC3C;IAEA,MAAM,cAAc,SAAiB,EAAE,QAAgB,EAA6C;QAClG,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,UAAU,OAAO,CAAC,EAAE;YAAE;QAAS;IAC9D;IAEA,MAAM,YAAY,OAAiB,EAAyC;QAC1E,iEAAiE;QACjE,MAAM,SAAS;YAAE,GAAG,OAAO;YAAE,OAAO;YAAO,MAAM;QAAE;QACnD,MAAM,WAAW,MAAM,IAAI,CAAC,GAAG,CAAC,aAAa;YAAE;QAAO;QACtD,MAAM,OAAO,MAAM,OAAO,CAAC,SAAS,IAAI,IAAI,SAAS,IAAI,GAAG,EAAE;QAC9D,OAAO;YAAE,GAAG,QAAQ;YAAE;QAAK;IAC7B;IAEA,MAAM,WAAW,SAAiB,EAAuC;QACvE,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,WAAW;IAC1C;IAEA,MAAM,cAAc,WAA0B,EAAuC;QACnF,OAAO,IAAI,CAAC,IAAI,CAAC,aAAa;IAChC;IAEA,MAAM,cAAc,SAAiB,EAAE,WAA0B,EAAuC;QACtG,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,WAAW,EAAE;IAC5C;IAEA,MAAM,cAAc,SAAiB,EAAE,QAAgB,EAA6C;QAClG,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,UAAU,OAAO,CAAC,EAAE;YAAE;QAAS;IAC/D;IAEA,gDAAgD;IAChD,MAAM,kBAA6D;QACjE,IAAI;YACF,MAAM,CAAC,kBAAkB,iBAAiB,GAAG,MAAM,QAAQ,GAAG,CAAC;gBAC7D,IAAI,CAAC,WAAW;gBAChB,IAAI,CAAC,WAAW;aACjB;YAED,MAAM,WAAW,CAAC,iBAAiB,IAAI,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,IAAwC,CAAC;oBAC3F,GAAG,CAAC;oBACJ,kBAAkB;oBAClB,IAAI,CAAC,QAAQ,EAAE,EAAE,EAAE,EAAE;gBACvB,CAAC;YAED,MAAM,WAAW,CAAC,iBAAiB,IAAI,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,IAAwC,CAAC;oBAC3F,GAAG,CAAC;oBACJ,kBAAkB;oBAClB,IAAI,CAAC,QAAQ,EAAE,EAAE,EAAE,EAAE;oBACrB,QAAQ,CAAC,KAAK,GAAG,CAAC,OAAO,EAAE,MAAM,IAAI;gBACvC,CAAC;YAED,MAAM,eAAe;mBAAI;mBAAa;aAAS,CAAC,IAAI,CAAC,CAAC,GAAG;gBACvD,MAAM,QAAQ,IAAI,KAAK,EAAE,IAAI,IAAI,EAAE,UAAU,IAAI,GAAG,OAAO;gBAC3D,MAAM,QAAQ,IAAI,KAAK,EAAE,IAAI,IAAI,EAAE,UAAU,IAAI,GAAG,OAAO;gBAC3D,OAAO,QAAQ,OAAO,oBAAoB;YAC5C;YAEA,OAAO;gBAAE,MAAM;YAAa;QAC9B,EAAE,OAAO,OAAO;YACd,0BAA0B;YAC1B,MAAM;QACR;IACF;IAEA,YAAY;IACZ,MAAM,uBAAsD;QAC1D,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,MAAM,iBAAiB,SAAgD,OAAO,EAAiC;QAC7G,OAAO,IAAI,CAAC,GAAG,CAAC,mBAAmB;YAAE,QAAQ;gBAAE;YAAO;QAAE;IAC1D;IAEA,MAAM,2BAA2B,QAAQ,EAAE,EAAmC;QAC5E,OAAO,IAAI,CAAC,GAAG,CAAC,8BAA8B;YAAE,QAAQ;gBAAE;YAAM;QAAE;IACpE;IAEA,YAAY;IACZ,MAAM,gBAAgB,MAIrB,EAAiC;QAChC,OAAO,IAAI,CAAC,GAAG,CAAC,mBAAmB;YAAE;QAAO;IAC9C;IAEA,MAAM,iBAAiB,MAKtB,EAAiC;QAChC,OAAO,IAAI,CAAC,GAAG,CAAC,qBAAqB;YAAE;QAAO;IAChD;IAEA,MAAM,kBAAkB,MAKvB,EAAiC;QAChC,OAAO,IAAI,CAAC,GAAG,CAAC,0BAA0B;YAAE;QAAO;IACrD;IAEA,MAAM,qBAAqB,MAI1B,EAAiC;QAChC,OAAO,IAAI,CAAC,GAAG,CAAC,iCAAiC;YAAE;QAAO;IAC5D;IAEA,MAAM,qBAAqB,MAI1B,EAAiD;QAChD,OAAO,IAAI,CAAC,GAAG,CAAC,uBAAuB;YAAE;QAAO;IAClD;IAEA,UAAU;IACV,MAAM,WAAW,OAAiB,EAAmD;QACnF,OAAO,IAAI,CAAC,GAAG,CAAC,YAAY;YAAE,QAAQ;QAAQ;IAChD;IAEA,MAAM,UAAU,QAAgB,EAAiD;QAC/E,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,UAAU;IACxC;IAEA,MAAM,aAAa,UAAmC,EAAiD;QACrG,OAAO,IAAI,CAAC,IAAI,CAAC,YAAY;IAC/B;IAEA,MAAM,aAAa,QAAgB,EAAE,UAAmC,EAAiD;QACvH,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,UAAU,EAAE;IAC1C;IAEA,MAAM,aAAa,QAAgB,EAA6C;QAC9E,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,UAAU;IAC3C;IAEA,MAAM,eAAe,QAAgB,EAAuF;QAC1H,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,SAAS,SAAS,CAAC;IAClD;IAEA,MAAM,iBAAiB,QAAgB,EAA6C;QAClF,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,SAAS,WAAW,CAAC;IACpD;IAEA,MAAM,0BAA8H;QAClI,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,2CAA2C;IAC3C,MAAM,mBAAmB,SAAkB,EAAE,OAAgB,EAAiD;QAC5G,MAAM,SAAkB,CAAC;QACzB,kFAAkF;QAClF,IAAI,WAAW;YACb,MAAM,QAAQ,IAAI,KAAK,YAAY;YACnC,OAAO,UAAU,GAAG,MAAM,WAAW;QACvC;QACA,IAAI,SAAS;YACX,6BAA6B;YAC7B,MAAM,MAAM,IAAI,KAAK,UAAU;YAC/B,OAAO,QAAQ,GAAG,IAAI,WAAW;QACnC;QAEA,+DAA+D;QAC/D,iEAAiE;QACjE,MAAM,CAAC,aAAa,YAAY,GAAG,MAAM,QAAQ,GAAG,CAAC;YACnD,IAAI,CAAC,WAAW;YAChB,IAAI,CAAC,WAAW;SACjB;QAED,IAAI,WAAW,YAAY,IAAI,IAAI,EAAE;QACrC,IAAI,WAAW,YAAY,IAAI,IAAI,EAAE;QAErC,2DAA2D;QAC3D,IAAI,aAAa,SAAS;YACxB,MAAM,QAAQ,IAAI,KAAK,YAAY,aAAa,OAAO;YACvD,MAAM,MAAM,IAAI,KAAK,UAAU,aAAa,OAAO;YAEnD,WAAW,SAAS,MAAM,CAAC,CAAC;gBAC1B,MAAM,UAAU,EAAE,IAAI,IAAI,EAAE,UAAU;gBACtC,IAAI,CAAC,SAAS,OAAO,MAAM,gCAAgC;gBAC3D,IAAI;oBACF,MAAM,YAAY,IAAI,KAAK,SAAS,OAAO;oBAC3C,OAAO,aAAa,SAAS,aAAa;gBAC5C,EAAE,OAAM;oBACN,OAAO,MAAM,gCAAgC;gBAC/C;YACF;YAEA,WAAW,SAAS,MAAM,CAAC,CAAC;gBAC1B,MAAM,UAAU,EAAE,IAAI,IAAI,EAAE,UAAU;gBACtC,IAAI,CAAC,SAAS,OAAO,MAAM,gCAAgC;gBAC3D,IAAI;oBACF,MAAM,YAAY,IAAI,KAAK,SAAS,OAAO;oBAC3C,OAAO,aAAa,SAAS,aAAa;gBAC5C,EAAE,OAAM;oBACN,OAAO,MAAM,gCAAgC;gBAC/C;YACF;QACF;QAEA,8DAA8D;QAC9D,gFAAgF;QAChF,MAAM,mBAAmB,SAAS,MAAM,CAAC,CAAC,IACxC,EAAE,WAAW,KAAK,QAAQ,EAAE,WAAW,KAAK,UAAU,EAAE,QAAQ,KAAK;QAEvE,MAAM,mBAAmB,SAAS,MAAM,CAAC,CAAC,IACxC,EAAE,WAAW,KAAK,QAAQ,EAAE,WAAW,KAAK,UAAU,EAAE,QAAQ,KAAK;QAGvE,gDAAgD;QAChD,MAAM,eAAe,iBAAiB,MAAM,CAAC,CAAC,KAAa,IAAqB,MAAM,OAAO,EAAE,MAAM,IAAI,IAAI;QAC7G,MAAM,gBAAgB,iBAAiB,MAAM,CAAC,CAAC,KAAa,IAAqB,MAAM,OAAO,EAAE,MAAM,IAAI,IAAI;QAC9G,MAAM,SAAS,eAAe;QAE9B,0FAA0F;QAC1F,MAAM,oBAA4C,CAAC;QACnD,iBAAiB,OAAO,CAAC,CAAC;YACxB,MAAM,WACJ,EAAE,QAAQ,IAAI,OAAO,EAAE,QAAQ,KAAK,YAAY,WAAW,EAAE,QAAQ,GACjE,AAAC,EAAE,QAAQ,CAAyB,KAAK,GACzC,EAAE,QAAQ;YAChB,MAAM,SAAS,OAAO,aAAa,WAAW,WAAW;YACzD,iBAAiB,CAAC,OAAO,GAAG,CAAC,iBAAiB,CAAC,OAAO,IAAI,CAAC,IAAI,OAAO,EAAE,MAAM,IAAI;QACpF;QAEA,MAAM,oBAA4C,CAAC;QACnD,iBAAiB,OAAO,CAAC,CAAC;YACxB,MAAM,WACJ,EAAE,QAAQ,IAAI,OAAO,EAAE,QAAQ,KAAK,YAAY,WAAW,EAAE,QAAQ,GACjE,AAAC,EAAE,QAAQ,CAAyB,KAAK,GACzC,EAAE,QAAQ;YAChB,MAAM,SAAS,OAAO,aAAa,WAAW,WAAW;YACzD,iBAAiB,CAAC,OAAO,GAAG,CAAC,iBAAiB,CAAC,OAAO,IAAI,CAAC,IAAI,OAAO,EAAE,MAAM,IAAI;QACpF;QAEA,OAAO;YACL,MAAM;gBACJ,QAAQ;oBAAE,YAAY;oBAAW,UAAU;gBAAQ;gBACnD,SAAS;oBACP,OAAO;oBACP,aAAa;gBACf;gBACA,UAAU;oBACR,OAAO;oBACP,aAAa;gBACf;gBACA;gBACA,eAAe,eAAe,IAAI,AAAC,SAAS,eAAgB,MAAM;YACpE;QACF;IACF;IAEA,MAAM,YACJ,SAAkB,EAClB,OAAgB,EAKd;QACF,MAAM,SAAkC,CAAC;QACzC,kFAAkF;QAClF,IAAI,WAAW;YACb,MAAM,QAAQ,IAAI,KAAK,YAAY;YACnC,OAAO,UAAU,GAAG,MAAM,WAAW;QACvC;QACA,IAAI,SAAS;YACX,6BAA6B;YAC7B,MAAM,MAAM,IAAI,KAAK,UAAU;YAC/B,OAAO,QAAQ,GAAG,IAAI,WAAW;QACnC;QAEA,wDAAwD;QACxD,iEAAiE;QACjE,MAAM,CAAC,aAAa,YAAY,GAAG,MAAM,QAAQ,GAAG,CAAC;YAAC,IAAI,CAAC,WAAW;YAAI,IAAI,CAAC,WAAW;SAAG;QAE7F,IAAI,WAAW,YAAY,IAAI,IAAI,EAAE;QACrC,IAAI,WAAW,YAAY,IAAI,IAAI,EAAE;QAErC,2DAA2D;QAC3D,IAAI,aAAa,SAAS;YACxB,MAAM,QAAQ,IAAI,KAAK,YAAY,aAAa,OAAO;YACvD,MAAM,MAAM,IAAI,KAAK,UAAU,aAAa,OAAO;YAEnD,WAAW,SAAS,MAAM,CAAC,CAAC;gBAC1B,MAAM,UAAU,EAAE,IAAI,IAAI,EAAE,UAAU;gBACtC,IAAI,CAAC,SAAS,OAAO,MAAM,gCAAgC;gBAC3D,IAAI;oBACF,MAAM,YAAY,IAAI,KAAK,SAAS,OAAO;oBAC3C,OAAO,aAAa,SAAS,aAAa;gBAC5C,EAAE,OAAM;oBACN,OAAO,MAAM,gCAAgC;gBAC/C;YACF;YAEA,WAAW,SAAS,MAAM,CAAC,CAAC;gBAC1B,MAAM,UAAU,EAAE,IAAI,IAAI,EAAE,UAAU;gBACtC,IAAI,CAAC,SAAS,OAAO,MAAM,gCAAgC;gBAC3D,IAAI;oBACF,MAAM,YAAY,IAAI,KAAK,SAAS,OAAO;oBAC3C,OAAO,aAAa,SAAS,aAAa;gBAC5C,EAAE,OAAM;oBACN,OAAO,MAAM,gCAAgC;gBAC/C;YACF;QACF;QAEA,8DAA8D;QAC9D,kEAAkE;QAClE,MAAM,mBAAmB,SAAS,MAAM,CAAC,CAAC,IACxC,EAAE,WAAW,KAAK,QAAQ,EAAE,WAAW,KAAK,UAAU,EAAE,QAAQ,KAAK;QAEvE,MAAM,mBAAmB,SAAS,MAAM,CAAC,CAAC,IACxC,EAAE,WAAW,KAAK,QAAQ,EAAE,WAAW,KAAK,UAAU,EAAE,QAAQ,KAAK;QAGvE,yDAAyD;QACzD,MAAM,gBAAkF,CAAC;QAEzF,iBAAiB,OAAO,CAAC,CAAC;YACxB,4EAA4E;YAC5E,MAAM,UAAU,EAAE,IAAI,IAAI,EAAE,UAAU;YACtC,MAAM,MAAM,UAAU,IAAI,KAAK,SAAS,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;YAC5G,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE;gBACvB,aAAa,CAAC,IAAI,GAAG;oBAAE,QAAQ;oBAAG,SAAS;oBAAG,KAAK;gBAAE;YACvD;YACA,MAAM,SAAS,OAAO,EAAE,MAAM,IAAI;YAClC,aAAa,CAAC,IAAI,CAAC,MAAM,IAAI;YAC7B,aAAa,CAAC,IAAI,CAAC,GAAG,IAAI;QAC5B;QAEA,iBAAiB,OAAO,CAAC,CAAC;YACxB,4EAA4E;YAC5E,MAAM,UAAU,EAAE,IAAI,IAAI,EAAE,UAAU;YACtC,MAAM,MAAM,UAAU,IAAI,KAAK,SAAS,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;YAC5G,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE;gBACvB,aAAa,CAAC,IAAI,GAAG;oBAAE,QAAQ;oBAAG,SAAS;oBAAG,KAAK;gBAAE;YACvD;YACA,MAAM,SAAS,OAAO,EAAE,MAAM,IAAI;YAClC,aAAa,CAAC,IAAI,CAAC,OAAO,IAAI;YAC9B,aAAa,CAAC,IAAI,CAAC,GAAG,IAAI;QAC5B;QAEA,MAAM,cAAc,OAAO,MAAM,CAAC,eAAe,MAAM,CAAC,CAAC,KAAK,MAAQ,MAAM,IAAI,MAAM,EAAE;QACxF,MAAM,eAAe,OAAO,MAAM,CAAC,eAAe,MAAM,CAAC,CAAC,KAAK,MAAQ,MAAM,IAAI,OAAO,EAAE;QAC1F,MAAM,cAAc,cAAc;QAElC,OAAO;YACL,MAAM;gBACJ,QAAQ;oBAAE,YAAY;oBAAW,UAAU;gBAAQ;gBACnD,SAAS;oBACP,cAAc;oBACd,eAAe;oBACf,eAAe;gBACjB;gBACA,iBAAiB;YACnB;QACF;IACF;IAEA,2BAA2B;IAC3B,MAAM,oBACJ,SAAkB,EAClB,OAAgB,EAad;QACF,sDAAsD;QACtD,MAAM,CAAC,gBAAgB,eAAe,GAAG,MAAM,QAAQ,GAAG,CAAC;YACzD,IAAI,CAAC,WAAW;YAChB,IAAI,CAAC,WAAW;SACjB;QAED,IAAI,WAAW,eAAe,IAAI,IAAI,EAAE;QACxC,IAAI,WAAW,eAAe,IAAI,IAAI,EAAE;QAExC,2DAA2D;QAC3D,IAAI,aAAa,SAAS;YACxB,MAAM,QAAQ,IAAI,KAAK,YAAY,aAAa,OAAO;YACvD,MAAM,MAAM,IAAI,KAAK,UAAU,aAAa,OAAO;YAEnD,WAAW,SAAS,MAAM,CAAC,CAAC;gBAC1B,MAAM,UAAU,EAAE,IAAI,IAAI,EAAE,UAAU;gBACtC,IAAI,CAAC,SAAS,OAAO,MAAM,gCAAgC;gBAC3D,IAAI;oBACF,MAAM,YAAY,IAAI,KAAK,SAAS,OAAO;oBAC3C,OAAO,aAAa,SAAS,aAAa;gBAC5C,EAAE,OAAM;oBACN,OAAO,MAAM,gCAAgC;gBAC/C;YACF;YAEA,WAAW,SAAS,MAAM,CAAC,CAAC;gBAC1B,MAAM,UAAU,EAAE,IAAI,IAAI,EAAE,UAAU;gBACtC,IAAI,CAAC,SAAS,OAAO,MAAM,gCAAgC;gBAC3D,IAAI;oBACF,MAAM,YAAY,IAAI,KAAK,SAAS,OAAO;oBAC3C,OAAO,aAAa,SAAS,aAAa;gBAC5C,EAAE,OAAM;oBACN,OAAO,MAAM,gCAAgC;gBAC/C;YACF;QACF;QAEA,mEAAmE;QACnE,gFAAgF;QAChF,MAAM,mBAAmB,SAAS,MAAM,CAAC,CAAC,IACxC,EAAE,WAAW,KAAK,QAAQ,EAAE,WAAW,KAAK,UAAU,EAAE,QAAQ,KAAK;QAGvE,mEAAmE;QACnE,MAAM,mBAAmB,SAAS,MAAM,CAAC,CAAC,IACxC,EAAE,WAAW,KAAK,QAAQ,EAAE,WAAW,KAAK,UAAU,EAAE,QAAQ,KAAK;QAGvE,2EAA2E;QAC3E,MAAM,eAAe,iBAAiB,MAAM,CAAC,CAAC,KAAa,IAAqB,MAAM,OAAO,EAAE,MAAM,IAAI,IAAI;QAC7G,MAAM,gBAAgB,iBAAiB,MAAM,CAAC,CAAC,KAAa,IAAqB,MAAM,OAAO,EAAE,MAAM,IAAI,IAAI;QAC9G,MAAM,SAAS,eAAe;QAC9B,MAAM,eAAe,eAAe,IAAI,AAAC,SAAS,eAAgB,MAAM;QAExE,0DAA0D;QAC1D,MAAM,oBAA4C,CAAC;QACnD,MAAM,oBAAoB,CAAC;YACzB,IAAI,OAAO,QAAQ,UAAU,OAAO,OAAO;YAC3C,IAAI,OAAO,OAAO,QAAQ,YAAY,WAAW,KAAK;gBACpD,MAAM,QAAQ,AAAC,IAA4B,KAAK;gBAChD,OAAO,OAAO,UAAU,WAAW,QAAQ,OAAO,SAAS;YAC7D;YACA,OAAO,OAAO,OAAO;QACvB;QAEA,iBAAiB,OAAO,CAAC,CAAC;YACxB,MAAM,MAAM,kBAAkB,EAAE,QAAQ;YACxC,iBAAiB,CAAC,IAAI,GAAG,CAAC,iBAAiB,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO,EAAE,MAAM,IAAI;QAC9E;QAEA,2DAA2D;QAC3D,MAAM,oBAA4C,CAAC;QACnD,iBAAiB,OAAO,CAAC,CAAC;YACxB,MAAM,MAAM,kBAAkB,EAAE,QAAQ;YACxC,iBAAiB,CAAC,IAAI,GAAG,CAAC,iBAAiB,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO,EAAE,MAAM,IAAI;QAC9E;QAEA,4DAA4D;QAC5D,MAAM,eAAe,iBAAiB,MAAM;QAC5C,MAAM,eAAe,iBAAiB,MAAM;QAE5C,MAAM,SAAS;YACb,MAAM;gBACJ,QAAQ;oBAAE,YAAY;oBAAW,UAAU;gBAAQ;gBACnD,YAAY;oBACV,eAAe;oBACf,gBAAgB;oBAChB;oBACA,eAAe;gBACjB;gBACA,qBAAqB;gBACrB,sBAAsB;gBACtB,oBAAoB;oBAClB,SAAS;oBACT,UAAU;oBACV,OAAO,eAAe;gBACxB;gBACA,cAAc,IAAI,OAAO,WAAW;YACtC;QACF;QAEA,OAAO;IACT;IAEA,YAAY;IACZ,MAAM,eAAgD;QACpD,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,MAAM,YAAY,UAAkB,EAAiC;QACnE,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,YAAY;IAC5C;IAEA,MAAM,oBAAoB,UAAkB,EAAmC;QAC7E,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,WAAW,SAAS,CAAC;IACrD;IAEA,MAAM,sBAAsB,UAAkB,EAAE,OAAe,EAAiC;QAC9F,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,WAAW,SAAS,CAAC,EAAE;YAAE;QAAQ;IAClE;IAEA,MAAM,YAAY,MAAc,EAAE,QAA+B,EAAiC;QAChG,IAAI,aAAa,WAAW;YAC1B,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,OAAO,QAAQ,CAAC;QAC/C,OAAO;YACL,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,OAAO,QAAQ,CAAC;QAChD;IACF;IAEA,MAAM,WACJ,MAAc,EACd,QAA+B,EAC/B,MAAc,EACd,QAAgB,EACe;QAC/B,qEAAqE;QACrE,IAAI,aAAa,WAAW;YAC1B,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,OAAO,OAAO,CAAC,EAAE;gBAAE,QAAQ,UAAU;gBAAsB;YAAS;QACnG,OAAO;YACL,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,OAAO,OAAO,CAAC,EAAE;gBAAE,QAAQ,UAAU;gBAAsB;YAAS;QACpG;IACF;IAEA,MAAM,gBAAgB,UAAkB,EAAiC;QACvE,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,WAAW,QAAQ,CAAC;IACrD;IAEA,MAAM,eACJ,UAAkB,EAClB,MAAc,EACd,QAAgB,EACe;QAC/B,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,WAAW,OAAO,CAAC,EAAE;YAAE,kBAAkB;YAAQ;QAAS;IAC3F;IAEA,gBAAgB;IAChB,MAAM,iBAAiB,UAAoB,EAAmC;QAC5E,OAAO,IAAI,CAAC,GAAG,CAAC,kBAAkB;YAAE,QAAQ;gBAAE,aAAa;YAAW;QAAE;IAC1E;IAEA,MAAM,gBAAgB,cAAsB,EAAiC;QAC3E,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,gBAAgB;IACpD;IAEA,MAAM,uBAAuB,cAAsB,EAA6C;QAC9F,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,eAAe,EAAE,eAAe,UAAU,CAAC;IAC/D;IAEA,MAAM,6BAAwE;QAC5E,OAAO,IAAI,CAAC,IAAI,CAAC;IACnB;IAEA,MAAM,mBAAmB,cAAsB,EAA6C;QAC1F,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,eAAe,EAAE,gBAAgB;IACvD;IAEA,MAAM,iBAAiE;QACrE,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,MAAM,6BAA4D;QAChE,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,MAAM,8BACJ,WAAoC,EACL;QAC/B,OAAO,IAAI,CAAC,GAAG,CAAC,8BAA8B;IAChD;IAEA,kBAAkB;IAClB,MAAM,sBAAqD;QACzD,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,MAAM,oBAAmD;QACvD,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,MAAM,kBAAiD;QACrD,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,MAAM,eAA8C;QAClD,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,MAAM,WAA4C;QAChD,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,MAAM,iBAAiD;QACrD,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,MAAM,WAAW,QAAwE,EAAiC;QACxH,MAAM,UAAU;YACd,GAAG,QAAQ;YACX,aAAa,SAAS,WAAW,EAAE,IAAI,CAAC,OAAS,KAAK,IAAI,IAAI,OAAO;QACvE;QACA,OAAO,IAAI,CAAC,IAAI,CAAC,gBAAgB;IACnC;IAEA,MAAM,WAAW,MAAc,EAAE,QAAyE,EAAiC;QACzI,MAAM,UAAU;YACd,GAAG,QAAQ;YACX,aAAa,SAAS,WAAW,EAAE,IAAI,CAAC,OAAS,KAAK,IAAI,IAAI,OAAO;QACvE;QACA,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,QAAQ,EAAE;IAC5C;IAEA,MAAM,WAAW,MAAc,EAA8B;QAC3D,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE,QAAQ;IAC7C;IAEA,mBAAmB;IACnB,MAAM,aAAa,eAAwB,KAAK,EAA6C;QAC3F,MAAM,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,wBAAwB,MAAM;YACpE,QAAQ;gBAAE,eAAe;YAAa;QACxC;QACA,OAAO,IAAI,CAAC,iBAAiB,CAAsB,SAAS,IAAI;IAClE;IAEA,MAAM,cAA4D;QAChE,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,MAAM,cAAc,UAAkB,EAA6C;QACjF,MAAM,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,yBAAyB,MAAM;YACrE,QAAQ;gBAAE,aAAa;YAAW;QACpC;QACA,OAAO,IAAI,CAAC,iBAAiB,CAAsB,SAAS,IAAI;IAClE;IAEA,MAAM,aAAa,UAAkB,EAAE,QAAgB,EAA6C;QAClG,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,cAAc,EAAE,mBAAmB,YAAY,OAAO,CAAC,EAAE;YAAE;QAAS;IACxF;IAEA,MAAM,yBAA0D;QAC9D,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,gBAAgB;IAChB,MAAM,eAA2D;QAC/D,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,MAAM,WAAoG;QACxG,OAAO,IAAI,CAAC,IAAI,CAAC;IACnB;IAEA,MAAM,UAAU,IAAY,EAA+D;QACzF,OAAO,IAAI,CAAC,IAAI,CAAC,wBAAwB;YAAE;QAAK;IAClD;IAEA,MAAM,WAAW,eAAuB,EAA+D;QACrG,OAAO,IAAI,CAAC,IAAI,CAAC,yBAAyB;YAAE,kBAAkB;QAAgB;IAChF;IAEA,2BAA2B;IAC3B,MAAM,yBAA4F;QAChG,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,MAAM,oBAAoB,OAAgB,EAAqE;QAC7G,OAAO,IAAI,CAAC,GAAG,CAAC,4BAA4B;YAAE;QAAQ;IACxD;IAEA,MAAM,aAAa,SAAiB,EAAqE;QACvG,OAAO,IAAI,CAAC,IAAI,CAAC,wCAAwC;YAAE,YAAY;QAAU;IACnF;IAEA,MAAM,gBAAgB,SAAiB,EAAqE;QAC1G,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,qCAAqC,EAAE,mBAAmB,YAAY;IAC5F;IAEA,MAAM,cAAc,eAAe,KAAK,EAA6C;QACnF,OAAO,IAAI,CAAC,IAAI,CAAC,wBAAwB,WAAW;YAAE,QAAQ;gBAAE,eAAe;YAAa;QAAE;IAChG;IAEA,uBAAuB;IACvB,MAAM,iBAAkD;QACtD,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,MAAM,cAAc,YAA6B,EAAiC;QAChF,wEAAwE;QACxE,MAAM,YAAY,mBAAmB,OAAO;QAC5C,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,WAAW;IAC7C;IAEA,MAAM,iBAAiB,cAAuC,EAAiC;QAC7F,OAAO,IAAI,CAAC,IAAI,CAAC,gBAAgB;IACnC;IAEA,MAAM,iBACJ,YAA6B,EAC7B,cAAuC,EACR;QAC/B,wEAAwE;QACxE,MAAM,YAAY,mBAAmB,OAAO;QAC5C,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,WAAW,EAAE;IAC/C;IAEA,MAAM,iBACJ,YAA6B,EAC7B,QAAgB,EAC2B;QAC3C,wEAAwE;QACxE,MAAM,YAAY,mBAAmB,OAAO;QAC5C,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,aAAa,EAAE,UAAU,OAAO,CAAC,EAAE;YAAE;QAAS;IAClE;IAEA,oBAAoB;IACpB,MAAM,YAAY,OAAiC,EAAmC;QACpF,OAAO,IAAI,CAAC,GAAG,CAAC,aAAa;YAAE,QAAQ;QAAQ;IACjD;IAEA,MAAM,WAAW,SAAiB,EAAiC;QACjE,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,WAAW;IAC1C;IAEA,MAAM,cAAc,WAAoC,EAAiC;QACvF,OAAO,IAAI,CAAC,IAAI,CAAC,aAAa;IAChC;IAEA,MAAM,cACJ,SAAiB,EACjB,WAAoC,EACL;QAC/B,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,WAAW,EAAE;IAC5C;IAEA,MAAM,cAAc,SAAiB,EAAE,QAAgB,EAA6C;QAClG,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,UAAU,OAAO,CAAC,EAAE;YAAE;QAAS;IAC/D;IAEA,oCAAoC;IACpC,MAAM,aAAa,OAQlB,EAAmD;QAClD,MAAM,SAAkC,CAAC;QACzC,IAAI,SAAS;YACX,IAAI,QAAQ,IAAI,KAAK,WAAW,OAAO,IAAI,GAAG,QAAQ,IAAI;YAC1D,IAAI,QAAQ,KAAK,KAAK,WAAW,OAAO,KAAK,GAAG,QAAQ,KAAK;YAC7D,IAAI,QAAQ,OAAO,KAAK,WAAW,OAAO,OAAO,GAAG,QAAQ,OAAO;YACnE,IAAI,QAAQ,MAAM,EAAE,OAAO,MAAM,GAAG,QAAQ,MAAM;YAClD,IAAI,QAAQ,aAAa,EAAE,OAAO,aAAa,GAAG,QAAQ,aAAa;YACvE,IAAI,QAAQ,UAAU,EAAE;gBACtB,oCAAoC;gBACpC,MAAM,QAAQ,IAAI,KAAK,QAAQ,UAAU,GAAG;gBAC5C,OAAO,UAAU,GAAG,MAAM,WAAW;YACvC;YACA,IAAI,QAAQ,QAAQ,EAAE;gBACpB,oCAAoC;gBACpC,MAAM,MAAM,IAAI,KAAK,QAAQ,QAAQ,GAAG;gBACxC,OAAO,QAAQ,GAAG,IAAI,WAAW;YACnC;QACF;QACA,OAAO,IAAI,CAAC,GAAG,CAAC,qBAAqB;YAAE;QAAO;IAChD;IAEA,+EAA+E;IAC/E,iCAAiC;IACjC,+EAA+E;IAE/E,oBAAoB;IACpB,MAAM,WAAW,MAAgF,EAAE;QACjG,OAAO,IAAI,CAAC,GAAG,CAAC,sBAAsB;YAAE;QAAO;IACjD;IAEA,MAAM,UAAU,EAAU,EAAE;QAC1B,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,mBAAmB,EAAE,IAAI;IAC5C;IAEA,MAAM,aAAa,IAA6B,EAAE;QAChD,OAAO,IAAI,CAAC,IAAI,CAAC,sBAAsB;IACzC;IAEA,MAAM,yBAAyB,YAAoB,EAAE,IAA6B,EAAE;QAClF,MAAM,SAAkC;YACtC,eAAe;QACjB;QACA,IAAI,KAAK,IAAI,EAAE,OAAO,IAAI,GAAG,KAAK,IAAI;QACtC,IAAI,KAAK,UAAU,EAAE,OAAO,UAAU,GAAG,KAAK,UAAU;QACxD,IAAI,KAAK,QAAQ,EAAE,OAAO,QAAQ,GAAG,KAAK,QAAQ;QAClD,IAAI,KAAK,UAAU,EAAE,OAAO,UAAU,GAAG,KAAK,UAAU;QACxD,IAAI,KAAK,OAAO,EAAE,OAAO,OAAO,GAAG,KAAK,OAAO;QAE/C,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,gCAAgC,CAAC,EAAE,CAAC,GAAG;YAAE;QAAO;IACpE;IAEA,MAAM,aAAa,EAAU,EAAE,IAA6B,EAAE;QAC5D,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,mBAAmB,EAAE,IAAI,EAAE;IAC9C;IAEA,MAAM,aAAa,EAAU,EAAE,QAAgB,EAAE;QAC/C,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,mBAAmB,EAAE,GAAG,OAAO,CAAC,EAAE;YAAE;QAAS;IACjE;IAEA,MAAM,eAAe,EAAU,EAAE;QAC/B,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,mBAAmB,EAAE,GAAG,SAAS,CAAC;IACtD;IAEA,eAAe;IACf,MAAM,eAAe,QAAgB,EAAE;QACrC,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,mBAAmB,EAAE,SAAS,MAAM,CAAC;IACxD;IAEA,MAAM,iBAAiB,QAAgB,EAAE,IAA6B,EAAE;QACtE,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,mBAAmB,EAAE,SAAS,MAAM,CAAC,EAAE;IAC3D;IAEA,MAAM,iBAAiB,QAAgB,EAAE,MAAc,EAAE,IAA6B,EAAE;QACtF,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,mBAAmB,EAAE,SAAS,OAAO,EAAE,QAAQ,EAAE;IACpE;IAEA,MAAM,iBAAiB,QAAgB,EAAE,MAAc,EAAE,QAAgB,EAAE;QACzE,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,mBAAmB,EAAE,SAAS,OAAO,EAAE,OAAO,OAAO,CAAC,EAAE;YAAE;QAAS;IACvF;IAEA,oBAAoB;IACpB,MAAM,aAAa,QAAgB,EAAE;QACnC,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,mBAAmB,EAAE,SAAS,UAAU,CAAC;IAC5D;IAEA,MAAM,eAAe,QAAgB,EAAE,IAA6B,EAAE;QACpE,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,mBAAmB,EAAE,SAAS,UAAU,CAAC,EAAE;IAC/D;IAEA,MAAM,iBAAiB,QAAgB,EAAE,WAAqB,EAAE;QAC9D,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,mBAAmB,EAAE,SAAS,kBAAkB,CAAC,EAAE;YAAE,cAAc;QAAY;IACnG;IAEA,MAAM,eAAe,QAAgB,EAAE,UAAkB,EAAE,QAAgB,EAAE;QAC3E,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,mBAAmB,EAAE,SAAS,WAAW,EAAE,WAAW,OAAO,CAAC,EAAE;YAAE;QAAS;IAC/F;IAEA,cAAc;IACd,MAAM,aAAa,MAA0C,EAAE;QAC7D,iEAAiE;QACjE,MAAM,cAAc;YAClB,MAAM,QAAQ,SAAS,aAAa,OAAO,IAAI,IAAI,IAAI,OAAO,IAAI,GAAG;YACrE,OAAO,QAAQ,UAAU,aAAa,OAAO,KAAK,IAAI,KAAK,OAAO,KAAK,IAAI,OAAO,OAAO,KAAK,GAAG;QACnG;QAEA,OAAO,IAAI,CAAC,GAAG,CAAC,wBAAwB;YAAE,QAAQ;QAAY;IAChE;IAEA,MAAM,eAAe,IAA6B,EAAE;QAClD,OAAO,IAAI,CAAC,IAAI,CAAC,wBAAwB;IAC3C;IAEA,MAAM,YAAY,EAAU,EAAE;QAC5B,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,qBAAqB,EAAE,IAAI;IAC9C;IAEA;;;;GAIC,GACD,MAAM,eACJ,EAAU,EACV,IASC,EACD;QACA,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,qBAAqB,EAAE,IAAI,EAAE;IAChD;IAEA,MAAM,eAAe,EAAU,EAAE,QAAgB,EAAE;QACjD,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,qBAAqB,EAAE,GAAG,OAAO,CAAC,EAAE;YAAE;QAAS;IACnE;IAEA,+EAA+E;IAC/E,uBAAuB;IACvB,+EAA+E;IAE/E;;;;GAIC,GACD,MAAM,eAAe,SAAiB,EAAE,OAAe,EAAE;QACvD,OAAO,IAAI,CAAC,OAAO,CAAC;YAClB,QAAQ;YACR,KAAK;YACL,QAAQ;gBAAE,YAAY;gBAAW,UAAU;YAAQ;QACrD;IACF;IAEA;;;;;GAKC,GACD,MAAM,mBAAmB,SAAiB,EAAE,OAAe,EAAE,QAAgB,OAAO,EAAE;QACpF,OAAO,IAAI,CAAC,OAAO,CAAC;YAClB,QAAQ;YACR,KAAK;YACL,QAAQ;gBAAE,YAAY;gBAAW,UAAU;gBAAS;YAAM;YAC1D,SAAS,OAAO,sBAAsB;QACxC;IACF;IAEA;;GAEC,GACD,MAAM,qBAAqB,SAAiB,EAAE,OAAe,EAAE;QAC7D,OAAO,IAAI,CAAC,OAAO,CAAC;YAClB,QAAQ;YACR,KAAK;YACL,QAAQ;gBAAE,YAAY;gBAAW,UAAU;YAAQ;YACnD,SAAS,OAAO,wBAAwB;QAC1C;IACF;IAEA;;GAEC,GACD,MAAM,8BAA8B,SAAiB,EAAE,OAAe,EAAE;QACtE,OAAO,IAAI,CAAC,OAAO,CAAC;YAClB,QAAQ;YACR,KAAK;YACL,QAAQ;gBAAE,YAAY;gBAAW,UAAU;YAAQ;YACnD,SAAS,OAAO,YAAY;QAC9B;IACF;IAEA;;GAEC,GACD,MAAM,oBAAoB,SAAiB,EAAE,OAAe,EAAE;QAC5D,OAAO,IAAI,CAAC,OAAO,CAAC;YAClB,QAAQ;YACR,KAAK;YACL,QAAQ;gBAAE,YAAY;gBAAW,UAAU;YAAQ;YACnD,SAAS,OAAO,wBAAwB;QAC1C;IACF;IAEA;;GAEC,GACD,MAAM,oBAAoB,SAAiB,EAAE,OAAe,EAAE;QAC5D,OAAO,IAAI,CAAC,OAAO,CAAC;YAClB,QAAQ;YACR,KAAK;YACL,QAAQ;gBAAE,YAAY;gBAAW,UAAU;YAAQ;YACnD,SAAS,OAAO,wBAAwB;QAC1C;IACF;IAEA;;GAEC,GACD,MAAM,iBAAiB,SAAiB,EAAE,OAAe,EAAE,SAAiB,EAAE,EAAE,YAAoB,EAAE,EAAE;QACtG,OAAO,IAAI,CAAC,OAAO,CAAC;YAClB,QAAQ;YACR,KAAK;YACL,QAAQ;gBAAE,YAAY;gBAAW,UAAU;gBAAS;gBAAQ,YAAY;YAAU;YAClF,SAAS,OAAO,uCAAuC;QACzD;IACF;IAEA;;GAEC,GACD,MAAM,qBAAqB,SAAiB,EAAE,OAAe,EAAE,QAAgB,OAAO,EAAE,gBAAwB,UAAU,EAAE;QAC1H,OAAO,IAAI,CAAC,OAAO,CAAC;YAClB,QAAQ;YACR,KAAK;YACL,QAAQ;gBAAE,YAAY;gBAAW,UAAU;gBAAS;gBAAO,gBAAgB;YAAc;YACzF,SAAS,OAAO,uBAAuB;QACzC;IACF;IAEA;;GAEC,GACD,MAAM,sBAAsB,SAAiB,EAAE,OAAe,EAAE;QAC9D,OAAO,IAAI,CAAC,OAAO,CAAC;YAClB,QAAQ;YACR,KAAK;YACL,QAAQ;gBAAE,YAAY;gBAAW,UAAU;YAAQ;YACnD,SAAS,OAAO,wBAAwB;QAC1C;IACF;IAEA;;GAEC,GACD,MAAM,mBAAmB,SAAiB,EAAE,OAAe,EAAE,SAAiB,EAAE,EAAE,YAAoB,EAAE,EAAE;QACxG,OAAO,IAAI,CAAC,OAAO,CAAC;YAClB,QAAQ;YACR,KAAK;YACL,QAAQ;gBAAE,YAAY;gBAAW,UAAU;gBAAS;gBAAQ,YAAY;YAAU;YAClF,SAAS,OAAO,uCAAuC;QACzD;IACF;IAEA;;GAEC,GACD,MAAM,qBAAqB;QACzB,OAAO,IAAI,CAAC,OAAO,CAAC;YAClB,QAAQ;YACR,KAAK;QACP;IACF;IAEA;;;GAGC,GACD,MAAM,iBAAiB,MAA2C,EAAE;QAClE,OAAO,IAAI,CAAC,OAAO,CAAC;YAClB,QAAQ;YACR,KAAK,CAAC,iCAAiC,EAAE,QAAQ;YACjD,SAAS,OAAO,yBAAyB;QAC3C;IACF;IAEA;;;GAGC,GACD,MAAM,iBAAiB,MAA4C,EAAE;QACnE,OAAO,IAAI,CAAC,OAAO,CAAC;YAClB,QAAQ;YACR,KAAK;YACL,QAAQ,SAAS;gBAAE;YAAO,IAAI,CAAC;QACjC;IACF;IAEA;;GAEC,GACD,MAAM,qBAAqB;QACzB,OAAO,IAAI,CAAC,OAAO,CAAC;YAClB,QAAQ;YACR,KAAK;QACP;IACF;IAEA;;;;;GAKC,GACD,MAAM,2BACJ,MAA2C,EAC3C,SAAoF,EACpF,UAAkB,EAAE,EACpB;QACA,OAAO,IAAI,CAAC,OAAO,CAAC;YAClB,QAAQ;YACR,KAAK;YACL,QAAQ;gBAAE;gBAAQ,YAAY;gBAAW;YAAQ;YACjD,SAAS,OAAO,YAAY;QAC9B;IACF;IAEA,oBAAoB;IACpB,MAAM,kBAAkB,QAAgB,EAAE,WAAmB,EAAE,SAAiB,EAAE;QAChF,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,mBAAmB,EAAE,SAAS,SAAS,CAAC,EAAE,CAAC,GAAG;YAC9D,QAAQ;gBAAE,cAAc;gBAAa,YAAY;YAAU;QAC7D;IACF;IAEA,MAAM,mBAAmB,QAAgB,EAAE,MAA0C,EAAE;QACrF,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,mBAAmB,EAAE,SAAS,SAAS,CAAC,EAAE;YAAE;QAAO;IACtE;IAEA,MAAM,mBAAmB,QAAgB,EAAE;QACzC,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,mBAAmB,EAAE,SAAS,iBAAiB,CAAC;IACnE;IAEA,+EAA+E;IAC/E,2BAA2B;IAC3B,+EAA+E;IAE/E,MAAM,oBAAoB,QAUzB,EAAE;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,oBAAoB;IACvC;IAEA,MAAM,kBAAkB,MAMvB,EAAE;QACD,OAAO,IAAI,CAAC,GAAG,CAAC,oBAAoB;YAAE;QAAO;IAC/C;IAEA,MAAM,iBAAiB,MAAc,EAAE;QACrC,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,iBAAiB,EAAE,QAAQ;IAC9C;IAEA,MAAM,oBAAoB,MAAc,EAAE,QAUzC,EAAE;QACD,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,iBAAiB,EAAE,QAAQ,EAAE;IAChD;IAEA,MAAM,oBAAoB,MAAc,EAAE,QAAgB,EAAE;QAC1D,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,iBAAiB,EAAE,OAAO,OAAO,CAAC,EAAE;YAAE;QAAS;IACnE;IAEA,MAAM,sBAAsB,MAAc,EAAE,QAAgB,EAAE;QAC5D,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,iBAAiB,EAAE,OAAO,SAAS,CAAC,EAAE;YAAE;QAAS;IACrE;IAEA,MAAM,wBAAwB,MAAc,EAAE,QAAgB,EAAE;QAC9D,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,iBAAiB,EAAE,OAAO,WAAW,CAAC,EAAE;YAAE;QAAS;IACvE;IAEA,MAAM,sBAAsB,MAAc,EAAE,MAA0C,EAAE;QACtF,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,iBAAiB,EAAE,OAAO,MAAM,CAAC,EAAE;YAAE;QAAO;IAC/D;IAEA,MAAM,iBAAiB,SAAkB,EAAE;QACzC,OAAO,IAAI,CAAC,GAAG,CAAC,mCAAmC;YAAE,QAAQ;gBAAE;YAAU;QAAE;IAC7E;IAEA,MAAM,sBAAsB;QAC1B,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB;IAEA,+EAA+E;IAC/E,YAAY;IACZ,+EAA+E;IAE/E,MAAM,WAAW,QAMhB,EAAE;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW;IAC9B;IAEA,MAAM,SAAS,MAOd,EAAE;QACD,8DAA8D;QAC9D,uEAAuE;QACvE,IAAI,YAAgC,QAAQ;QAC5C,IAAI,cAAc,aAAa,YAAY,MAAM;YAC/C,QAAQ,IAAI,CAAC,CAAC,gBAAgB,EAAE,UAAU,kDAAkD,CAAC;YAC7F,YAAY;QACd;QAEA,MAAM,aAAa,SAAS;YAC1B,GAAG,MAAM;YACT,OAAO;QACT,IAAI;QAEJ,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU;YAAE,QAAQ;QAAW;IACjD;IAEA,MAAM,QAAQ,MAAc,EAAE;QAC5B,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,QAAQ;IACpC;IAEA,MAAM,SAAS,MAAc,EAAE,QAK9B,EAAE;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,OAAO,KAAK,CAAC,EAAE;IAC5C;IAEA,MAAM,WAAW,MAAc,EAAE;QAC/B,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,OAAO,OAAO,CAAC,EAAE,CAAC;IAC/C;IAEA,MAAM,gBAAgB,MAAmD,EAAE;QACzE,OAAO,IAAI,CAAC,GAAG,CAAC,2BAA2B;YAAE;QAAO;IACtD;IAEA,MAAM,WAAW,MAAc,EAAE;QAC/B,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,QAAQ;IAC5C;IAEA,MAAM,kBAAkB,MAKvB,EAAE;QACD,OAAO,IAAI,CAAC,GAAG,CAAC,+BAA+B;YAAE;QAAO;IAC1D;IAEA;;;;GAIC,GACD,MAAM,cAAc,OAAyD,EAAE;QAC7E,MAAM,cAAc,QAAQ,GAAG,CAAC,4BAA4B,IAAI;QAChE,OAAO,IAAI,CAAC,IAAI,CAAC,aAAa;IAChC;IAEA,yBAAyB;IACzB,MAAM,QAAqB,MAA0B,EAA2B;QAC9E,MAAM,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAI;QAC9C,OAAO,IAAI,CAAC,iBAAiB,CAAI,SAAS,IAAI;IAChD;AACF;AAEO,MAAM,YAAY,IAAI;uCACd","debugId":null}},
frontend/.next/dev/server/chunks/ssr/[root-of-the-server]__6fb4be3d._.js:    async getFinancialSummary(startDate, endDate) {
frontend/.next/dev/server/chunks/ssr/[root-of-the-server]__6fb4be3d._.js.map:    {"offset": {"line": 578, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASHROCK/Desktop/projectai/frontend/lib/api.ts"],"sourcesContent":["// lib/api.ts\r\n'use client';\r\n\r\nimport axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\r\n\r\nconst DEFAULT_BASE_URL = 'http://localhost:8000/api/v1';\r\nconst API_BASE_URL = (process.env.NEXT_PUBLIC_API_URL || DEFAULT_BASE_URL).replace(/\\/$/, '');\r\n\r\ninterface ApiResponse<T = unknown> {\r\n  success?: boolean;\r\n  data: T;\r\n  message?: string;\r\n  error?: string;\r\n}\r\n\r\ntype Filters = Record<string, string | number | boolean | undefined>;\r\ntype RevenueRecord = {\r\n  id?: number | string;\r\n  amount?: number;\r\n  date?: string;\r\n  created_at?: string;\r\n  [key: string]: unknown;\r\n};\r\ntype ExpenseRecord = RevenueRecord;\r\ntype TransactionRecord = (RevenueRecord | ExpenseRecord) & {\r\n  transaction_type: 'revenue' | 'expense';\r\n};\r\n\r\ninterface AuthTokens {\r\n  access_token: string;\r\n  token_type: string;\r\n}\r\n\r\ninterface User {\r\n  id: number;\r\n  email: string;\r\n  username?: string;\r\n  full_name: string;\r\n  role: string;\r\n  department?: string;\r\n  phone?: string | null;\r\n  is_active: boolean;\r\n  created_at?: string;\r\n  manager_id?: number;\r\n}\r\n\r\ntype LoginResponse = AuthTokens & { user: User };\r\nexport type ApiUser = User;\r\nexport interface ApiRole {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  permissions?: string[];\r\n  user_count?: number;\r\n  permission_count?: number;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nexport interface AuditLog {\r\n  id: number;\r\n  user_id: number;\r\n  user_full_name?: string;\r\n  user_email?: string;\r\n  user?: { // Backend returns nested user object based on pre-fetched data\r\n    id: number;\r\n    username?: string;\r\n    full_name?: string;\r\n    email?: string;\r\n  };\r\n  action: string;\r\n  resource_type: string;\r\n  resource_id?: number;\r\n  old_values?: string;\r\n  new_values?: string;\r\n  ip_address?: string;\r\n  user_agent?: string;\r\n  created_at: string;\r\n}\r\n\r\nclass ApiClient {\r\n  private client: AxiosInstance;\r\n\r\n  constructor() {\r\n    this.client = axios.create({\r\n      baseURL: API_BASE_URL,\r\n      timeout: 300000, // 5 minutes timeout for ML training requests (can take longer)\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    this.setupInterceptors();\r\n  }\r\n\r\n  private setupInterceptors() {\r\n    this.client.interceptors.request.use(\r\n      (config) => {\r\n        if (typeof window !== 'undefined') {\r\n          const token = localStorage.getItem('access_token');\r\n          if (token) {\r\n            config.headers = config.headers ?? {};\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n          }\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(error),\r\n    );\r\n\r\n    this.client.interceptors.response.use(\r\n      (response) => response,\r\n      async (error) => {\r\n        const originalRequest = error.config;\r\n        const requestUrl = originalRequest?.url || '';\r\n\r\n        // Handle 401 Unauthorized - but DON'T redirect on login endpoint\r\n        // The login page handles its own error states and redirects\r\n        if (error.response?.status === 401 && !originalRequest?._retry) {\r\n          originalRequest._retry = true;\r\n          if (typeof window !== 'undefined') {\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n\r\n            // Only redirect if NOT on the login endpoint\r\n            // Login endpoint errors should be handled by the login page component\r\n            const isLoginEndpoint = requestUrl.includes('/auth/login-json') ||\r\n              requestUrl.includes('/auth/login');\r\n\r\n            if (!isLoginEndpoint && !window.location.pathname.includes('/auth/login')) {\r\n              // Redirect to home page for other 401 errors (not login-related)\r\n              window.location.href = '/';\r\n            }\r\n            // For login endpoint 401s, let the error propagate to the component\r\n          }\r\n        }\r\n\r\n        // Handle 403 Forbidden - user doesn't have permission\r\n        if (error.response?.status === 403) {\r\n          const url = error.config?.url || '';\r\n          const errorDetail = error.response?.data?.detail || 'Insufficient permissions';\r\n\r\n          // Suppress warnings for expected 403s on role-restricted endpoints\r\n          // These are handled gracefully by the calling code\r\n          const suppressWarnings = url.includes('/inventory/summary') ||\r\n            url.includes('/sales/summary') ||\r\n            url.includes('/sales/summary/overview') ||\r\n            url.includes('/sales/journal-entries') ||\r\n            url.includes('/backup');\r\n\r\n          // For user endpoints, provide more helpful error messages\r\n          if (url.includes('/users/') && !url.includes('/users/me')) {\r\n            // Don't suppress warnings for user endpoints - these are important\r\n            if (typeof window !== 'undefined') {\r\n              console.warn('Access forbidden to user resource:', errorDetail);\r\n            }\r\n            // Enhance error with more context\r\n            error.response.data = {\r\n              ...error.response.data,\r\n              detail: errorDetail,\r\n              message: `You don't have permission to access this user. ${errorDetail}`,\r\n            };\r\n          } else if (!suppressWarnings && typeof window !== 'undefined') {\r\n            console.warn('Access forbidden:', errorDetail);\r\n          }\r\n        }\r\n\r\n        // Handle 404 Not Found - suppress console warnings for non-critical endpoints\r\n        if (error.response?.status === 404) {\r\n          const url = error.config?.url || '';\r\n          // Only log 404s in development mode to reduce console noise\r\n          if (process.env.NODE_ENV === 'development' && typeof window !== 'undefined') {\r\n            console.warn('Resource not found:', url);\r\n          }\r\n        }\r\n\r\n        // Handle network errors - suppress repetitive errors for polling endpoints\r\n        if (!error.response) {\r\n          const url = error.config?.url || '';\r\n          // Suppress errors for polling endpoints to reduce console noise\r\n          // These are expected when backend is down\r\n          const isPollingEndpoint = url.includes('/notifications/unread/count') ||\r\n            url.includes('/dashboard/recent-activity') ||\r\n            url.includes('/health');\r\n\r\n          if (!isPollingEndpoint) {\r\n            // Only log non-polling endpoint errors\r\n            const errorMessage = error.message || 'Network error: Unable to connect to server';\r\n\r\n            if (process.env.NODE_ENV === 'development') {\r\n              console.error('Network error:', errorMessage);\r\n\r\n              if (error.code === 'ECONNREFUSED' || error.message?.includes('Network Error')) {\r\n                console.error('Backend server may not be running. Please ensure the backend is running on http://localhost:8000');\r\n              } else if (error.code === 'ERR_NETWORK') {\r\n                console.error('Network request failed. Check your internet connection and backend server status.');\r\n              }\r\n            }\r\n          }\r\n          // Polling endpoint errors are silently handled - they're expected when backend is down\r\n        }\r\n\r\n        return Promise.reject(error);\r\n      },\r\n    );\r\n  }\r\n\r\n  private normalizeResponse<T>(payload: unknown): ApiResponse<T> {\r\n    // Handle different response formats from the backend\r\n    if (!payload) {\r\n      return { data: null as unknown as T };\r\n    }\r\n\r\n    // If payload is already in ApiResponse format\r\n    if (typeof payload === 'object' && payload !== null) {\r\n      if ('data' in payload) {\r\n        return payload as ApiResponse<T>;\r\n      }\r\n      // If payload is the data itself (direct response)\r\n      return { data: payload as T };\r\n    }\r\n\r\n    // Fallback: wrap primitive values\r\n    return { data: payload as T };\r\n  }\r\n\r\n  /**\r\n   * Extract error message from various error formats\r\n   */\r\n  private extractErrorMessage(error: unknown): string {\r\n    if (error && typeof error === 'object') {\r\n      // Axios error format\r\n      if ('response' in error) {\r\n        const axiosError = error as { response?: { data?: { detail?: string; message?: string; error?: string } } };\r\n        return axiosError.response?.data?.detail ||\r\n          axiosError.response?.data?.message ||\r\n          axiosError.response?.data?.error ||\r\n          'An error occurred';\r\n      }\r\n      // Standard Error object\r\n      if ('message' in error) {\r\n        return (error as { message: string }).message;\r\n      }\r\n    }\r\n    // Fallback\r\n    return error instanceof Error ? error.message : 'An unknown error occurred';\r\n  }\r\n\r\n  private async get<T>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.get<T>(url, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async post<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.post<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async put<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.put<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async delete<T>(url: string, data?: unknown, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.delete<T>(url, { ...config, data });\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  // Auth endpoints\r\n  async login(identifier: string, password: string): Promise<ApiResponse<LoginResponse>> {\r\n    const response = await this.client.post<LoginResponse>('/auth/login-json', {\r\n      username: identifier,\r\n      password,\r\n    });\r\n    const normalized = this.normalizeResponse<LoginResponse>(response.data);\r\n\r\n    // Only set token if we have a valid access token and user data\r\n    if (normalized.data?.access_token && normalized.data?.user) {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.setItem('access_token', normalized.data.access_token);\r\n      }\r\n    } else {\r\n      // Clear any existing tokens if response is invalid\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n        localStorage.removeItem('refresh_token');\r\n      }\r\n      throw new Error('Invalid login response: missing access token or user data');\r\n    }\r\n\r\n    return normalized;\r\n  }\r\n\r\n  async register(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post<User>('/auth/register', userData);\r\n  }\r\n\r\n  async logout(): Promise<void> {\r\n    try {\r\n      await this.post('/auth/logout');\r\n    } finally {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n      }\r\n    }\r\n  }\r\n\r\n  async refreshToken(): Promise<ApiResponse<{ access_token: string }>> {\r\n    if (typeof window === 'undefined') throw new Error('Token refresh is client only');\r\n    const token = localStorage.getItem('access_token');\r\n    if (!token) throw new Error('No token to refresh');\r\n    const response = await this.client.post('/auth/refresh', { token });\r\n    const normalized = this.normalizeResponse<{ access_token: string }>(response.data);\r\n    localStorage.setItem('access_token', normalized.data.access_token);\r\n    return normalized;\r\n  }\r\n\r\n  async generateOTP(): Promise<ApiResponse<{ otp_code: string; message: string }>> {\r\n    return this.post('/auth/generate-otp');\r\n  }\r\n\r\n  async verifyOTP(otp_code: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/verify-otp', { otp_code });\r\n  }\r\n\r\n  async requestOTP(email: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/request-otp', { email });\r\n  }\r\n\r\n  async resetPassword(email: string, code: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/reset-password', { email, code, newPassword });\r\n  }\r\n\r\n  // User endpoints\r\n  async getCurrentUser(): Promise<ApiResponse<User>> {\r\n    return this.get('/users/me');\r\n  }\r\n\r\n  async updateCurrentUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put('/users/me', userData);\r\n  }\r\n\r\n  async changePassword(currentPassword: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/users/me/change-password', { current_password: currentPassword, new_password: newPassword });\r\n  }\r\n\r\n  async adminResetPassword(usernameOrEmail: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/users/admin-reset-password', { username_or_email: usernameOrEmail, new_password: newPassword });\r\n  }\r\n\r\n  async getUsers(): Promise<ApiResponse<User[]>> {\r\n    try {\r\n      const response = await this.get<User[]>('/users/');\r\n      // Ensure we always return an array\r\n      if (Array.isArray(response.data)) {\r\n        return response;\r\n      }\r\n      return { ...response, data: [] };\r\n    } catch (error: unknown) {\r\n      const axiosError = error as { response?: { status?: number } };\r\n      if (axiosError.response?.status === 403) {\r\n        // Return empty array instead of throwing for 403 on list endpoint\r\n        // This allows the UI to handle permission errors gracefully\r\n        return { data: [] };\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getUser(userId: number): Promise<ApiResponse<User>> {\r\n    try {\r\n      return await this.get(`/users/${userId}`);\r\n    } catch (error: unknown) {\r\n      // Provide better error context for user fetch failures\r\n      const axiosError = error as { response?: { status?: number; data?: { detail?: string } } };\r\n      if (axiosError.response?.status === 403) {\r\n        const detail = axiosError.response.data?.detail || 'Insufficient permissions';\r\n        const enhancedError = new Error(`Cannot access user ${userId}: ${detail}`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      if (axiosError.response?.status === 404) {\r\n        const enhancedError = new Error(`User ${userId} not found`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getSubordinates(userId: number): Promise<ApiResponse<User[]>> {\r\n    return this.get(`/users/${userId}/subordinates`);\r\n  }\r\n\r\n  async createUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    try {\r\n      return await this.post('/users', userData);\r\n    } catch (error: unknown) {\r\n      // Provide better error context for user creation failures\r\n      const axiosError = error as { response?: { status?: number; data?: { detail?: string } } };\r\n      if (axiosError.response?.status === 403) {\r\n        const detail = axiosError.response.data?.detail || 'Insufficient permissions';\r\n        const enhancedError = new Error(`Cannot create user: ${detail}. You may not have permission to create users with this role.`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      if (axiosError.response?.status === 400) {\r\n        const detail = axiosError.response.data?.detail || 'Invalid user data';\r\n        const enhancedError = new Error(`Failed to create user: ${detail}`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a subordinate (accountant or employee)\r\n   * Used by finance managers to create accountants/employees\r\n   */\r\n  async createSubordinate(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post('/users/subordinates', userData);\r\n  }\r\n\r\n  async updateUser(userId: number, userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put(`/users/${userId}`, userData);\r\n  }\r\n\r\n  async deleteUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/delete`, { password });\r\n  }\r\n\r\n  async activateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/deactivate`, { password });\r\n  }\r\n\r\n  // Permission endpoints\r\n  async getUserPermissions(userId: number): Promise<ApiResponse<{ permissions: Record<string, unknown>[] }>> {\r\n    return this.get(`/users/${userId}/permissions`);\r\n  }\r\n\r\n  async updateUserPermissions(userId: number, permissions: Record<string, unknown>[]): Promise<ApiResponse<{ message: string; permissions: Record<string, unknown>[] }>> {\r\n    return this.put(`/users/${userId}/permissions`, { permissions });\r\n  }\r\n\r\n  // Financial endpoints\r\n  async getRevenues(filters?: Filters): Promise<ApiResponse<RevenueRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/revenue', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getRevenue(revenueId: number): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.get(`/revenue/${revenueId}`);\r\n  }\r\n\r\n  async createRevenue(revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.post('/revenue', revenueData);\r\n  }\r\n\r\n  async updateRevenue(revenueId: number, revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.put(`/revenue/${revenueId}`, revenueData);\r\n  }\r\n\r\n  async deleteRevenue(revenueId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/revenue/${revenueId}/delete`, { password });\r\n  }\r\n\r\n  async getExpenses(filters?: Filters): Promise<ApiResponse<ExpenseRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/expenses', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getExpense(expenseId: number): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.get(`/expenses/${expenseId}`);\r\n  }\r\n\r\n  async createExpense(expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.post('/expenses', expenseData);\r\n  }\r\n\r\n  async updateExpense(expenseId: number, expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.put(`/expenses/${expenseId}`, expenseData);\r\n  }\r\n\r\n  async deleteExpense(expenseId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/expenses/${expenseId}/delete`, { password });\r\n  }\r\n\r\n  // Transactions (combined revenues and expenses)\r\n  async getTransactions(): Promise<ApiResponse<TransactionRecord[]>> {\r\n    try {\r\n      const [revenuesResponse, expensesResponse] = await Promise.all([\r\n        this.getRevenues(),\r\n        this.getExpenses(),\r\n      ]);\r\n\r\n      const revenues = (revenuesResponse.data || []).map((r: RevenueRecord): TransactionRecord => ({\r\n        ...r,\r\n        transaction_type: 'revenue',\r\n        id: `revenue-${r.id}`,\r\n      }));\r\n\r\n      const expenses = (expensesResponse.data || []).map((e: ExpenseRecord): TransactionRecord => ({\r\n        ...e,\r\n        transaction_type: 'expense',\r\n        id: `expense-${e.id}`,\r\n        amount: -Math.abs(Number(e.amount ?? 0)), // Make expenses negative\r\n      }));\r\n\r\n      const transactions = [...revenues, ...expenses].sort((a, b) => {\r\n        const dateA = new Date(a.date || a.created_at || 0).getTime();\r\n        const dateB = new Date(b.date || b.created_at || 0).getTime();\r\n        return dateB - dateA; // Most recent first\r\n      });\r\n\r\n      return { data: transactions };\r\n    } catch (error) {\r\n      // Error handled by caller\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Dashboard\r\n  async getDashboardOverview(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/overview');\r\n  }\r\n\r\n  async getDashboardKPIs(period: 'week' | 'month' | 'quarter' | 'year' = 'month'): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/kpis', { params: { period } });\r\n  }\r\n\r\n  async getDashboardRecentActivity(limit = 10): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/dashboard/recent-activity', { params: { limit } });\r\n  }\r\n\r\n  // Analytics\r\n  async getAdvancedKPIs(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/kpis', { params });\r\n  }\r\n\r\n  async getTrendAnalysis(params?: {\r\n    metric?: 'revenue' | 'expenses' | 'profit';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/trends', { params });\r\n  }\r\n\r\n  async getTimeSeriesData(params?: {\r\n    interval?: 'day' | 'week' | 'month' | 'quarter' | 'year';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/time-series', { params });\r\n  }\r\n\r\n  async getCategoryBreakdown(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/category-breakdown', { params });\r\n  }\r\n\r\n  async getAnalyticsOverview(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get('/analytics/overview', { params });\r\n  }\r\n\r\n  // Reports\r\n  async getReports(filters?: Filters): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    return this.get('/reports', { params: filters });\r\n  }\r\n\r\n  async getReport(reportId: number): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get(`/reports/${reportId}`);\r\n  }\r\n\r\n  async createReport(reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.post('/reports', reportData);\r\n  }\r\n\r\n  async updateReport(reportId: number, reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.put(`/reports/${reportId}`, reportData);\r\n  }\r\n\r\n  async deleteReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/reports/${reportId}`);\r\n  }\r\n\r\n  async downloadReport(reportId: number): Promise<ApiResponse<{ download_url: string; file_size: number; filename: string }>> {\r\n    return this.post(`/reports/${reportId}/download`);\r\n  }\r\n\r\n  async regenerateReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/reports/${reportId}/regenerate`);\r\n  }\r\n\r\n  async getAvailableReportTypes(): Promise<ApiResponse<{ report_types: Array<{ type: string; name: string; description: string }> }>> {\r\n    return this.get('/reports/types/available');\r\n  }\r\n\r\n  // Financial Reports - Direct data fetching\r\n  async getIncomeStatement(startDate?: string, endDate?: string): Promise<ApiResponse<Record<string, unknown>>> {\r\n    const params: Filters = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n\r\n    // Fetch revenue and expense data to calculate income statement\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n\r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n\r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) =>\r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) =>\r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n\r\n    // Calculate totals - ONLY from approved entries\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n\r\n    // Group by category - handle both enum and string categories - ONLY from approved entries\r\n    const revenueByCategory: Record<string, number> = {};\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const catValue =\r\n        r.category && typeof r.category === 'object' && 'value' in r.category\r\n          ? (r.category as { value?: unknown }).value\r\n          : r.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      revenueByCategory[catKey] = (revenueByCategory[catKey] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const catValue =\r\n        e.category && typeof e.category === 'object' && 'value' in e.category\r\n          ? (e.category as { value?: unknown }).value\r\n          : e.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      expenseByCategory[catKey] = (expenseByCategory[catKey] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        revenue: {\r\n          total: totalRevenue,\r\n          by_category: revenueByCategory,\r\n        },\r\n        expenses: {\r\n          total: totalExpenses,\r\n          by_category: expenseByCategory,\r\n        },\r\n        profit,\r\n        profit_margin: totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0,\r\n      },\r\n    };\r\n  }\r\n\r\n  async getCashFlow(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    summary: { total_inflow: number; total_outflow: number; net_cash_flow: number };\r\n    daily_cash_flow: Record<string, { inflow: number; outflow: number; net: number }>;\r\n  }>> {\r\n    const params: Record<string, unknown> = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n\r\n    // Fetch revenue and expense data to calculate cash flow\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([this.getRevenues(), this.getExpenses()]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n\r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n\r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures cash flow is only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) =>\r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) =>\r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n\r\n    // Calculate daily cash flow - ONLY from approved entries\r\n    const cashFlowByDay: Record<string, { inflow: number; outflow: number; net: number }> = {};\r\n\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = r.date || r.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(r.amount || 0);\r\n      cashFlowByDay[day].inflow += amount;\r\n      cashFlowByDay[day].net += amount;\r\n    });\r\n\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = e.date || e.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(e.amount || 0);\r\n      cashFlowByDay[day].outflow += amount;\r\n      cashFlowByDay[day].net -= amount;\r\n    });\r\n\r\n    const totalInflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.inflow, 0);\r\n    const totalOutflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.outflow, 0);\r\n    const netCashFlow = totalInflow - totalOutflow;\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        summary: {\r\n          total_inflow: totalInflow,\r\n          total_outflow: totalOutflow,\r\n          net_cash_flow: netCashFlow,\r\n        },\r\n        daily_cash_flow: cashFlowByDay,\r\n      },\r\n    };\r\n  }\r\n\r\n  // Financial Summary Report\r\n  async getFinancialSummary(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    financials: {\r\n      total_revenue: number;\r\n      total_expenses: number;\r\n      profit: number;\r\n      profit_margin: number;\r\n    };\r\n    revenue_by_category: Record<string, number>;\r\n    expenses_by_category: Record<string, number>;\r\n    transaction_counts: { revenue: number; expenses: number; total: number };\r\n    generated_at: string;\r\n  }>> {\r\n    // Always fetch all data first, then calculate summary\r\n    const [allRevenuesRes, allExpensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = allRevenuesRes.data || [];\r\n    let expenses = allExpensesRes.data || [];\r\n\r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n\r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue entries for calculations\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) =>\r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n\r\n    // Filter to only include APPROVED expense entries for calculations\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) =>\r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n\r\n    // Calculate totals from filtered data - ONLY approved revenue and expenses\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n    const profitMargin = totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0;\r\n\r\n    // Process category summaries - ONLY from approved revenue\r\n    const revenueByCategory: Record<string, number> = {};\r\n    const normalizeCategory = (raw: unknown): string => {\r\n      if (typeof raw === 'string') return raw || 'other';\r\n      if (raw && typeof raw === 'object' && 'value' in raw) {\r\n        const value = (raw as { value?: unknown }).value;\r\n        return typeof value === 'string' ? value : String(value ?? 'other');\r\n      }\r\n      return String(raw ?? 'other');\r\n    };\r\n\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const cat = normalizeCategory(r.category);\r\n      revenueByCategory[cat] = (revenueByCategory[cat] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    // Process category summaries - ONLY from approved expenses\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const cat = normalizeCategory(e.category);\r\n      expenseByCategory[cat] = (expenseByCategory[cat] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    // Calculate actual transaction counts - ONLY approved items\r\n    const revenueCount = approvedRevenues.length;\r\n    const expenseCount = approvedExpenses.length;\r\n\r\n    const result = {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        financials: {\r\n          total_revenue: totalRevenue,\r\n          total_expenses: totalExpenses,\r\n          profit,\r\n          profit_margin: profitMargin,\r\n        },\r\n        revenue_by_category: revenueByCategory,\r\n        expenses_by_category: expenseByCategory,\r\n        transaction_counts: {\r\n          revenue: revenueCount,\r\n          expenses: expenseCount,\r\n          total: revenueCount + expenseCount,\r\n        },\r\n        generated_at: new Date().toISOString(),\r\n      },\r\n    };\r\n\r\n    return result;\r\n  }\r\n\r\n  // Approvals\r\n  async getApprovals(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/approvals');\r\n  }\r\n\r\n  async getApproval(approvalId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/approvals/${approvalId}`);\r\n  }\r\n\r\n  async getApprovalComments(approvalId: number): Promise<ApiResponse<unknown[]>> {\r\n    return this.get(`/approvals/${approvalId}/comments`);\r\n  }\r\n\r\n  async createApprovalComment(approvalId: number, comment: string): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${approvalId}/comments`, { comment });\r\n  }\r\n\r\n  async approveItem(itemId: number, itemType: 'revenue' | 'expense'): Promise<ApiResponse<unknown>> {\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/approve`);\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/approve`);\r\n    }\r\n  }\r\n\r\n  async rejectItem(\r\n    itemId: number,\r\n    itemType: 'revenue' | 'expense',\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // Reject revenue or expense entry through their respective endpoints\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    }\r\n  }\r\n\r\n  async approveWorkflow(workflowId: number): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/approve`);\r\n  }\r\n\r\n  async rejectWorkflow(\r\n    workflowId: number,\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/reject`, { rejection_reason: reason, password });\r\n  }\r\n\r\n  // Notifications\r\n  async getNotifications(unreadOnly?: boolean): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/notifications', { params: { unread_only: unreadOnly } });\r\n  }\r\n\r\n  async getNotification(notificationId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async markNotificationAsRead(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/notifications/${notificationId}/mark-read`);\r\n  }\r\n\r\n  async markAllNotificationsAsRead(): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/notifications/mark-all-read');\r\n  }\r\n\r\n  async deleteNotification(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async getUnreadCount(): Promise<ApiResponse<{ unread_count: number }>> {\r\n    return this.get('/notifications/unread/count');\r\n  }\r\n\r\n  async getNotificationPreferences(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/notifications/preferences');\r\n  }\r\n\r\n  async updateNotificationPreferences(\r\n    preferences: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put('/notifications/preferences', preferences);\r\n  }\r\n\r\n  // Admin endpoints\r\n\r\n  async getAdminSystemStats(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/system/stats');\r\n  }\r\n\r\n  async getSystemSettings(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/settings');\r\n  }\r\n\r\n  async getSystemHealth(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/health');\r\n  }\r\n\r\n  async getHierarchy(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/hierarchy');\r\n  }\r\n\r\n  async getRoles(): Promise<ApiResponse<ApiRole[]>> {\r\n    return this.get('/admin/roles');\r\n  }\r\n\r\n  async getPermissions(): Promise<ApiResponse<string[]>> {\r\n    return this.get('/admin/permissions');\r\n  }\r\n\r\n  async createRole(roleData: { name: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.post('/admin/roles', payload);\r\n  }\r\n\r\n  async updateRole(roleId: number, roleData: { name?: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.put(`/admin/roles/${roleId}`, payload);\r\n  }\r\n\r\n  async deleteRole(roleId: number | string, password: string): Promise<ApiResponse<null>> {\r\n    return this.post(`/admin/roles/${roleId}/delete`, { password });\r\n  }\r\n\r\n  // Backup endpoints\r\n  async createBackup(includeFiles: boolean = false): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/create', null, {\r\n      params: { include_files: includeFiles }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async listBackups(): Promise<ApiResponse<{ backups: unknown[] }>> {\r\n    return this.get('/admin/backup/list');\r\n  }\r\n\r\n  async restoreBackup(backupName: string): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/restore', null, {\r\n      params: { backup_name: backupName }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async deleteBackup(backupName: string, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/admin/backup/${encodeURIComponent(backupName)}/delete`, { password });\r\n  }\r\n\r\n  async getVerificationHistory(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/users/me/verification-history');\r\n  }\r\n\r\n  // 2FA endpoints\r\n  async get2FAStatus(): Promise<ApiResponse<{ enabled: boolean }>> {\r\n    return this.get('/users/me/2fa/status');\r\n  }\r\n\r\n  async setup2FA(): Promise<ApiResponse<{ secret: string; qr_code_url: string; manual_entry_key: string }>> {\r\n    return this.post('/users/me/2fa/setup');\r\n  }\r\n\r\n  async verify2FA(code: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/verify', { code });\r\n  }\r\n\r\n  async disable2FA(currentPassword: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/disable', { current_password: currentPassword });\r\n  }\r\n\r\n  // IP Restriction endpoints\r\n  async getIPRestrictionStatus(): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.get('/users/me/ip-restriction');\r\n  }\r\n\r\n  async updateIPRestriction(enabled: boolean): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.put('/users/me/ip-restriction', { enabled });\r\n  }\r\n\r\n  async addAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.post('/users/me/ip-restriction/allowed-ips', { ip_address: ipAddress });\r\n  }\r\n\r\n  async removeAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.delete(`/users/me/ip-restriction/allowed-ips/${encodeURIComponent(ipAddress)}`);\r\n  }\r\n\r\n  async triggerBackup(includeFiles = false): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/admin/backup/create', undefined, { params: { include_files: includeFiles } });\r\n  }\r\n\r\n  // Department endpoints\r\n  async getDepartments(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/departments');\r\n  }\r\n\r\n  async getDepartment(departmentId: string | number): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.get(`/departments/${encodedId}`);\r\n  }\r\n\r\n  async createDepartment(departmentData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/departments', departmentData);\r\n  }\r\n\r\n  async updateDepartment(\r\n    departmentId: string | number,\r\n    departmentData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.put(`/departments/${encodedId}`, departmentData);\r\n  }\r\n\r\n  async deleteDepartment(\r\n    departmentId: string | number,\r\n    password: string,\r\n  ): Promise<ApiResponse<{ message: string }>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.post(`/departments/${encodedId}/delete`, { password });\r\n  }\r\n\r\n  // Project endpoints\r\n  async getProjects(filters?: Record<string, unknown>): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/projects', { params: filters });\r\n  }\r\n\r\n  async getProject(projectId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/projects/${projectId}`);\r\n  }\r\n\r\n  async createProject(projectData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/projects', projectData);\r\n  }\r\n\r\n  async updateProject(\r\n    projectId: number,\r\n    projectData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put(`/projects/${projectId}`, projectData);\r\n  }\r\n\r\n  async deleteProject(projectId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/projects/${projectId}/delete`, { password });\r\n  }\r\n\r\n  // Audit Logs endpoints (Admin only)\r\n  async getAuditLogs(filters?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    user_id?: number;\r\n    action?: string;\r\n    resource_type?: string;\r\n    start_date?: string;\r\n    end_date?: string;\r\n    search?: string; // Search by username/email/full_name\r\n  }): Promise<ApiResponse<AuditLog[]>> {\r\n    const params: Record<string, unknown> = {};\r\n    if (filters) {\r\n      if (filters.skip !== undefined) params.skip = filters.skip;\r\n      if (filters.limit !== undefined) params.limit = filters.limit;\r\n      if (filters.user_id !== undefined) params.user_id = filters.user_id;\r\n      if (filters.action) params.action = filters.action;\r\n      if (filters.resource_type) params.resource_type = filters.resource_type;\r\n      if (filters.search) params.search = filters.search;\r\n      if (filters.start_date) {\r\n        // Convert to ISO format for backend\r\n        const start = new Date(filters.start_date + 'T00:00:00');\r\n        params.start_date = start.toISOString();\r\n      }\r\n      if (filters.end_date) {\r\n        // Convert to ISO format for backend\r\n        const end = new Date(filters.end_date + 'T23:59:59');\r\n        params.end_date = end.toISOString();\r\n      }\r\n    }\r\n    return this.get('/admin/audit/logs', { params });\r\n  }\r\n\r\n  // ============================================================================\r\n  // BUDGETING & FORECASTING (FP&A)\r\n  // ============================================================================\r\n\r\n  // Budget Management\r\n  async getBudgets(params?: { skip?: number; limit?: number; status?: string; department?: string }) {\r\n    return this.get('/budgeting/budgets', { params });\r\n  }\r\n\r\n  async getBudget(id: number) {\r\n    return this.get(`/budgeting/budgets/${id}`);\r\n  }\r\n\r\n  async createBudget(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/budgets', data);\r\n  }\r\n\r\n  async createBudgetFromTemplate(templateName: string, data: Record<string, unknown>) {\r\n    const params: Record<string, unknown> = {\r\n      template_name: templateName\r\n    };\r\n    if (data.name) params.name = data.name;\r\n    if (data.start_date) params.start_date = data.start_date;\r\n    if (data.end_date) params.end_date = data.end_date;\r\n    if (data.department) params.department = data.department;\r\n    if (data.project) params.project = data.project;\r\n\r\n    return this.post(`/budgeting/budgets/from-template`, {}, { params });\r\n  }\r\n\r\n  async updateBudget(id: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${id}`, data);\r\n  }\r\n\r\n  async deleteBudget(id: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${id}/delete`, { password });\r\n  }\r\n\r\n  async validateBudget(id: number) {\r\n    return this.post(`/budgeting/budgets/${id}/validate`);\r\n  }\r\n\r\n  // Budget Items\r\n  async getBudgetItems(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/items`);\r\n  }\r\n\r\n  async createBudgetItem(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items`, data);\r\n  }\r\n\r\n  async updateBudgetItem(budgetId: number, itemId: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${budgetId}/items/${itemId}`, data);\r\n  }\r\n\r\n  async deleteBudgetItem(budgetId: number, itemId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  // Scenario Planning\r\n  async getScenarios(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/scenarios`);\r\n  }\r\n\r\n  async createScenario(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios`, data);\r\n  }\r\n\r\n  async compareScenarios(budgetId: number, scenarioIds: number[]) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/compare`, { scenario_ids: scenarioIds });\r\n  }\r\n\r\n  async deleteScenario(budgetId: number, scenarioId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/${scenarioId}/delete`, { password });\r\n  }\r\n\r\n  // Forecasting\r\n  async getForecasts(params?: { skip?: number; limit?: number }) {\r\n    // Always provide explicit defaults to match backend expectations\r\n    const queryParams = {\r\n      skip: params?.skip !== undefined && params.skip >= 0 ? params.skip : 0,\r\n      limit: params?.limit !== undefined && params.limit >= 1 && params.limit <= 1000 ? params.limit : 100\r\n    };\r\n\r\n    return this.get('/budgeting/forecasts', { params: queryParams });\r\n  }\r\n\r\n  async createForecast(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/forecasts', data);\r\n  }\r\n\r\n  async getForecast(id: number) {\r\n    return this.get(`/budgeting/forecasts/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Update a forecast\r\n   * @param id - Forecast ID\r\n   * @param data - Forecast update data (name, description, and optionally forecast_data)\r\n   */\r\n  async updateForecast(\r\n    id: number,\r\n    data: {\r\n      name?: string;\r\n      description?: string;\r\n      forecast_data?: Array<{\r\n        period?: string;\r\n        date?: string;\r\n        forecasted_value?: number;\r\n        method?: string;\r\n      }>;\r\n    },\r\n  ) {\r\n    return this.put(`/budgeting/forecasts/${id}`, data);\r\n  }\r\n\r\n  async deleteForecast(id: number, password: string) {\r\n    return this.post(`/budgeting/forecasts/${id}/delete`, { password });\r\n  }\r\n\r\n  // ============================================================================\r\n  // AI/ML MODEL TRAINING\r\n  // ============================================================================\r\n\r\n  /**\r\n   * Train all AI/ML models\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   */\r\n  async trainAllModels(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/all',\r\n      params: { start_date: startDate, end_date: endDate }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train ARIMA model for expenses\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   * @param order - ARIMA order (p,d,q) as string \"p,d,q\"\r\n   */\r\n  async trainExpensesArima(startDate: string, endDate: string, order: string = \"1,1,1\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/arima',\r\n      params: { start_date: startDate, end_date: endDate, order },\r\n      timeout: 120000 // 2 minutes for ARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for expenses\r\n   */\r\n  async trainExpensesProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Linear Regression model for expenses\r\n   */\r\n  async trainExpensesLinearRegression(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/linear-regression',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for revenue\r\n   */\r\n  async trainRevenueProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for revenue\r\n   */\r\n  async trainRevenueXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for revenue\r\n   */\r\n  async trainRevenueLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train SARIMA model for inventory\r\n   */\r\n  async trainInventorySARIMA(startDate: string, endDate: string, order: string = \"1,1,1\", seasonalOrder: string = \"1,1,1,12\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/sarima',\r\n      params: { start_date: startDate, end_date: endDate, order, seasonal_order: seasonalOrder },\r\n      timeout: 180000 // 3 minutes for SARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for inventory\r\n   */\r\n  async trainInventoryXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for inventory\r\n   */\r\n  async trainInventoryLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get auto-learning status and statistics\r\n   */\r\n  async getAutoLearnStatus() {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/auto-learn/status'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Manually trigger auto-learning for a metric\r\n   * @param metric - 'expense', 'revenue', or 'inventory'\r\n   */\r\n  async triggerAutoLearn(metric: 'expense' | 'revenue' | 'inventory') {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: `/budgeting/ml/auto-learn/trigger/${metric}`,\r\n      timeout: 300000 // 5 minutes for training\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get list of all trained models\r\n   * @param metric - Optional filter by metric\r\n   */\r\n  async getTrainedModels(metric?: 'expense' | 'revenue' | 'inventory') {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/models',\r\n      params: metric ? { metric } : {}\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get ML scheduler status and scheduled jobs\r\n   */\r\n  async getSchedulerStatus() {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/scheduler/status'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Generate forecast with AI-powered advice and recommendations\r\n   * @param metric - 'expense', 'revenue', or 'inventory'\r\n   * @param modelType - 'arima', 'sarima', 'prophet', 'xgboost', 'lstm', 'linear_regression'\r\n   * @param periods - Number of periods to forecast\r\n   */\r\n  async generateForecastWithAdvice(\r\n    metric: 'expense' | 'revenue' | 'inventory',\r\n    modelType: 'arima' | 'sarima' | 'prophet' | 'xgboost' | 'lstm' | 'linear_regression',\r\n    periods: number = 12\r\n  ) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/forecast/with-advice',\r\n      params: { metric, model_type: modelType, periods },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  // Variance Analysis\r\n  async calculateVariance(budgetId: number, periodStart: string, periodEnd: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/variance`, {}, {\r\n      params: { period_start: periodStart, period_end: periodEnd }\r\n    });\r\n  }\r\n\r\n  async getVarianceHistory(budgetId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance`, { params });\r\n  }\r\n\r\n  async getVarianceSummary(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance/summary`);\r\n  }\r\n\r\n  // ============================================================================\r\n  // INVENTORY MANAGEMENT API\r\n  // ============================================================================\r\n\r\n  async createInventoryItem(itemData: {\r\n    item_name: string;\r\n    buying_price: number;\r\n    expense_amount?: number;\r\n    selling_price: number;\r\n    quantity: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.post('/inventory/items', itemData);\r\n  }\r\n\r\n  async getInventoryItems(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    category?: string;\r\n    is_active?: boolean;\r\n    search?: string;\r\n  }) {\r\n    return this.get('/inventory/items', { params });\r\n  }\r\n\r\n  async getInventoryItem(itemId: number) {\r\n    return this.get(`/inventory/items/${itemId}`);\r\n  }\r\n\r\n  async updateInventoryItem(itemId: number, itemData: {\r\n    item_name?: string;\r\n    buying_price?: number;\r\n    expense_amount?: number;\r\n    selling_price?: number;\r\n    quantity?: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.put(`/inventory/items/${itemId}`, itemData);\r\n  }\r\n\r\n  async deleteInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  async activateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/deactivate`, { password });\r\n  }\r\n\r\n  async getInventoryAuditLogs(itemId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/inventory/items/${itemId}/audit`, { params });\r\n  }\r\n\r\n  async getLowStockItems(threshold?: number) {\r\n    return this.get('/inventory/items/low-stock/list', { params: { threshold } });\r\n  }\r\n\r\n  async getInventorySummary() {\r\n    return this.get('/inventory/summary');\r\n  }\r\n\r\n  // ============================================================================\r\n  // SALES API\r\n  // ============================================================================\r\n\r\n  async createSale(saleData: {\r\n    item_id: number;\r\n    quantity_sold: number;\r\n    customer_name?: string;\r\n    customer_email?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post('/sales/', saleData);\r\n  }\r\n\r\n  async getSales(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    status?: 'pending' | 'posted' | 'cancelled';\r\n    item_id?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    // Enforce backend maximum limit of 1000 to prevent 422 errors\r\n    // Backend has a hard limit of 1000 (le=1000), so cap any higher values\r\n    let safeLimit: number | undefined = params?.limit;\r\n    if (safeLimit !== undefined && safeLimit > 1000) {\r\n      console.warn(`getSales: Limit ${safeLimit} exceeds backend maximum of 1000. Capping to 1000.`);\r\n      safeLimit = 1000;\r\n    }\r\n\r\n    const safeParams = params ? {\r\n      ...params,\r\n      limit: safeLimit\r\n    } : undefined;\r\n\r\n    return this.get('/sales', { params: safeParams });\r\n  }\r\n\r\n  async getSale(saleId: number) {\r\n    return this.get(`/sales/${saleId}`);\r\n  }\r\n\r\n  async postSale(saleId: number, postData: {\r\n    debit_account?: string;\r\n    credit_account?: string;\r\n    reference_number?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post(`/sales/${saleId}/post`, postData);\r\n  }\r\n\r\n  async cancelSale(saleId: number) {\r\n    return this.post(`/sales/${saleId}/cancel`, {});\r\n  }\r\n\r\n  async getSalesSummary(params?: { start_date?: string; end_date?: string }) {\r\n    return this.get('/sales/summary/overview', { params });\r\n  }\r\n\r\n  async getReceipt(saleId: number) {\r\n    return this.get(`/sales/receipt/${saleId}`);\r\n  }\r\n\r\n  async getJournalEntries(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    return this.get('/sales/journal-entries/list', { params });\r\n  }\r\n\r\n  /**\r\n   * Submit a contact/support message\r\n   * You can override the endpoint path with NEXT_PUBLIC_CONTACT_ENDPOINT (e.g. \"/contact\")\r\n   * Note: The base URL already includes /api/v1, so the path should be relative to that\r\n   */\r\n  async submitContact(payload: { name: string; email: string; message: string }) {\r\n    const contactPath = process.env.NEXT_PUBLIC_CONTACT_ENDPOINT || '/contact';\r\n    return this.post(contactPath, payload);\r\n  }\r\n\r\n  // Generic request method\r\n  async request<T = unknown>(config: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.request<T>(config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n}\r\n\r\nexport const apiClient = new ApiClient();\r\nexport default apiClient;"],"names":[],"mappings":"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","debugId":null}},
frontend/.next/dev/server/chunks/ssr/[root-of-the-server]__838242fd._.js:    async getFinancialSummary(startDate, endDate) {
frontend/.next/dev/server/chunks/ssr/[root-of-the-server]__838242fd._.js.map:    {"offset": {"line": 672, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASHROCK/Desktop/pro%2B/project3/project1/frontend/lib/api.ts"],"sourcesContent":["// lib/api.ts\r\n'use client';\r\n\r\nimport axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\r\nimport { logger } from './logger';\r\n\r\nconst DEFAULT_BASE_URL = 'http://localhost:8000/api/v1';\r\nconst API_BASE_URL = (process.env.NEXT_PUBLIC_API_URL || DEFAULT_BASE_URL).replace(/\\/$/, '');\r\n\r\ninterface ApiResponse<T = unknown> {\r\n  success?: boolean;\r\n  data: T;\r\n  message?: string;\r\n  error?: string;\r\n}\r\n\r\ntype Filters = Record<string, string | number | boolean | undefined>;\r\ntype RevenueRecord = {\r\n  id?: number | string;\r\n  amount?: number;\r\n  date?: string;\r\n  created_at?: string;\r\n  [key: string]: unknown;\r\n};\r\ntype ExpenseRecord = RevenueRecord;\r\ntype TransactionRecord = (RevenueRecord | ExpenseRecord) & {\r\n  transaction_type: 'revenue' | 'expense';\r\n};\r\n\r\ninterface AuthTokens {\r\n  access_token: string;\r\n  token_type: string;\r\n}\r\n\r\ninterface User {\r\n  id: number;\r\n  email: string;\r\n  username?: string;\r\n  full_name: string;\r\n  role: string;\r\n  department?: string;\r\n  phone?: string | null;\r\n  is_active: boolean;\r\n  created_at?: string;\r\n  manager_id?: number;\r\n}\r\n\r\ntype LoginResponse = AuthTokens & { user: User };\r\nexport type ApiUser = User;\r\nexport interface ApiRole {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  permissions?: string[];\r\n  user_count?: number;\r\n  permission_count?: number;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nclass ApiClient {\r\n  private client: AxiosInstance;\r\n\r\n  constructor() {\r\n    this.client = axios.create({\r\n      baseURL: API_BASE_URL,\r\n      timeout: 300000, // 5 minutes timeout for ML training requests (can take longer)\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    this.setupInterceptors();\r\n  }\r\n\r\n  private setupInterceptors() {\r\n    this.client.interceptors.request.use(\r\n      (config) => {\r\n        if (typeof window !== 'undefined') {\r\n          const token = localStorage.getItem('access_token');\r\n          if (token) {\r\n            config.headers = config.headers ?? {};\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n          }\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(error),\r\n    );\r\n\r\n    this.client.interceptors.response.use(\r\n      (response) => response,\r\n      async (error) => {\r\n        const originalRequest = error.config;\r\n        const requestUrl = originalRequest?.url || '';\r\n        \r\n        // Handle 401 Unauthorized - but DON'T redirect on login endpoint\r\n        // The login page handles its own error states and redirects\r\n        if (error.response?.status === 401 && !originalRequest?._retry) {\r\n          originalRequest._retry = true;\r\n          if (typeof window !== 'undefined') {\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n            \r\n            // Only redirect if NOT on the login endpoint\r\n            // Login endpoint errors should be handled by the login page component\r\n            const isLoginEndpoint = requestUrl.includes('/auth/login-json') || \r\n                                   requestUrl.includes('/auth/login');\r\n            \r\n            if (!isLoginEndpoint && !window.location.pathname.includes('/auth/login')) {\r\n              // Redirect to home page for other 401 errors (not login-related)\r\n              window.location.href = '/';\r\n            }\r\n            // For login endpoint 401s, let the error propagate to the component\r\n          }\r\n        }\r\n        \r\n        // Handle 403 Forbidden - user doesn't have permission\r\n        if (error.response?.status === 403) {\r\n          const url = error.config?.url || '';\r\n          // Suppress warnings for expected 403s on role-restricted endpoints\r\n          // These are handled gracefully by the calling code\r\n          const suppressWarnings = url.includes('/inventory/summary') || \r\n                                   url.includes('/sales/summary') || \r\n                                   url.includes('/sales/summary/overview') ||\r\n                                   url.includes('/sales/journal-entries') ||\r\n                                   url.includes('/backup');\r\n          \r\n          if (!suppressWarnings) {\r\n              logger.warn('Access forbidden:', error.response?.data?.detail || 'Insufficient permissions');\r\n          }\r\n        }\r\n        \r\n        // Handle 404 Not Found - suppress console warnings for non-critical endpoints\r\n        if (error.response?.status === 404) {\r\n          const url = error.config?.url || '';\r\n          // Only log 404s in development mode to reduce console noise\r\n          logger.debug('Resource not found:', url);\r\n        }\r\n        \r\n        // Handle network errors - suppress repetitive errors for polling endpoints\r\n        if (!error.response) {\r\n          const url = originalRequest?.url || '';\r\n          // Suppress errors for polling endpoints to reduce console noise\r\n          // These are expected when backend is down\r\n          const isPollingEndpoint = url.includes('/notifications/unread/count') || \r\n                                   url.includes('/dashboard/recent-activity') ||\r\n                                   url.includes('/health');\r\n          \r\n          if (!isPollingEndpoint) {\r\n            const errorCode = (error as { code?: string }).code;\r\n            if (errorCode === 'ECONNREFUSED') {\r\n              logger.warn('Backend server may not be running. Please ensure the backend is running on http://localhost:8000');\r\n            } else if (errorCode === 'ERR_NETWORK') {\r\n              logger.warn('Network request failed. Check your internet connection and backend server status.');\r\n            }\r\n          }\r\n          // Polling endpoint errors are silently handled - they're expected when backend is down\r\n        }\r\n        \r\n        return Promise.reject(error);\r\n      },\r\n    );\r\n  }\r\n\r\n  private normalizeResponse<T>(payload: unknown): ApiResponse<T> {\r\n    if (payload && typeof payload === 'object' && 'data' in payload) {\r\n      return payload as ApiResponse<T>;\r\n    }\r\n    return { data: payload as T };\r\n  }\r\n\r\n  private async get<T>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.get<T>(url, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async post<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.post<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async put<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.put<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async delete<T>(url: string, data?: unknown, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.delete<T>(url, { ...config, data });\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  // Auth endpoints\r\n  async login(identifier: string, password: string): Promise<ApiResponse<LoginResponse>> {\r\n    const response = await this.client.post<LoginResponse>('/auth/login-json', {\r\n      username: identifier,\r\n      password,\r\n    });\r\n    const normalized = this.normalizeResponse<LoginResponse>(response.data);\r\n    \r\n    // Only set token if we have a valid access token and user data\r\n    if (normalized.data?.access_token && normalized.data?.user) {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.setItem('access_token', normalized.data.access_token);\r\n      }\r\n    } else {\r\n      // Clear any existing tokens if response is invalid\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n        localStorage.removeItem('refresh_token');\r\n      }\r\n      throw new Error('Invalid login response: missing access token or user data');\r\n    }\r\n    \r\n    return normalized;\r\n  }\r\n\r\n  async register(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post<User>('/auth/register', userData);\r\n  }\r\n\r\n  async logout(): Promise<void> {\r\n    try {\r\n      await this.post('/auth/logout');\r\n    } finally {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n      }\r\n    }\r\n  }\r\n\r\n  async refreshToken(): Promise<ApiResponse<{ access_token: string }>> {\r\n    if (typeof window === 'undefined') throw new Error('Token refresh is client only');\r\n    const token = localStorage.getItem('access_token');\r\n    if (!token) throw new Error('No token to refresh');\r\n    const response = await this.client.post('/auth/refresh', { token });\r\n    const normalized = this.normalizeResponse<{ access_token: string }>(response.data);\r\n    localStorage.setItem('access_token', normalized.data.access_token);\r\n    return normalized;\r\n  }\r\n\r\n  async generateOTP(): Promise<ApiResponse<{ otp_code: string; message: string }>> {\r\n    return this.post('/auth/generate-otp');\r\n  }\r\n\r\n  async verifyOTP(otp_code: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/verify-otp', { otp_code });\r\n  }\r\n\r\n  async requestOTP(email: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/request-otp', { email });\r\n  }\r\n\r\n  async resetPassword(email: string, code: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/reset-password', { email, code, newPassword });\r\n  }\r\n\r\n  // User endpoints\r\n  async getCurrentUser(): Promise<ApiResponse<User>> {\r\n    return this.get('/users/me');\r\n  }\r\n\r\n  async updateCurrentUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put('/users/me', userData);\r\n  }\r\n\r\n  async changePassword(currentPassword: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/users/me/change-password', { current_password: currentPassword, new_password: newPassword });\r\n  }\r\n\r\n  async getUsers(): Promise<ApiResponse<User[]>> {\r\n    return this.get('/users/');\r\n  }\r\n\r\n  async getUser(userId: number): Promise<ApiResponse<User>> {\r\n    return this.get(`/users/${userId}`);\r\n  }\r\n\r\n  async getSubordinates(userId: number): Promise<ApiResponse<User[]>> {\r\n    return this.get(`/users/${userId}/subordinates`);\r\n  }\r\n\r\n  async createUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post('/users', userData);\r\n  }\r\n\r\n  /**\r\n   * Create a subordinate (accountant or employee)\r\n   * Used by finance managers to create accountants/employees\r\n   */\r\n  async createSubordinate(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post('/users/subordinates', userData);\r\n  }\r\n\r\n  async updateUser(userId: number, userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put(`/users/${userId}`, userData);\r\n  }\r\n\r\n  async deleteUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/delete`, { password });\r\n  }\r\n\r\n  async activateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/deactivate`, { password });\r\n  }\r\n\r\n  // Permission endpoints\r\n  async getUserPermissions(userId: number): Promise<ApiResponse<{ permissions: string[] }>> {\r\n    return this.get(`/users/${userId}/permissions`);\r\n  }\r\n\r\n  async updateUserPermissions(userId: number, permissions: string[]): Promise<ApiResponse<{ message: string; permissions: string[] }>> {\r\n    return this.put(`/users/${userId}/permissions`, { permissions });\r\n  }\r\n\r\n  // Financial endpoints\r\n  async getRevenues(filters?: Filters): Promise<ApiResponse<RevenueRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/revenue', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getRevenue(revenueId: number): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.get(`/revenue/${revenueId}`);\r\n  }\r\n\r\n  async createRevenue(revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.post('/revenue', revenueData);\r\n  }\r\n\r\n  async updateRevenue(revenueId: number, revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.put(`/revenue/${revenueId}`, revenueData);\r\n  }\r\n\r\n  async deleteRevenue(revenueId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/revenue/${revenueId}/delete`, { password });\r\n  }\r\n\r\n  async getExpenses(filters?: Filters): Promise<ApiResponse<ExpenseRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/expenses', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getExpense(expenseId: number): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.get(`/expenses/${expenseId}`);\r\n  }\r\n\r\n  async createExpense(expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.post('/expenses', expenseData);\r\n  }\r\n\r\n  async updateExpense(expenseId: number, expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.put(`/expenses/${expenseId}`, expenseData);\r\n  }\r\n\r\n  async deleteExpense(expenseId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/expenses/${expenseId}/delete`, { password });\r\n  }\r\n\r\n  // Transactions (combined revenues and expenses)\r\n  async getTransactions(): Promise<ApiResponse<TransactionRecord[]>> {\r\n    try {\r\n      const [revenuesResponse, expensesResponse] = await Promise.all([\r\n        this.getRevenues(),\r\n        this.getExpenses(),\r\n      ]);\r\n\r\n      const revenues = (revenuesResponse.data || []).map((r: RevenueRecord): TransactionRecord => ({\r\n        ...r,\r\n        transaction_type: 'revenue',\r\n        id: `revenue-${r.id}`,\r\n      }));\r\n\r\n      const expenses = (expensesResponse.data || []).map((e: ExpenseRecord): TransactionRecord => ({\r\n        ...e,\r\n        transaction_type: 'expense',\r\n        id: `expense-${e.id}`,\r\n        amount: -Math.abs(Number(e.amount ?? 0)), // Make expenses negative\r\n      }));\r\n\r\n      const transactions = [...revenues, ...expenses].sort((a, b) => {\r\n        const dateA = new Date(a.date || a.created_at || 0).getTime();\r\n        const dateB = new Date(b.date || b.created_at || 0).getTime();\r\n        return dateB - dateA; // Most recent first\r\n      });\r\n\r\n      return { data: transactions };\r\n    } catch (error) {\r\n      // Error handled by caller\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Dashboard\r\n  async getDashboardOverview(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/overview');\r\n  }\r\n\r\n  async getDashboardKPIs(period: 'week' | 'month' | 'quarter' | 'year' = 'month'): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/kpis', { params: { period } });\r\n  }\r\n\r\n  async getDashboardRecentActivity(limit = 10): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/dashboard/recent-activity', { params: { limit } });\r\n  }\r\n\r\n  // Analytics\r\n  async getAdvancedKPIs(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/kpis', { params });\r\n  }\r\n\r\n  async getTrendAnalysis(params?: {\r\n    metric?: 'revenue' | 'expenses' | 'profit';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/trends', { params });\r\n  }\r\n\r\n  async getTimeSeriesData(params?: {\r\n    interval?: 'day' | 'week' | 'month' | 'quarter' | 'year';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/time-series', { params });\r\n  }\r\n\r\n  async getCategoryBreakdown(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/category-breakdown', { params });\r\n  }\r\n\r\n  async getAnalyticsOverview(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get('/analytics/overview', { params });\r\n  }\r\n\r\n  // Reports\r\n  async getReports(filters?: Filters): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    return this.get('/reports', { params: filters });\r\n  }\r\n\r\n  async getReport(reportId: number): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get(`/reports/${reportId}`);\r\n  }\r\n\r\n  async createReport(reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.post('/reports', reportData);\r\n  }\r\n\r\n  async updateReport(reportId: number, reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.put(`/reports/${reportId}`, reportData);\r\n  }\r\n\r\n  async deleteReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/reports/${reportId}`);\r\n  }\r\n\r\n  async downloadReport(reportId: number): Promise<ApiResponse<{ download_url: string; file_size: number; filename: string }>> {\r\n    return this.post(`/reports/${reportId}/download`);\r\n  }\r\n\r\n  async regenerateReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/reports/${reportId}/regenerate`);\r\n  }\r\n\r\n  async getAvailableReportTypes(): Promise<ApiResponse<{ report_types: Array<{ type: string; name: string; description: string }> }>> {\r\n    return this.get('/reports/types/available');\r\n  }\r\n\r\n  // Financial Reports - Direct data fetching\r\n  async getIncomeStatement(startDate?: string, endDate?: string): Promise<ApiResponse<Record<string, unknown>>> {\r\n    const params: Filters = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n    \r\n    // Fetch revenue and expense data to calculate income statement\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n      \r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate totals - ONLY from approved entries\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n\r\n    // Group by category - handle both enum and string categories - ONLY from approved entries\r\n    const revenueByCategory: Record<string, number> = {};\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const catValue =\r\n        r.category && typeof r.category === 'object' && 'value' in r.category\r\n          ? (r.category as { value?: unknown }).value\r\n          : r.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      revenueByCategory[catKey] = (revenueByCategory[catKey] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const catValue =\r\n        e.category && typeof e.category === 'object' && 'value' in e.category\r\n          ? (e.category as { value?: unknown }).value\r\n          : e.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      expenseByCategory[catKey] = (expenseByCategory[catKey] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        revenue: {\r\n          total: totalRevenue,\r\n          by_category: revenueByCategory,\r\n        },\r\n        expenses: {\r\n          total: totalExpenses,\r\n          by_category: expenseByCategory,\r\n        },\r\n        profit,\r\n        profit_margin: totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0,\r\n      },\r\n    };\r\n  }\r\n\r\n  async getCashFlow(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    summary: { total_inflow: number; total_outflow: number; net_cash_flow: number };\r\n    daily_cash_flow: Record<string, { inflow: number; outflow: number; net: number }>;\r\n  }>> {\r\n    const params: Record<string, unknown> = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n    \r\n    // Fetch revenue and expense data to calculate cash flow\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([this.getRevenues(), this.getExpenses()]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures cash flow is only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate daily cash flow - ONLY from approved entries\r\n    const cashFlowByDay: Record<string, { inflow: number; outflow: number; net: number }> = {};\r\n    \r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = r.date || r.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(r.amount || 0);\r\n      cashFlowByDay[day].inflow += amount;\r\n      cashFlowByDay[day].net += amount;\r\n    });\r\n\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = e.date || e.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(e.amount || 0);\r\n      cashFlowByDay[day].outflow += amount;\r\n      cashFlowByDay[day].net -= amount;\r\n    });\r\n\r\n    const totalInflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.inflow, 0);\r\n    const totalOutflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.outflow, 0);\r\n    const netCashFlow = totalInflow - totalOutflow;\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        summary: {\r\n          total_inflow: totalInflow,\r\n          total_outflow: totalOutflow,\r\n          net_cash_flow: netCashFlow,\r\n        },\r\n        daily_cash_flow: cashFlowByDay,\r\n      },\r\n    };\r\n  }\r\n\r\n  // Financial Summary Report\r\n  async getFinancialSummary(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    financials: {\r\n      total_revenue: number;\r\n      total_expenses: number;\r\n      profit: number;\r\n      profit_margin: number;\r\n    };\r\n    revenue_by_category: Record<string, number>;\r\n    expenses_by_category: Record<string, number>;\r\n    transaction_counts: { revenue: number; expenses: number; total: number };\r\n    generated_at: string;\r\n  }>> {\r\n    // Always fetch all data first, then calculate summary\r\n    const [allRevenuesRes, allExpensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = allRevenuesRes.data || [];\r\n    let expenses = allExpensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n    \r\n    // Filter to only include APPROVED revenue entries for calculations\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    \r\n    // Filter to only include APPROVED expense entries for calculations\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate totals from filtered data - ONLY approved revenue and expenses\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n    const profitMargin = totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0;\r\n\r\n    // Process category summaries - ONLY from approved revenue\r\n    const revenueByCategory: Record<string, number> = {};\r\n    const normalizeCategory = (raw: unknown): string => {\r\n      if (typeof raw === 'string') return raw || 'other';\r\n      if (raw && typeof raw === 'object' && 'value' in raw) {\r\n        const value = (raw as { value?: unknown }).value;\r\n        return typeof value === 'string' ? value : String(value ?? 'other');\r\n      }\r\n      return String(raw ?? 'other');\r\n    };\r\n\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const cat = normalizeCategory(r.category);\r\n      revenueByCategory[cat] = (revenueByCategory[cat] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    // Process category summaries - ONLY from approved expenses\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const cat = normalizeCategory(e.category);\r\n      expenseByCategory[cat] = (expenseByCategory[cat] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    // Calculate actual transaction counts - ONLY approved items\r\n    const revenueCount = approvedRevenues.length;\r\n    const expenseCount = approvedExpenses.length;\r\n\r\n    const result = {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        financials: {\r\n          total_revenue: totalRevenue,\r\n          total_expenses: totalExpenses,\r\n          profit,\r\n          profit_margin: profitMargin,\r\n        },\r\n        revenue_by_category: revenueByCategory,\r\n        expenses_by_category: expenseByCategory,\r\n        transaction_counts: {\r\n          revenue: revenueCount,\r\n          expenses: expenseCount,\r\n          total: revenueCount + expenseCount,\r\n        },\r\n        generated_at: new Date().toISOString(),\r\n      },\r\n    };\r\n\r\n    return result;\r\n  }\r\n\r\n  // Approvals\r\n  async getApprovals(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/approvals');\r\n  }\r\n\r\n  async getApproval(approvalId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/approvals/${approvalId}`);\r\n  }\r\n\r\n  async getApprovalComments(approvalId: number): Promise<ApiResponse<unknown[]>> {\r\n    return this.get(`/approvals/${approvalId}/comments`);\r\n  }\r\n\r\n  async createApprovalComment(approvalId: number, comment: string): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${approvalId}/comments`, { comment });\r\n  }\r\n\r\n  async approveItem(itemId: number, itemType: 'revenue' | 'expense'): Promise<ApiResponse<unknown>> {\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/approve`);\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/approve`);\r\n    }\r\n  }\r\n\r\n  async rejectItem(\r\n    itemId: number,\r\n    itemType: 'revenue' | 'expense',\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // Reject revenue or expense entry through their respective endpoints\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    }\r\n  }\r\n\r\n  async approveWorkflow(workflowId: number): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/approve`);\r\n  }\r\n\r\n  async rejectWorkflow(\r\n    workflowId: number,\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/reject`, { rejection_reason: reason, password });\r\n  }\r\n\r\n  // Notifications\r\n  async getNotifications(unreadOnly?: boolean): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/notifications', { params: { unread_only: unreadOnly } });\r\n  }\r\n\r\n  async getNotification(notificationId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async markNotificationAsRead(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/notifications/${notificationId}/mark-read`);\r\n  }\r\n\r\n  async markAllNotificationsAsRead(): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/notifications/mark-all-read');\r\n  }\r\n\r\n  async deleteNotification(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async getUnreadCount(): Promise<ApiResponse<{ unread_count: number }>> {\r\n    return this.get('/notifications/unread/count');\r\n  }\r\n\r\n  async getNotificationPreferences(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/notifications/preferences');\r\n  }\r\n\r\n  async updateNotificationPreferences(\r\n    preferences: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put('/notifications/preferences', preferences);\r\n  }\r\n\r\n  // Admin endpoints\r\n  async getAdminSystemStats(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/system/stats');\r\n  }\r\n\r\n  async getSystemSettings(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/settings');\r\n  }\r\n\r\n  async getSystemHealth(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/health');\r\n  }\r\n\r\n  async getHierarchy(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/hierarchy');\r\n  }\r\n\r\n  async getRoles(): Promise<ApiResponse<ApiRole[]>> {\r\n    return this.get('/admin/roles');\r\n  }\r\n\r\n  async getPermissions(): Promise<ApiResponse<string[]>> {\r\n    return this.get('/admin/permissions');\r\n  }\r\n\r\n  async createRole(roleData: { name: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.post('/admin/roles', payload);\r\n  }\r\n\r\n  async updateRole(roleId: number, roleData: { name?: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.put(`/admin/roles/${roleId}`, payload);\r\n  }\r\n\r\n  async deleteRole(roleId: number): Promise<ApiResponse<null>> {\r\n    return this.delete(`/admin/roles/${roleId}`);\r\n  }\r\n\r\n  // Backup endpoints\r\n  async createBackup(includeFiles: boolean = false): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/create', null, {\r\n      params: { include_files: includeFiles }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async listBackups(): Promise<ApiResponse<{ backups: unknown[] }>> {\r\n    return this.get('/admin/backup/list');\r\n  }\r\n\r\n  async restoreBackup(backupName: string): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/restore', null, {\r\n      params: { backup_name: backupName }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async deleteBackup(backupName: string, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/admin/backup/${encodeURIComponent(backupName)}/delete`, { password });\r\n  }\r\n\r\n  async getVerificationHistory(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/users/me/verification-history');\r\n  }\r\n\r\n  // 2FA endpoints\r\n  async get2FAStatus(): Promise<ApiResponse<{ enabled: boolean }>> {\r\n    return this.get('/users/me/2fa/status');\r\n  }\r\n\r\n  async setup2FA(): Promise<ApiResponse<{ secret: string; qr_code_url: string; manual_entry_key: string }>> {\r\n    return this.post('/users/me/2fa/setup');\r\n  }\r\n\r\n  async verify2FA(code: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/verify', { code });\r\n  }\r\n\r\n  async disable2FA(currentPassword: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/disable', { current_password: currentPassword });\r\n  }\r\n\r\n  // IP Restriction endpoints\r\n  async getIPRestrictionStatus(): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.get('/users/me/ip-restriction');\r\n  }\r\n\r\n  async updateIPRestriction(enabled: boolean): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.put('/users/me/ip-restriction', { enabled });\r\n  }\r\n\r\n  async addAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.post('/users/me/ip-restriction/allowed-ips', { ip_address: ipAddress });\r\n  }\r\n\r\n  async removeAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.delete(`/users/me/ip-restriction/allowed-ips/${encodeURIComponent(ipAddress)}`);\r\n  }\r\n\r\n  async triggerBackup(includeFiles = false): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/admin/backup/create', undefined, { params: { include_files: includeFiles } });\r\n  }\r\n\r\n  // Department endpoints\r\n  async getDepartments(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/departments');\r\n  }\r\n\r\n  async getDepartment(departmentId: string | number): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.get(`/departments/${encodedId}`);\r\n  }\r\n\r\n  async createDepartment(departmentData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/departments', departmentData);\r\n  }\r\n\r\n  async updateDepartment(\r\n    departmentId: string | number,\r\n    departmentData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.put(`/departments/${encodedId}`, departmentData);\r\n  }\r\n\r\n  async deleteDepartment(\r\n    departmentId: string | number,\r\n    password: string,\r\n  ): Promise<ApiResponse<{ message: string }>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.post(`/departments/${encodedId}/delete`, { password });\r\n  }\r\n\r\n  // Project endpoints\r\n  async getProjects(filters?: Record<string, unknown>): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/projects', { params: filters });\r\n  }\r\n\r\n  async getProject(projectId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/projects/${projectId}`);\r\n  }\r\n\r\n  async createProject(projectData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/projects', projectData);\r\n  }\r\n\r\n  async updateProject(\r\n    projectId: number,\r\n    projectData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put(`/projects/${projectId}`, projectData);\r\n  }\r\n\r\n  async deleteProject(projectId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/projects/${projectId}/delete`, { password });\r\n  }\r\n\r\n  // Audit Logs endpoints (Admin only)\r\n  async getAuditLogs(filters?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    user_id?: number;\r\n    action?: string;\r\n    resource_type?: string;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    const params: Record<string, unknown> = {};\r\n    if (filters) {\r\n      if (filters.skip !== undefined) params.skip = filters.skip;\r\n      if (filters.limit !== undefined) params.limit = filters.limit;\r\n      if (filters.user_id !== undefined) params.user_id = filters.user_id;\r\n      if (filters.action) params.action = filters.action;\r\n      if (filters.resource_type) params.resource_type = filters.resource_type;\r\n      if (filters.start_date) {\r\n        // Convert to ISO format for backend\r\n        const start = new Date(filters.start_date + 'T00:00:00');\r\n        params.start_date = start.toISOString();\r\n      }\r\n      if (filters.end_date) {\r\n        // Convert to ISO format for backend\r\n        const end = new Date(filters.end_date + 'T23:59:59');\r\n        params.end_date = end.toISOString();\r\n      }\r\n    }\r\n    return this.get('/admin/audit/logs', { params });\r\n  }\r\n\r\n  // ============================================================================\r\n  // BUDGETING & FORECASTING (FP&A)\r\n  // ============================================================================\r\n\r\n  // Budget Management\r\n  async getBudgets(params?: { skip?: number; limit?: number; status?: string; department?: string }) {\r\n    return this.get('/budgeting/budgets', { params });\r\n  }\r\n\r\n  async getBudget(id: number) {\r\n    return this.get(`/budgeting/budgets/${id}`);\r\n  }\r\n\r\n  async createBudget(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/budgets', data);\r\n  }\r\n\r\n  async createBudgetFromTemplate(templateName: string, data: Record<string, unknown>) {\r\n    const params: Record<string, unknown> = {\r\n      template_name: templateName\r\n    };\r\n    if (data.name) params.name = data.name;\r\n    if (data.start_date) params.start_date = data.start_date;\r\n    if (data.end_date) params.end_date = data.end_date;\r\n    if (data.department) params.department = data.department;\r\n    if (data.project) params.project = data.project;\r\n    \r\n    return this.post(`/budgeting/budgets/from-template`, {}, { params });\r\n  }\r\n\r\n  async updateBudget(id: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${id}`, data);\r\n  }\r\n\r\n  async deleteBudget(id: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${id}/delete`, { password });\r\n  }\r\n\r\n  async validateBudget(id: number) {\r\n    return this.post(`/budgeting/budgets/${id}/validate`);\r\n  }\r\n\r\n  // Budget Items\r\n  async getBudgetItems(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/items`);\r\n  }\r\n\r\n  async createBudgetItem(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items`, data);\r\n  }\r\n\r\n  async updateBudgetItem(budgetId: number, itemId: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${budgetId}/items/${itemId}`, data);\r\n  }\r\n\r\n  async deleteBudgetItem(budgetId: number, itemId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  // Scenario Planning\r\n  async getScenarios(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/scenarios`);\r\n  }\r\n\r\n  async createScenario(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios`, data);\r\n  }\r\n\r\n  async compareScenarios(budgetId: number, scenarioIds: number[]) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/compare`, { scenario_ids: scenarioIds });\r\n  }\r\n\r\n  // Forecasting\r\n  async getForecasts(params?: { skip?: number; limit?: number }) {\r\n    // Always provide explicit defaults to match backend expectations\r\n    const queryParams = {\r\n      skip: params?.skip !== undefined && params.skip >= 0 ? params.skip : 0,\r\n      limit: params?.limit !== undefined && params.limit >= 1 && params.limit <= 1000 ? params.limit : 100\r\n    };\r\n    \r\n    return this.get('/budgeting/forecasts', { params: queryParams });\r\n  }\r\n\r\n  async createForecast(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/forecasts', data);\r\n  }\r\n\r\n  async getForecast(id: number) {\r\n    return this.get(`/budgeting/forecasts/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Update a forecast\r\n   * @param id - Forecast ID\r\n   * @param data - Forecast update data (name, description, and optionally forecast_data)\r\n   */\r\n  async updateForecast(\r\n    id: number,\r\n    data: {\r\n      name?: string;\r\n      description?: string;\r\n      forecast_data?: Array<{\r\n        period?: string;\r\n        date?: string;\r\n        forecasted_value?: number;\r\n        method?: string;\r\n      }>;\r\n    },\r\n  ) {\r\n    return this.put(`/budgeting/forecasts/${id}`, data);\r\n  }\r\n\r\n  async deleteForecast(id: number, password: string) {\r\n    return this.post(`/budgeting/forecasts/${id}/delete`, { password });\r\n  }\r\n\r\n  // ============================================================================\r\n  // AI/ML MODEL TRAINING\r\n  // ============================================================================\r\n\r\n  /**\r\n   * Train all AI/ML models\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   */\r\n  async trainAllModels(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/all',\r\n      params: { start_date: startDate, end_date: endDate }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train ARIMA model for expenses\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   * @param order - ARIMA order (p,d,q) as string \"p,d,q\"\r\n   */\r\n  async trainExpensesArima(startDate: string, endDate: string, order: string = \"1,1,1\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/arima',\r\n      params: { start_date: startDate, end_date: endDate, order },\r\n      timeout: 120000 // 2 minutes for ARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for expenses\r\n   */\r\n  async trainExpensesProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Linear Regression model for expenses\r\n   */\r\n  async trainExpensesLinearRegression(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/linear-regression',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for revenue\r\n   */\r\n  async trainRevenueProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for revenue\r\n   */\r\n  async trainRevenueXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for revenue\r\n   */\r\n  async trainRevenueLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train SARIMA model for inventory\r\n   */\r\n  async trainInventorySARIMA(startDate: string, endDate: string, order: string = \"1,1,1\", seasonalOrder: string = \"1,1,1,12\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/sarima',\r\n      params: { start_date: startDate, end_date: endDate, order, seasonal_order: seasonalOrder },\r\n      timeout: 180000 // 3 minutes for SARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for inventory\r\n   */\r\n  async trainInventoryXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for inventory\r\n   */\r\n  async trainInventoryLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  // Variance Analysis\r\n  async calculateVariance(budgetId: number, periodStart: string, periodEnd: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/variance`, {}, {\r\n      params: { period_start: periodStart, period_end: periodEnd }\r\n    });\r\n  }\r\n\r\n  async getVarianceHistory(budgetId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance`, { params });\r\n  }\r\n\r\n  async getVarianceSummary(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance/summary`);\r\n  }\r\n\r\n  // ============================================================================\r\n  // INVENTORY MANAGEMENT API\r\n  // ============================================================================\r\n  \r\n  async createInventoryItem(itemData: {\r\n    item_name: string;\r\n    buying_price: number;\r\n    expense_amount?: number;\r\n    selling_price: number;\r\n    quantity: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.post('/inventory/items', itemData);\r\n  }\r\n\r\n  async getInventoryItems(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    category?: string;\r\n    is_active?: boolean;\r\n    search?: string;\r\n  }) {\r\n    return this.get('/inventory/items', { params });\r\n  }\r\n\r\n  async getInventoryItem(itemId: number) {\r\n    return this.get(`/inventory/items/${itemId}`);\r\n  }\r\n\r\n  async updateInventoryItem(itemId: number, itemData: {\r\n    item_name?: string;\r\n    buying_price?: number;\r\n    expense_amount?: number;\r\n    selling_price?: number;\r\n    quantity?: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.put(`/inventory/items/${itemId}`, itemData);\r\n  }\r\n\r\n  async deleteInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  async activateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/deactivate`, { password });\r\n  }\r\n\r\n  async getInventoryAuditLogs(itemId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/inventory/items/${itemId}/audit`, { params });\r\n  }\r\n\r\n  async getLowStockItems(threshold?: number) {\r\n    return this.get('/inventory/items/low-stock/list', { params: { threshold } });\r\n  }\r\n\r\n  async getInventorySummary() {\r\n    return this.get('/inventory/summary');\r\n  }\r\n\r\n  // ============================================================================\r\n  // SALES API\r\n  // ============================================================================\r\n\r\n  async createSale(saleData: {\r\n    item_id: number;\r\n    quantity_sold: number;\r\n    customer_name?: string;\r\n    customer_email?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post('/sales/', saleData);\r\n  }\r\n\r\n  async getSales(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    status?: 'pending' | 'posted' | 'cancelled';\r\n    item_id?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    // Enforce backend maximum limit of 1000 to prevent 422 errors\r\n    // Backend has a hard limit of 1000 (le=1000), so cap any higher values\r\n    let safeLimit: number | undefined = params?.limit;\r\n    if (safeLimit !== undefined && safeLimit > 1000) {\r\n      logger.warn(`getSales: Limit ${safeLimit} exceeds backend maximum of 1000. Capping to 1000.`);\r\n      safeLimit = 1000;\r\n    }\r\n    \r\n    const safeParams = params ? {\r\n      ...params,\r\n      limit: safeLimit\r\n    } : undefined;\r\n    \r\n    return this.get('/sales', { params: safeParams });\r\n  }\r\n\r\n  async getSale(saleId: number) {\r\n    return this.get(`/sales/${saleId}`);\r\n  }\r\n\r\n  async postSale(saleId: number, postData: {\r\n    debit_account?: string;\r\n    credit_account?: string;\r\n    reference_number?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post(`/sales/${saleId}/post`, postData);\r\n  }\r\n\r\n  async cancelSale(saleId: number) {\r\n    return this.post(`/sales/${saleId}/cancel`, {});\r\n  }\r\n\r\n  async getSalesSummary(params?: { start_date?: string; end_date?: string }) {\r\n    return this.get('/sales/summary/overview', { params });\r\n  }\r\n\r\n  async getReceipt(saleId: number) {\r\n    return this.get(`/sales/receipt/${saleId}`);\r\n  }\r\n\r\n  async getJournalEntries(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    return this.get('/sales/journal-entries/list', { params });\r\n  }\r\n\r\n  /**\r\n   * Submit a contact/support message\r\n   * You can override the endpoint path with NEXT_PUBLIC_CONTACT_ENDPOINT (e.g. \"/support/contact\")\r\n   */\r\n  async submitContact(payload: { name: string; email: string; message: string }) {\r\n    const contactPath = process.env.NEXT_PUBLIC_CONTACT_ENDPOINT || '/contact';\r\n    return this.post(contactPath, payload);\r\n  }\r\n\r\n  // Generic request method\r\n  async request<T = unknown>(config: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.request<T>(config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n}\r\n\r\nexport const apiClient = new ApiClient();\r\nexport default apiClient;"],"names":[],"mappings":"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","debugId":null}},
frontend/.next/dev/server/chunks/ssr/[root-of-the-server]__c4da8231._.js:    async getFinancialSummary(startDate, endDate) {
frontend/.next/dev/server/chunks/ssr/[root-of-the-server]__c4da8231._.js.map:    {"offset": {"line": 604, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASHROCK/Desktop/pro%2B/project3/projectai/frontend/lib/api.ts"],"sourcesContent":["// lib/api.ts\r\n'use client';\r\n\r\nimport axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\r\n\r\nconst DEFAULT_BASE_URL = 'http://localhost:8000/api/v1';\r\nconst API_BASE_URL = (process.env.NEXT_PUBLIC_API_URL || DEFAULT_BASE_URL).replace(/\\/$/, '');\r\n\r\ninterface ApiResponse<T = unknown> {\r\n  success?: boolean;\r\n  data: T;\r\n  message?: string;\r\n  error?: string;\r\n}\r\n\r\ntype Filters = Record<string, string | number | boolean | undefined>;\r\ntype RevenueRecord = {\r\n  id?: number | string;\r\n  amount?: number;\r\n  date?: string;\r\n  created_at?: string;\r\n  [key: string]: unknown;\r\n};\r\ntype ExpenseRecord = RevenueRecord;\r\ntype TransactionRecord = (RevenueRecord | ExpenseRecord) & {\r\n  transaction_type: 'revenue' | 'expense';\r\n};\r\n\r\ninterface AuthTokens {\r\n  access_token: string;\r\n  token_type: string;\r\n}\r\n\r\ninterface User {\r\n  id: number;\r\n  email: string;\r\n  username?: string;\r\n  full_name: string;\r\n  role: string;\r\n  department?: string;\r\n  phone?: string | null;\r\n  is_active: boolean;\r\n  created_at?: string;\r\n  manager_id?: number;\r\n}\r\n\r\ntype LoginResponse = AuthTokens & { user: User };\r\nexport type ApiUser = User;\r\nexport interface ApiRole {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  permissions?: string[];\r\n  user_count?: number;\r\n  permission_count?: number;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nclass ApiClient {\r\n  private client: AxiosInstance;\r\n\r\n  constructor() {\r\n    this.client = axios.create({\r\n      baseURL: API_BASE_URL,\r\n      timeout: 300000, // 5 minutes timeout for ML training requests (can take longer)\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    this.setupInterceptors();\r\n  }\r\n\r\n  private setupInterceptors() {\r\n    this.client.interceptors.request.use(\r\n      (config) => {\r\n        if (typeof window !== 'undefined') {\r\n          const token = localStorage.getItem('access_token');\r\n          if (token) {\r\n            config.headers = config.headers ?? {};\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n          }\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(error),\r\n    );\r\n\r\n    this.client.interceptors.response.use(\r\n      (response) => response,\r\n      async (error) => {\r\n        const originalRequest = error.config;\r\n        const requestUrl = originalRequest?.url || '';\r\n        \r\n        // Handle 401 Unauthorized - but DON'T redirect on login endpoint\r\n        // The login page handles its own error states and redirects\r\n        if (error.response?.status === 401 && !originalRequest?._retry) {\r\n          originalRequest._retry = true;\r\n          if (typeof window !== 'undefined') {\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n            \r\n            // Only redirect if NOT on the login endpoint\r\n            // Login endpoint errors should be handled by the login page component\r\n            const isLoginEndpoint = requestUrl.includes('/auth/login-json') || \r\n                                   requestUrl.includes('/auth/login');\r\n            \r\n            if (!isLoginEndpoint && !window.location.pathname.includes('/auth/login')) {\r\n              // Redirect to home page for other 401 errors (not login-related)\r\n              window.location.href = '/';\r\n            }\r\n            // For login endpoint 401s, let the error propagate to the component\r\n          }\r\n        }\r\n        \r\n        // Handle 403 Forbidden - user doesn't have permission\r\n        if (error.response?.status === 403) {\r\n          const url = error.config?.url || '';\r\n          const errorDetail = error.response?.data?.detail || 'Insufficient permissions';\r\n          \r\n          // Suppress warnings for expected 403s on role-restricted endpoints\r\n          // These are handled gracefully by the calling code\r\n          const suppressWarnings = url.includes('/inventory/summary') || \r\n                                   url.includes('/sales/summary') || \r\n                                   url.includes('/sales/summary/overview') ||\r\n                                   url.includes('/sales/journal-entries') ||\r\n                                   url.includes('/backup');\r\n          \r\n          // For user endpoints, provide more helpful error messages\r\n          if (url.includes('/users/') && !url.includes('/users/me')) {\r\n            // Don't suppress warnings for user endpoints - these are important\r\n            if (typeof window !== 'undefined') {\r\n              console.warn('Access forbidden to user resource:', errorDetail);\r\n            }\r\n            // Enhance error with more context\r\n            error.response.data = {\r\n              ...error.response.data,\r\n              detail: errorDetail,\r\n              message: `You don't have permission to access this user. ${errorDetail}`,\r\n            };\r\n          } else if (!suppressWarnings && typeof window !== 'undefined') {\r\n            console.warn('Access forbidden:', errorDetail);\r\n          }\r\n        }\r\n        \r\n        // Handle 404 Not Found - suppress console warnings for non-critical endpoints\r\n        if (error.response?.status === 404) {\r\n          const url = error.config?.url || '';\r\n          // Only log 404s in development mode to reduce console noise\r\n          if (process.env.NODE_ENV === 'development' && typeof window !== 'undefined') {\r\n            console.warn('Resource not found:', url);\r\n          }\r\n        }\r\n        \r\n        // Handle network errors - suppress repetitive errors for polling endpoints\r\n        if (!error.response) {\r\n          const url = error.config?.url || '';\r\n          // Suppress errors for polling endpoints to reduce console noise\r\n          // These are expected when backend is down\r\n          const isPollingEndpoint = url.includes('/notifications/unread/count') || \r\n                                   url.includes('/dashboard/recent-activity') ||\r\n                                   url.includes('/health');\r\n          \r\n          if (!isPollingEndpoint) {\r\n            // Only log non-polling endpoint errors\r\n            const errorMessage = error.message || 'Network error: Unable to connect to server';\r\n            \r\n            if (process.env.NODE_ENV === 'development') {\r\n              console.error('Network error:', errorMessage);\r\n              \r\n              if (error.code === 'ECONNREFUSED' || error.message?.includes('Network Error')) {\r\n                console.error('Backend server may not be running. Please ensure the backend is running on http://localhost:8000');\r\n              } else if (error.code === 'ERR_NETWORK') {\r\n                console.error('Network request failed. Check your internet connection and backend server status.');\r\n              }\r\n            }\r\n          }\r\n          // Polling endpoint errors are silently handled - they're expected when backend is down\r\n        }\r\n        \r\n        return Promise.reject(error);\r\n      },\r\n    );\r\n  }\r\n\r\n  private normalizeResponse<T>(payload: unknown): ApiResponse<T> {\r\n    // Handle different response formats from the backend\r\n    if (!payload) {\r\n      return { data: null as unknown as T };\r\n    }\r\n    \r\n    // If payload is already in ApiResponse format\r\n    if (typeof payload === 'object' && payload !== null) {\r\n      if ('data' in payload) {\r\n        return payload as ApiResponse<T>;\r\n      }\r\n      // If payload is the data itself (direct response)\r\n      return { data: payload as T };\r\n    }\r\n    \r\n    // Fallback: wrap primitive values\r\n    return { data: payload as T };\r\n  }\r\n\r\n  /**\r\n   * Extract error message from various error formats\r\n   */\r\n  private extractErrorMessage(error: unknown): string {\r\n    if (error && typeof error === 'object') {\r\n      // Axios error format\r\n      if ('response' in error) {\r\n        const axiosError = error as { response?: { data?: { detail?: string; message?: string; error?: string } } };\r\n        return axiosError.response?.data?.detail || \r\n               axiosError.response?.data?.message || \r\n               axiosError.response?.data?.error || \r\n               'An error occurred';\r\n      }\r\n      // Standard Error object\r\n      if ('message' in error) {\r\n        return (error as { message: string }).message;\r\n      }\r\n    }\r\n    // Fallback\r\n    return error instanceof Error ? error.message : 'An unknown error occurred';\r\n  }\r\n\r\n  private async get<T>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.get<T>(url, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async post<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.post<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async put<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.put<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async delete<T>(url: string, data?: unknown, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.delete<T>(url, { ...config, data });\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  // Auth endpoints\r\n  async login(identifier: string, password: string): Promise<ApiResponse<LoginResponse>> {\r\n    const response = await this.client.post<LoginResponse>('/auth/login-json', {\r\n      username: identifier,\r\n      password,\r\n    });\r\n    const normalized = this.normalizeResponse<LoginResponse>(response.data);\r\n    \r\n    // Only set token if we have a valid access token and user data\r\n    if (normalized.data?.access_token && normalized.data?.user) {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.setItem('access_token', normalized.data.access_token);\r\n      }\r\n    } else {\r\n      // Clear any existing tokens if response is invalid\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n        localStorage.removeItem('refresh_token');\r\n      }\r\n      throw new Error('Invalid login response: missing access token or user data');\r\n    }\r\n    \r\n    return normalized;\r\n  }\r\n\r\n  async register(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post<User>('/auth/register', userData);\r\n  }\r\n\r\n  async logout(): Promise<void> {\r\n    try {\r\n      await this.post('/auth/logout');\r\n    } finally {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n      }\r\n    }\r\n  }\r\n\r\n  async refreshToken(): Promise<ApiResponse<{ access_token: string }>> {\r\n    if (typeof window === 'undefined') throw new Error('Token refresh is client only');\r\n    const token = localStorage.getItem('access_token');\r\n    if (!token) throw new Error('No token to refresh');\r\n    const response = await this.client.post('/auth/refresh', { token });\r\n    const normalized = this.normalizeResponse<{ access_token: string }>(response.data);\r\n    localStorage.setItem('access_token', normalized.data.access_token);\r\n    return normalized;\r\n  }\r\n\r\n  async generateOTP(): Promise<ApiResponse<{ otp_code: string; message: string }>> {\r\n    return this.post('/auth/generate-otp');\r\n  }\r\n\r\n  async verifyOTP(otp_code: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/verify-otp', { otp_code });\r\n  }\r\n\r\n  async requestOTP(email: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/request-otp', { email });\r\n  }\r\n\r\n  async resetPassword(email: string, code: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/reset-password', { email, code, newPassword });\r\n  }\r\n\r\n  // User endpoints\r\n  async getCurrentUser(): Promise<ApiResponse<User>> {\r\n    return this.get('/users/me');\r\n  }\r\n\r\n  async updateCurrentUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put('/users/me', userData);\r\n  }\r\n\r\n  async changePassword(currentPassword: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/users/me/change-password', { current_password: currentPassword, new_password: newPassword });\r\n  }\r\n\r\n  async getUsers(): Promise<ApiResponse<User[]>> {\r\n    try {\r\n      const response = await this.get<User[]>('/users/');\r\n      // Ensure we always return an array\r\n      if (Array.isArray(response.data)) {\r\n        return response;\r\n      }\r\n      return { ...response, data: [] };\r\n    } catch (error: unknown) {\r\n      const axiosError = error as { response?: { status?: number } };\r\n      if (axiosError.response?.status === 403) {\r\n        // Return empty array instead of throwing for 403 on list endpoint\r\n        // This allows the UI to handle permission errors gracefully\r\n        return { data: [] };\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getUser(userId: number): Promise<ApiResponse<User>> {\r\n    try {\r\n      return await this.get(`/users/${userId}`);\r\n    } catch (error: unknown) {\r\n      // Provide better error context for user fetch failures\r\n      const axiosError = error as { response?: { status?: number; data?: { detail?: string } } };\r\n      if (axiosError.response?.status === 403) {\r\n        const detail = axiosError.response.data?.detail || 'Insufficient permissions';\r\n        const enhancedError = new Error(`Cannot access user ${userId}: ${detail}`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      if (axiosError.response?.status === 404) {\r\n        const enhancedError = new Error(`User ${userId} not found`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getSubordinates(userId: number): Promise<ApiResponse<User[]>> {\r\n    return this.get(`/users/${userId}/subordinates`);\r\n  }\r\n\r\n  async createUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    try {\r\n      return await this.post('/users', userData);\r\n    } catch (error: unknown) {\r\n      // Provide better error context for user creation failures\r\n      const axiosError = error as { response?: { status?: number; data?: { detail?: string } } };\r\n      if (axiosError.response?.status === 403) {\r\n        const detail = axiosError.response.data?.detail || 'Insufficient permissions';\r\n        const enhancedError = new Error(`Cannot create user: ${detail}. You may not have permission to create users with this role.`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      if (axiosError.response?.status === 400) {\r\n        const detail = axiosError.response.data?.detail || 'Invalid user data';\r\n        const enhancedError = new Error(`Failed to create user: ${detail}`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a subordinate (accountant or employee)\r\n   * Used by finance managers to create accountants/employees\r\n   */\r\n  async createSubordinate(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post('/users/subordinates', userData);\r\n  }\r\n\r\n  async updateUser(userId: number, userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put(`/users/${userId}`, userData);\r\n  }\r\n\r\n  async deleteUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/delete`, { password });\r\n  }\r\n\r\n  async activateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/deactivate`, { password });\r\n  }\r\n\r\n  // Permission endpoints\r\n  async getUserPermissions(userId: number): Promise<ApiResponse<{ permissions: string[] }>> {\r\n    return this.get(`/users/${userId}/permissions`);\r\n  }\r\n\r\n  async updateUserPermissions(userId: number, permissions: string[]): Promise<ApiResponse<{ message: string; permissions: string[] }>> {\r\n    return this.put(`/users/${userId}/permissions`, { permissions });\r\n  }\r\n\r\n  // Financial endpoints\r\n  async getRevenues(filters?: Filters): Promise<ApiResponse<RevenueRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/revenue', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getRevenue(revenueId: number): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.get(`/revenue/${revenueId}`);\r\n  }\r\n\r\n  async createRevenue(revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.post('/revenue', revenueData);\r\n  }\r\n\r\n  async updateRevenue(revenueId: number, revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.put(`/revenue/${revenueId}`, revenueData);\r\n  }\r\n\r\n  async deleteRevenue(revenueId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/revenue/${revenueId}/delete`, { password });\r\n  }\r\n\r\n  async getExpenses(filters?: Filters): Promise<ApiResponse<ExpenseRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/expenses', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getExpense(expenseId: number): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.get(`/expenses/${expenseId}`);\r\n  }\r\n\r\n  async createExpense(expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.post('/expenses', expenseData);\r\n  }\r\n\r\n  async updateExpense(expenseId: number, expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.put(`/expenses/${expenseId}`, expenseData);\r\n  }\r\n\r\n  async deleteExpense(expenseId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/expenses/${expenseId}/delete`, { password });\r\n  }\r\n\r\n  // Transactions (combined revenues and expenses)\r\n  async getTransactions(): Promise<ApiResponse<TransactionRecord[]>> {\r\n    try {\r\n      const [revenuesResponse, expensesResponse] = await Promise.all([\r\n        this.getRevenues(),\r\n        this.getExpenses(),\r\n      ]);\r\n\r\n      const revenues = (revenuesResponse.data || []).map((r: RevenueRecord): TransactionRecord => ({\r\n        ...r,\r\n        transaction_type: 'revenue',\r\n        id: `revenue-${r.id}`,\r\n      }));\r\n\r\n      const expenses = (expensesResponse.data || []).map((e: ExpenseRecord): TransactionRecord => ({\r\n        ...e,\r\n        transaction_type: 'expense',\r\n        id: `expense-${e.id}`,\r\n        amount: -Math.abs(Number(e.amount ?? 0)), // Make expenses negative\r\n      }));\r\n\r\n      const transactions = [...revenues, ...expenses].sort((a, b) => {\r\n        const dateA = new Date(a.date || a.created_at || 0).getTime();\r\n        const dateB = new Date(b.date || b.created_at || 0).getTime();\r\n        return dateB - dateA; // Most recent first\r\n      });\r\n\r\n      return { data: transactions };\r\n    } catch (error) {\r\n      // Error handled by caller\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Dashboard\r\n  async getDashboardOverview(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/overview');\r\n  }\r\n\r\n  async getDashboardKPIs(period: 'week' | 'month' | 'quarter' | 'year' = 'month'): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/kpis', { params: { period } });\r\n  }\r\n\r\n  async getDashboardRecentActivity(limit = 10): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/dashboard/recent-activity', { params: { limit } });\r\n  }\r\n\r\n  // Analytics\r\n  async getAdvancedKPIs(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/kpis', { params });\r\n  }\r\n\r\n  async getTrendAnalysis(params?: {\r\n    metric?: 'revenue' | 'expenses' | 'profit';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/trends', { params });\r\n  }\r\n\r\n  async getTimeSeriesData(params?: {\r\n    interval?: 'day' | 'week' | 'month' | 'quarter' | 'year';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/time-series', { params });\r\n  }\r\n\r\n  async getCategoryBreakdown(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/category-breakdown', { params });\r\n  }\r\n\r\n  async getAnalyticsOverview(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get('/analytics/overview', { params });\r\n  }\r\n\r\n  // Reports\r\n  async getReports(filters?: Filters): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    return this.get('/reports', { params: filters });\r\n  }\r\n\r\n  async getReport(reportId: number): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get(`/reports/${reportId}`);\r\n  }\r\n\r\n  async createReport(reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.post('/reports', reportData);\r\n  }\r\n\r\n  async updateReport(reportId: number, reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.put(`/reports/${reportId}`, reportData);\r\n  }\r\n\r\n  async deleteReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/reports/${reportId}`);\r\n  }\r\n\r\n  async downloadReport(reportId: number): Promise<ApiResponse<{ download_url: string; file_size: number; filename: string }>> {\r\n    return this.post(`/reports/${reportId}/download`);\r\n  }\r\n\r\n  async regenerateReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/reports/${reportId}/regenerate`);\r\n  }\r\n\r\n  async getAvailableReportTypes(): Promise<ApiResponse<{ report_types: Array<{ type: string; name: string; description: string }> }>> {\r\n    return this.get('/reports/types/available');\r\n  }\r\n\r\n  // Financial Reports - Direct data fetching\r\n  async getIncomeStatement(startDate?: string, endDate?: string): Promise<ApiResponse<Record<string, unknown>>> {\r\n    const params: Filters = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n    \r\n    // Fetch revenue and expense data to calculate income statement\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n      \r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate totals - ONLY from approved entries\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n\r\n    // Group by category - handle both enum and string categories - ONLY from approved entries\r\n    const revenueByCategory: Record<string, number> = {};\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const catValue =\r\n        r.category && typeof r.category === 'object' && 'value' in r.category\r\n          ? (r.category as { value?: unknown }).value\r\n          : r.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      revenueByCategory[catKey] = (revenueByCategory[catKey] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const catValue =\r\n        e.category && typeof e.category === 'object' && 'value' in e.category\r\n          ? (e.category as { value?: unknown }).value\r\n          : e.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      expenseByCategory[catKey] = (expenseByCategory[catKey] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        revenue: {\r\n          total: totalRevenue,\r\n          by_category: revenueByCategory,\r\n        },\r\n        expenses: {\r\n          total: totalExpenses,\r\n          by_category: expenseByCategory,\r\n        },\r\n        profit,\r\n        profit_margin: totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0,\r\n      },\r\n    };\r\n  }\r\n\r\n  async getCashFlow(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    summary: { total_inflow: number; total_outflow: number; net_cash_flow: number };\r\n    daily_cash_flow: Record<string, { inflow: number; outflow: number; net: number }>;\r\n  }>> {\r\n    const params: Record<string, unknown> = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n    \r\n    // Fetch revenue and expense data to calculate cash flow\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([this.getRevenues(), this.getExpenses()]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures cash flow is only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate daily cash flow - ONLY from approved entries\r\n    const cashFlowByDay: Record<string, { inflow: number; outflow: number; net: number }> = {};\r\n    \r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = r.date || r.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(r.amount || 0);\r\n      cashFlowByDay[day].inflow += amount;\r\n      cashFlowByDay[day].net += amount;\r\n    });\r\n\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = e.date || e.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(e.amount || 0);\r\n      cashFlowByDay[day].outflow += amount;\r\n      cashFlowByDay[day].net -= amount;\r\n    });\r\n\r\n    const totalInflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.inflow, 0);\r\n    const totalOutflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.outflow, 0);\r\n    const netCashFlow = totalInflow - totalOutflow;\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        summary: {\r\n          total_inflow: totalInflow,\r\n          total_outflow: totalOutflow,\r\n          net_cash_flow: netCashFlow,\r\n        },\r\n        daily_cash_flow: cashFlowByDay,\r\n      },\r\n    };\r\n  }\r\n\r\n  // Financial Summary Report\r\n  async getFinancialSummary(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    financials: {\r\n      total_revenue: number;\r\n      total_expenses: number;\r\n      profit: number;\r\n      profit_margin: number;\r\n    };\r\n    revenue_by_category: Record<string, number>;\r\n    expenses_by_category: Record<string, number>;\r\n    transaction_counts: { revenue: number; expenses: number; total: number };\r\n    generated_at: string;\r\n  }>> {\r\n    // Always fetch all data first, then calculate summary\r\n    const [allRevenuesRes, allExpensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = allRevenuesRes.data || [];\r\n    let expenses = allExpensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n    \r\n    // Filter to only include APPROVED revenue entries for calculations\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    \r\n    // Filter to only include APPROVED expense entries for calculations\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate totals from filtered data - ONLY approved revenue and expenses\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n    const profitMargin = totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0;\r\n\r\n    // Process category summaries - ONLY from approved revenue\r\n    const revenueByCategory: Record<string, number> = {};\r\n    const normalizeCategory = (raw: unknown): string => {\r\n      if (typeof raw === 'string') return raw || 'other';\r\n      if (raw && typeof raw === 'object' && 'value' in raw) {\r\n        const value = (raw as { value?: unknown }).value;\r\n        return typeof value === 'string' ? value : String(value ?? 'other');\r\n      }\r\n      return String(raw ?? 'other');\r\n    };\r\n\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const cat = normalizeCategory(r.category);\r\n      revenueByCategory[cat] = (revenueByCategory[cat] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    // Process category summaries - ONLY from approved expenses\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const cat = normalizeCategory(e.category);\r\n      expenseByCategory[cat] = (expenseByCategory[cat] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    // Calculate actual transaction counts - ONLY approved items\r\n    const revenueCount = approvedRevenues.length;\r\n    const expenseCount = approvedExpenses.length;\r\n\r\n    const result = {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        financials: {\r\n          total_revenue: totalRevenue,\r\n          total_expenses: totalExpenses,\r\n          profit,\r\n          profit_margin: profitMargin,\r\n        },\r\n        revenue_by_category: revenueByCategory,\r\n        expenses_by_category: expenseByCategory,\r\n        transaction_counts: {\r\n          revenue: revenueCount,\r\n          expenses: expenseCount,\r\n          total: revenueCount + expenseCount,\r\n        },\r\n        generated_at: new Date().toISOString(),\r\n      },\r\n    };\r\n\r\n    return result;\r\n  }\r\n\r\n  // Approvals\r\n  async getApprovals(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/approvals');\r\n  }\r\n\r\n  async getApproval(approvalId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/approvals/${approvalId}`);\r\n  }\r\n\r\n  async getApprovalComments(approvalId: number): Promise<ApiResponse<unknown[]>> {\r\n    return this.get(`/approvals/${approvalId}/comments`);\r\n  }\r\n\r\n  async createApprovalComment(approvalId: number, comment: string): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${approvalId}/comments`, { comment });\r\n  }\r\n\r\n  async approveItem(itemId: number, itemType: 'revenue' | 'expense'): Promise<ApiResponse<unknown>> {\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/approve`);\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/approve`);\r\n    }\r\n  }\r\n\r\n  async rejectItem(\r\n    itemId: number,\r\n    itemType: 'revenue' | 'expense',\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // Reject revenue or expense entry through their respective endpoints\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    }\r\n  }\r\n\r\n  async approveWorkflow(workflowId: number): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/approve`);\r\n  }\r\n\r\n  async rejectWorkflow(\r\n    workflowId: number,\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/reject`, { rejection_reason: reason, password });\r\n  }\r\n\r\n  // Notifications\r\n  async getNotifications(unreadOnly?: boolean): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/notifications', { params: { unread_only: unreadOnly } });\r\n  }\r\n\r\n  async getNotification(notificationId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async markNotificationAsRead(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/notifications/${notificationId}/mark-read`);\r\n  }\r\n\r\n  async markAllNotificationsAsRead(): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/notifications/mark-all-read');\r\n  }\r\n\r\n  async deleteNotification(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async getUnreadCount(): Promise<ApiResponse<{ unread_count: number }>> {\r\n    return this.get('/notifications/unread/count');\r\n  }\r\n\r\n  async getNotificationPreferences(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/notifications/preferences');\r\n  }\r\n\r\n  async updateNotificationPreferences(\r\n    preferences: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put('/notifications/preferences', preferences);\r\n  }\r\n\r\n  // Admin endpoints\r\n  async getAdminSystemStats(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/system/stats');\r\n  }\r\n\r\n  async getSystemSettings(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/settings');\r\n  }\r\n\r\n  async getSystemHealth(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/health');\r\n  }\r\n\r\n  async getHierarchy(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/hierarchy');\r\n  }\r\n\r\n  async getRoles(): Promise<ApiResponse<ApiRole[]>> {\r\n    return this.get('/admin/roles');\r\n  }\r\n\r\n  async getPermissions(): Promise<ApiResponse<string[]>> {\r\n    return this.get('/admin/permissions');\r\n  }\r\n\r\n  async createRole(roleData: { name: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.post('/admin/roles', payload);\r\n  }\r\n\r\n  async updateRole(roleId: number, roleData: { name?: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.put(`/admin/roles/${roleId}`, payload);\r\n  }\r\n\r\n  async deleteRole(roleId: number): Promise<ApiResponse<null>> {\r\n    return this.delete(`/admin/roles/${roleId}`);\r\n  }\r\n\r\n  // Backup endpoints\r\n  async createBackup(includeFiles: boolean = false): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/create', null, {\r\n      params: { include_files: includeFiles }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async listBackups(): Promise<ApiResponse<{ backups: unknown[] }>> {\r\n    return this.get('/admin/backup/list');\r\n  }\r\n\r\n  async restoreBackup(backupName: string): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/restore', null, {\r\n      params: { backup_name: backupName }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async deleteBackup(backupName: string, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/admin/backup/${encodeURIComponent(backupName)}/delete`, { password });\r\n  }\r\n\r\n  async getVerificationHistory(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/users/me/verification-history');\r\n  }\r\n\r\n  // 2FA endpoints\r\n  async get2FAStatus(): Promise<ApiResponse<{ enabled: boolean }>> {\r\n    return this.get('/users/me/2fa/status');\r\n  }\r\n\r\n  async setup2FA(): Promise<ApiResponse<{ secret: string; qr_code_url: string; manual_entry_key: string }>> {\r\n    return this.post('/users/me/2fa/setup');\r\n  }\r\n\r\n  async verify2FA(code: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/verify', { code });\r\n  }\r\n\r\n  async disable2FA(currentPassword: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/disable', { current_password: currentPassword });\r\n  }\r\n\r\n  // IP Restriction endpoints\r\n  async getIPRestrictionStatus(): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.get('/users/me/ip-restriction');\r\n  }\r\n\r\n  async updateIPRestriction(enabled: boolean): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.put('/users/me/ip-restriction', { enabled });\r\n  }\r\n\r\n  async addAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.post('/users/me/ip-restriction/allowed-ips', { ip_address: ipAddress });\r\n  }\r\n\r\n  async removeAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.delete(`/users/me/ip-restriction/allowed-ips/${encodeURIComponent(ipAddress)}`);\r\n  }\r\n\r\n  async triggerBackup(includeFiles = false): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/admin/backup/create', undefined, { params: { include_files: includeFiles } });\r\n  }\r\n\r\n  // Department endpoints\r\n  async getDepartments(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/departments');\r\n  }\r\n\r\n  async getDepartment(departmentId: string | number): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.get(`/departments/${encodedId}`);\r\n  }\r\n\r\n  async createDepartment(departmentData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/departments', departmentData);\r\n  }\r\n\r\n  async updateDepartment(\r\n    departmentId: string | number,\r\n    departmentData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.put(`/departments/${encodedId}`, departmentData);\r\n  }\r\n\r\n  async deleteDepartment(\r\n    departmentId: string | number,\r\n    password: string,\r\n  ): Promise<ApiResponse<{ message: string }>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.post(`/departments/${encodedId}/delete`, { password });\r\n  }\r\n\r\n  // Project endpoints\r\n  async getProjects(filters?: Record<string, unknown>): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/projects', { params: filters });\r\n  }\r\n\r\n  async getProject(projectId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/projects/${projectId}`);\r\n  }\r\n\r\n  async createProject(projectData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/projects', projectData);\r\n  }\r\n\r\n  async updateProject(\r\n    projectId: number,\r\n    projectData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put(`/projects/${projectId}`, projectData);\r\n  }\r\n\r\n  async deleteProject(projectId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/projects/${projectId}/delete`, { password });\r\n  }\r\n\r\n  // Audit Logs endpoints (Admin only)\r\n  async getAuditLogs(filters?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    user_id?: number;\r\n    action?: string;\r\n    resource_type?: string;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    const params: Record<string, unknown> = {};\r\n    if (filters) {\r\n      if (filters.skip !== undefined) params.skip = filters.skip;\r\n      if (filters.limit !== undefined) params.limit = filters.limit;\r\n      if (filters.user_id !== undefined) params.user_id = filters.user_id;\r\n      if (filters.action) params.action = filters.action;\r\n      if (filters.resource_type) params.resource_type = filters.resource_type;\r\n      if (filters.start_date) {\r\n        // Convert to ISO format for backend\r\n        const start = new Date(filters.start_date + 'T00:00:00');\r\n        params.start_date = start.toISOString();\r\n      }\r\n      if (filters.end_date) {\r\n        // Convert to ISO format for backend\r\n        const end = new Date(filters.end_date + 'T23:59:59');\r\n        params.end_date = end.toISOString();\r\n      }\r\n    }\r\n    return this.get('/admin/audit/logs', { params });\r\n  }\r\n\r\n  // ============================================================================\r\n  // BUDGETING & FORECASTING (FP&A)\r\n  // ============================================================================\r\n\r\n  // Budget Management\r\n  async getBudgets(params?: { skip?: number; limit?: number; status?: string; department?: string }) {\r\n    return this.get('/budgeting/budgets', { params });\r\n  }\r\n\r\n  async getBudget(id: number) {\r\n    return this.get(`/budgeting/budgets/${id}`);\r\n  }\r\n\r\n  async createBudget(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/budgets', data);\r\n  }\r\n\r\n  async createBudgetFromTemplate(templateName: string, data: Record<string, unknown>) {\r\n    const params: Record<string, unknown> = {\r\n      template_name: templateName\r\n    };\r\n    if (data.name) params.name = data.name;\r\n    if (data.start_date) params.start_date = data.start_date;\r\n    if (data.end_date) params.end_date = data.end_date;\r\n    if (data.department) params.department = data.department;\r\n    if (data.project) params.project = data.project;\r\n    \r\n    return this.post(`/budgeting/budgets/from-template`, {}, { params });\r\n  }\r\n\r\n  async updateBudget(id: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${id}`, data);\r\n  }\r\n\r\n  async deleteBudget(id: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${id}/delete`, { password });\r\n  }\r\n\r\n  async validateBudget(id: number) {\r\n    return this.post(`/budgeting/budgets/${id}/validate`);\r\n  }\r\n\r\n  // Budget Items\r\n  async getBudgetItems(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/items`);\r\n  }\r\n\r\n  async createBudgetItem(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items`, data);\r\n  }\r\n\r\n  async updateBudgetItem(budgetId: number, itemId: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${budgetId}/items/${itemId}`, data);\r\n  }\r\n\r\n  async deleteBudgetItem(budgetId: number, itemId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  // Scenario Planning\r\n  async getScenarios(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/scenarios`);\r\n  }\r\n\r\n  async createScenario(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios`, data);\r\n  }\r\n\r\n  async compareScenarios(budgetId: number, scenarioIds: number[]) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/compare`, { scenario_ids: scenarioIds });\r\n  }\r\n\r\n  async deleteScenario(budgetId: number, scenarioId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/${scenarioId}/delete`, { password });\r\n  }\r\n\r\n  // Forecasting\r\n  async getForecasts(params?: { skip?: number; limit?: number }) {\r\n    // Always provide explicit defaults to match backend expectations\r\n    const queryParams = {\r\n      skip: params?.skip !== undefined && params.skip >= 0 ? params.skip : 0,\r\n      limit: params?.limit !== undefined && params.limit >= 1 && params.limit <= 1000 ? params.limit : 100\r\n    };\r\n    \r\n    return this.get('/budgeting/forecasts', { params: queryParams });\r\n  }\r\n\r\n  async createForecast(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/forecasts', data);\r\n  }\r\n\r\n  async getForecast(id: number) {\r\n    return this.get(`/budgeting/forecasts/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Update a forecast\r\n   * @param id - Forecast ID\r\n   * @param data - Forecast update data (name, description, and optionally forecast_data)\r\n   */\r\n  async updateForecast(\r\n    id: number,\r\n    data: {\r\n      name?: string;\r\n      description?: string;\r\n      forecast_data?: Array<{\r\n        period?: string;\r\n        date?: string;\r\n        forecasted_value?: number;\r\n        method?: string;\r\n      }>;\r\n    },\r\n  ) {\r\n    return this.put(`/budgeting/forecasts/${id}`, data);\r\n  }\r\n\r\n  async deleteForecast(id: number, password: string) {\r\n    return this.post(`/budgeting/forecasts/${id}/delete`, { password });\r\n  }\r\n\r\n  // ============================================================================\r\n  // AI/ML MODEL TRAINING\r\n  // ============================================================================\r\n\r\n  /**\r\n   * Train all AI/ML models\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   */\r\n  async trainAllModels(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/all',\r\n      params: { start_date: startDate, end_date: endDate }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train ARIMA model for expenses\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   * @param order - ARIMA order (p,d,q) as string \"p,d,q\"\r\n   */\r\n  async trainExpensesArima(startDate: string, endDate: string, order: string = \"1,1,1\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/arima',\r\n      params: { start_date: startDate, end_date: endDate, order },\r\n      timeout: 120000 // 2 minutes for ARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for expenses\r\n   */\r\n  async trainExpensesProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Linear Regression model for expenses\r\n   */\r\n  async trainExpensesLinearRegression(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/linear-regression',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for revenue\r\n   */\r\n  async trainRevenueProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for revenue\r\n   */\r\n  async trainRevenueXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for revenue\r\n   */\r\n  async trainRevenueLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train SARIMA model for inventory\r\n   */\r\n  async trainInventorySARIMA(startDate: string, endDate: string, order: string = \"1,1,1\", seasonalOrder: string = \"1,1,1,12\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/sarima',\r\n      params: { start_date: startDate, end_date: endDate, order, seasonal_order: seasonalOrder },\r\n      timeout: 180000 // 3 minutes for SARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for inventory\r\n   */\r\n  async trainInventoryXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for inventory\r\n   */\r\n  async trainInventoryLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get auto-learning status and statistics\r\n   */\r\n  async getAutoLearnStatus() {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/auto-learn/status'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Manually trigger auto-learning for a metric\r\n   * @param metric - 'expense', 'revenue', or 'inventory'\r\n   */\r\n  async triggerAutoLearn(metric: 'expense' | 'revenue' | 'inventory') {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: `/budgeting/ml/auto-learn/trigger/${metric}`,\r\n      timeout: 300000 // 5 minutes for training\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get list of all trained models\r\n   * @param metric - Optional filter by metric\r\n   */\r\n  async getTrainedModels(metric?: 'expense' | 'revenue' | 'inventory') {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/models',\r\n      params: metric ? { metric } : {}\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get ML scheduler status and scheduled jobs\r\n   */\r\n  async getSchedulerStatus() {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/scheduler/status'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Generate forecast with AI-powered advice and recommendations\r\n   * @param metric - 'expense', 'revenue', or 'inventory'\r\n   * @param modelType - 'arima', 'sarima', 'prophet', 'xgboost', 'lstm', 'linear_regression'\r\n   * @param periods - Number of periods to forecast\r\n   */\r\n  async generateForecastWithAdvice(\r\n    metric: 'expense' | 'revenue' | 'inventory',\r\n    modelType: 'arima' | 'sarima' | 'prophet' | 'xgboost' | 'lstm' | 'linear_regression',\r\n    periods: number = 12\r\n  ) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/forecast/with-advice',\r\n      params: { metric, model_type: modelType, periods },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  // Variance Analysis\r\n  async calculateVariance(budgetId: number, periodStart: string, periodEnd: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/variance`, {}, {\r\n      params: { period_start: periodStart, period_end: periodEnd }\r\n    });\r\n  }\r\n\r\n  async getVarianceHistory(budgetId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance`, { params });\r\n  }\r\n\r\n  async getVarianceSummary(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance/summary`);\r\n  }\r\n\r\n  // ============================================================================\r\n  // INVENTORY MANAGEMENT API\r\n  // ============================================================================\r\n  \r\n  async createInventoryItem(itemData: {\r\n    item_name: string;\r\n    buying_price: number;\r\n    expense_amount?: number;\r\n    selling_price: number;\r\n    quantity: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.post('/inventory/items', itemData);\r\n  }\r\n\r\n  async getInventoryItems(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    category?: string;\r\n    is_active?: boolean;\r\n    search?: string;\r\n  }) {\r\n    return this.get('/inventory/items', { params });\r\n  }\r\n\r\n  async getInventoryItem(itemId: number) {\r\n    return this.get(`/inventory/items/${itemId}`);\r\n  }\r\n\r\n  async updateInventoryItem(itemId: number, itemData: {\r\n    item_name?: string;\r\n    buying_price?: number;\r\n    expense_amount?: number;\r\n    selling_price?: number;\r\n    quantity?: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.put(`/inventory/items/${itemId}`, itemData);\r\n  }\r\n\r\n  async deleteInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  async activateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/deactivate`, { password });\r\n  }\r\n\r\n  async getInventoryAuditLogs(itemId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/inventory/items/${itemId}/audit`, { params });\r\n  }\r\n\r\n  async getLowStockItems(threshold?: number) {\r\n    return this.get('/inventory/items/low-stock/list', { params: { threshold } });\r\n  }\r\n\r\n  async getInventorySummary() {\r\n    return this.get('/inventory/summary');\r\n  }\r\n\r\n  // ============================================================================\r\n  // SALES API\r\n  // ============================================================================\r\n\r\n  async createSale(saleData: {\r\n    item_id: number;\r\n    quantity_sold: number;\r\n    customer_name?: string;\r\n    customer_email?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post('/sales/', saleData);\r\n  }\r\n\r\n  async getSales(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    status?: 'pending' | 'posted' | 'cancelled';\r\n    item_id?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    // Enforce backend maximum limit of 1000 to prevent 422 errors\r\n    // Backend has a hard limit of 1000 (le=1000), so cap any higher values\r\n    let safeLimit: number | undefined = params?.limit;\r\n    if (safeLimit !== undefined && safeLimit > 1000) {\r\n      console.warn(`getSales: Limit ${safeLimit} exceeds backend maximum of 1000. Capping to 1000.`);\r\n      safeLimit = 1000;\r\n    }\r\n    \r\n    const safeParams = params ? {\r\n      ...params,\r\n      limit: safeLimit\r\n    } : undefined;\r\n    \r\n    return this.get('/sales', { params: safeParams });\r\n  }\r\n\r\n  async getSale(saleId: number) {\r\n    return this.get(`/sales/${saleId}`);\r\n  }\r\n\r\n  async postSale(saleId: number, postData: {\r\n    debit_account?: string;\r\n    credit_account?: string;\r\n    reference_number?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post(`/sales/${saleId}/post`, postData);\r\n  }\r\n\r\n  async cancelSale(saleId: number) {\r\n    return this.post(`/sales/${saleId}/cancel`, {});\r\n  }\r\n\r\n  async getSalesSummary(params?: { start_date?: string; end_date?: string }) {\r\n    return this.get('/sales/summary/overview', { params });\r\n  }\r\n\r\n  async getReceipt(saleId: number) {\r\n    return this.get(`/sales/receipt/${saleId}`);\r\n  }\r\n\r\n  async getJournalEntries(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    return this.get('/sales/journal-entries/list', { params });\r\n  }\r\n\r\n  /**\r\n   * Submit a contact/support message\r\n   * You can override the endpoint path with NEXT_PUBLIC_CONTACT_ENDPOINT (e.g. \"/contact\")\r\n   * Note: The base URL already includes /api/v1, so the path should be relative to that\r\n   */\r\n  async submitContact(payload: { name: string; email: string; message: string }) {\r\n    const contactPath = process.env.NEXT_PUBLIC_CONTACT_ENDPOINT || '/contact';\r\n    return this.post(contactPath, payload);\r\n  }\r\n\r\n  // Generic request method\r\n  async request<T = unknown>(config: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.request<T>(config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n}\r\n\r\nexport const apiClient = new ApiClient();\r\nexport default apiClient;"],"names":[],"mappings":"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","debugId":null}},
frontend/.next/dev/server/chunks/ssr/[root-of-the-server]__ea55284f._.js:    async getFinancialSummary(startDate, endDate) {
frontend/.next/dev/server/chunks/ssr/[root-of-the-server]__ea55284f._.js.map:    {"offset": {"line": 603, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASHROCK/Desktop/pro%2B/project3/project1/frontend/lib/api.ts"],"sourcesContent":["// lib/api.ts\r\n'use client';\r\n\r\nimport axios, { AxiosInstance, AxiosRequestConfig, AxiosError } from 'axios';\r\nimport { logger } from './logger';\r\n\r\nconst DEFAULT_BASE_URL = 'http://localhost:8000/api/v1';\r\nconst API_BASE_URL = (process.env.NEXT_PUBLIC_API_URL || DEFAULT_BASE_URL).replace(/\\/$/, '');\r\n\r\ninterface ApiResponse<T = unknown> {\r\n  success?: boolean;\r\n  data: T;\r\n  message?: string;\r\n  error?: string;\r\n}\r\n\r\ntype Filters = Record<string, string | number | boolean | undefined>;\r\ntype RevenueRecord = {\r\n  id?: number | string;\r\n  amount?: number;\r\n  date?: string;\r\n  created_at?: string;\r\n  [key: string]: unknown;\r\n};\r\ntype ExpenseRecord = RevenueRecord;\r\ntype TransactionRecord = (RevenueRecord | ExpenseRecord) & {\r\n  transaction_type: 'revenue' | 'expense';\r\n};\r\n\r\ninterface AuthTokens {\r\n  access_token: string;\r\n  token_type: string;\r\n}\r\n\r\ninterface User {\r\n  id: number;\r\n  email: string;\r\n  username?: string;\r\n  full_name: string;\r\n  role: string;\r\n  department?: string;\r\n  phone?: string | null;\r\n  is_active: boolean;\r\n  created_at?: string;\r\n  manager_id?: number;\r\n}\r\n\r\ntype LoginResponse = AuthTokens & { user: User };\r\nexport type ApiUser = User;\r\nexport interface ApiRole {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  permissions?: string[];\r\n  user_count?: number;\r\n  permission_count?: number;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nclass ApiClient {\r\n  private client: AxiosInstance;\r\n\r\n  constructor() {\r\n    this.client = axios.create({\r\n      baseURL: API_BASE_URL,\r\n      timeout: 300000, // 5 minutes timeout for ML training requests (can take longer)\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    this.setupInterceptors();\r\n  }\r\n\r\n  private setupInterceptors() {\r\n    this.client.interceptors.request.use(\r\n      (config) => {\r\n        if (typeof window !== 'undefined') {\r\n          const token = localStorage.getItem('access_token');\r\n          if (token) {\r\n            config.headers = config.headers ?? {};\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n          }\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(error),\r\n    );\r\n\r\n    this.client.interceptors.response.use(\r\n      (response) => response,\r\n      async (error) => {\r\n        const originalRequest = error.config;\r\n        const requestUrl = originalRequest?.url || '';\r\n        \r\n        // Handle 401 Unauthorized - but DON'T redirect on login endpoint\r\n        // The login page handles its own error states and redirects\r\n        if (error.response?.status === 401 && !originalRequest?._retry) {\r\n          originalRequest._retry = true;\r\n          if (typeof window !== 'undefined') {\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n            \r\n            // Only redirect if NOT on the login endpoint\r\n            // Login endpoint errors should be handled by the login page component\r\n            const isLoginEndpoint = requestUrl.includes('/auth/login-json') || \r\n                                   requestUrl.includes('/auth/login');\r\n            \r\n            if (!isLoginEndpoint && !window.location.pathname.includes('/auth/login')) {\r\n              // Redirect to home page for other 401 errors (not login-related)\r\n              window.location.href = '/';\r\n            }\r\n            // For login endpoint 401s, let the error propagate to the component\r\n          }\r\n        }\r\n        \r\n        // Handle 403 Forbidden - user doesn't have permission\r\n        if (error.response?.status === 403) {\r\n          const url = error.config?.url || '';\r\n          // Suppress warnings for expected 403s on role-restricted endpoints\r\n          // These are handled gracefully by the calling code\r\n          const suppressWarnings = url.includes('/inventory/summary') || \r\n                                   url.includes('/sales/summary') || \r\n                                   url.includes('/sales/summary/overview') ||\r\n                                   url.includes('/sales/journal-entries') ||\r\n                                   url.includes('/backup');\r\n          \r\n          if (!suppressWarnings && typeof window !== 'undefined') {\r\n              console.warn('Access forbidden:', error.response?.data?.detail || 'Insufficient permissions');\r\n          }\r\n        }\r\n        \r\n        // Handle 404 Not Found - suppress console warnings for non-critical endpoints\r\n        if (error.response?.status === 404) {\r\n          const url = error.config?.url || '';\r\n          // Only log 404s in development mode to reduce console noise\r\n          if (process.env.NODE_ENV === 'development' && typeof window !== 'undefined') {\r\n            console.warn('Resource not found:', url);\r\n          }\r\n        }\r\n        \r\n        // Handle network errors - suppress repetitive errors for polling endpoints\r\n        if (!error.response) {\r\n          const url = error.config?.url || '';\r\n          // Suppress errors for polling endpoints to reduce console noise\r\n          // These are expected when backend is down\r\n          const isPollingEndpoint = url.includes('/notifications/unread/count') || \r\n                                   url.includes('/dashboard/recent-activity') ||\r\n                                   url.includes('/health');\r\n          \r\n          if (!isPollingEndpoint) {\r\n            // Only log non-polling endpoint errors\r\n            const errorMessage = error.message || 'Network error: Unable to connect to server';\r\n            \r\n            if (process.env.NODE_ENV === 'development') {\r\n              console.error('Network error:', errorMessage);\r\n              \r\n              if (error.code === 'ECONNREFUSED' || error.message?.includes('Network Error')) {\r\n                console.error('Backend server may not be running. Please ensure the backend is running on http://localhost:8000');\r\n              } else if (error.code === 'ERR_NETWORK') {\r\n                console.error('Network request failed. Check your internet connection and backend server status.');\r\n              }\r\n            }\r\n          }\r\n          // Polling endpoint errors are silently handled - they're expected when backend is down\r\n        }\r\n        \r\n        return Promise.reject(error);\r\n      },\r\n    );\r\n  }\r\n\r\n  private normalizeResponse<T>(payload: unknown): ApiResponse<T> {\r\n    if (payload && typeof payload === 'object' && 'data' in payload) {\r\n      return payload as ApiResponse<T>;\r\n    }\r\n    return { data: payload as T };\r\n  }\r\n\r\n  private async get<T>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.get<T>(url, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async post<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.post<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async put<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.put<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async delete<T>(url: string, data?: unknown, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.delete<T>(url, { ...config, data });\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  // Auth endpoints\r\n  async login(identifier: string, password: string): Promise<ApiResponse<LoginResponse>> {\r\n    const response = await this.client.post<LoginResponse>('/auth/login-json', {\r\n      username: identifier,\r\n      password,\r\n    });\r\n    const normalized = this.normalizeResponse<LoginResponse>(response.data);\r\n    \r\n    // Only set token if we have a valid access token and user data\r\n    if (normalized.data?.access_token && normalized.data?.user) {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.setItem('access_token', normalized.data.access_token);\r\n      }\r\n    } else {\r\n      // Clear any existing tokens if response is invalid\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n        localStorage.removeItem('refresh_token');\r\n      }\r\n      throw new Error('Invalid login response: missing access token or user data');\r\n    }\r\n    \r\n    return normalized;\r\n  }\r\n\r\n  async register(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post<User>('/auth/register', userData);\r\n  }\r\n\r\n  async logout(): Promise<void> {\r\n    try {\r\n      await this.post('/auth/logout');\r\n    } finally {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n      }\r\n    }\r\n  }\r\n\r\n  async refreshToken(): Promise<ApiResponse<{ access_token: string }>> {\r\n    if (typeof window === 'undefined') throw new Error('Token refresh is client only');\r\n    const token = localStorage.getItem('access_token');\r\n    if (!token) throw new Error('No token to refresh');\r\n    const response = await this.client.post('/auth/refresh', { token });\r\n    const normalized = this.normalizeResponse<{ access_token: string }>(response.data);\r\n    localStorage.setItem('access_token', normalized.data.access_token);\r\n    return normalized;\r\n  }\r\n\r\n  async generateOTP(): Promise<ApiResponse<{ otp_code: string; message: string }>> {\r\n    return this.post('/auth/generate-otp');\r\n  }\r\n\r\n  async verifyOTP(otp_code: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/verify-otp', { otp_code });\r\n  }\r\n\r\n  async requestOTP(email: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/request-otp', { email });\r\n  }\r\n\r\n  async resetPassword(email: string, code: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/reset-password', { email, code, newPassword });\r\n  }\r\n\r\n  // User endpoints\r\n  async getCurrentUser(): Promise<ApiResponse<User>> {\r\n    return this.get('/users/me');\r\n  }\r\n\r\n  async updateCurrentUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put('/users/me', userData);\r\n  }\r\n\r\n  async changePassword(currentPassword: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/users/me/change-password', { current_password: currentPassword, new_password: newPassword });\r\n  }\r\n\r\n  async getUsers(): Promise<ApiResponse<User[]>> {\r\n    return this.get('/users/');\r\n  }\r\n\r\n  async getUser(userId: number): Promise<ApiResponse<User>> {\r\n    return this.get(`/users/${userId}`);\r\n  }\r\n\r\n  async getSubordinates(userId: number): Promise<ApiResponse<User[]>> {\r\n    return this.get(`/users/${userId}/subordinates`);\r\n  }\r\n\r\n  async createUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post('/users', userData);\r\n  }\r\n\r\n  /**\r\n   * Create a subordinate (accountant or employee)\r\n   * Used by finance managers to create accountants/employees\r\n   */\r\n  async createSubordinate(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post('/users/subordinates', userData);\r\n  }\r\n\r\n  async updateUser(userId: number, userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put(`/users/${userId}`, userData);\r\n  }\r\n\r\n  async deleteUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/delete`, { password });\r\n  }\r\n\r\n  async activateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/deactivate`, { password });\r\n  }\r\n\r\n  // Permission endpoints\r\n  async getUserPermissions(userId: number): Promise<ApiResponse<{ permissions: string[] }>> {\r\n    return this.get(`/users/${userId}/permissions`);\r\n  }\r\n\r\n  async updateUserPermissions(userId: number, permissions: string[]): Promise<ApiResponse<{ message: string; permissions: string[] }>> {\r\n    return this.put(`/users/${userId}/permissions`, { permissions });\r\n  }\r\n\r\n  // Financial endpoints\r\n  async getRevenues(filters?: Filters): Promise<ApiResponse<RevenueRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/revenue', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getRevenue(revenueId: number): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.get(`/revenue/${revenueId}`);\r\n  }\r\n\r\n  async createRevenue(revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.post('/revenue', revenueData);\r\n  }\r\n\r\n  async updateRevenue(revenueId: number, revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.put(`/revenue/${revenueId}`, revenueData);\r\n  }\r\n\r\n  async deleteRevenue(revenueId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/revenue/${revenueId}/delete`, { password });\r\n  }\r\n\r\n  async getExpenses(filters?: Filters): Promise<ApiResponse<ExpenseRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/expenses', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getExpense(expenseId: number): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.get(`/expenses/${expenseId}`);\r\n  }\r\n\r\n  async createExpense(expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.post('/expenses', expenseData);\r\n  }\r\n\r\n  async updateExpense(expenseId: number, expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.put(`/expenses/${expenseId}`, expenseData);\r\n  }\r\n\r\n  async deleteExpense(expenseId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/expenses/${expenseId}/delete`, { password });\r\n  }\r\n\r\n  // Transactions (combined revenues and expenses)\r\n  async getTransactions(): Promise<ApiResponse<TransactionRecord[]>> {\r\n    try {\r\n      const [revenuesResponse, expensesResponse] = await Promise.all([\r\n        this.getRevenues(),\r\n        this.getExpenses(),\r\n      ]);\r\n\r\n      const revenues = (revenuesResponse.data || []).map((r: RevenueRecord): TransactionRecord => ({\r\n        ...r,\r\n        transaction_type: 'revenue',\r\n        id: `revenue-${r.id}`,\r\n      }));\r\n\r\n      const expenses = (expensesResponse.data || []).map((e: ExpenseRecord): TransactionRecord => ({\r\n        ...e,\r\n        transaction_type: 'expense',\r\n        id: `expense-${e.id}`,\r\n        amount: -Math.abs(Number(e.amount ?? 0)), // Make expenses negative\r\n      }));\r\n\r\n      const transactions = [...revenues, ...expenses].sort((a, b) => {\r\n        const dateA = new Date(a.date || a.created_at || 0).getTime();\r\n        const dateB = new Date(b.date || b.created_at || 0).getTime();\r\n        return dateB - dateA; // Most recent first\r\n      });\r\n\r\n      return { data: transactions };\r\n    } catch (error) {\r\n      // Error handled by caller\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Dashboard\r\n  async getDashboardOverview(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/overview');\r\n  }\r\n\r\n  async getDashboardKPIs(period: 'week' | 'month' | 'quarter' | 'year' = 'month'): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/kpis', { params: { period } });\r\n  }\r\n\r\n  async getDashboardRecentActivity(limit = 10): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/dashboard/recent-activity', { params: { limit } });\r\n  }\r\n\r\n  // Analytics\r\n  async getAdvancedKPIs(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/kpis', { params });\r\n  }\r\n\r\n  async getTrendAnalysis(params?: {\r\n    metric?: 'revenue' | 'expenses' | 'profit';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/trends', { params });\r\n  }\r\n\r\n  async getTimeSeriesData(params?: {\r\n    interval?: 'day' | 'week' | 'month' | 'quarter' | 'year';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/time-series', { params });\r\n  }\r\n\r\n  async getCategoryBreakdown(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/category-breakdown', { params });\r\n  }\r\n\r\n  async getAnalyticsOverview(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get('/analytics/overview', { params });\r\n  }\r\n\r\n  // Reports\r\n  async getReports(filters?: Filters): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    return this.get('/reports', { params: filters });\r\n  }\r\n\r\n  async getReport(reportId: number): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get(`/reports/${reportId}`);\r\n  }\r\n\r\n  async createReport(reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.post('/reports', reportData);\r\n  }\r\n\r\n  async updateReport(reportId: number, reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.put(`/reports/${reportId}`, reportData);\r\n  }\r\n\r\n  async deleteReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/reports/${reportId}`);\r\n  }\r\n\r\n  async downloadReport(reportId: number): Promise<ApiResponse<{ download_url: string; file_size: number; filename: string }>> {\r\n    return this.post(`/reports/${reportId}/download`);\r\n  }\r\n\r\n  async regenerateReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/reports/${reportId}/regenerate`);\r\n  }\r\n\r\n  async getAvailableReportTypes(): Promise<ApiResponse<{ report_types: Array<{ type: string; name: string; description: string }> }>> {\r\n    return this.get('/reports/types/available');\r\n  }\r\n\r\n  // Financial Reports - Direct data fetching\r\n  async getIncomeStatement(startDate?: string, endDate?: string): Promise<ApiResponse<Record<string, unknown>>> {\r\n    const params: Filters = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n    \r\n    // Fetch revenue and expense data to calculate income statement\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n      \r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate totals - ONLY from approved entries\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n\r\n    // Group by category - handle both enum and string categories - ONLY from approved entries\r\n    const revenueByCategory: Record<string, number> = {};\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const catValue =\r\n        r.category && typeof r.category === 'object' && 'value' in r.category\r\n          ? (r.category as { value?: unknown }).value\r\n          : r.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      revenueByCategory[catKey] = (revenueByCategory[catKey] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const catValue =\r\n        e.category && typeof e.category === 'object' && 'value' in e.category\r\n          ? (e.category as { value?: unknown }).value\r\n          : e.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      expenseByCategory[catKey] = (expenseByCategory[catKey] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        revenue: {\r\n          total: totalRevenue,\r\n          by_category: revenueByCategory,\r\n        },\r\n        expenses: {\r\n          total: totalExpenses,\r\n          by_category: expenseByCategory,\r\n        },\r\n        profit,\r\n        profit_margin: totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0,\r\n      },\r\n    };\r\n  }\r\n\r\n  async getCashFlow(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    summary: { total_inflow: number; total_outflow: number; net_cash_flow: number };\r\n    daily_cash_flow: Record<string, { inflow: number; outflow: number; net: number }>;\r\n  }>> {\r\n    const params: Record<string, unknown> = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n    \r\n    // Fetch revenue and expense data to calculate cash flow\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([this.getRevenues(), this.getExpenses()]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures cash flow is only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate daily cash flow - ONLY from approved entries\r\n    const cashFlowByDay: Record<string, { inflow: number; outflow: number; net: number }> = {};\r\n    \r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = r.date || r.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(r.amount || 0);\r\n      cashFlowByDay[day].inflow += amount;\r\n      cashFlowByDay[day].net += amount;\r\n    });\r\n\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = e.date || e.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(e.amount || 0);\r\n      cashFlowByDay[day].outflow += amount;\r\n      cashFlowByDay[day].net -= amount;\r\n    });\r\n\r\n    const totalInflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.inflow, 0);\r\n    const totalOutflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.outflow, 0);\r\n    const netCashFlow = totalInflow - totalOutflow;\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        summary: {\r\n          total_inflow: totalInflow,\r\n          total_outflow: totalOutflow,\r\n          net_cash_flow: netCashFlow,\r\n        },\r\n        daily_cash_flow: cashFlowByDay,\r\n      },\r\n    };\r\n  }\r\n\r\n  // Financial Summary Report\r\n  async getFinancialSummary(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    financials: {\r\n      total_revenue: number;\r\n      total_expenses: number;\r\n      profit: number;\r\n      profit_margin: number;\r\n    };\r\n    revenue_by_category: Record<string, number>;\r\n    expenses_by_category: Record<string, number>;\r\n    transaction_counts: { revenue: number; expenses: number; total: number };\r\n    generated_at: string;\r\n  }>> {\r\n    // Always fetch all data first, then calculate summary\r\n    const [allRevenuesRes, allExpensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = allRevenuesRes.data || [];\r\n    let expenses = allExpensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n    \r\n    // Filter to only include APPROVED revenue entries for calculations\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    \r\n    // Filter to only include APPROVED expense entries for calculations\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate totals from filtered data - ONLY approved revenue and expenses\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n    const profitMargin = totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0;\r\n\r\n    // Process category summaries - ONLY from approved revenue\r\n    const revenueByCategory: Record<string, number> = {};\r\n    const normalizeCategory = (raw: unknown): string => {\r\n      if (typeof raw === 'string') return raw || 'other';\r\n      if (raw && typeof raw === 'object' && 'value' in raw) {\r\n        const value = (raw as { value?: unknown }).value;\r\n        return typeof value === 'string' ? value : String(value ?? 'other');\r\n      }\r\n      return String(raw ?? 'other');\r\n    };\r\n\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const cat = normalizeCategory(r.category);\r\n      revenueByCategory[cat] = (revenueByCategory[cat] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    // Process category summaries - ONLY from approved expenses\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const cat = normalizeCategory(e.category);\r\n      expenseByCategory[cat] = (expenseByCategory[cat] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    // Calculate actual transaction counts - ONLY approved items\r\n    const revenueCount = approvedRevenues.length;\r\n    const expenseCount = approvedExpenses.length;\r\n\r\n    const result = {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        financials: {\r\n          total_revenue: totalRevenue,\r\n          total_expenses: totalExpenses,\r\n          profit,\r\n          profit_margin: profitMargin,\r\n        },\r\n        revenue_by_category: revenueByCategory,\r\n        expenses_by_category: expenseByCategory,\r\n        transaction_counts: {\r\n          revenue: revenueCount,\r\n          expenses: expenseCount,\r\n          total: revenueCount + expenseCount,\r\n        },\r\n        generated_at: new Date().toISOString(),\r\n      },\r\n    };\r\n\r\n    return result;\r\n  }\r\n\r\n  // Approvals\r\n  async getApprovals(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/approvals');\r\n  }\r\n\r\n  async getApproval(approvalId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/approvals/${approvalId}`);\r\n  }\r\n\r\n  async getApprovalComments(approvalId: number): Promise<ApiResponse<unknown[]>> {\r\n    return this.get(`/approvals/${approvalId}/comments`);\r\n  }\r\n\r\n  async createApprovalComment(approvalId: number, comment: string): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${approvalId}/comments`, { comment });\r\n  }\r\n\r\n  async approveItem(itemId: number, itemType: 'revenue' | 'expense'): Promise<ApiResponse<unknown>> {\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/approve`);\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/approve`);\r\n    }\r\n  }\r\n\r\n  async rejectItem(\r\n    itemId: number,\r\n    itemType: 'revenue' | 'expense',\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // Reject revenue or expense entry through their respective endpoints\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    }\r\n  }\r\n\r\n  async approveWorkflow(workflowId: number): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/approve`);\r\n  }\r\n\r\n  async rejectWorkflow(\r\n    workflowId: number,\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/reject`, { rejection_reason: reason, password });\r\n  }\r\n\r\n  // Notifications\r\n  async getNotifications(unreadOnly?: boolean): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/notifications', { params: { unread_only: unreadOnly } });\r\n  }\r\n\r\n  async getNotification(notificationId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async markNotificationAsRead(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/notifications/${notificationId}/mark-read`);\r\n  }\r\n\r\n  async markAllNotificationsAsRead(): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/notifications/mark-all-read');\r\n  }\r\n\r\n  async deleteNotification(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async getUnreadCount(): Promise<ApiResponse<{ unread_count: number }>> {\r\n    return this.get('/notifications/unread/count');\r\n  }\r\n\r\n  async getNotificationPreferences(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/notifications/preferences');\r\n  }\r\n\r\n  async updateNotificationPreferences(\r\n    preferences: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put('/notifications/preferences', preferences);\r\n  }\r\n\r\n  // Admin endpoints\r\n  async getAdminSystemStats(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/system/stats');\r\n  }\r\n\r\n  async getSystemSettings(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/settings');\r\n  }\r\n\r\n  async getSystemHealth(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/health');\r\n  }\r\n\r\n  async getHierarchy(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/hierarchy');\r\n  }\r\n\r\n  async getRoles(): Promise<ApiResponse<ApiRole[]>> {\r\n    return this.get('/admin/roles');\r\n  }\r\n\r\n  async getPermissions(): Promise<ApiResponse<string[]>> {\r\n    return this.get('/admin/permissions');\r\n  }\r\n\r\n  async createRole(roleData: { name: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.post('/admin/roles', payload);\r\n  }\r\n\r\n  async updateRole(roleId: number, roleData: { name?: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.put(`/admin/roles/${roleId}`, payload);\r\n  }\r\n\r\n  async deleteRole(roleId: number): Promise<ApiResponse<null>> {\r\n    return this.delete(`/admin/roles/${roleId}`);\r\n  }\r\n\r\n  // Backup endpoints\r\n  async createBackup(includeFiles: boolean = false): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/create', null, {\r\n      params: { include_files: includeFiles }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async listBackups(): Promise<ApiResponse<{ backups: unknown[] }>> {\r\n    return this.get('/admin/backup/list');\r\n  }\r\n\r\n  async restoreBackup(backupName: string): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/restore', null, {\r\n      params: { backup_name: backupName }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async deleteBackup(backupName: string, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/admin/backup/${encodeURIComponent(backupName)}/delete`, { password });\r\n  }\r\n\r\n  async getVerificationHistory(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/users/me/verification-history');\r\n  }\r\n\r\n  // 2FA endpoints\r\n  async get2FAStatus(): Promise<ApiResponse<{ enabled: boolean }>> {\r\n    return this.get('/users/me/2fa/status');\r\n  }\r\n\r\n  async setup2FA(): Promise<ApiResponse<{ secret: string; qr_code_url: string; manual_entry_key: string }>> {\r\n    return this.post('/users/me/2fa/setup');\r\n  }\r\n\r\n  async verify2FA(code: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/verify', { code });\r\n  }\r\n\r\n  async disable2FA(currentPassword: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/disable', { current_password: currentPassword });\r\n  }\r\n\r\n  // IP Restriction endpoints\r\n  async getIPRestrictionStatus(): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.get('/users/me/ip-restriction');\r\n  }\r\n\r\n  async updateIPRestriction(enabled: boolean): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.put('/users/me/ip-restriction', { enabled });\r\n  }\r\n\r\n  async addAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.post('/users/me/ip-restriction/allowed-ips', { ip_address: ipAddress });\r\n  }\r\n\r\n  async removeAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.delete(`/users/me/ip-restriction/allowed-ips/${encodeURIComponent(ipAddress)}`);\r\n  }\r\n\r\n  async triggerBackup(includeFiles = false): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/admin/backup/create', undefined, { params: { include_files: includeFiles } });\r\n  }\r\n\r\n  // Department endpoints\r\n  async getDepartments(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/departments');\r\n  }\r\n\r\n  async getDepartment(departmentId: string | number): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.get(`/departments/${encodedId}`);\r\n  }\r\n\r\n  async createDepartment(departmentData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/departments', departmentData);\r\n  }\r\n\r\n  async updateDepartment(\r\n    departmentId: string | number,\r\n    departmentData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.put(`/departments/${encodedId}`, departmentData);\r\n  }\r\n\r\n  async deleteDepartment(\r\n    departmentId: string | number,\r\n    password: string,\r\n  ): Promise<ApiResponse<{ message: string }>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.post(`/departments/${encodedId}/delete`, { password });\r\n  }\r\n\r\n  // Project endpoints\r\n  async getProjects(filters?: Record<string, unknown>): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/projects', { params: filters });\r\n  }\r\n\r\n  async getProject(projectId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/projects/${projectId}`);\r\n  }\r\n\r\n  async createProject(projectData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/projects', projectData);\r\n  }\r\n\r\n  async updateProject(\r\n    projectId: number,\r\n    projectData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put(`/projects/${projectId}`, projectData);\r\n  }\r\n\r\n  async deleteProject(projectId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/projects/${projectId}/delete`, { password });\r\n  }\r\n\r\n  // Audit Logs endpoints (Admin only)\r\n  async getAuditLogs(filters?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    user_id?: number;\r\n    action?: string;\r\n    resource_type?: string;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    const params: Record<string, unknown> = {};\r\n    if (filters) {\r\n      if (filters.skip !== undefined) params.skip = filters.skip;\r\n      if (filters.limit !== undefined) params.limit = filters.limit;\r\n      if (filters.user_id !== undefined) params.user_id = filters.user_id;\r\n      if (filters.action) params.action = filters.action;\r\n      if (filters.resource_type) params.resource_type = filters.resource_type;\r\n      if (filters.start_date) {\r\n        // Convert to ISO format for backend\r\n        const start = new Date(filters.start_date + 'T00:00:00');\r\n        params.start_date = start.toISOString();\r\n      }\r\n      if (filters.end_date) {\r\n        // Convert to ISO format for backend\r\n        const end = new Date(filters.end_date + 'T23:59:59');\r\n        params.end_date = end.toISOString();\r\n      }\r\n    }\r\n    return this.get('/admin/audit/logs', { params });\r\n  }\r\n\r\n  // ============================================================================\r\n  // BUDGETING & FORECASTING (FP&A)\r\n  // ============================================================================\r\n\r\n  // Budget Management\r\n  async getBudgets(params?: { skip?: number; limit?: number; status?: string; department?: string }) {\r\n    return this.get('/budgeting/budgets', { params });\r\n  }\r\n\r\n  async getBudget(id: number) {\r\n    return this.get(`/budgeting/budgets/${id}`);\r\n  }\r\n\r\n  async createBudget(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/budgets', data);\r\n  }\r\n\r\n  async createBudgetFromTemplate(templateName: string, data: Record<string, unknown>) {\r\n    const params: Record<string, unknown> = {\r\n      template_name: templateName\r\n    };\r\n    if (data.name) params.name = data.name;\r\n    if (data.start_date) params.start_date = data.start_date;\r\n    if (data.end_date) params.end_date = data.end_date;\r\n    if (data.department) params.department = data.department;\r\n    if (data.project) params.project = data.project;\r\n    \r\n    return this.post(`/budgeting/budgets/from-template`, {}, { params });\r\n  }\r\n\r\n  async updateBudget(id: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${id}`, data);\r\n  }\r\n\r\n  async deleteBudget(id: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${id}/delete`, { password });\r\n  }\r\n\r\n  async validateBudget(id: number) {\r\n    return this.post(`/budgeting/budgets/${id}/validate`);\r\n  }\r\n\r\n  // Budget Items\r\n  async getBudgetItems(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/items`);\r\n  }\r\n\r\n  async createBudgetItem(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items`, data);\r\n  }\r\n\r\n  async updateBudgetItem(budgetId: number, itemId: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${budgetId}/items/${itemId}`, data);\r\n  }\r\n\r\n  async deleteBudgetItem(budgetId: number, itemId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  // Scenario Planning\r\n  async getScenarios(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/scenarios`);\r\n  }\r\n\r\n  async createScenario(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios`, data);\r\n  }\r\n\r\n  async compareScenarios(budgetId: number, scenarioIds: number[]) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/compare`, { scenario_ids: scenarioIds });\r\n  }\r\n\r\n  // Forecasting\r\n  async getForecasts(params?: { skip?: number; limit?: number }) {\r\n    // Always provide explicit defaults to match backend expectations\r\n    const queryParams = {\r\n      skip: params?.skip !== undefined && params.skip >= 0 ? params.skip : 0,\r\n      limit: params?.limit !== undefined && params.limit >= 1 && params.limit <= 1000 ? params.limit : 100\r\n    };\r\n    \r\n    return this.get('/budgeting/forecasts', { params: queryParams });\r\n  }\r\n\r\n  async createForecast(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/forecasts', data);\r\n  }\r\n\r\n  async getForecast(id: number) {\r\n    return this.get(`/budgeting/forecasts/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Update a forecast\r\n   * @param id - Forecast ID\r\n   * @param data - Forecast update data (name, description, and optionally forecast_data)\r\n   */\r\n  async updateForecast(\r\n    id: number,\r\n    data: {\r\n      name?: string;\r\n      description?: string;\r\n      forecast_data?: Array<{\r\n        period?: string;\r\n        date?: string;\r\n        forecasted_value?: number;\r\n        method?: string;\r\n      }>;\r\n    },\r\n  ) {\r\n    return this.put(`/budgeting/forecasts/${id}`, data);\r\n  }\r\n\r\n  async deleteForecast(id: number, password: string) {\r\n    return this.post(`/budgeting/forecasts/${id}/delete`, { password });\r\n  }\r\n\r\n  // ============================================================================\r\n  // AI/ML MODEL TRAINING\r\n  // ============================================================================\r\n\r\n  /**\r\n   * Train all AI/ML models\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   */\r\n  async trainAllModels(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/all',\r\n      params: { start_date: startDate, end_date: endDate }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train ARIMA model for expenses\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   * @param order - ARIMA order (p,d,q) as string \"p,d,q\"\r\n   */\r\n  async trainExpensesArima(startDate: string, endDate: string, order: string = \"1,1,1\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/arima',\r\n      params: { start_date: startDate, end_date: endDate, order },\r\n      timeout: 120000 // 2 minutes for ARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for expenses\r\n   */\r\n  async trainExpensesProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Linear Regression model for expenses\r\n   */\r\n  async trainExpensesLinearRegression(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/linear-regression',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for revenue\r\n   */\r\n  async trainRevenueProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for revenue\r\n   */\r\n  async trainRevenueXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for revenue\r\n   */\r\n  async trainRevenueLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train SARIMA model for inventory\r\n   */\r\n  async trainInventorySARIMA(startDate: string, endDate: string, order: string = \"1,1,1\", seasonalOrder: string = \"1,1,1,12\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/sarima',\r\n      params: { start_date: startDate, end_date: endDate, order, seasonal_order: seasonalOrder },\r\n      timeout: 180000 // 3 minutes for SARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for inventory\r\n   */\r\n  async trainInventoryXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for inventory\r\n   */\r\n  async trainInventoryLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  // Variance Analysis\r\n  async calculateVariance(budgetId: number, periodStart: string, periodEnd: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/variance`, {}, {\r\n      params: { period_start: periodStart, period_end: periodEnd }\r\n    });\r\n  }\r\n\r\n  async getVarianceHistory(budgetId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance`, { params });\r\n  }\r\n\r\n  async getVarianceSummary(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance/summary`);\r\n  }\r\n\r\n  // ============================================================================\r\n  // INVENTORY MANAGEMENT API\r\n  // ============================================================================\r\n  \r\n  async createInventoryItem(itemData: {\r\n    item_name: string;\r\n    buying_price: number;\r\n    expense_amount?: number;\r\n    selling_price: number;\r\n    quantity: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.post('/inventory/items', itemData);\r\n  }\r\n\r\n  async getInventoryItems(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    category?: string;\r\n    is_active?: boolean;\r\n    search?: string;\r\n  }) {\r\n    return this.get('/inventory/items', { params });\r\n  }\r\n\r\n  async getInventoryItem(itemId: number) {\r\n    return this.get(`/inventory/items/${itemId}`);\r\n  }\r\n\r\n  async updateInventoryItem(itemId: number, itemData: {\r\n    item_name?: string;\r\n    buying_price?: number;\r\n    expense_amount?: number;\r\n    selling_price?: number;\r\n    quantity?: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.put(`/inventory/items/${itemId}`, itemData);\r\n  }\r\n\r\n  async deleteInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  async activateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/deactivate`, { password });\r\n  }\r\n\r\n  async getInventoryAuditLogs(itemId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/inventory/items/${itemId}/audit`, { params });\r\n  }\r\n\r\n  async getLowStockItems(threshold?: number) {\r\n    return this.get('/inventory/items/low-stock/list', { params: { threshold } });\r\n  }\r\n\r\n  async getInventorySummary() {\r\n    return this.get('/inventory/summary');\r\n  }\r\n\r\n  // ============================================================================\r\n  // SALES API\r\n  // ============================================================================\r\n\r\n  async createSale(saleData: {\r\n    item_id: number;\r\n    quantity_sold: number;\r\n    customer_name?: string;\r\n    customer_email?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post('/sales/', saleData);\r\n  }\r\n\r\n  async getSales(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    status?: 'pending' | 'posted' | 'cancelled';\r\n    item_id?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    // Enforce backend maximum limit of 1000 to prevent 422 errors\r\n    // Backend has a hard limit of 1000 (le=1000), so cap any higher values\r\n    let safeLimit: number | undefined = params?.limit;\r\n    if (safeLimit !== undefined && safeLimit > 1000) {\r\n      console.warn(`getSales: Limit ${safeLimit} exceeds backend maximum of 1000. Capping to 1000.`);\r\n      safeLimit = 1000;\r\n    }\r\n    \r\n    const safeParams = params ? {\r\n      ...params,\r\n      limit: safeLimit\r\n    } : undefined;\r\n    \r\n    return this.get('/sales', { params: safeParams });\r\n  }\r\n\r\n  async getSale(saleId: number) {\r\n    return this.get(`/sales/${saleId}`);\r\n  }\r\n\r\n  async postSale(saleId: number, postData: {\r\n    debit_account?: string;\r\n    credit_account?: string;\r\n    reference_number?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post(`/sales/${saleId}/post`, postData);\r\n  }\r\n\r\n  async cancelSale(saleId: number) {\r\n    return this.post(`/sales/${saleId}/cancel`, {});\r\n  }\r\n\r\n  async getSalesSummary(params?: { start_date?: string; end_date?: string }) {\r\n    return this.get('/sales/summary/overview', { params });\r\n  }\r\n\r\n  async getReceipt(saleId: number) {\r\n    return this.get(`/sales/receipt/${saleId}`);\r\n  }\r\n\r\n  async getJournalEntries(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    return this.get('/sales/journal-entries/list', { params });\r\n  }\r\n\r\n  /**\r\n   * Submit a contact/support message\r\n   * You can override the endpoint path with NEXT_PUBLIC_CONTACT_ENDPOINT (e.g. \"/support/contact\")\r\n   */\r\n  async submitContact(payload: { name: string; email: string; message: string }) {\r\n    const contactPath = process.env.NEXT_PUBLIC_CONTACT_ENDPOINT || '/contact';\r\n    return this.post(contactPath, payload);\r\n  }\r\n\r\n  // Generic request method\r\n  async request<T = unknown>(config: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.request<T>(config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n}\r\n\r\nexport const apiClient = new ApiClient();\r\nexport default apiClient;"],"names":[],"mappings":"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","debugId":null}},
frontend/.next/dev/server/chunks/ssr/_04714aed._.js:                __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$api$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].getFinancialSummary().catch(()=>({
frontend/.next/dev/server/chunks/ssr/_04714aed._.js.map:    {"offset": {"line": 6779, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASHROCK/Desktop/projectai/frontend/app/transaction/list/ClientPage.tsx"],"sourcesContent":["'use client';\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Button } from '@/components/ui/button';\r\nimport Link from 'next/link';\r\nimport {\r\n  AlertCircle, ArrowUpRight, ArrowDownRight,\r\n  Search, TrendingUp, ShoppingCart, Package\r\n} from 'lucide-react';\r\nimport Layout from '@/components/layout';\r\nimport apiClient from '@/lib/api';\r\nimport { toast } from 'sonner';\r\nimport { formatCurrency, formatDate } from '@/lib/utils';\r\nimport { theme } from '@/components/common/theme';\r\nimport { useAuth } from '@/lib/rbac/auth-context';\r\nimport useUserStore from '@/store/userStore';\r\n\r\nconst PRIMARY_COLOR = theme.colors.primary || '#00AA00';\r\nconst TEXT_COLOR_DARK = '#111827';\r\nconst TEXT_COLOR_MUTED = theme.colors.textSecondary || '#666';\r\n\r\nconst CardShadow = `\r\n  0 2px 4px -1px rgba(0, 0, 0, 0.06),\r\n  0 1px 2px -1px rgba(0, 0, 0, 0.03),\r\n  inset 0 0 0 1px rgba(0, 0, 0, 0.02)\r\n`;\r\nconst CardShadowHover = `\r\n  0 8px 12px -2px rgba(0, 0, 0, 0.08),\r\n  0 4px 6px -2px rgba(0, 0, 0, 0.04),\r\n  inset 0 0 0 1px rgba(0, 0, 0, 0.03)\r\n`;\r\n\r\nconst PageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n`;\r\n\r\nconst ContentContainer = styled.div`\r\n  flex: 1;\r\n  width: 100%;\r\n  max-width: 980px;\r\n  margin-left: auto;\r\n  margin-right: 0;\r\n  padding: ${theme.spacing.sm} ${theme.spacing.sm} ${theme.spacing.sm};\r\n`;\r\n\r\nconst HeaderContainer = styled.div`\r\n  background: linear-gradient(135deg, ${PRIMARY_COLOR} 0%, #008800 100%);\r\n  color: #ffffff;\r\n  padding: ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  border-radius: ${theme.borderRadius.md};\r\n  border-bottom: 3px solid rgba(255, 255, 255, 0.1);\r\n  \r\n  h1 {\r\n    font-size: clamp(24px, 3vw, 36px);\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    margin: 0 0 ${theme.spacing.xs};\r\n    color: #ffffff;\r\n  }\r\n  \r\n  p {\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n    opacity: 0.9;\r\n    margin: 0;\r\n    color: rgba(255, 255, 255, 0.95);\r\n  }\r\n`;\r\n\r\nconst ErrorBanner = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: ${theme.spacing.md};\r\n  padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  background-color: rgba(239, 68, 68, 0.1);\r\n  border: 1px solid rgba(239, 68, 68, 0.3);\r\n  border-radius: ${theme.borderRadius.md};\r\n  color: #dc2626;\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n\r\n  svg {\r\n    flex-shrink: 0;\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n`;\r\n\r\nconst SummaryGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: ${theme.spacing.md};\r\n  margin-bottom: ${theme.spacing.lg};\r\n`;\r\n\r\nconst BottomSummaryGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: ${theme.spacing.md};\r\n  margin-bottom: ${theme.spacing.lg};\r\n\r\n  @media (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;\r\n\r\nconst SummaryCard = styled.div<{ $type?: 'revenue' | 'expense' | 'net' | 'total' | 'inventory' }>`\r\n  background: ${theme.colors.background};\r\n  border: 1px solid ${theme.colors.border};\r\n  padding: ${theme.spacing.lg};\r\n  border-radius: ${theme.borderRadius.md};\r\n  box-shadow: ${CardShadow};\r\n  transition: transform ${theme.transitions.default}, box-shadow ${theme.transitions.default};\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n\r\n  .label {\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    color: ${TEXT_COLOR_MUTED};\r\n    margin-bottom: ${theme.spacing.sm};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n  }\r\n\r\n  .value {\r\n    font-size: clamp(20px, 3vw, 24px);\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    color: ${props => {\r\n      if (props.$type === 'revenue') return '#16a34a';\r\n      if (props.$type === 'expense') return '#dc2626';\r\n      if (props.$type === 'net') return TEXT_COLOR_DARK;\r\n      return TEXT_COLOR_DARK;\r\n    }};\r\n  }\r\n`;\r\n\r\nconst FiltersContainer = styled.div`\r\n  background: ${theme.colors.background};\r\n  border-radius: ${theme.borderRadius.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  box-shadow: ${CardShadow};\r\n  transition: box-shadow ${theme.transitions.default};\r\n\r\n  &:hover {\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n`;\r\n\r\nconst FiltersGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr 1fr;\r\n  gap: ${theme.spacing.sm};\r\n  \r\n  @media (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n    gap: ${theme.spacing.sm};\r\n  }\r\n`;\r\n\r\nconst SearchContainer = styled.div`\r\n  position: relative;\r\n  grid-column: span 1;\r\n\r\n  svg {\r\n    position: absolute;\r\n    left: ${theme.spacing.md};\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    width: 18px;\r\n    height: 18px;\r\n    color: ${TEXT_COLOR_MUTED};\r\n    pointer-events: none;\r\n  }\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  width: 70%;\r\n  padding: ${theme.spacing.sm} ${theme.spacing.md} ${theme.spacing.sm} 40px;\r\n  border: 1px solid ${theme.colors.border};\r\n  border-radius: ${theme.borderRadius.md};\r\n  background: ${theme.colors.background};\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n  color: ${TEXT_COLOR_DARK};\r\n  transition: all ${theme.transitions.default};\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: ${PRIMARY_COLOR};\r\n    box-shadow: 0 0 0 3px ${PRIMARY_COLOR}15;\r\n  }\r\n\r\n  &::placeholder {\r\n    color: ${TEXT_COLOR_MUTED};\r\n    opacity: 0.6;\r\n  }\r\n`;\r\n\r\nconst Select = styled.select`\r\n  width: 100%;\r\n  padding: ${theme.spacing.sm} ${theme.spacing.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  border-radius: ${theme.borderRadius.md};\r\n  background: ${theme.colors.background};\r\n  color: ${TEXT_COLOR_DARK};\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n  cursor: pointer;\r\n  transition: all ${theme.transitions.default};\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: ${PRIMARY_COLOR};\r\n    box-shadow: 0 0 0 3px ${PRIMARY_COLOR}15;\r\n  }\r\n`;\r\n\r\nconst TableContainer = styled.div`\r\n  background: ${theme.colors.background};\r\n  border-radius: ${theme.borderRadius.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  box-shadow: ${CardShadow};\r\n  overflow: hidden;\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  padding: ${theme.spacing.xxl};\r\n  text-align: center;\r\n  color: ${TEXT_COLOR_MUTED};\r\n\r\n  svg {\r\n    width: 48px;\r\n    height: 48px;\r\n    margin: 0 auto ${theme.spacing.md};\r\n    opacity: 0.5;\r\n  }\r\n\r\n  h3 {\r\n    font-size: ${theme.typography.fontSizes.lg};\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    margin: 0 0 ${theme.spacing.sm};\r\n    color: ${TEXT_COLOR_DARK};\r\n  }\r\n\r\n  p {\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst Table = styled.table`\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n`;\r\n\r\nconst TableHeader = styled.thead`\r\n  background: ${theme.colors.backgroundSecondary};\r\n  border-bottom: 2px solid ${theme.colors.border};\r\n  \r\n  th {\r\n    text-align: left;\r\n    padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n    color: ${TEXT_COLOR_MUTED};\r\n    font-size: ${theme.typography.fontSizes.xs};\r\n    text-transform: uppercase;\r\n    letter-spacing: 0.05em;\r\n  }\r\n`;\r\n\r\nconst TableBody = styled.tbody`\r\n  tr {\r\n    border-bottom: 1px solid ${theme.colors.border};\r\n    transition: background-color ${theme.transitions.default};\r\n    \r\n    &:hover {\r\n      background-color: ${theme.colors.backgroundSecondary};\r\n    }\r\n    \r\n    &:last-child {\r\n      border-bottom: none;\r\n    }\r\n    \r\n    td {\r\n      padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n      color: ${TEXT_COLOR_DARK};\r\n      font-size: ${theme.typography.fontSizes.sm};\r\n    }\r\n  }\r\n`;\r\n\r\nconst TypeBadge = styled.span<{ $type: 'revenue' | 'expense' | 'sale' | 'inventory' }>`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: ${theme.spacing.xs};\r\n  padding: ${theme.spacing.xs} ${theme.spacing.sm};\r\n  border-radius: ${theme.borderRadius.sm};\r\n  font-size: ${theme.typography.fontSizes.xs};\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  background: ${props => {\r\n    if (props.$type === 'revenue') return 'rgba(16, 185, 129, 0.12)';\r\n    if (props.$type === 'expense') return 'rgba(239, 68, 68, 0.12)';\r\n    if (props.$type === 'sale') return 'rgba(59, 130, 246, 0.12)';\r\n    if (props.$type === 'inventory') return 'rgba(168, 85, 247, 0.12)';\r\n    return 'rgba(107, 114, 128, 0.12)';\r\n  }};\r\n  color: ${props => {\r\n    if (props.$type === 'revenue') return '#065f46';\r\n    if (props.$type === 'expense') return '#991b1b';\r\n    if (props.$type === 'sale') return '#1e40af';\r\n    if (props.$type === 'inventory') return '#6b21a8';\r\n    return '#374151';\r\n  }};\r\n`;\r\n\r\nconst AmountCell = styled.td<{ $isExpense: boolean }>`\r\n  font-weight: ${theme.typography.fontWeights.bold};\r\n  color: ${props => props.$isExpense ? '#dc2626' : '#16a34a'} !important;\r\n`;\r\n\r\nconst CategoryBadge = styled.span`\r\n  padding: ${theme.spacing.xs} ${theme.spacing.sm};\r\n  border-radius: ${theme.borderRadius.sm};\r\n  font-size: ${theme.typography.fontSizes.xs};\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  background: rgba(59, 130, 246, 0.12);\r\n  color: #1e40af;\r\n`;\r\n\r\nconst StatusBadge = styled.span<{ $approved: boolean; $status?: string }>`\r\n  padding: ${theme.spacing.xs} ${theme.spacing.sm};\r\n  border-radius: ${theme.borderRadius.sm};\r\n  font-size: ${theme.typography.fontSizes.xs};\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  background: ${props => {\r\n    if (props.$status === 'posted') return 'rgba(16, 185, 129, 0.12)';\r\n    if (props.$status === 'cancelled') return 'rgba(239, 68, 68, 0.12)';\r\n    if (props.$approved) return 'rgba(16, 185, 129, 0.12)';\r\n    return 'rgba(251, 191, 36, 0.12)';\r\n  }};\r\n  color: ${props => {\r\n    if (props.$status === 'posted') return '#065f46';\r\n    if (props.$status === 'cancelled') return '#991b1b';\r\n    if (props.$approved) return '#065f46';\r\n    return '#92400e';\r\n  }};\r\n  margin-right: ${theme.spacing.sm};\r\n`;\r\n\r\nconst RecurringBadge = styled.span`\r\n  padding: ${theme.spacing.xs} ${theme.spacing.sm};\r\n  border-radius: ${theme.borderRadius.sm};\r\n  font-size: ${theme.typography.fontSizes.xs};\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  background: rgba(59, 130, 246, 0.12);\r\n  color: #1e40af;\r\n`;\r\n\r\nconst ActionButtons = styled.div`\r\n  display: flex;\r\n  gap: ${theme.spacing.sm};\r\n  align-items: center;\r\n`;\r\n\r\nconst LoadingContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 60vh;\r\n  gap: ${theme.spacing.md};\r\n  \r\n  p {\r\n    color: ${TEXT_COLOR_MUTED};\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst Spinner = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 3px solid ${theme.colors.border};\r\n  border-top-color: ${PRIMARY_COLOR};\r\n  border-radius: 50%;\r\n  animation: spin 0.8s linear infinite;\r\n  \r\n  @keyframes spin {\r\n    to { transform: rotate(360deg); }\r\n  }\r\n`;\r\n\r\nconst TransactionTitle = styled.div`\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  color: ${TEXT_COLOR_DARK};\r\n`;\r\n\r\ninterface Transaction {\r\n  id: string;\r\n  transaction_type: 'revenue' | 'expense' | 'sale' | 'inventory';\r\n  title: string;\r\n  description?: string | null;\r\n  category: string;\r\n  amount: number;\r\n  date: string;\r\n  is_approved: boolean;\r\n  is_recurring?: boolean;\r\n  recurring_frequency?: string | null;\r\n  source?: string | null;\r\n  vendor?: string | null;\r\n  created_at: string;\r\n  status?: 'pending' | 'posted' | 'cancelled' | 'active' | 'inactive';\r\n  item_name?: string;\r\n  quantity_sold?: number;\r\n  quantity?: number;\r\n  receipt_number?: string;\r\n  customer_name?: string;\r\n  sku?: string;\r\n  buying_price?: number;\r\n  total_cost?: number;\r\n  created_by_id?: number;\r\n  sold_by_id?: number;\r\n}\r\n\r\ntype TransactionItem = Partial<Transaction> & {\r\n  id: string;\r\n  transaction_type: 'revenue' | 'expense' | 'sale' | 'inventory';\r\n  title: string;\r\n  category?: string;\r\n  amount: number;\r\n  date?: string;\r\n  is_approved?: boolean;\r\n  created_at?: string;\r\n  status?: string;\r\n  createdById?: number;\r\n  soldById?: number;\r\n  quantity?: number;\r\n  item_name?: string;\r\n};\r\n\r\nconst toNumber = (value: unknown): number | undefined => {\r\n  if (typeof value === 'number') return value;\r\n  if (typeof value === 'string') {\r\n    const parsed = parseInt(value, 10);\r\n    return Number.isNaN(parsed) ? undefined : parsed;\r\n  }\r\n  return undefined;\r\n};\r\n\r\nconst toString = (value: unknown): string | undefined =>\r\n  typeof value === 'string' ? value : undefined;\r\n\r\nconst toRecord = (value: unknown): Record<string, unknown> =>\r\n  value && typeof value === 'object' ? (value as Record<string, unknown>) : {};\r\n\r\ninterface TransactionSummary {\r\n  totalRevenue: number;\r\n  totalSales: number;\r\n  totalExpenses: number;\r\n  totalInventory: number;\r\n  netAmount: number;\r\n  totalTransactions: number;\r\n}\r\n\r\nexport default function TransactionListPage() {\r\n  const { user } = useAuth();\r\n  const storeUser = useUserStore((state) => state.user);\r\n  const [transactions, setTransactions] = useState<TransactionItem[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [typeFilter, setTypeFilter] = useState<string>('all');\r\n  const [statusFilter, setStatusFilter] = useState<string>('all');\r\n  const [summary, setSummary] = useState<TransactionSummary>({\r\n    totalRevenue: 0,\r\n    totalSales: 0,\r\n    totalExpenses: 0,\r\n    totalInventory: 0,\r\n    netAmount: 0,\r\n    totalTransactions: 0,\r\n  });\r\n  const [loadingSummary, setLoadingSummary] = useState(false);\r\n  // Load summary data from backend\r\n  const loadSummary = useCallback(async () => {\r\n    if (!user) return;\r\n\r\n    setLoadingSummary(true);\r\n    try {\r\n      const userRole = user?.role?.toLowerCase();\r\n      const canViewFinancials = userRole === 'admin' || userRole === 'super_admin' || \r\n                                 userRole === 'finance_admin' || userRole === 'finance_manager' ||\r\n                                 userRole === 'manager' || userRole === 'accountant';\r\n      \r\n      if (!canViewFinancials) {\r\n        setLoadingSummary(false);\r\n        return;\r\n      }\r\n\r\n      // Fetch all summary data from backend in parallel\r\n      const [financialSummaryResult, salesSummaryResult, inventorySummaryResult] = await Promise.allSettled([\r\n        apiClient.getFinancialSummary().catch(() => ({ data: null })),\r\n        apiClient.getSalesSummary().catch(() => ({ data: null })),\r\n        apiClient.getInventorySummary().catch(() => ({ data: null })),\r\n      ]);\r\n\r\n      // Extract financial summary\r\n      let totalRevenue = 0;\r\n      let totalExpenses = 0;\r\n      if (financialSummaryResult.status === 'fulfilled') {\r\n        const financialData = financialSummaryResult.value?.data;\r\n        if (financialData?.financials) {\r\n          totalRevenue = Number(financialData.financials.total_revenue || 0);\r\n          totalExpenses = Number(financialData.financials.total_expenses || 0);\r\n        }\r\n      }\r\n\r\n      // Extract sales summary\r\n      let totalSales = 0;\r\n      if (salesSummaryResult.status === 'fulfilled') {\r\n        const salesData = salesSummaryResult.value?.data;\r\n        if (salesData && typeof salesData === 'object' && 'total_revenue' in salesData) {\r\n          totalSales = Number((salesData as { total_revenue?: number }).total_revenue || 0);\r\n        }\r\n      }\r\n\r\n      // Extract inventory summary\r\n      let totalInventory = 0;\r\n      if (inventorySummaryResult.status === 'fulfilled') {\r\n        const inventoryData = inventorySummaryResult.value?.data;\r\n        if (inventoryData && typeof inventoryData === 'object' && 'total_cost_value' in inventoryData) {\r\n          totalInventory = Number((inventoryData as { total_cost_value?: number }).total_cost_value || 0);\r\n        }\r\n      }\r\n\r\n      const netAmount = totalRevenue + totalSales - totalExpenses - totalInventory;\r\n\r\n      // Update summary - transaction count will be updated separately\r\n      setSummary(prev => ({\r\n        ...prev,\r\n        totalRevenue,\r\n        totalSales,\r\n        totalExpenses,\r\n        totalInventory,\r\n        netAmount,\r\n      }));\r\n    } catch (err) {\r\n      console.warn('Failed to load summary from backend:', err);\r\n      // Don't show error, just use local calculations as fallback\r\n    } finally {\r\n      setLoadingSummary(false);\r\n    }\r\n  }, [user, storeUser?.managerId]);\r\n\r\n  const loadTransactions = useCallback(async () => {\r\n    if (!user) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const userRole = user?.role?.toLowerCase();\r\n      const isFinanceAdmin = userRole === 'finance_manager' || userRole === 'finance_admin';\r\n      const isAccountant = userRole === 'accountant';\r\n      const isEmployee = userRole === 'employee';\r\n      const isAdmin = userRole === 'admin' || userRole === 'super_admin';\r\n\r\n      // Get accessible user IDs based on role\r\n      // Admin/Super Admin: See all (no filtering)\r\n      // Finance Admin: See their own + subordinates (ONLY accountants and employees, NOT other Finance Admins)\r\n      // Accountant: See their own + their Finance Admin's team (ONLY accountants and employees, NOT other Finance Admins)\r\n      // Employee: See only their own\r\n      let userIds: number[] | null = null;\r\n      \r\n      if (isAdmin) {\r\n        // Admin can see all - no filtering needed\r\n        userIds = null;\r\n      } else if (isFinanceAdmin && user?.id) {\r\n        try {\r\n          // Finance Admin: Get their own subordinates ONLY (accountants and employees)\r\n          // Exclude other Finance Admins, Managers, and their subordinates\r\n          const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n          const subordinatesRes = await apiClient.getSubordinates(userId);\r\n          const subordinates = subordinatesRes?.data || [];\r\n          \r\n          // Filter subordinates to ONLY include accountants and employees (exclude other Finance Admins/Managers)\r\n          const validSubordinateIds = subordinates\r\n            .map((sub: { id?: number | string; role?: string }) => {\r\n              const subId = typeof sub.id === 'string' ? parseInt(sub.id, 10) : Number(sub.id);\r\n              const subRole = (sub.role || '').toLowerCase();\r\n              \r\n              // Only include accountants and employees, exclude Finance Admins and Managers\r\n              if (!Number.isNaN(subId) && (subRole === 'accountant' || subRole === 'employee')) {\r\n                return subId;\r\n              }\r\n              return undefined;\r\n            })\r\n            .filter((id): id is number => id !== undefined);\r\n          \r\n          // Include the finance admin themselves + their valid subordinates only\r\n          userIds = [userId, ...validSubordinateIds];\r\n          \r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.log('Finance Admin - Accessible User IDs for Transactions:', {\r\n              userId: userId,\r\n              subordinatesCount: subordinates.length,\r\n              validSubordinateIds: validSubordinateIds,\r\n              userIds: userIds\r\n            });\r\n          }\r\n        } catch (err) {\r\n          console.warn('Failed to fetch subordinates, using only finance admin ID:', err);\r\n          const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n          userIds = [userId];\r\n        }\r\n      } else if (isAccountant && user?.id) {\r\n        // Accountant: Get their Finance Admin's (manager's) subordinates\r\n        const accountantId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n        let managerId: number | null = null;\r\n        \r\n        // Try to get managerId from storeUser first\r\n        const managerIdStr = storeUser?.managerId;\r\n        if (managerIdStr) {\r\n          managerId = typeof managerIdStr === 'string' ? parseInt(managerIdStr, 10) : Number(managerIdStr);\r\n        } else {\r\n          // If not in storeUser, try to fetch current user profile from API\r\n          try {\r\n            const currentUserRes = await apiClient.getCurrentUser();\r\n            const currentUserData = currentUserRes?.data;\r\n            if (currentUserData?.manager_id !== undefined && currentUserData?.manager_id !== null) {\r\n              managerId = typeof currentUserData.manager_id === 'string' \r\n                ? parseInt(currentUserData.manager_id, 10) \r\n                : Number(currentUserData.manager_id);\r\n            }\r\n          } catch (err) {\r\n            console.warn('Failed to fetch current user profile for manager_id:', err);\r\n          }\r\n        }\r\n        \r\n        if (managerId) {\r\n          try {\r\n            const financeAdminId = managerId;\r\n            \r\n            // Get all subordinates of the Finance Admin\r\n            const subordinatesRes = await apiClient.getSubordinates(financeAdminId);\r\n            const subordinates = subordinatesRes?.data || [];\r\n            \r\n            // Filter subordinates to ONLY include accountants and employees (exclude other Finance Admins/Managers)\r\n            const validSubordinateIds = subordinates\r\n              .map((sub: { id?: number | string; role?: string }) => {\r\n                const subId = typeof sub.id === 'string' ? parseInt(sub.id, 10) : Number(sub.id);\r\n                const subRole = (sub.role || '').toLowerCase();\r\n                \r\n                // Only include accountants and employees, exclude Finance Admins and Managers\r\n                if (!Number.isNaN(subId) && (subRole === 'accountant' || subRole === 'employee')) {\r\n                  return subId;\r\n                }\r\n                return undefined;\r\n              })\r\n              .filter((id): id is number => id !== undefined);\r\n            \r\n            // Include the Finance Admin themselves and their valid subordinates only\r\n            userIds = [financeAdminId, ...validSubordinateIds];\r\n            \r\n            if (process.env.NODE_ENV === 'development') {\r\n              console.log('Accountant - Accessible User IDs for Transactions (from Finance Admin):', {\r\n                accountantId: accountantId,\r\n                financeAdminId: financeAdminId,\r\n                subordinatesCount: subordinates.length,\r\n                validSubordinateIds: validSubordinateIds,\r\n                userIds: userIds\r\n              });\r\n            }\r\n          } catch (err) {\r\n            console.error('Failed to fetch Finance Admin subordinates for accountant:', err);\r\n            // Fallback: if we can't get subordinates, at least try to show data from the Finance Admin\r\n            userIds = [managerId];\r\n          }\r\n        } else {\r\n          // Accountant has no manager assigned - fallback to just themselves\r\n          console.warn('Accountant has no manager (Finance Admin) assigned - using only accountant ID');\r\n          userIds = [accountantId];\r\n        }\r\n      } else if (isEmployee && user?.id) {\r\n        // Employee: Can only see their own data\r\n        const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n        userIds = [userId];\r\n      }\r\n\r\n      // Fetch revenues, expenses, sales, and inventory items\r\n      // Backend should already filter for most roles, but we'll apply additional filtering for Finance Admin\r\n      const [transactionsResponse, salesResponse, inventoryResponse] = await Promise.all([\r\n        apiClient.getTransactions().catch(() => ({ data: [] })),\r\n        apiClient.getSales({ limit: 1000 }).catch(() => ({ data: [] })),\r\n        apiClient.getInventoryItems({ limit: 1000 }).catch(() => ({ data: [] })),\r\n      ]);\r\n\r\n      let transactions = transactionsResponse.data || [];\r\n      \r\n      // Transform sales to transaction format\r\n      const salesDataRaw = salesResponse?.data || [];\r\n      const salesArray = Array.isArray(salesDataRaw) ? salesDataRaw : (toRecord(salesDataRaw).data as unknown[]) || [];\r\n      let salesTransactions = salesArray.map((saleRaw): TransactionItem => {\r\n        const sale = toRecord(saleRaw);\r\n        const saleId = toNumber(sale.id) ?? 0;\r\n        const soldById = toNumber(sale.sold_by_id ?? sale.soldBy ?? sale.sold_by);\r\n        const createdById = toNumber(sale.created_by_id ?? sale.createdBy ?? sale.created_by);\r\n        return {\r\n          id: `sale-${saleId}`,\r\n          transaction_type: 'sale',\r\n          title: toString(sale.item_name) || `Sale #${saleId}`,\r\n          description: toString(sale.customer_name)\r\n            ? `Customer: ${sale.customer_name as string}`\r\n            : toString(sale.notes) || `Receipt: ${toString(sale.receipt_number) || `#${saleId}`}`,\r\n          category: toRecord(sale.item).category as string || 'Sales',\r\n          amount: typeof sale.total_sale === 'number' ? sale.total_sale : 0,\r\n          date: toString(sale.created_at) || toString(sale.date),\r\n          is_approved: sale.status === 'posted',\r\n          created_at: toString(sale.created_at),\r\n          status: (toString(sale.status) as Transaction['status']) || 'pending',\r\n          item_name: toString(sale.item_name),\r\n          quantity_sold: toNumber(sale.quantity_sold),\r\n          receipt_number: toString(sale.receipt_number),\r\n          customer_name: toString(sale.customer_name),\r\n          soldById,\r\n          createdById,\r\n        };\r\n      });\r\n\r\n      // Transform inventory items to transaction format (treating creation as expense)\r\n      const inventoryRaw = inventoryResponse?.data || [];\r\n      const inventoryArray = Array.isArray(inventoryRaw) ? inventoryRaw : (toRecord(inventoryRaw).data as unknown[]) || [];\r\n      let inventoryTransactions = inventoryArray.map((itemRaw): TransactionItem => {\r\n        const item = toRecord(itemRaw);\r\n        const itemId = toNumber(item.id) ?? 0;\r\n        const quantity = toNumber(item.quantity) ?? 0;\r\n        const totalCost =\r\n          (typeof item.total_cost === 'number' ? item.total_cost : typeof item.buying_price === 'number' ? item.buying_price : 0) *\r\n          quantity;\r\n        const createdById = toNumber(item.created_by_id ?? item.createdBy ?? item.created_by);\r\n        return {\r\n          id: `inventory-${itemId}`,\r\n          transaction_type: 'inventory',\r\n          title: toString(item.item_name) || `Inventory Item #${itemId}`,\r\n          description: toString(item.description) || `SKU: ${toString(item.sku) || 'N/A'}`,\r\n          category: toString(item.category) || 'Inventory',\r\n          amount: totalCost,\r\n          date: toString(item.created_at) || toString(item.date),\r\n          is_approved: item.is_active !== false,\r\n          created_at: toString(item.created_at),\r\n          status: (item.is_active === false ? 'inactive' : 'active') as Transaction['status'],\r\n          item_name: toString(item.item_name),\r\n          quantity,\r\n          sku: toString(item.sku),\r\n          buying_price: typeof item.buying_price === 'number' ? item.buying_price : undefined,\r\n          total_cost: typeof item.total_cost === 'number' ? item.total_cost : undefined,\r\n          createdById,\r\n        };\r\n      });\r\n\r\n      // Apply role-based filtering\r\n      // Admin/Super Admin: See all (no filtering)\r\n      // Finance Admin: Filter to only their team's transactions (themselves + subordinates who are accountants/employees)\r\n      // Accountant: Filter to only their Finance Admin's team transactions (Finance Admin + subordinates who are accountants/employees)\r\n      // Employee: Filter to only their own transactions\r\n      if (!isAdmin && userIds && userIds.length > 0) {\r\n        // Finance Admin, Accountant, or Employee: filter based on userIds\r\n        // Filter transactions by accessible user IDs\r\n        transactions = transactions.filter((t) => {\r\n          const createdById = toNumber(\r\n            (t as { created_by_id?: unknown; createdBy?: unknown; created_by?: unknown }).created_by_id ??\r\n            (t as { createdBy?: unknown }).createdBy ??\r\n            (t as { created_by?: unknown }).created_by\r\n          );\r\n          return createdById !== undefined && userIds.includes(createdById);\r\n        });\r\n\r\n        // Filter sales by accessible user IDs\r\n        salesTransactions = salesTransactions.filter((s) => {\r\n          const soldById = toNumber((s as { soldById?: unknown; createdById?: unknown }).soldById ?? (s as { createdById?: unknown }).createdById);\r\n          return soldById !== undefined && userIds.includes(soldById);\r\n        });\r\n\r\n        // Filter inventory by accessible user IDs\r\n        inventoryTransactions = inventoryTransactions.filter((i) => {\r\n          const createdById = toNumber((i as { createdById?: unknown }).createdById);\r\n          return createdById !== undefined && userIds.includes(createdById);\r\n        });\r\n      }\r\n      // Admin/Super Admin sees all - no filtering needed\r\n\r\n      // Combine all transactions and sort by date\r\n      const normalizedExisting: TransactionItem[] = (transactions || []).map((t) => ({\r\n        id: t.id?.toString() || '',\r\n        transaction_type: t.transaction_type,\r\n        title: typeof t.title === 'string' ? t.title : 'Transaction',\r\n        description: typeof t.description === 'string' ? t.description : undefined,\r\n        category: typeof t.category === 'string' ? t.category : 'N/A',\r\n        amount: typeof t.amount === 'number' ? t.amount : 0,\r\n        date: toString(t.date) || toString(t.created_at),\r\n        is_approved: Boolean(t.is_approved),\r\n        created_at: toString(t.created_at),\r\n        status: (t.status as Transaction['status']) || 'pending',\r\n        item_name: toString((t as { item_name?: unknown }).item_name),\r\n        quantity: typeof t.quantity === 'number' ? t.quantity : undefined,\r\n        quantity_sold: typeof t.quantity_sold === 'number' ? t.quantity_sold : undefined,\r\n        receipt_number: toString(t.receipt_number),\r\n        customer_name: toString(t.customer_name),\r\n        sku: toString(t.sku),\r\n        buying_price: typeof t.buying_price === 'number' ? t.buying_price : undefined,\r\n        total_cost: typeof t.total_cost === 'number' ? t.total_cost : undefined,\r\n        createdById: toNumber((t as { created_by_id?: unknown }).created_by_id),\r\n        soldById: toNumber((t as { sold_by_id?: unknown }).sold_by_id),\r\n      }));\r\n\r\n      const allTransactions = [...normalizedExisting, ...salesTransactions, ...inventoryTransactions].sort((a, b) => {\r\n        const dateA = new Date(a.date || a.created_at || 0).getTime();\r\n        const dateB = new Date(b.date || b.created_at || 0).getTime();\r\n        return dateB - dateA; // Most recent first\r\n      });\r\n\r\n      setTransactions(allTransactions);\r\n      \r\n      // Update summary with transaction count after loading\r\n      // Note: Financial totals (revenue, expenses, sales, inventory) are loaded separately via loadSummary()\r\n      setSummary(prev => ({\r\n        ...prev,\r\n        totalTransactions: allTransactions.length,\r\n      }));\r\n    } catch (err: unknown) {\r\n      let errorMessage = 'Failed to load transactions';\r\n      \r\n      if (typeof err === 'object' && err !== null && 'response' in err) {\r\n        const response = (err as { response?: { data?: { detail?: unknown } } }).response;\r\n        const detail = response?.data?.detail;\r\n        if (typeof detail === 'string') {\r\n          errorMessage = detail;\r\n        } else if (Array.isArray(detail)) {\r\n          errorMessage = detail.map((e) => (e as { msg?: string }).msg || JSON.stringify(e)).join(', ');\r\n        } else if (detail && typeof detail === 'object' && 'msg' in (detail as Record<string, unknown>)) {\r\n          errorMessage = (detail as { msg?: string }).msg || errorMessage;\r\n        }\r\n      } else if (err instanceof Error) {\r\n        errorMessage = err.message;\r\n      }\r\n      \r\n      setError(errorMessage);\r\n      toast.error(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user, storeUser?.managerId]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      loadTransactions();\r\n    }\r\n  }, [user, loadTransactions]);\r\n\r\n  useEffect(() => {\r\n    if (user && !loading) {\r\n      loadSummary();\r\n    }\r\n  }, [user, loading, loadSummary]);\r\n\r\n  const filteredTransactions = transactions.filter(transaction => {\r\n    const matchesSearch = \r\n      transaction.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.description?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.source?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.vendor?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.item_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.receipt_number?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.customer_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.sku?.toLowerCase().includes(searchTerm.toLowerCase());\r\n    \r\n    const matchesType = typeFilter === 'all' || transaction.transaction_type === typeFilter;\r\n    \r\n    // Handle status filter - include sales and inventory status\r\n    let matchesStatus = false;\r\n    if (statusFilter === 'all') {\r\n      matchesStatus = true;\r\n    } else if (statusFilter === 'approved') {\r\n      matchesStatus = transaction.is_approved || transaction.status === 'posted' || transaction.status === 'active';\r\n    } else if (statusFilter === 'pending') {\r\n      matchesStatus = !transaction.is_approved && transaction.status !== 'posted' && transaction.status !== 'cancelled' && transaction.status !== 'active';\r\n    } else if (statusFilter === 'posted') {\r\n      matchesStatus = transaction.status === 'posted';\r\n    } else if (statusFilter === 'active') {\r\n      matchesStatus = transaction.status === 'active';\r\n    } else if (statusFilter === 'inactive') {\r\n      matchesStatus = transaction.status === 'inactive';\r\n    } else {\r\n      matchesStatus = transaction.status === statusFilter;\r\n    }\r\n    \r\n    return matchesSearch && matchesType && matchesStatus;\r\n  });\r\n\r\n  // Use backend summary if available, otherwise fallback to local calculations\r\n  const localTotalRevenue = filteredTransactions\r\n    .filter(t => t.transaction_type === 'revenue')\r\n    .reduce((sum, t) => sum + Math.abs(t.amount), 0);\r\n  \r\n  const localTotalSales = filteredTransactions\r\n    .filter(t => t.transaction_type === 'sale')\r\n    .reduce((sum, t) => sum + Math.abs(t.amount), 0);\r\n  \r\n  const localTotalExpenses = filteredTransactions\r\n    .filter(t => t.transaction_type === 'expense')\r\n    .reduce((sum, t) => sum + Math.abs(t.amount), 0);\r\n  \r\n  const localTotalInventory = filteredTransactions\r\n    .filter(t => t.transaction_type === 'inventory')\r\n    .reduce((sum, t) => sum + Math.abs(t.amount), 0);\r\n  \r\n  const localNetAmount = localTotalRevenue + localTotalSales - localTotalExpenses - localTotalInventory;\r\n  const localTotalTransactions = filteredTransactions.length;\r\n\r\n  // Use backend data if available and not loading, otherwise use local calculations\r\n  const totalRevenue = !loadingSummary && summary.totalRevenue > 0 ? summary.totalRevenue : localTotalRevenue;\r\n  const totalSales = !loadingSummary && summary.totalSales > 0 ? summary.totalSales : localTotalSales;\r\n  const totalExpenses = !loadingSummary && summary.totalExpenses > 0 ? summary.totalExpenses : localTotalExpenses;\r\n  const totalInventory = !loadingSummary && summary.totalInventory > 0 ? summary.totalInventory : localTotalInventory;\r\n  const netAmount = !loadingSummary && (summary.totalRevenue > 0 || summary.totalSales > 0 || summary.totalExpenses > 0) \r\n    ? summary.netAmount \r\n    : localNetAmount;\r\n  const totalTransactionsCount = localTotalTransactions;\r\n\r\n  if (loading) {\r\n    return (\r\n      <Layout>\r\n        <PageContainer>\r\n          <ContentContainer>\r\n            <LoadingContainer>\r\n              <Spinner />\r\n              <p>Loading transactions...</p>\r\n            </LoadingContainer>\r\n          </ContentContainer>\r\n        </PageContainer>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <PageContainer>\r\n        <ContentContainer>\r\n          <HeaderContainer>\r\n            <h1>Transactions</h1>\r\n            <p>View all revenue and expense transactions</p>\r\n          </HeaderContainer>\r\n\r\n          {error && (\r\n            <ErrorBanner>\r\n              <AlertCircle />\r\n              <span>{error}</span>\r\n            </ErrorBanner>\r\n          )}\r\n\r\n          <SummaryGrid>\r\n            <SummaryCard $type=\"revenue\">\r\n              <div className=\"label\">\r\n                Total Revenue\r\n                {loadingSummary && <span style={{ fontSize: '10px', marginLeft: '4px', opacity: 0.7 }}>(Loading...)</span>}\r\n              </div>\r\n              <div className=\"value\">{formatCurrency(totalRevenue)}</div>\r\n            </SummaryCard>\r\n            <SummaryCard $type=\"revenue\">\r\n              <div className=\"label\">\r\n                Total Sales\r\n                {loadingSummary && <span style={{ fontSize: '10px', marginLeft: '4px', opacity: 0.7 }}>(Loading...)</span>}\r\n              </div>\r\n              <div className=\"value\">{formatCurrency(totalSales)}</div>\r\n            </SummaryCard>\r\n            <SummaryCard $type=\"expense\">\r\n              <div className=\"label\">\r\n                Total Expenses\r\n                {loadingSummary && <span style={{ fontSize: '10px', marginLeft: '4px', opacity: 0.7 }}>(Loading...)</span>}\r\n              </div>\r\n              <div className=\"value\">{formatCurrency(totalExpenses)}</div>\r\n            </SummaryCard>\r\n          </SummaryGrid>\r\n\r\n          <BottomSummaryGrid>\r\n            <SummaryCard $type=\"expense\">\r\n              <div className=\"label\">\r\n                Total Inventory Cost\r\n                {loadingSummary && <span style={{ fontSize: '10px', marginLeft: '4px', opacity: 0.7 }}>(Loading...)</span>}\r\n              </div>\r\n              <div className=\"value\">{formatCurrency(totalInventory)}</div>\r\n            </SummaryCard>\r\n            <SummaryCard $type=\"net\">\r\n              <div className=\"label\">\r\n                Net Amount\r\n                {loadingSummary && <span style={{ fontSize: '10px', marginLeft: '4px', opacity: 0.7 }}>(Loading...)</span>}\r\n              </div>\r\n              <div className=\"value\" style={{ color: netAmount >= 0 ? '#16a34a' : '#dc2626' }}>\r\n                {formatCurrency(netAmount)}\r\n              </div>\r\n            </SummaryCard>\r\n            <SummaryCard $type=\"total\">\r\n              <div className=\"label\">Total Transactions</div>\r\n              <div className=\"value\">{totalTransactionsCount}</div>\r\n            </SummaryCard>\r\n          </BottomSummaryGrid>\r\n\r\n          <FiltersContainer>\r\n            <FiltersGrid>\r\n              <SearchContainer>\r\n                <Search />\r\n                <SearchInput\r\n                  type=\"text\"\r\n                  placeholder=\"Search transactions...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n              </SearchContainer>\r\n              \r\n              <Select value={typeFilter} onChange={(e) => setTypeFilter(e.target.value)}>\r\n                <option value=\"all\">All Types</option>\r\n                <option value=\"revenue\">Revenue</option>\r\n                <option value=\"expense\">Expense</option>\r\n                <option value=\"sale\">Sales</option>\r\n                <option value=\"inventory\">Inventory</option>\r\n              </Select>\r\n              \r\n              <Select value={statusFilter} onChange={(e) => setStatusFilter(e.target.value)}>\r\n                <option value=\"all\">All Status</option>\r\n                <option value=\"approved\">Approved</option>\r\n                <option value=\"posted\">Posted</option>\r\n                <option value=\"active\">Active</option>\r\n                <option value=\"pending\">Pending</option>\r\n                <option value=\"inactive\">Inactive</option>\r\n                <option value=\"cancelled\">Cancelled</option>\r\n              </Select>\r\n            </FiltersGrid>\r\n          </FiltersContainer>\r\n\r\n          <TableContainer>\r\n            {filteredTransactions.length === 0 ? (\r\n              <EmptyState>\r\n                <TrendingUp />\r\n                <h3>No transactions found</h3>\r\n                <p>Try adjusting your filters or create a new transaction.</p>\r\n              </EmptyState>\r\n            ) : (\r\n              <div style={{ overflowX: 'auto' }}>\r\n                <Table>\r\n                  <TableHeader>\r\n                    <tr>\r\n                      <th>Type</th>\r\n                      <th>Title</th>\r\n                      <th>Category</th>\r\n                      <th>Amount</th>\r\n                      <th>Date</th>\r\n                      <th>Status</th>\r\n                      <th>Actions</th>\r\n                    </tr>\r\n                  </TableHeader>\r\n                  <TableBody>\r\n                    {filteredTransactions.map((transaction) => {\r\n                      const originalId = transaction.id.split('-')[1];\r\n                      const isExpense = transaction.transaction_type === 'expense';\r\n                        const isSale = transaction.transaction_type === 'sale';\r\n                      \r\n                      return (\r\n                        <tr key={transaction.id}>\r\n                          <td style={{ whiteSpace: 'nowrap' }}>\r\n                            <TypeBadge $type={transaction.transaction_type}>\r\n                              {isExpense ? (\r\n                                <ArrowDownRight size={12} />\r\n                              ) : isSale ? (\r\n                                <ShoppingCart size={12} />\r\n                              ) : transaction.transaction_type === 'inventory' ? (\r\n                                <Package size={12} />\r\n                              ) : (\r\n                                <ArrowUpRight size={12} />\r\n                              )}\r\n                              {transaction.transaction_type === 'revenue' \r\n                                ? 'Revenue' \r\n                                : transaction.transaction_type === 'expense' \r\n                                ? 'Expense' \r\n                                : transaction.transaction_type === 'sale'\r\n                                ? 'Sale'\r\n                                : 'Inventory'}\r\n                            </TypeBadge>\r\n                          </td>\r\n                          <td>\r\n                            <TransactionTitle>{transaction.title}</TransactionTitle>\r\n                          </td>\r\n                          <td style={{ whiteSpace: 'nowrap' }}>\r\n                            <CategoryBadge>{transaction.category || 'N/A'}</CategoryBadge>\r\n                          </td>\r\n                          <AmountCell $isExpense={isExpense || transaction.transaction_type === 'inventory'} style={{ whiteSpace: 'nowrap' }}>\r\n                            {isExpense || transaction.transaction_type === 'inventory' ? '-' : '+'}{formatCurrency(Math.abs(transaction.amount))}\r\n                          </AmountCell>\r\n                          <td style={{ whiteSpace: 'nowrap' }}>{formatDate(transaction.date || transaction.created_at || '')}</td>\r\n                          <td style={{ whiteSpace: 'nowrap' }}>\r\n                            <StatusBadge \r\n                              $approved={Boolean(transaction.is_approved)} \r\n                              $status={transaction.status}\r\n                            >\r\n                              {transaction.status === 'posted' \r\n                                ? 'Posted' \r\n                                : transaction.status === 'cancelled'\r\n                                ? 'Cancelled'\r\n                                : transaction.status === 'active'\r\n                                ? 'Active'\r\n                                : transaction.status === 'inactive'\r\n                                ? 'Inactive'\r\n                                : transaction.is_approved \r\n                                ? 'Approved' \r\n                                : 'Pending'}\r\n                            </StatusBadge>\r\n                            {transaction.is_recurring && (\r\n                              <RecurringBadge>Recurring</RecurringBadge>\r\n                            )}\r\n                          </td>\r\n                          <td style={{ whiteSpace: 'nowrap' }}>\r\n                            <ActionButtons>\r\n                              {isSale ? (\r\n                                <Link href={`/sales/accounting?sale_id=${originalId}`}>\r\n                                  <Button size=\"sm\" variant=\"secondary\">\r\n                                    View\r\n                                  </Button>\r\n                                </Link>\r\n                              ) : transaction.transaction_type === 'inventory' ? (\r\n                                <Link href={`/inventory/manage?item_id=${originalId}`}>\r\n                                  <Button size=\"sm\" variant=\"secondary\">\r\n                                    View\r\n                                  </Button>\r\n                                </Link>\r\n                              ) : (\r\n                                <Link href={isExpense ? `/expenses/edit/${originalId}` : `/revenue/edit/${originalId}`}>\r\n                                  <Button size=\"sm\" variant=\"secondary\">\r\n                                    View\r\n                                  </Button>\r\n                                </Link>\r\n                              )}\r\n                            </ActionButtons>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </TableBody>\r\n                </Table>\r\n              </div>\r\n            )}\r\n          </TableContainer>\r\n        </ContentContainer>\r\n      </PageContainer>\r\n    </Layout>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
frontend/.next/dev/server/chunks/ssr/_c69e0222._.js:            // Note: Backend APIs (getFinancialSummary, getIncomeStatement, getCashFlow) should already filter
frontend/.next/dev/server/chunks/ssr/_c69e0222._.js:                __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$api$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].getFinancialSummary(dateParams.startDate, dateParams.endDate),
frontend/.next/dev/server/chunks/ssr/_c69e0222._.js.map:    {"offset": {"line": 6831, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASHROCK/Desktop/projectai/frontend/app/report/ClientPage.tsx"],"sourcesContent":["'use client';\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport Layout from '@/components/layout';\r\nimport { apiClient } from '@/lib/api';\r\nimport { useAuth } from '@/lib/rbac/auth-context';\r\nimport useUserStore from '@/store/userStore';\r\nimport { toast } from 'sonner';\r\nimport { theme } from '@/components/common/theme';\r\nimport {\r\n  DollarSign,\r\n  TrendingUp,\r\n  RefreshCw,\r\n  Loader2,\r\n  ArrowUpRight,\r\n  ArrowDownRight,\r\n  FileText,\r\n  BarChart3,\r\n  AlertCircle,\r\n  ShoppingCart,\r\n  Package,\r\n  LineChart,\r\n  Brain,\r\n  Zap,\r\n  Lightbulb,\r\n  Target,\r\n  CheckCircle2\r\n} from 'lucide-react';\r\n\r\nconst PRIMARY_COLOR = theme.colors.primary || '#00AA00';\r\nconst TEXT_COLOR_DARK = '#111827';\r\nconst TEXT_COLOR_MUTED = theme.colors.textSecondary || '#666';\r\n\r\n// Type definitions for error handling\r\ntype ErrorWithDetails = {\r\n  code?: string;\r\n  message?: string;\r\n  response?: {\r\n    status: number;\r\n    data?: {\r\n      detail?: string;\r\n    };\r\n  };\r\n};\r\n\r\nconst CardShadow = `\r\n  0 2px 4px -1px rgba(0, 0, 0, 0.06),\r\n  0 1px 2px -1px rgba(0, 0, 0, 0.03),\r\n  inset 0 0 0 1px rgba(0, 0, 0, 0.02)\r\n`;\r\nconst CardShadowHover = `\r\n  0 8px 12px -2px rgba(0, 0, 0, 0.08),\r\n  0 4px 6px -2px rgba(0, 0, 0, 0.04),\r\n  inset 0 0 0 1px rgba(0, 0, 0, 0.03)\r\n`;\r\n\r\nconst PageContainer = styled.div`\r\n  flex: 1;\r\n  width: 100%;\r\n  max-width: 980px;\r\n  margin-left: auto;\r\n  margin-right: 0;\r\n  padding: ${theme.spacing.sm} ${theme.spacing.sm} ${theme.spacing.sm};\r\n`;\r\n\r\nconst HeaderContainer = styled.div`\r\n  background: linear-gradient(135deg, ${PRIMARY_COLOR} 0%, #008800 100%);\r\n  color: #ffffff;\r\n  padding: ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  border-radius: ${theme.borderRadius.md};\r\n  border-bottom: 3px solid rgba(255, 255, 255, 0.1);\r\n  \r\n  h1 {\r\n    font-size: clamp(24px, 3vw, 36px);\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    margin: 0 0 ${theme.spacing.xs};\r\n    color: #ffffff;\r\n  }\r\n  \r\n  p {\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n    opacity: 0.9;\r\n    margin: 0;\r\n    color: rgba(255, 255, 255, 0.95);\r\n  }\r\n`;\r\n\r\nconst DateFilterCard = styled.div`\r\n  background: ${theme.colors.background};\r\n  padding: ${theme.spacing.lg};\r\n  border-radius: ${theme.borderRadius.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  box-shadow: ${CardShadow};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  display: flex;\r\n  gap: ${theme.spacing.md};\r\n  align-items: flex-end;\r\n  flex-wrap: wrap;\r\n  transition: box-shadow ${theme.transitions.default};\r\n\r\n  &:hover {\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n`;\r\n\r\nconst DateInputGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: ${theme.spacing.sm};\r\n  flex: 1;\r\n  min-width: 200px;\r\n`;\r\n\r\nconst ReportSection = styled.div`\r\n  margin-bottom: ${theme.spacing.xl};\r\n`;\r\n\r\nconst ReportCard = styled.div`\r\n  background: ${theme.colors.background};\r\n  padding: ${theme.spacing.xl};\r\n  border-radius: ${theme.borderRadius.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  box-shadow: ${CardShadow};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  transition: box-shadow ${theme.transitions.default};\r\n\r\n  &:hover {\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n`;\r\n\r\nconst ReportHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: ${theme.spacing.lg};\r\n  padding-bottom: ${theme.spacing.md};\r\n  border-bottom: 2px solid ${theme.colors.border};\r\n  \r\n  h2 {\r\n    font-size: ${theme.typography.fontSizes.lg};\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    color: ${TEXT_COLOR_DARK};\r\n    display: flex;\r\n    align-items: center;\r\n    gap: ${theme.spacing.md};\r\n    margin: 0;\r\n    \r\n    svg {\r\n      width: 24px;\r\n      height: 24px;\r\n      color: ${PRIMARY_COLOR};\r\n    }\r\n  }\r\n  \r\n  p {\r\n    color: ${TEXT_COLOR_MUTED};\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    margin: ${theme.spacing.xs} 0 0;\r\n  }\r\n`;\r\n\r\nconst SummaryGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n  gap: ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.xl};\r\n`;\r\n\r\nconst SummaryCard = styled.div<{ $type?: 'revenue' | 'expense' | 'profit' | 'cash' }>`\r\n  background: ${(p) => {\r\n    if (p.$type === 'revenue') return '#f0fdf4';\r\n    if (p.$type === 'expense') return '#fef2f2';\r\n    if (p.$type === 'profit') return '#eff6ff';\r\n    return theme.colors.backgroundSecondary;\r\n  }};\r\n  border: 1px solid ${(p) => {\r\n    if (p.$type === 'revenue') return '#bbf7d0';\r\n    if (p.$type === 'expense') return '#fecaca';\r\n    if (p.$type === 'profit') return '#bfdbfe';\r\n    return theme.colors.border;\r\n  }};\r\n  padding: ${theme.spacing.lg};\r\n  border-radius: ${theme.borderRadius.md};\r\n  transition: transform ${theme.transitions.default}, box-shadow ${theme.transitions.default};\r\n  box-shadow: ${CardShadow};\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n  \r\n  .label {\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    color: ${TEXT_COLOR_MUTED};\r\n    margin-bottom: ${theme.spacing.sm};\r\n    display: flex;\r\n    align-items: center;\r\n    gap: ${theme.spacing.xs};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n  }\r\n  \r\n  .value {\r\n    font-size: clamp(20px, 4vw, 28px);\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    color: ${(p) => p.$type === 'expense' ? '#dc2626' : TEXT_COLOR_DARK};\r\n    margin-bottom: ${theme.spacing.xs};\r\n  }\r\n  \r\n  .sub-value {\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    color: ${TEXT_COLOR_MUTED};\r\n    margin-top: ${theme.spacing.xs};\r\n  }\r\n`;\r\n\r\nconst CategoryTable = styled.table`\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n  margin-top: ${theme.spacing.md};\r\n  \r\n  thead {\r\n    background: ${theme.colors.backgroundSecondary};\r\n    border-bottom: 2px solid ${theme.colors.border};\r\n    \r\n    th {\r\n      text-align: left;\r\n      padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n      font-weight: ${theme.typography.fontWeights.medium};\r\n      color: ${TEXT_COLOR_MUTED};\r\n      font-size: ${theme.typography.fontSizes.xs};\r\n      text-transform: uppercase;\r\n      letter-spacing: 0.05em;\r\n    }\r\n  }\r\n  \r\n  tbody {\r\n    tr {\r\n      border-bottom: 1px solid ${theme.colors.border};\r\n      transition: background-color ${theme.transitions.default};\r\n      \r\n      &:hover {\r\n        background: ${theme.colors.backgroundSecondary};\r\n      }\r\n      \r\n      &:last-child {\r\n        border-bottom: none;\r\n      }\r\n      \r\n      td {\r\n        padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n        color: ${TEXT_COLOR_MUTED};\r\n        font-size: ${theme.typography.fontSizes.sm};\r\n        \r\n        &:last-child {\r\n          font-weight: ${theme.typography.fontWeights.bold};\r\n          color: ${TEXT_COLOR_DARK};\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst CashFlowTable = styled.table`\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n  margin-top: ${theme.spacing.md};\r\n  \r\n  thead {\r\n    background: ${theme.colors.backgroundSecondary};\r\n    border-bottom: 2px solid ${theme.colors.border};\r\n    \r\n    th {\r\n      text-align: left;\r\n      padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n      font-weight: ${theme.typography.fontWeights.medium};\r\n      color: ${TEXT_COLOR_MUTED};\r\n      font-size: ${theme.typography.fontSizes.xs};\r\n      text-transform: uppercase;\r\n      letter-spacing: 0.05em;\r\n    }\r\n  }\r\n  \r\n  tbody {\r\n    tr {\r\n      border-bottom: 1px solid ${theme.colors.border};\r\n      transition: background-color ${theme.transitions.default};\r\n      \r\n      &:hover {\r\n        background: ${theme.colors.backgroundSecondary};\r\n      }\r\n      \r\n      &:last-child {\r\n        border-bottom: none;\r\n      }\r\n      \r\n      td {\r\n        padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n        color: ${TEXT_COLOR_MUTED};\r\n        font-size: ${theme.typography.fontSizes.sm};\r\n        \r\n        &:nth-child(2) {\r\n          color: #059669;\r\n          font-weight: ${theme.typography.fontWeights.medium};\r\n        }\r\n        \r\n        &:nth-child(3) {\r\n          color: #dc2626;\r\n          font-weight: ${theme.typography.fontWeights.medium};\r\n        }\r\n        \r\n        &:last-child {\r\n          font-weight: ${theme.typography.fontWeights.bold};\r\n          color: ${TEXT_COLOR_DARK};\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst LoadingContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 60vh;\r\n  gap: ${theme.spacing.md};\r\n  \r\n  p {\r\n    color: ${TEXT_COLOR_MUTED};\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst Spinner = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 3px solid ${theme.colors.border};\r\n  border-top-color: ${PRIMARY_COLOR};\r\n  border-radius: 50%;\r\n  animation: spin 0.8s linear infinite;\r\n  \r\n  @keyframes spin {\r\n    to { transform: rotate(360deg); }\r\n  }\r\n`;\r\n\r\nconst ErrorBanner = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: ${theme.spacing.md};\r\n  padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  background-color: rgba(239, 68, 68, 0.1);\r\n  border: 1px solid rgba(239, 68, 68, 0.3);\r\n  border-radius: ${theme.borderRadius.md};\r\n  color: #dc2626;\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n\r\n  svg {\r\n    flex-shrink: 0;\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  text-align: center;\r\n  padding: ${theme.spacing.xxl} ${theme.spacing.lg};\r\n  color: ${TEXT_COLOR_MUTED};\r\n  \r\n  svg {\r\n    width: 48px;\r\n    height: 48px;\r\n    margin: 0 auto ${theme.spacing.md};\r\n    opacity: 0.5;\r\n    color: ${TEXT_COLOR_MUTED};\r\n  }\r\n  \r\n  h3 {\r\n    font-size: ${theme.typography.fontSizes.lg};\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    margin: 0 0 ${theme.spacing.sm};\r\n    color: ${TEXT_COLOR_DARK};\r\n  }\r\n`;\r\n\r\nconst ButtonRow = styled.div`\r\n  display: flex;\r\n  gap: ${theme.spacing.md};\r\n  margin-top: ${theme.spacing.md};\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst SectionTitle = styled.h3`\r\n  font-size: ${theme.typography.fontSizes.lg};\r\n  font-weight: ${theme.typography.fontWeights.bold};\r\n  margin: 0 0 ${theme.spacing.md};\r\n  color: ${TEXT_COLOR_DARK};\r\n`;\r\n\r\nconst TwoColumnGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: ${theme.spacing.xl};\r\n  margin-top: ${theme.spacing.xl};\r\n\r\n  @media (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n    gap: ${theme.spacing.lg};\r\n  }\r\n`;\r\n\r\nconst InsightCard = styled.div<{ $priority?: 'high' | 'medium' | 'low' }>`\r\n  background: ${(p) => {\r\n    if (p.$priority === 'high') return '#fef2f2';\r\n    if (p.$priority === 'medium') return '#fffbeb';\r\n    return '#f0fdf4';\r\n  }};\r\n  border: 1px solid ${(p) => {\r\n    if (p.$priority === 'high') return '#fecaca';\r\n    if (p.$priority === 'medium') return '#fde68a';\r\n    return '#bbf7d0';\r\n  }};\r\n  border-left: 4px solid ${(p) => {\r\n    if (p.$priority === 'high') return '#dc2626';\r\n    if (p.$priority === 'medium') return '#d97706';\r\n    return PRIMARY_COLOR;\r\n  }};\r\n  border-radius: ${theme.borderRadius.md};\r\n  padding: ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.md};\r\n  \r\n  .insight-header {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: ${theme.spacing.sm};\r\n    margin-bottom: ${theme.spacing.sm};\r\n    \r\n    h4 {\r\n      font-size: ${theme.typography.fontSizes.md};\r\n      font-weight: ${theme.typography.fontWeights.bold};\r\n      color: ${TEXT_COLOR_DARK};\r\n      margin: 0;\r\n    }\r\n    \r\n  }\r\n  \r\n  .insight-message {\r\n    color: ${TEXT_COLOR_DARK};\r\n    margin-bottom: ${theme.spacing.sm};\r\n    line-height: 1.6;\r\n  }\r\n  \r\n  .insight-actions {\r\n    margin-top: ${theme.spacing.md};\r\n    padding-top: ${theme.spacing.md};\r\n    border-top: 1px solid ${theme.colors.border};\r\n    \r\n    ul {\r\n      margin: 0;\r\n      padding-left: ${theme.spacing.lg};\r\n      color: ${TEXT_COLOR_MUTED};\r\n      font-size: ${theme.typography.fontSizes.sm};\r\n    }\r\n  }\r\n`;\r\n\r\nconst AlertCard = styled.div<{ $severity?: 'high' | 'medium' | 'low' }>`\r\n  background: ${(p) => {\r\n    if (p.$severity === 'high') return '#fef2f2';\r\n    if (p.$severity === 'medium') return '#fffbeb';\r\n    return '#eff6ff';\r\n  }};\r\n  border: 1px solid ${(p) => {\r\n    if (p.$severity === 'high') return '#fecaca';\r\n    if (p.$severity === 'medium') return '#fde68a';\r\n    return '#bfdbfe';\r\n  }};\r\n  border-radius: ${theme.borderRadius.md};\r\n  padding: ${theme.spacing.md};\r\n  margin-bottom: ${theme.spacing.sm};\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: ${theme.spacing.sm};\r\n  \r\n  .alert-icon {\r\n    color: ${(p) => {\r\n      if (p.$severity === 'high') return '#dc2626';\r\n      if (p.$severity === 'medium') return '#d97706';\r\n      return '#2563eb';\r\n    }};\r\n    flex-shrink: 0;\r\n    margin-top: 2px;\r\n  }\r\n  \r\n  .alert-message {\r\n    color: ${TEXT_COLOR_DARK};\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    line-height: 1.5;\r\n  }\r\n`;\r\n\r\nconst TrendBadge = styled.span<{ $direction?: 'increasing' | 'decreasing' | 'stable' }>`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: ${theme.spacing.xs};\r\n  padding: 6px 12px;\r\n  border-radius: ${theme.borderRadius.sm};\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  background: ${(p) => {\r\n    if (p.$direction === 'increasing') return '#d1fae5';\r\n    if (p.$direction === 'decreasing') return '#fee2e2';\r\n    return '#f3f4f6';\r\n  }};\r\n  color: ${(p) => {\r\n    if (p.$direction === 'increasing') return '#065f46';\r\n    if (p.$direction === 'decreasing') return '#991b1b';\r\n    return TEXT_COLOR_MUTED;\r\n  }};\r\n`;\r\n\r\nconst PriorityBadge = styled.span<{ $priority?: 'high' | 'medium' | 'low' }>`\r\n  font-size: ${theme.typography.fontSizes.xs};\r\n  padding: 4px 8px;\r\n  border-radius: ${theme.borderRadius.sm};\r\n  text-transform: uppercase;\r\n  font-weight: ${theme.typography.fontWeights.bold};\r\n  background: ${(p) => {\r\n    if (p.$priority === 'high') return '#dc2626';\r\n    if (p.$priority === 'medium') return '#d97706';\r\n    return PRIMARY_COLOR;\r\n  }};\r\n  color: white;\r\n`;\r\n\r\nconst QuickForecastButton = styled(Button)`\r\n  margin-top: ${theme.spacing.md};\r\n  width: 100%;\r\n`;\r\n\r\ninterface IncomeStatement {\r\n  period: { start_date?: string; end_date?: string };\r\n  revenue: {\r\n    total: number;\r\n    by_category: Record<string, number>;\r\n  };\r\n  sales: {\r\n    total: number;\r\n    by_category?: Record<string, number>;\r\n  };\r\n  expenses: {\r\n    total: number;\r\n    by_category: Record<string, number>;\r\n  };\r\n  profit: number;\r\n  profit_margin: number;\r\n}\r\n\r\ninterface CashFlow {\r\n  period: { start_date?: string; end_date?: string };\r\n  summary: {\r\n    total_inflow: number;\r\n    total_outflow: number;\r\n    net_cash_flow: number;\r\n  };\r\n  daily_cash_flow: Record<string, { inflow: number; outflow: number; net: number }>;\r\n}\r\n\r\ninterface FinancialSummary {\r\n  period: { start_date?: string; end_date?: string };\r\n  financials: {\r\n    total_revenue: number;\r\n    total_sales: number;\r\n    total_expenses: number;\r\n    profit: number;\r\n    profit_margin: number;\r\n  };\r\n  revenue_by_category: Record<string, number>;\r\n  sales_by_category?: Record<string, number>;\r\n  expenses_by_category: Record<string, number>;\r\n  transaction_counts: {\r\n    revenue: number;\r\n    sales: number;\r\n    expenses: number;\r\n    total: number;\r\n  };\r\n  generated_at: string;\r\n}\r\n\r\ninterface InventorySummary {\r\n  total_items: number;\r\n  total_cost_value: number;\r\n  total_selling_value: number;\r\n  potential_profit: number;\r\n  total_quantity_in_stock?: number;\r\n}\r\n\r\ninterface SalesSummary {\r\n  total_sales: number;\r\n  total_revenue: number;\r\n  pending_sales: number;\r\n  posted_sales: number;\r\n  period_start?: string;\r\n  period_end?: string;\r\n}\r\n\r\ninterface ForecastDataPoint {\r\n  period?: string;\r\n  date?: string;\r\n  forecasted_value?: number;\r\n  method?: string;\r\n}\r\n\r\ninterface Forecast {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  forecast_type: string;\r\n  period_type: string;\r\n  start_date: string;\r\n  end_date: string;\r\n  method: string;\r\n  method_params?: Record<string, unknown>;\r\n  forecast_data?: ForecastDataPoint[];\r\n  created_at: string;\r\n}\r\n\r\ninterface MLInsight {\r\n  metric: string;\r\n  forecast?: any[];\r\n  advice?: Array<{\r\n    priority: string;\r\n    title: string;\r\n    message: string;\r\n    actions: string[];\r\n  }>;\r\n  alerts?: Array<{\r\n    severity: string;\r\n    message: string;\r\n  }>;\r\n  summary?: string;\r\n  trend_analysis?: {\r\n    direction: string;\r\n    percentage: number;\r\n    average: number;\r\n    max: number;\r\n    min: number;\r\n  };\r\n}\r\n\r\ninterface ForecastWithAdvice {\r\n  metric: string;\r\n  model_type: string;\r\n  forecast: ForecastDataPoint[];\r\n  advice: Array<{\r\n    priority: string;\r\n    title: string;\r\n    message: string;\r\n    actions: string[];\r\n  }>;\r\n  alerts: Array<{\r\n    severity: string;\r\n    message: string;\r\n  }>;\r\n  summary: string;\r\n  trend_analysis: {\r\n    direction: string;\r\n    percentage: number;\r\n    average: number;\r\n    max: number;\r\n    min: number;\r\n  };\r\n}\r\n\r\nexport default function ReportPage() {\r\n  const { user } = useAuth();\r\n  const storeUser = useUserStore((state) => state.user);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  \r\n  const [startDate, setStartDate] = useState<string>(() => {\r\n    const date = new Date();\r\n    date.setFullYear(date.getFullYear() - 1);\r\n    date.setDate(1);\r\n    return date.toISOString().split('T')[0];\r\n  });\r\n  const [endDate, setEndDate] = useState<string>(() => {\r\n    const tomorrow = new Date();\r\n    tomorrow.setDate(tomorrow.getDate() + 1);\r\n    return tomorrow.toISOString().split('T')[0];\r\n  });\r\n  \r\n  const [financialSummary, setFinancialSummary] = useState<FinancialSummary | null>(null);\r\n  const [incomeStatement, setIncomeStatement] = useState<IncomeStatement | null>(null);\r\n  const [cashFlow, setCashFlow] = useState<CashFlow | null>(null);\r\n  const [inventorySummary, setInventorySummary] = useState<InventorySummary | null>(null);\r\n  const [salesSummary, setSalesSummary] = useState<SalesSummary | null>(null);\r\n  const [forecasts, setForecasts] = useState<Forecast[]>([]);\r\n  const [mlInsights, setMlInsights] = useState<any>(null);\r\n  const [loadingMLInsights, setLoadingMLInsights] = useState(false);\r\n  const [generatingForecast, setGeneratingForecast] = useState<string | null>(null);\r\n\r\n  // Helper function to safely convert values to numbers, handling NaN, null, undefined\r\n  const safeNumber = (value: unknown): number => {\r\n    if (value === null || value === undefined || value === '') {\r\n      return 0;\r\n    }\r\n    const num = Number(value);\r\n    return isNaN(num) ? 0 : num;\r\n  };\r\n\r\n  const loadReports = useCallback(async (useDateFilter: boolean = true) => {\r\n    if (!user) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const userRole = user?.role?.toLowerCase();\r\n      const isFinanceAdmin = userRole === 'finance_manager' || userRole === 'finance_admin';\r\n      const isAccountant = userRole === 'accountant';\r\n      const isEmployee = userRole === 'employee';\r\n\r\n      // Get accessible user IDs based on role\r\n      // Admin/Super Admin: See all (no filtering)\r\n      // Finance Admin: See their own + subordinates (ONLY accountants and employees, NOT other Finance Admins)\r\n      // Accountant: See their own + their Finance Admin's team (ONLY accountants and employees, NOT other Finance Admins)\r\n      // Employee: See only their own\r\n      let accessibleUserIds: number[] | null = null;\r\n      const isAdmin = userRole === 'admin' || userRole === 'super_admin';\r\n      \r\n      if (isAdmin) {\r\n        // Admin can see all - no filtering needed\r\n        accessibleUserIds = null;\r\n      } else if (isFinanceAdmin && user?.id) {\r\n        try {\r\n          // Finance Admin: Get their own subordinates ONLY (accountants and employees)\r\n          // Exclude other Finance Admins, Managers, and their subordinates\r\n          const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n          const subordinatesRes = await apiClient.getSubordinates(userId);\r\n          const subordinates = subordinatesRes?.data || [];\r\n          \r\n          // Filter subordinates to ONLY include accountants and employees (exclude other Finance Admins/Managers)\r\n          const validSubordinateIds = subordinates\r\n            .map((sub: { id?: number | string; role?: string }) => {\r\n              const subId = typeof sub.id === 'string' ? parseInt(sub.id, 10) : Number(sub.id);\r\n              const subRole = (sub.role || '').toLowerCase();\r\n              \r\n              // Only include accountants and employees, exclude Finance Admins and Managers\r\n              if (!Number.isNaN(subId) && (subRole === 'accountant' || subRole === 'employee')) {\r\n                return subId;\r\n              }\r\n              return undefined;\r\n            })\r\n            .filter((id): id is number => id !== undefined);\r\n          \r\n          // Include the finance admin themselves + their valid subordinates only\r\n          accessibleUserIds = [userId, ...validSubordinateIds];\r\n          \r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.log('Finance Admin - Accessible User IDs for Reports:', {\r\n              userId: userId,\r\n              subordinatesCount: subordinates.length,\r\n              validSubordinateIds: validSubordinateIds,\r\n              accessibleUserIds: accessibleUserIds\r\n            });\r\n          }\r\n        } catch (err: unknown) {\r\n          console.warn('Failed to fetch subordinates, using only finance admin ID:', err);\r\n          const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n          accessibleUserIds = [userId];\r\n        }\r\n      } else if (isAccountant && user?.id) {\r\n        // Accountant: Get their Finance Admin's (manager's) subordinates\r\n        const accountantId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n        let managerId: number | null = null;\r\n        \r\n        // Try to get managerId from storeUser first\r\n        const managerIdStr = storeUser?.managerId;\r\n        if (managerIdStr) {\r\n          managerId = typeof managerIdStr === 'string' ? parseInt(managerIdStr, 10) : Number(managerIdStr);\r\n        } else {\r\n          // If not in storeUser, try to fetch current user profile from API\r\n          try {\r\n            const currentUserRes = await apiClient.getCurrentUser();\r\n            const currentUserData = currentUserRes?.data;\r\n            if (currentUserData?.manager_id !== undefined && currentUserData?.manager_id !== null) {\r\n              managerId = typeof currentUserData.manager_id === 'string' \r\n                ? parseInt(currentUserData.manager_id, 10) \r\n                : Number(currentUserData.manager_id);\r\n            }\r\n          } catch (err) {\r\n            console.warn('Failed to fetch current user profile for manager_id:', err);\r\n          }\r\n        }\r\n        \r\n        if (managerId) {\r\n          try {\r\n            const financeAdminId = managerId;\r\n            \r\n            // Get all subordinates of the Finance Admin\r\n            const subordinatesRes = await apiClient.getSubordinates(financeAdminId);\r\n            const subordinates = subordinatesRes?.data || [];\r\n            \r\n            // Filter subordinates to ONLY include accountants and employees (exclude other Finance Admins/Managers)\r\n            const validSubordinateIds = subordinates\r\n              .map((sub: { id?: number | string; role?: string }) => {\r\n                const subId = typeof sub.id === 'string' ? parseInt(sub.id, 10) : Number(sub.id);\r\n                const subRole = (sub.role || '').toLowerCase();\r\n                \r\n                // Only include accountants and employees, exclude Finance Admins and Managers\r\n                if (!Number.isNaN(subId) && (subRole === 'accountant' || subRole === 'employee')) {\r\n                  return subId;\r\n                }\r\n                return undefined;\r\n              })\r\n              .filter((id): id is number => id !== undefined);\r\n            \r\n            // Include the Finance Admin themselves and their valid subordinates only\r\n            accessibleUserIds = [financeAdminId, ...validSubordinateIds];\r\n            \r\n            if (process.env.NODE_ENV === 'development') {\r\n              console.log('Accountant - Accessible User IDs for Reports (from Finance Admin):', {\r\n                accountantId: accountantId,\r\n                financeAdminId: financeAdminId,\r\n                subordinatesCount: subordinates.length,\r\n                validSubordinateIds: validSubordinateIds,\r\n                accessibleUserIds: accessibleUserIds\r\n              });\r\n            }\r\n          } catch (err) {\r\n            console.error('Failed to fetch Finance Admin subordinates for accountant:', err);\r\n            // Fallback: if we can't get subordinates, at least try to show data from the Finance Admin\r\n            accessibleUserIds = [managerId];\r\n          }\r\n        } else {\r\n          // Accountant has no manager assigned - fallback to just themselves\r\n          console.warn('Accountant has no manager (Finance Admin) assigned - using only accountant ID');\r\n          accessibleUserIds = [accountantId];\r\n        }\r\n      } else if (isEmployee && user?.id) {\r\n        // Employee: Can only see their own data\r\n        const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n        accessibleUserIds = [userId];\r\n      }\r\n\r\n      const dateParams = useDateFilter ? { startDate, endDate } : { startDate: undefined, endDate: undefined };\r\n      \r\n      // Fetch sales data for the period (for detailed breakdowns)\r\n      let salesData: unknown[] = [];\r\n      try {\r\n        const salesResponse = await apiClient.getSales({\r\n          status: 'posted', // Only include posted sales in reports\r\n          limit: 1000, // Backend maximum is 1000\r\n          start_date: dateParams.startDate ? new Date(dateParams.startDate + 'T00:00:00').toISOString() : undefined,\r\n          end_date: dateParams.endDate ? new Date(dateParams.endDate + 'T23:59:59').toISOString() : undefined,\r\n        });\r\n        const salesArray = Array.isArray(salesResponse?.data) \r\n          ? salesResponse.data \r\n          : (salesResponse?.data && typeof salesResponse.data === 'object' && 'data' in salesResponse.data \r\n            ? (salesResponse.data as { data?: unknown[] }).data || [] \r\n            : []);\r\n        salesData = salesArray || [];\r\n\r\n        // Apply role-based filtering to sales data\r\n        // Admin/Super Admin: See all (no filtering)\r\n        // Finance Admin: Filter to only their team's sales (themselves + subordinates who are accountants/employees)\r\n        // Accountant: Filter to only their Finance Admin's team sales (Finance Admin + subordinates who are accountants/employees)\r\n        // Employee: Filter to only their own sales\r\n        if (!isAdmin && accessibleUserIds && accessibleUserIds.length > 0) {\r\n          // Finance Admin, Accountant, or Employee: filter based on accessibleUserIds\r\n          salesData = salesData.filter((s: unknown) => {\r\n            const sale = s as { sold_by_id?: unknown; soldBy?: unknown; sold_by?: unknown; created_by_id?: unknown; createdBy?: unknown };\r\n            const soldById = sale.sold_by_id || sale.soldBy || sale.sold_by || sale.created_by_id || sale.createdBy;\r\n            if (!soldById) return false;\r\n            const soldByIdNum = typeof soldById === 'string' ? parseInt(soldById, 10) : (typeof soldById === 'number' ? soldById : NaN);\r\n            return !isNaN(soldByIdNum) && accessibleUserIds!.includes(soldByIdNum);\r\n          });\r\n        }\r\n        // Admin/Super Admin sees all - no filtering needed\r\n      } catch (err: unknown) {\r\n        console.warn('Failed to fetch detailed sales data for reports:', err);\r\n        // Continue without sales data - we'll use sales summary API instead\r\n      }\r\n      \r\n      // Check if user can view inventory summary (Finance Admin, Admin, Manager)\r\n      const canViewInventory = user?.role === 'finance_manager' || \r\n                               user?.role === 'finance_admin' || \r\n                               user?.role === 'admin' || \r\n                               user?.role === 'super_admin' ||\r\n                               user?.role === 'manager';\r\n      \r\n      // Check if user can view sales summary (Accountant, Finance Admin, Admin, Manager)\r\n      const canViewSalesSummary = user?.role === 'accountant' ||\r\n                                  user?.role === 'finance_manager' || \r\n                                  user?.role === 'finance_admin' || \r\n                                  user?.role === 'admin' || \r\n                                  user?.role === 'super_admin' ||\r\n                                  user?.role === 'manager';\r\n      \r\n      // Check if user can view forecasts (Admin, Finance Admin, Manager)\r\n      const canViewForecasts = user?.role === 'finance_manager' || \r\n                               user?.role === 'finance_admin' || \r\n                               user?.role === 'admin' || \r\n                               user?.role === 'super_admin' ||\r\n                               user?.role === 'manager';\r\n      \r\n      // Note: Backend APIs (getFinancialSummary, getIncomeStatement, getCashFlow) should already filter\r\n      // data by user role. The frontend trusts these responses. Sales data is filtered above.\r\n      const [summaryResult, incomeResult, cashFlowResult, inventoryResult, salesSummaryResult, forecastsResult] = await Promise.allSettled([\r\n        apiClient.getFinancialSummary(dateParams.startDate, dateParams.endDate),\r\n        apiClient.getIncomeStatement(dateParams.startDate, dateParams.endDate),\r\n        apiClient.getCashFlow(dateParams.startDate, dateParams.endDate),\r\n        canViewInventory ? apiClient.getInventorySummary().catch((err: unknown) => {\r\n          // Silently handle 403 errors (expected for non-finance admins)\r\n          const error = err as ErrorWithDetails;\r\n          if (error.response?.status === 403) {\r\n            return { data: null };\r\n          }\r\n          throw err;\r\n        }) : Promise.resolve({ data: null }),\r\n        canViewSalesSummary ? apiClient.getSalesSummary({\r\n          start_date: dateParams.startDate ? new Date(dateParams.startDate + 'T00:00:00').toISOString() : undefined,\r\n          end_date: dateParams.endDate ? new Date(dateParams.endDate + 'T23:59:59').toISOString() : undefined,\r\n        }).catch((err: unknown) => {\r\n          // Silently handle 403 errors (expected for non-authorized users)\r\n          const error = err as ErrorWithDetails;\r\n          if (error.response?.status === 403) {\r\n            return { data: null };\r\n          }\r\n          throw err;\r\n        }) : Promise.resolve({ data: null }),\r\n        canViewForecasts ? apiClient.getForecasts({ limit: 100 }).catch((err: unknown) => {\r\n          // Silently handle 403 errors (expected for non-authorized users)\r\n          const error = err as ErrorWithDetails;\r\n          if (error.response?.status === 403) {\r\n            return { data: [] };\r\n          }\r\n          throw err;\r\n        }) : Promise.resolve({ data: [] }),\r\n      ]);\r\n      \r\n      // Filter to only include POSTED sales for revenue/profit calculations\r\n      // This ensures revenue and net profit are only calculated from approved sales\r\n      const postedSalesData = salesData.filter((s: unknown) => {\r\n        const sale = s as { status?: string };\r\n        return sale.status === 'posted' || sale.status === 'POSTED' || sale.status?.toLowerCase() === 'posted';\r\n      });\r\n      \r\n      // Calculate sales totals from individual sales - ONLY from POSTED (approved) sales\r\n      // This is a fallback if sales summary API is not available\r\n      const totalSalesFromData = postedSalesData.reduce((sum: number, s: unknown) => {\r\n        const sale = s as { total_sale?: unknown };\r\n        return sum + safeNumber(sale.total_sale);\r\n      }, 0);\r\n      const salesByCategory: Record<string, number> = {};\r\n      postedSalesData.forEach((s: unknown) => {\r\n        const sale = s as { category?: string; total_sale?: unknown; item?: { category?: string } };\r\n        const category = sale.item?.category || sale.category || 'Sales';\r\n        salesByCategory[category] = (salesByCategory[category] || 0) + safeNumber(sale.total_sale);\r\n      });\r\n\r\n      if (summaryResult.status === 'fulfilled') {\r\n        const summaryData = summaryResult.value.data || summaryResult.value;\r\n        if (summaryData && (summaryData.financials || summaryData.revenue_by_category || summaryData.expenses_by_category)) {\r\n          // Initial calculation with individual sales data (will be updated if sales summary is available)\r\n          const baseRevenue = safeNumber(summaryData.financials?.total_revenue);\r\n          const baseExpenses = safeNumber(summaryData.financials?.total_expenses);\r\n          const calculatedRevenue = baseRevenue + totalSalesFromData;\r\n          const calculatedProfit = calculatedRevenue - baseExpenses;\r\n          const calculatedProfitMargin = calculatedRevenue > 0 \r\n            ? (calculatedProfit / calculatedRevenue) * 100\r\n            : 0;\r\n          \r\n          const enhancedSummary = {\r\n            ...summaryData,\r\n            financials: {\r\n              ...summaryData.financials,\r\n              total_sales: safeNumber(totalSalesFromData),\r\n              total_revenue: calculatedRevenue,\r\n              total_expenses: baseExpenses,\r\n              profit: calculatedProfit,\r\n              profit_margin: calculatedProfitMargin,\r\n            },\r\n            sales_by_category: salesByCategory,\r\n            transaction_counts: {\r\n              ...summaryData.transaction_counts,\r\n              sales: postedSalesData.length, // Only count POSTED sales\r\n              total: (summaryData.transaction_counts?.total || 0) + postedSalesData.length,\r\n            },\r\n          };\r\n          \r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.log('Financial Summary loaded (initial):', {\r\n              base_revenue: baseRevenue,\r\n              sales_from_data: totalSalesFromData,\r\n              total_revenue: enhancedSummary.financials?.total_revenue,\r\n              total_sales: enhancedSummary.financials?.total_sales,\r\n              total_expenses: enhancedSummary.financials?.total_expenses,\r\n              revenue_categories: Object.keys(enhancedSummary.revenue_by_category || {}).length,\r\n              sales_categories: Object.keys(enhancedSummary.sales_by_category || {}).length,\r\n              expense_categories: Object.keys(enhancedSummary.expenses_by_category || {}).length,\r\n            });\r\n          }\r\n          setFinancialSummary(enhancedSummary);\r\n        } else {\r\n          console.warn('Invalid summary data structure:', summaryData);\r\n          setFinancialSummary(null);\r\n        }\r\n      } else {\r\n        // Failed to load financial summary, try to use income statement data if available\r\n        if (incomeResult.status === 'fulfilled') {\r\n          const incomeData = incomeResult.value.data as { revenue?: { by_category?: Record<string, number>; total?: number }; expenses?: { by_category?: Record<string, number>; total?: number } };\r\n          const revenueCategories = Object.keys(incomeData.revenue?.by_category || {}).length;\r\n          const expenseCategories = Object.keys(incomeData.expenses?.by_category || {}).length;\r\n          const revenueObj = incomeData.revenue && typeof incomeData.revenue === 'object' ? incomeData.revenue as { total?: number } : {};\r\n          const expensesObj = incomeData.expenses && typeof incomeData.expenses === 'object' ? incomeData.expenses as { total?: number } : {};\r\n          const baseRevenue = safeNumber(revenueObj.total);\r\n          const baseExpenses = safeNumber(expensesObj.total);\r\n          const calculatedRevenue = baseRevenue + totalSalesFromData;\r\n          const calculatedProfit = calculatedRevenue - baseExpenses;\r\n          const calculatedProfitMargin = calculatedRevenue > 0\r\n            ? (calculatedProfit / calculatedRevenue) * 100\r\n            : 0;\r\n          \r\n          setFinancialSummary({\r\n            period: { start_date: startDate, end_date: endDate },\r\n            financials: {\r\n              total_revenue: calculatedRevenue,\r\n              total_sales: safeNumber(totalSalesFromData),\r\n              total_expenses: baseExpenses,\r\n              profit: calculatedProfit,\r\n              profit_margin: calculatedProfitMargin,\r\n            },\r\n            revenue_by_category: (incomeData.revenue?.by_category as Record<string, number>) || {},\r\n            sales_by_category: salesByCategory,\r\n            expenses_by_category: (incomeData.expenses?.by_category as Record<string, number>) || {},\r\n            transaction_counts: {\r\n              revenue: revenueCategories > 0 ? revenueCategories : 0,\r\n              sales: postedSalesData.length, // Only count POSTED sales\r\n              expenses: expenseCategories > 0 ? expenseCategories : 0,\r\n              total: revenueCategories + expenseCategories + postedSalesData.length,\r\n            },\r\n            generated_at: new Date().toISOString(),\r\n          });\r\n        } else {\r\n          setFinancialSummary(null);\r\n        }\r\n      }\r\n      \r\n      if (incomeResult.status === 'fulfilled') {\r\n        const incomeData = incomeResult.value.data || incomeResult.value;\r\n        if (incomeData && (incomeData.revenue || incomeData.expenses)) {\r\n          // Enhance income statement with sales data\r\n          const baseRevenue = safeNumber(incomeData.revenue && typeof incomeData.revenue === 'object' && incomeData.revenue !== null && 'total' in incomeData.revenue ? (incomeData.revenue as { total: number }).total : 0);\r\n          const baseExpenses = safeNumber(incomeData.expenses && typeof incomeData.expenses === 'object' && incomeData.expenses !== null && 'total' in incomeData.expenses ? (incomeData.expenses as { total: number }).total : 0);\r\n          const calculatedRevenue = baseRevenue + totalSalesFromData;\r\n          const calculatedProfit = calculatedRevenue - baseExpenses;\r\n          const calculatedProfitMargin = calculatedRevenue > 0\r\n            ? (calculatedProfit / calculatedRevenue) * 100\r\n            : 0;\r\n          \r\n          const enhancedIncome = {\r\n            ...incomeData,\r\n            sales: {\r\n              total: safeNumber(totalSalesFromData),\r\n              by_category: salesByCategory,\r\n            },\r\n            revenue: {\r\n              by_category: (incomeData.revenue && typeof incomeData.revenue === 'object' && 'by_category' in incomeData.revenue ? incomeData.revenue.by_category : undefined) || {},\r\n              total: calculatedRevenue,\r\n            },\r\n            profit: calculatedProfit,\r\n            profit_margin: calculatedProfitMargin,\r\n          };\r\n          setIncomeStatement(enhancedIncome as IncomeStatement);\r\n        } else {\r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.warn('Invalid income statement data structure:', incomeData);\r\n          }\r\n          setIncomeStatement(null);\r\n        }\r\n      } else {\r\n        console.error('Failed to load income statement:', incomeResult.reason);\r\n        setIncomeStatement(null);\r\n      }\r\n      \r\n      if (cashFlowResult.status === 'fulfilled') {\r\n        const cashFlowData = cashFlowResult.value.data || cashFlowResult.value;\r\n        if (cashFlowData && (cashFlowData.summary || cashFlowData.daily_cash_flow)) {\r\n          // Enhance cash flow with sales data - ONLY from POSTED (approved) sales\r\n          const salesByDay: Record<string, { inflow: number; outflow: number; net: number }> = {};\r\n          postedSalesData.forEach((sale: unknown) => {\r\n            const saleData = sale as { created_at?: string; total_sale?: unknown };\r\n            const saleDate = saleData.created_at ? new Date(saleData.created_at).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n            if (!salesByDay[saleDate]) {\r\n              salesByDay[saleDate] = { inflow: 0, outflow: 0, net: 0 };\r\n            }\r\n            const saleAmount = safeNumber(saleData.total_sale);\r\n            salesByDay[saleDate].inflow += saleAmount;\r\n            salesByDay[saleDate].net += saleAmount;\r\n          });\r\n\r\n          // Merge sales into daily cash flow\r\n          const enhancedDailyFlow = { ...cashFlowData.daily_cash_flow };\r\n          Object.entries(salesByDay).forEach(([date, flow]) => {\r\n            if (enhancedDailyFlow[date]) {\r\n              enhancedDailyFlow[date].inflow += flow.inflow;\r\n              enhancedDailyFlow[date].net += flow.net;\r\n            } else {\r\n              enhancedDailyFlow[date] = flow;\r\n            }\r\n          });\r\n\r\n          const baseInflow = safeNumber(cashFlowData.summary?.total_inflow);\r\n          const baseNetFlow = safeNumber(cashFlowData.summary?.net_cash_flow);\r\n          \r\n          // Use sales revenue from summary result if available, otherwise use calculated totalSalesFromData\r\n          // Check salesSummaryResult to get the sales revenue value\r\n          let salesRevenueForCashFlow = totalSalesFromData;\r\n          if (salesSummaryResult.status === 'fulfilled') {\r\n            const salesSummaryData = salesSummaryResult.value.data || salesSummaryResult.value;\r\n            if (salesSummaryData && typeof salesSummaryData === 'object' && 'total_revenue' in salesSummaryData) {\r\n              salesRevenueForCashFlow = safeNumber((salesSummaryData as SalesSummary).total_revenue);\r\n            }\r\n          }\r\n          \r\n          const enhancedCashFlow = {\r\n            ...cashFlowData,\r\n            summary: {\r\n              ...cashFlowData.summary,\r\n              total_inflow: baseInflow + salesRevenueForCashFlow,\r\n              net_cash_flow: baseNetFlow + salesRevenueForCashFlow,\r\n            },\r\n            daily_cash_flow: enhancedDailyFlow,\r\n          };\r\n          setCashFlow(enhancedCashFlow);\r\n        } else {\r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.warn('Invalid cash flow data structure:', cashFlowData);\r\n          }\r\n          setCashFlow(null);\r\n        }\r\n      } else {\r\n        console.error('Failed to load cash flow:', cashFlowResult.reason);\r\n        setCashFlow(null);\r\n      }\r\n      \r\n      // Handle inventory summary\r\n      if (inventoryResult.status === 'fulfilled') {\r\n        const inventoryData = inventoryResult.value.data || inventoryResult.value;\r\n        if (inventoryData && typeof inventoryData === 'object' && \r\n            ('total_items' in inventoryData || 'total_selling_value' in inventoryData)) {\r\n          setInventorySummary(inventoryData as InventorySummary);\r\n        } else {\r\n          setInventorySummary(null);\r\n        }\r\n      } else {\r\n        // Only log error if it's not a 403 (permission denied)\r\n        if (inventoryResult.reason?.response?.status !== 403) {\r\n          console.warn('Failed to load inventory summary:', inventoryResult.reason);\r\n        }\r\n        setInventorySummary(null);\r\n      }\r\n      \r\n      // Handle sales summary and integrate with financial data\r\n      // Sales summary API provides more accurate aggregated data from the backend\r\n      if (salesSummaryResult.status === 'fulfilled') {\r\n        const salesData = salesSummaryResult.value.data || salesSummaryResult.value;\r\n        if (salesData && typeof salesData === 'object' && \r\n            ('total_sales' in salesData || 'total_revenue' in salesData)) {\r\n          const salesSummaryData = salesData as SalesSummary;\r\n          setSalesSummary(salesSummaryData);\r\n          \r\n          // Always use sales summary revenue when available (more accurate than calculating from individual sales)\r\n          // This ensures we use the backend's aggregated data which only includes POSTED sales\r\n          // Update financial summary with accurate sales data from summary API\r\n          if (summaryResult.status === 'fulfilled') {\r\n            const summaryData = summaryResult.value.data || summaryResult.value;\r\n            if (summaryData && (summaryData.financials || summaryData.revenue_by_category || summaryData.expenses_by_category)) {\r\n              // Use sales summary revenue instead of calculated totalSalesFromData\r\n              // Sales summary is more accurate as it's aggregated by the backend\r\n              const baseRevenue = safeNumber(summaryData.financials?.total_revenue);\r\n              const baseExpenses = safeNumber(summaryData.financials?.total_expenses);\r\n              const salesRevenue = safeNumber(salesSummaryData.total_revenue);\r\n              \r\n              // Total revenue = base revenue (from revenue entries) + sales revenue (from posted sales)\r\n              const calculatedRevenue = baseRevenue + salesRevenue;\r\n              const calculatedProfit = calculatedRevenue - baseExpenses;\r\n              const calculatedProfitMargin = calculatedRevenue > 0 \r\n                ? (calculatedProfit / calculatedRevenue) * 100\r\n                : 0;\r\n              \r\n              const enhancedSummary = {\r\n                ...summaryData,\r\n                financials: {\r\n                  ...summaryData.financials,\r\n                  total_sales: salesRevenue, // Use sales revenue from summary API\r\n                  total_revenue: calculatedRevenue, // Base revenue + sales revenue\r\n                  total_expenses: baseExpenses,\r\n                  profit: calculatedProfit,\r\n                  profit_margin: calculatedProfitMargin,\r\n                },\r\n                sales_by_category: salesByCategory, // Keep category breakdown from individual sales\r\n                transaction_counts: {\r\n                  ...summaryData.transaction_counts,\r\n                  sales: salesSummaryData.posted_sales || postedSalesData.length,\r\n                  total: (summaryData.transaction_counts?.total || 0) + (salesSummaryData.posted_sales || postedSalesData.length),\r\n                },\r\n              };\r\n              \r\n              if (process.env.NODE_ENV === 'development') {\r\n                console.log('Financial Summary updated with Sales Summary:', {\r\n                  base_revenue: baseRevenue,\r\n                  sales_revenue_from_summary: salesRevenue,\r\n                  total_revenue_calculated: calculatedRevenue,\r\n                  total_sales: enhancedSummary.financials?.total_sales,\r\n                  total_expenses: enhancedSummary.financials?.total_expenses,\r\n                  profit: enhancedSummary.financials?.profit,\r\n                  profit_margin: enhancedSummary.financials?.profit_margin,\r\n                });\r\n              }\r\n              \r\n              setFinancialSummary(enhancedSummary);\r\n            }\r\n          }\r\n        } else {\r\n          setSalesSummary(null);\r\n        }\r\n      } else {\r\n        // Only log error if it's not a 403 (permission denied)\r\n        if (salesSummaryResult.reason?.response?.status !== 403) {\r\n          console.warn('Failed to load sales summary:', salesSummaryResult.reason);\r\n        }\r\n        setSalesSummary(null);\r\n      }\r\n      \r\n      // Process forecasts result\r\n      if (forecastsResult.status === 'fulfilled') {\r\n        const forecastsData = forecastsResult.value?.data || forecastsResult.value || [];\r\n        const forecastsArray = Array.isArray(forecastsData) ? forecastsData : [];\r\n        // Parse forecast data if it's a string\r\n        const parsedForecasts = forecastsArray.map((f: unknown) => {\r\n          const forecast = f as Forecast;\r\n          if (typeof forecast.forecast_data === 'string') {\r\n            try {\r\n              forecast.forecast_data = JSON.parse(forecast.forecast_data) as ForecastDataPoint[];\r\n            } catch {\r\n              forecast.forecast_data = [];\r\n            }\r\n          }\r\n          if (typeof forecast.method_params === 'string') {\r\n            try {\r\n              forecast.method_params = JSON.parse(forecast.method_params) as Record<string, unknown>;\r\n            } catch {\r\n              forecast.method_params = {};\r\n            }\r\n          }\r\n          return forecast;\r\n        });\r\n        setForecasts(parsedForecasts);\r\n      } else {\r\n        // Only log error if it's not a 403 (permission denied)\r\n        if (forecastsResult.reason?.response?.status !== 403) {\r\n          console.warn('Failed to load forecasts:', forecastsResult.reason);\r\n        }\r\n        setForecasts([]);\r\n      }\r\n      \r\n      if (summaryResult.status === 'rejected' && incomeResult.status === 'rejected' && cashFlowResult.status === 'rejected') {\r\n        const firstError = summaryResult.reason || incomeResult.reason || cashFlowResult.reason;\r\n        let errorMsg = 'Failed to load reports';\r\n        if (firstError?.response?.data?.detail) {\r\n          const detail = firstError.response.data.detail;\r\n          if (typeof detail === 'string') {\r\n            errorMsg = detail;\r\n          } else if (Array.isArray(detail)) {\r\n            errorMsg = detail.map((e: unknown) => {\r\n              if (typeof e === 'string') return e;\r\n              const errorDetail = e as { msg?: string };\r\n              return errorDetail.msg || JSON.stringify(e);\r\n            }).join(', ');\r\n          }\r\n        } else if (firstError?.message) {\r\n          errorMsg = firstError.message;\r\n        }\r\n        setError(errorMsg);\r\n        toast.error(errorMsg);\r\n        setFinancialSummary(null);\r\n        setIncomeStatement(null);\r\n        setCashFlow(null);\r\n      }\r\n      \r\n    } catch (err: unknown) {\r\n      const error = err as ErrorWithDetails;\r\n      let errorMessage = 'Failed to load reports';\r\n\r\n      if (error.response?.data?.detail) {\r\n        const detail = error.response.data.detail;\r\n        \r\n        if (Array.isArray(detail)) {\r\n          errorMessage = detail.map((e: unknown) => {\r\n            if (typeof e === 'string') return e;\r\n            const errorDetail = e as { msg?: string; loc?: string[] };\r\n            if (errorDetail.msg) return `${errorDetail.loc?.join('.') || 'Field'}: ${errorDetail.msg}`;\r\n            return JSON.stringify(e);\r\n          }).join(', ');\r\n        }\r\n        else if (typeof detail === 'object' && detail && 'msg' in detail) {\r\n          const detailObj = detail as { msg?: string; loc?: string[] };\r\n          errorMessage = `${detailObj.loc?.join('.') || 'Field'}: ${detailObj.msg}`;\r\n        }\r\n        else if (typeof detail === 'string') {\r\n          errorMessage = detail;\r\n        }\r\n        else {\r\n          errorMessage = JSON.stringify(detail);\r\n        }\r\n      } else if ((err as ErrorWithDetails).message) {\r\n        errorMessage = (err as ErrorWithDetails).message!;\r\n      }\r\n      \r\n      setError(errorMessage);\r\n      toast.error(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user, storeUser?.managerId, startDate, endDate]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const timer = setTimeout(() => {\r\n        loadReports(true);\r\n      }, 100);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [user, loadReports]);\r\n\r\n  useEffect(() => {\r\n    if (user && startDate && endDate) {\r\n      const timer = setTimeout(() => {\r\n        loadReports(true);\r\n      }, 300);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [startDate, endDate, loadReports, user]);\r\n\r\n  const formatCurrency = (amount: number | null | undefined): string => {\r\n    const safeAmount = safeNumber(amount);\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2,\r\n    }).format(safeAmount);\r\n  };\r\n\r\n  const formatDate = (dateString?: string): string => {\r\n    if (!dateString) return '';\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n    });\r\n  };\r\n\r\n  const capitalize = (str: string | null | undefined): string => {\r\n    if (!str || typeof str !== 'string') return '';\r\n    return str.charAt(0).toUpperCase() + str.slice(1).replace(/_/g, ' ');\r\n  };\r\n\r\n  // Generate ML forecast with advice\r\n  const generateMLForecast = async (metric: 'expense' | 'revenue' | 'inventory', modelType: string) => {\r\n    setGeneratingForecast(`${metric}-${modelType}`);\r\n    try {\r\n      const response = await apiClient.generateForecastWithAdvice(metric, modelType as any, 12);\r\n      const responseData = (response as any)?.data || response;\r\n      \r\n      if (responseData?.status === 'success') {\r\n        // Update ML insights state\r\n        setMlInsights((prev: any) => ({\r\n          ...prev,\r\n          [metric]: {\r\n            ...responseData,\r\n            model_type: modelType,\r\n            generated_at: new Date().toISOString()\r\n          }\r\n        }));\r\n        toast.success(`${capitalize(metric)} forecast with AI advice generated successfully!`);\r\n      }\r\n    } catch (error: any) {\r\n      const errorMessage = error?.response?.data?.detail || error?.message || 'Failed to generate forecast';\r\n      toast.error(errorMessage);\r\n    } finally {\r\n      setGeneratingForecast(null);\r\n    }\r\n  };\r\n\r\n  // Load ML insights for all metrics\r\n  const loadMLInsights = async () => {\r\n    if (!user || (user?.role !== 'admin' && user?.role !== 'super_admin' && \r\n                  user?.role !== 'finance_admin' && user?.role !== 'finance_manager' && \r\n                  user?.role !== 'manager')) {\r\n      return;\r\n    }\r\n\r\n    setLoadingMLInsights(true);\r\n    try {\r\n      // Try to generate forecasts with advice for all metrics using best available models\r\n      const metrics = ['expense', 'revenue', 'inventory'] as const;\r\n      const insights: Record<string, any> = {};\r\n      \r\n      // Try common models for each metric\r\n      const modelMap = {\r\n        expense: ['arima', 'linear_regression'],\r\n        revenue: ['xgboost', 'prophet'],\r\n        inventory: ['sarima', 'xgboost']\r\n      };\r\n\r\n      for (const metric of metrics) {\r\n        const models = modelMap[metric as keyof typeof modelMap];\r\n        for (const modelType of models) {\r\n          try {\r\n            const response = await apiClient.generateForecastWithAdvice(metric, modelType as any, 12);\r\n            const responseData = (response as any)?.data || response;\r\n            \r\n            if (responseData?.status === 'success') {\r\n              insights[metric] = {\r\n                ...responseData,\r\n                model_type: modelType,\r\n                generated_at: new Date().toISOString()\r\n              };\r\n              break; // Use first successful model\r\n            }\r\n          } catch (e) {\r\n            // Try next model\r\n            continue;\r\n          }\r\n        }\r\n      }\r\n      \r\n      setMlInsights(insights);\r\n    } catch (error) {\r\n      console.error('Failed to load ML insights:', error);\r\n      // Don't show error toast as this is optional enhancement\r\n    } finally {\r\n      setLoadingMLInsights(false);\r\n    }\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <Layout>\r\n        <PageContainer>\r\n          <EmptyState>\r\n            <FileText size={48} />\r\n            <h3>Please log in to view reports</h3>\r\n          </EmptyState>\r\n        </PageContainer>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <PageContainer>\r\n        <HeaderContainer>\r\n          <h1>Financial Reports</h1>\r\n          <p>Income Statement and Cash Flow Analysis</p>\r\n        </HeaderContainer>\r\n\r\n        <DateFilterCard>\r\n          <DateInputGroup>\r\n            <Label htmlFor=\"startDate\">Start Date</Label>\r\n            <Input\r\n              id=\"startDate\"\r\n              type=\"date\"\r\n              value={startDate}\r\n              onChange={(e) => setStartDate(e.target.value)}\r\n            />\r\n          </DateInputGroup>\r\n          <DateInputGroup>\r\n            <Label htmlFor=\"endDate\">End Date</Label>\r\n            <Input\r\n              id=\"endDate\"\r\n              type=\"date\"\r\n              value={endDate}\r\n              onChange={(e) => setEndDate(e.target.value)}\r\n            />\r\n          </DateInputGroup>\r\n          <ButtonRow>\r\n            <Button \r\n              onClick={() => {\r\n                const oneYearAgo = new Date();\r\n                oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);\r\n                oneYearAgo.setDate(1);\r\n                const tomorrow = new Date();\r\n                tomorrow.setDate(tomorrow.getDate() + 1);\r\n                setStartDate(oneYearAgo.toISOString().split('T')[0]);\r\n                setEndDate(tomorrow.toISOString().split('T')[0]);\r\n                loadReports(true);\r\n              }}\r\n              variant=\"outline\"\r\n              disabled={loading}\r\n            >\r\n              Show All Data (1 Year)\r\n            </Button>\r\n            <Button \r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                loadReports(false);\r\n              }}\r\n              variant=\"outline\"\r\n              disabled={loading}\r\n            >\r\n              Load Without Date Filter\r\n            </Button>\r\n            <Button onClick={() => loadReports(true)} disabled={loading}>\r\n              {loading ? (\r\n                <>\r\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                  Loading...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n                  Refresh\r\n                </>\r\n              )}\r\n            </Button>\r\n          </ButtonRow>\r\n        </DateFilterCard>\r\n\r\n        {error && (\r\n          <ErrorBanner>\r\n            <AlertCircle />\r\n            <span>{error}</span>\r\n          </ErrorBanner>\r\n        )}\r\n\r\n        {loading ? (\r\n          <LoadingContainer>\r\n            <Spinner />\r\n            <p>Loading financial reports...</p>\r\n          </LoadingContainer>\r\n        ) : (\r\n          <>\r\n            <ReportSection>\r\n              <ReportCard>\r\n                <ReportHeader>\r\n                  <div>\r\n                    <h2>\r\n                      <BarChart3 />\r\n                      Financial Summary Report\r\n                    </h2>\r\n                    <p>\r\n                      Period: {formatDate(startDate)} - {formatDate(endDate)}\r\n                      {financialSummary?.generated_at && (\r\n                        <>  Generated: {formatDate(financialSummary.generated_at)}</>\r\n                      )}\r\n                    </p>\r\n                  </div>\r\n                </ReportHeader>\r\n\r\n                {financialSummary ? (\r\n                  <>\r\n                    <SummaryGrid>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ArrowUpRight size={16} />\r\n                          Total Revenue\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(financialSummary.financials?.total_revenue)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          {financialSummary.transaction_counts?.revenue || 0} revenue transactions\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ShoppingCart size={16} />\r\n                          Total Sales\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(financialSummary.financials?.total_sales)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          {financialSummary.transaction_counts?.sales || 0} sales transactions\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"expense\">\r\n                        <div className=\"label\">\r\n                          <ArrowDownRight size={16} />\r\n                          Total Expenses\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(financialSummary.financials?.total_expenses)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          {financialSummary.transaction_counts?.expenses || 0} expense transactions\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"profit\">\r\n                        <div className=\"label\">\r\n                          <TrendingUp size={16} />\r\n                          Net Profit\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(financialSummary.financials?.profit)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          Profit Margin: {safeNumber(financialSummary.financials?.profit_margin).toFixed(2)}%\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard>\r\n                        <div className=\"label\">\r\n                          <FileText size={16} />\r\n                          Total Transactions\r\n                        </div>\r\n                        <div className=\"value\">{financialSummary.transaction_counts?.total || 0}</div>\r\n                        <div className=\"sub-value\">\r\n                          {financialSummary.transaction_counts?.revenue || 0} revenue + {financialSummary.transaction_counts?.sales || 0} sales + {financialSummary.transaction_counts?.expenses || 0} expenses\r\n                        </div>\r\n                      </SummaryCard>\r\n                    </SummaryGrid>\r\n\r\n                    <TwoColumnGrid>\r\n                      <div>\r\n                        <SectionTitle>Top Revenue Categories</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Category</th>\r\n                              <th style={{ textAlign: 'right' }}>Amount</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {financialSummary.revenue_by_category && Object.entries(financialSummary.revenue_by_category).length > 0 ? (\r\n                              Object.entries(financialSummary.revenue_by_category)\r\n                                .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                                .slice(0, 5)\r\n                                .map(([category, amount]) => (\r\n                                  <tr key={category}>\r\n                                    <td>{capitalize(category)}</td>\r\n                                    <td style={{ textAlign: 'right' }}>{formatCurrency(amount as number)}</td>\r\n                                  </tr>\r\n                                ))\r\n                            ) : (\r\n                              <tr>\r\n                                <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                  No revenue data\r\n                                </td>\r\n                              </tr>\r\n                            )}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n\r\n                      <div>\r\n                        <SectionTitle>Top Sales Categories</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Category</th>\r\n                              <th style={{ textAlign: 'right' }}>Amount</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {financialSummary.sales_by_category && Object.entries(financialSummary.sales_by_category).length > 0 ? (\r\n                              Object.entries(financialSummary.sales_by_category)\r\n                                .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                                .slice(0, 5)\r\n                                .map(([category, amount]) => (\r\n                                  <tr key={category}>\r\n                                    <td>{capitalize(category)}</td>\r\n                                    <td style={{ textAlign: 'right' }}>{formatCurrency(amount as number)}</td>\r\n                                  </tr>\r\n                                ))\r\n                            ) : (\r\n                              <tr>\r\n                                <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                  No sales data\r\n                                </td>\r\n                              </tr>\r\n                            )}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    </TwoColumnGrid>\r\n\r\n                    <div style={{ marginTop: theme.spacing.xl }}>\r\n                      <SectionTitle>Top Expense Categories</SectionTitle>\r\n                      <CategoryTable>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Category</th>\r\n                            <th style={{ textAlign: 'right' }}>Amount</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {financialSummary.expenses_by_category && Object.entries(financialSummary.expenses_by_category).length > 0 ? (\r\n                            Object.entries(financialSummary.expenses_by_category)\r\n                              .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                              .slice(0, 5)\r\n                              .map(([category, amount]) => (\r\n                                <tr key={category}>\r\n                                  <td>{capitalize(category)}</td>\r\n                                  <td style={{ textAlign: 'right', color: '#dc2626', fontWeight: theme.typography.fontWeights.bold }}>{formatCurrency(amount as number)}</td>\r\n                                </tr>\r\n                              ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                No expense data\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </CategoryTable>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <EmptyState>\r\n                    <BarChart3 size={48} />\r\n                    <h3>No summary data available</h3>\r\n                  </EmptyState>\r\n                )}\r\n              </ReportCard>\r\n            </ReportSection>\r\n\r\n            <ReportSection>\r\n              <ReportCard>\r\n                <ReportHeader>\r\n                  <div>\r\n                    <h2>\r\n                      <FileText />\r\n                      Income Statement (Profit & Loss)\r\n                    </h2>\r\n                    <p>\r\n                      Period: {formatDate(startDate)} - {formatDate(endDate)}\r\n                    </p>\r\n                  </div>\r\n                </ReportHeader>\r\n\r\n                {incomeStatement ? (\r\n                  <>\r\n                    <SummaryGrid>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ArrowUpRight size={16} />\r\n                          Total Revenue\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(incomeStatement.revenue?.total || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          Includes sales revenue\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ShoppingCart size={16} />\r\n                          Sales Revenue\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(incomeStatement.sales?.total || 0)}\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"expense\">\r\n                        <div className=\"label\">\r\n                          <ArrowDownRight size={16} />\r\n                          Total Expenses\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(incomeStatement.expenses?.total || 0)}\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"profit\">\r\n                        <div className=\"label\">\r\n                          <TrendingUp size={16} />\r\n                          Net Profit\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(incomeStatement.profit || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          Profit Margin: {(incomeStatement.profit_margin || 0).toFixed(2)}%\r\n                        </div>\r\n                      </SummaryCard>\r\n                    </SummaryGrid>\r\n\r\n                    <div style={{ marginTop: theme.spacing.xl }}>\r\n                      <SectionTitle>Revenue by Category</SectionTitle>\r\n                      <CategoryTable>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Category</th>\r\n                            <th style={{ textAlign: 'right' }}>Amount</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {incomeStatement.revenue?.by_category && Object.entries(incomeStatement.revenue.by_category).length > 0 ? (\r\n                            Object.entries(incomeStatement.revenue.by_category)\r\n                              .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                              .map(([category, amount]) => (\r\n                                <tr key={category}>\r\n                                  <td>{capitalize(category)}</td>\r\n                                  <td style={{ textAlign: 'right' }}>{formatCurrency(amount as number)}</td>\r\n                                </tr>\r\n                              ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                No revenue data for this period\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </CategoryTable>\r\n                    </div>\r\n\r\n                    {incomeStatement.sales?.by_category && Object.entries(incomeStatement.sales.by_category).length > 0 && (\r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>Sales by Category</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Category</th>\r\n                              <th style={{ textAlign: 'right' }}>Amount</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {Object.entries(incomeStatement.sales.by_category)\r\n                              .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                              .map(([category, amount]) => (\r\n                                <tr key={category}>\r\n                                  <td>{capitalize(category)}</td>\r\n                                  <td style={{ textAlign: 'right' }}>{formatCurrency(amount as number)}</td>\r\n                                </tr>\r\n                              ))}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    )}\r\n\r\n                    <div style={{ marginTop: theme.spacing.xl }}>\r\n                      <SectionTitle>Expenses by Category</SectionTitle>\r\n                      <CategoryTable>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Category</th>\r\n                            <th style={{ textAlign: 'right' }}>Amount</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {incomeStatement.expenses?.by_category && Object.entries(incomeStatement.expenses.by_category).length > 0 ? (\r\n                            Object.entries(incomeStatement.expenses.by_category)\r\n                              .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                              .map(([category, amount]) => (\r\n                                <tr key={category}>\r\n                                  <td>{capitalize(category)}</td>\r\n                                  <td style={{ textAlign: 'right', color: '#dc2626', fontWeight: theme.typography.fontWeights.bold }}>{formatCurrency(amount as number)}</td>\r\n                                </tr>\r\n                              ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                No expense data for this period\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </CategoryTable>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <EmptyState>\r\n                    <FileText size={48} />\r\n                    <h3>No income statement data available</h3>\r\n                  </EmptyState>\r\n                )}\r\n              </ReportCard>\r\n            </ReportSection>\r\n\r\n            <ReportSection>\r\n              <ReportCard>\r\n                <ReportHeader>\r\n                  <div>\r\n                    <h2>\r\n                      <BarChart3 />\r\n                      Cash Flow Statement\r\n                    </h2>\r\n                    <p>\r\n                      Period: {formatDate(startDate)} - {formatDate(endDate)}\r\n                    </p>\r\n                  </div>\r\n                </ReportHeader>\r\n\r\n                {cashFlow ? (\r\n                  <>\r\n                    <SummaryGrid>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ArrowUpRight size={16} />\r\n                          Cash Inflow\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(cashFlow.summary?.total_inflow || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">Money coming in</div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"expense\">\r\n                        <div className=\"label\">\r\n                          <ArrowDownRight size={16} />\r\n                          Cash Outflow\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(cashFlow.summary?.total_outflow || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">Money going out</div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"profit\">\r\n                        <div className=\"label\">\r\n                          <TrendingUp size={16} />\r\n                          Net Cash Flow\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(cashFlow.summary?.net_cash_flow || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">Actual cash available</div>\r\n                      </SummaryCard>\r\n                    </SummaryGrid>\r\n\r\n                    <div style={{ marginTop: theme.spacing.xl }}>\r\n                      <SectionTitle>Daily Cash Flow</SectionTitle>\r\n                      <CashFlowTable>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Date</th>\r\n                            <th style={{ textAlign: 'right' }}>Inflow</th>\r\n                            <th style={{ textAlign: 'right' }}>Outflow</th>\r\n                            <th style={{ textAlign: 'right' }}>Net</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {cashFlow.daily_cash_flow && Object.entries(cashFlow.daily_cash_flow).length > 0 ? (\r\n                            Object.entries(cashFlow.daily_cash_flow)\r\n                              .sort(([dateA], [dateB]) => dateB.localeCompare(dateA))\r\n                              .map(([date, flow]: [string, { inflow: number; outflow: number; net: number }]) => (\r\n                                <tr key={date}>\r\n                                  <td>{formatDate(date)}</td>\r\n                                  <td style={{ textAlign: 'right' }}>\r\n                                    {flow.inflow > 0 ? formatCurrency(flow.inflow) : ''}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right' }}>\r\n                                    {flow.outflow > 0 ? formatCurrency(flow.outflow) : ''}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right' }}>\r\n                                    {formatCurrency(flow.net || 0)}\r\n                                  </td>\r\n                                </tr>\r\n                              ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan={4} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                No cash flow data for this period\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </CashFlowTable>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <EmptyState>\r\n                    <BarChart3 size={48} />\r\n                    <h3>No cash flow data available</h3>\r\n                  </EmptyState>\r\n                )}\r\n              </ReportCard>\r\n            </ReportSection>\r\n\r\n            {/* Sales Summary Section - For Accountant, Finance Admin, Admin, and Manager */}\r\n            {(user?.role === 'accountant' || user?.role === 'finance_manager' || user?.role === 'finance_admin' || user?.role === 'admin' || user?.role === 'super_admin' || user?.role === 'manager') && (\r\n              <ReportSection>\r\n                <ReportCard>\r\n                  <ReportHeader>\r\n                    <div>\r\n                      <h2>\r\n                        <ShoppingCart />\r\n                        Sales Summary Report\r\n                      </h2>\r\n                      <p>\r\n                        Period: {formatDate(startDate)} - {formatDate(endDate)}\r\n                        {salesSummary?.period_start && salesSummary?.period_end && (\r\n                          <>  Sales Period: {formatDate(salesSummary.period_start)} - {formatDate(salesSummary.period_end)}</>\r\n                        )}\r\n                      </p>\r\n                    </div>\r\n                  </ReportHeader>\r\n\r\n                  {salesSummary ? (\r\n                    <>\r\n                      <SummaryGrid>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <ShoppingCart size={16} />\r\n                            Total Sales\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {salesSummary.total_sales || 0}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            All sales transactions\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <DollarSign size={16} />\r\n                            Total Sales Revenue\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {formatCurrency(salesSummary.total_revenue || 0)}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            From posted sales only\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"profit\">\r\n                          <div className=\"label\">\r\n                            <TrendingUp size={16} />\r\n                            Posted Sales\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {salesSummary.posted_sales || 0}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Approved and posted\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"expense\">\r\n                          <div className=\"label\">\r\n                            <AlertCircle size={16} />\r\n                            Pending Sales\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {salesSummary.pending_sales || 0}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Awaiting approval\r\n                          </div>\r\n                        </SummaryCard>\r\n                      </SummaryGrid>\r\n                      \r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>Sales Status Breakdown</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Status</th>\r\n                              <th style={{ textAlign: 'right' }}>Count</th>\r\n                              <th style={{ textAlign: 'right' }}>Percentage</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <tr>\r\n                              <td>Posted (Approved)</td>\r\n                              <td style={{ textAlign: 'right' }}>{salesSummary.posted_sales || 0}</td>\r\n                              <td style={{ textAlign: 'right' }}>\r\n                                {salesSummary.total_sales > 0 \r\n                                  ? ((salesSummary.posted_sales || 0) / salesSummary.total_sales * 100).toFixed(1)\r\n                                  : 0}%\r\n                              </td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td>Pending (Awaiting Approval)</td>\r\n                              <td style={{ textAlign: 'right' }}>{salesSummary.pending_sales || 0}</td>\r\n                              <td style={{ textAlign: 'right' }}>\r\n                                {salesSummary.total_sales > 0 \r\n                                  ? ((salesSummary.pending_sales || 0) / salesSummary.total_sales * 100).toFixed(1)\r\n                                  : 0}%\r\n                              </td>\r\n                            </tr>\r\n                            <tr style={{ fontWeight: theme.typography.fontWeights.bold, borderTop: `2px solid ${theme.colors.border}` }}>\r\n                              <td>Total</td>\r\n                              <td style={{ textAlign: 'right' }}>{salesSummary.total_sales || 0}</td>\r\n                              <td style={{ textAlign: 'right' }}>100%</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState>\r\n                      <ShoppingCart size={48} />\r\n                      <h3>No sales data available</h3>\r\n                      <p>Sales summary is only available to Accountant, Finance Admin, Admin, and Manager roles.</p>\r\n                    </EmptyState>\r\n                  )}\r\n                </ReportCard>\r\n              </ReportSection>\r\n            )}\r\n\r\n            {/* Inventory Summary Section - For Finance Admin, Admin, and Manager */}\r\n            {(user?.role === 'finance_manager' || user?.role === 'finance_admin' || user?.role === 'admin' || user?.role === 'super_admin' || user?.role === 'manager') && (\r\n              <ReportSection>\r\n                <ReportCard>\r\n                  <ReportHeader>\r\n                    <div>\r\n                      <h2>\r\n                        <Package />\r\n                        Inventory Summary\r\n                      </h2>\r\n                      <p>Current inventory valuation and stock levels</p>\r\n                    </div>\r\n                  </ReportHeader>\r\n\r\n                  {inventorySummary ? (\r\n                    <>\r\n                      <SummaryGrid>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <Package size={16} />\r\n                            Total Items\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {inventorySummary.total_items || 0}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Active inventory items\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"expense\">\r\n                          <div className=\"label\">\r\n                            <DollarSign size={16} />\r\n                            Total Cost Value\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {formatCurrency(inventorySummary.total_cost_value || 0)}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Investment in inventory\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <TrendingUp size={16} />\r\n                            Total Selling Value\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {formatCurrency(inventorySummary.total_selling_value || 0)}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Potential revenue if all sold\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"profit\">\r\n                          <div className=\"label\">\r\n                            <TrendingUp size={16} />\r\n                            Potential Profit\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {formatCurrency(inventorySummary.potential_profit || 0)}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Profit if all inventory sold\r\n                          </div>\r\n                        </SummaryCard>\r\n                        {inventorySummary.total_quantity_in_stock !== undefined && (\r\n                          <SummaryCard>\r\n                            <div className=\"label\">\r\n                              <Package size={16} />\r\n                              Total Stock Quantity\r\n                            </div>\r\n                            <div className=\"value\">\r\n                              {inventorySummary.total_quantity_in_stock.toLocaleString()}\r\n                            </div>\r\n                            <div className=\"sub-value\">\r\n                              Total units in stock\r\n                            </div>\r\n                          </SummaryCard>\r\n                        )}\r\n                      </SummaryGrid>\r\n                      \r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>Inventory Valuation Analysis</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Metric</th>\r\n                              <th style={{ textAlign: 'right' }}>Value</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <tr>\r\n                              <td>Total Inventory Items</td>\r\n                              <td style={{ textAlign: 'right' }}>{inventorySummary.total_items || 0}</td>\r\n                            </tr>\r\n                            {inventorySummary.total_quantity_in_stock !== undefined && (\r\n                              <tr>\r\n                                <td>Total Stock Quantity</td>\r\n                                <td style={{ textAlign: 'right' }}>{inventorySummary.total_quantity_in_stock.toLocaleString()} units</td>\r\n                              </tr>\r\n                            )}\r\n                            <tr>\r\n                              <td>Total Cost Value (Investment)</td>\r\n                              <td style={{ textAlign: 'right' }}>{formatCurrency(inventorySummary.total_cost_value || 0)}</td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td>Total Selling Value (Potential Revenue)</td>\r\n                              <td style={{ textAlign: 'right' }}>{formatCurrency(inventorySummary.total_selling_value || 0)}</td>\r\n                            </tr>\r\n                            <tr style={{ fontWeight: theme.typography.fontWeights.bold, borderTop: `2px solid ${theme.colors.border}` }}>\r\n                              <td>Potential Profit</td>\r\n                              <td style={{ textAlign: 'right', color: PRIMARY_COLOR }}>\r\n                                {formatCurrency(inventorySummary.potential_profit || 0)}\r\n                              </td>\r\n                            </tr>\r\n                            {inventorySummary.total_cost_value > 0 && (\r\n                              <tr>\r\n                                <td>Profit Margin (Potential)</td>\r\n                                <td style={{ textAlign: 'right' }}>\r\n                                  {((inventorySummary.potential_profit || 0) / inventorySummary.total_cost_value * 100).toFixed(2)}%\r\n                                </td>\r\n                              </tr>\r\n                            )}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState>\r\n                      <Package size={48} />\r\n                      <h3>No inventory data available</h3>\r\n                      <p>Inventory summary is only available to Finance Admin, Admin, and Manager roles.</p>\r\n                    </EmptyState>\r\n                  )}\r\n                </ReportCard>\r\n              </ReportSection>\r\n            )}\r\n\r\n            {/* ML AI Insights Section - For Admin, Finance Admin, and Manager */}\r\n            {(user?.role === 'finance_manager' || user?.role === 'finance_admin' || user?.role === 'admin' || user?.role === 'super_admin' || user?.role === 'manager') && (\r\n              <ReportSection>\r\n                <ReportCard>\r\n                  <ReportHeader>\r\n                    <div>\r\n                      <h2>\r\n                        <Brain />\r\n                        AI-Powered Insights & Recommendations\r\n                      </h2>\r\n                      <p>\r\n                        Get intelligent forecasts and actionable advice based on ML analysis\r\n                      </p>\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: theme.spacing.sm }}>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={loadMLInsights}\r\n                        disabled={loadingMLInsights}\r\n                      >\r\n                        {loadingMLInsights ? (\r\n                          <>\r\n                            <Loader2 size={14} style={{ marginRight: theme.spacing.xs, animation: 'spin 1s linear infinite' }} />\r\n                            Loading...\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <RefreshCw size={14} style={{ marginRight: theme.spacing.xs }} />\r\n                            Generate Insights\r\n                          </>\r\n                        )}\r\n                      </Button>\r\n                    </div>\r\n                  </ReportHeader>\r\n\r\n                  {mlInsights && Object.keys(mlInsights).length > 0 ? (\r\n                    <>\r\n                      {Object.entries(mlInsights).map(([metric, insight]: [string, any]) => {\r\n                        if (!insight || !insight.forecast) return null;\r\n                        \r\n                        const trend = insight.trend_analysis;\r\n                        const advice = insight.advice || [];\r\n                        const alerts = insight.alerts || [];\r\n                        \r\n                        return (\r\n                          <div key={metric} style={{ marginBottom: theme.spacing.xl }}>\r\n                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: theme.spacing.md }}>\r\n                              <SectionTitle>\r\n                                {capitalize(metric)} Forecast & Insights\r\n                                {insight.model_type && typeof insight.model_type === 'string' && (\r\n                                  <span style={{ \r\n                                    fontSize: theme.typography.fontSizes.sm, \r\n                                    fontWeight: 400,\r\n                                    color: TEXT_COLOR_MUTED,\r\n                                    marginLeft: theme.spacing.sm\r\n                                  }}>\r\n                                    (Model: {insight.model_type.toUpperCase()})\r\n                                  </span>\r\n                                )}\r\n                              </SectionTitle>\r\n                            </div>\r\n\r\n                            {/* Trend Analysis */}\r\n                            {trend && (\r\n                              <div style={{ \r\n                                background: theme.colors.backgroundSecondary, \r\n                                padding: theme.spacing.lg, \r\n                                borderRadius: theme.borderRadius.md,\r\n                                marginBottom: theme.spacing.md\r\n                              }}>\r\n                                <div style={{ \r\n                                  fontSize: theme.typography.fontSizes.sm, \r\n                                  fontWeight: theme.typography.fontWeights.medium,\r\n                                  color: TEXT_COLOR_MUTED,\r\n                                  marginBottom: theme.spacing.sm\r\n                                }}>\r\n                                  Trend Analysis\r\n                                </div>\r\n                                <div style={{ display: 'flex', gap: theme.spacing.md, flexWrap: 'wrap' }}>\r\n                                  <TrendBadge $direction={(trend?.direction || 'stable') as any}>\r\n                                    {trend?.direction === 'increasing' ? <ArrowUpRight size={14} /> : \r\n                                     trend?.direction === 'decreasing' ? <ArrowDownRight size={14} /> : \r\n                                     <TrendingUp size={14} />}\r\n                                    {capitalize(trend?.direction || 'stable')} {trend?.percentage !== undefined && trend.percentage !== null && `(${Math.abs(trend.percentage).toFixed(1)}%)`}\r\n                                  </TrendBadge>\r\n                                  <span style={{ color: TEXT_COLOR_MUTED, fontSize: theme.typography.fontSizes.sm }}>\r\n                                    {trend?.average !== undefined && `Avg: ${formatCurrency(trend.average)}`}\r\n                                    {trend?.average !== undefined && (trend?.max !== undefined || trend?.min !== undefined) && ' | '}\r\n                                    {trend?.max !== undefined && `Max: ${formatCurrency(trend.max)}`}\r\n                                    {(trend?.max !== undefined && trend?.min !== undefined) && ' | '}\r\n                                    {trend?.min !== undefined && `Min: ${formatCurrency(trend.min)}`}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Summary */}\r\n                            {insight.summary && (\r\n                              <div style={{\r\n                                background: '#eff6ff',\r\n                                border: '1px solid #bfdbfe',\r\n                                borderRadius: theme.borderRadius.md,\r\n                                padding: theme.spacing.md,\r\n                                marginBottom: theme.spacing.md\r\n                              }}>\r\n                                <div style={{ \r\n                                  display: 'flex', \r\n                                  gap: theme.spacing.sm, \r\n                                  alignItems: 'flex-start',\r\n                                  color: '#1e40af',\r\n                                  fontSize: theme.typography.fontSizes.sm,\r\n                                  lineHeight: '1.6'\r\n                                }}>\r\n                                  <Lightbulb size={16} style={{ marginTop: '2px', flexShrink: 0 }} />\r\n                                  <div>{insight.summary || 'No summary available'}</div>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Alerts */}\r\n                            {alerts.length > 0 && (\r\n                              <div style={{ marginBottom: theme.spacing.md }}>\r\n                                <SectionTitle style={{ fontSize: theme.typography.fontSizes.md, marginBottom: theme.spacing.sm }}>\r\n                                  Alerts\r\n                                </SectionTitle>\r\n                                {alerts.map((alert: any, index: number) => {\r\n                                  if (!alert || typeof alert !== 'object') return null;\r\n                                  return (\r\n                                    <AlertCard key={index} $severity={alert.severity || 'low'}>\r\n                                      <AlertCircle className=\"alert-icon\" size={18} />\r\n                                      <div className=\"alert-message\">{alert.message || 'No message'}</div>\r\n                                    </AlertCard>\r\n                                  );\r\n                                })}\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Recommendations */}\r\n                            {advice.length > 0 && (\r\n                              <div style={{ marginBottom: theme.spacing.md }}>\r\n                                <SectionTitle style={{ fontSize: theme.typography.fontSizes.md, marginBottom: theme.spacing.sm }}>\r\n                                  Recommendations\r\n                                </SectionTitle>\r\n                                {advice.map((rec: any, index: number) => {\r\n                                  if (!rec || typeof rec !== 'object') return null;\r\n                                  const priority = rec.priority === 'high' ? 'high' : rec.priority === 'medium' ? 'medium' : 'low';\r\n                                  return (\r\n                                    <InsightCard \r\n                                      key={index} \r\n                                      $priority={priority}\r\n                                    >\r\n                                      <div className=\"insight-header\">\r\n                                        <Target size={18} />\r\n                                        <h4>{rec.title || 'Recommendation'}</h4>\r\n                                        <PriorityBadge $priority={priority}>\r\n                                          {rec.priority || 'low'}\r\n                                        </PriorityBadge>\r\n                                      </div>\r\n                                      <div className=\"insight-message\">{rec.message || 'No message available'}</div>\r\n                                      {rec.actions && Array.isArray(rec.actions) && rec.actions.length > 0 && (\r\n                                        <div className=\"insight-actions\">\r\n                                          <strong style={{ fontSize: theme.typography.fontSizes.sm, color: TEXT_COLOR_DARK }}>\r\n                                            Recommended Actions:\r\n                                          </strong>\r\n                                          <ul>\r\n                                            {rec.actions.map((action: any, actionIndex: number) => (\r\n                                              <li key={actionIndex}>{typeof action === 'string' ? action : 'Action item'}</li>\r\n                                            ))}\r\n                                          </ul>\r\n                                        </div>\r\n                                      )}\r\n                                    </InsightCard>\r\n                                  );\r\n                                })}\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Forecast Preview */}\r\n                            {insight.forecast && Array.isArray(insight.forecast) && insight.forecast.length > 0 && (\r\n                              <div>\r\n                                <SectionTitle style={{ fontSize: theme.typography.fontSizes.md, marginBottom: theme.spacing.sm }}>\r\n                                  Forecast Preview ({insight.forecast.length} periods)\r\n                                </SectionTitle>\r\n                                <CategoryTable>\r\n                                  <thead>\r\n                                    <tr>\r\n                                      <th>Period</th>\r\n                                      <th style={{ textAlign: 'right' }}>Forecasted Value</th>\r\n                                    </tr>\r\n                                  </thead>\r\n                                  <tbody>\r\n                                    {Array.isArray(insight.forecast) && insight.forecast.slice(0, 6).map((point: any, index: number) => {\r\n                                      if (!point || typeof point !== 'object') return null;\r\n                                      const period = point.period || (point.date ? formatDate(point.date) : `Period ${index + 1}`);\r\n                                      const value = point.forecasted_value !== undefined ? point.forecasted_value : (point.value !== undefined ? point.value : 0);\r\n                                      return (\r\n                                        <tr key={index}>\r\n                                          <td>{period}</td>\r\n                                          <td style={{ textAlign: 'right', fontWeight: theme.typography.fontWeights.bold }}>\r\n                                            {formatCurrency(value)}\r\n                                          </td>\r\n                                        </tr>\r\n                                      );\r\n                                    })}\r\n                                    {Array.isArray(insight.forecast) && insight.forecast.length > 6 && (\r\n                                      <tr>\r\n                                        <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED, fontStyle: 'italic' }}>\r\n                                          ... and {insight.forecast.length - 6} more periods\r\n                                        </td>\r\n                                      </tr>\r\n                                    )}\r\n                                  </tbody>\r\n                                </CategoryTable>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState>\r\n                      <Brain size={48} />\r\n                      <h3>No ML insights available</h3>\r\n                      <p>Click \"Generate Insights\" to get AI-powered forecasts and recommendations</p>\r\n                      <div style={{ marginTop: theme.spacing.lg, display: 'flex', gap: theme.spacing.sm, flexWrap: 'wrap', justifyContent: 'center' }}>\r\n                        {(['expense', 'revenue', 'inventory'] as const).map((metric) => (\r\n                          <div key={metric} style={{ marginBottom: theme.spacing.sm }}>\r\n                            <QuickForecastButton\r\n                              variant=\"outline\"\r\n                              onClick={() => {\r\n                                const modelMap: Record<string, string[]> = {\r\n                                  expense: ['arima', 'linear_regression'],\r\n                                  revenue: ['xgboost', 'prophet'],\r\n                                  inventory: ['sarima', 'xgboost']\r\n                                };\r\n                                const modelType = modelMap[metric]?.[0] || 'arima';\r\n                                generateMLForecast(metric, modelType);\r\n                              }}\r\n                              disabled={generatingForecast === `${metric}-arima` || generatingForecast === `${metric}-xgboost` || generatingForecast === `${metric}-sarima` || generatingForecast === `${metric}-linear_regression` || generatingForecast === `${metric}-prophet`}\r\n                            >\r\n                              {generatingForecast?.startsWith(metric) ? (\r\n                                <>\r\n                                  <Loader2 size={14} style={{ marginRight: theme.spacing.xs, animation: 'spin 1s linear infinite' }} />\r\n                                  Generating...\r\n                                </>\r\n                              ) : (\r\n                                <>\r\n                                  <Zap size={14} style={{ marginRight: theme.spacing.xs }} />\r\n                                  Quick {capitalize(metric)} Forecast\r\n                                </>\r\n                              )}\r\n                            </QuickForecastButton>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </EmptyState>\r\n                  )}\r\n                </ReportCard>\r\n              </ReportSection>\r\n            )}\r\n\r\n            {/* Forecast Report Section - For Admin, Finance Admin, and Manager */}\r\n            {(user?.role === 'finance_manager' || user?.role === 'finance_admin' || user?.role === 'admin' || user?.role === 'super_admin' || user?.role === 'manager') && (\r\n              <ReportSection>\r\n                <ReportCard>\r\n                  <ReportHeader>\r\n                    <div>\r\n                      <h2>\r\n                        <LineChart />\r\n                        Forecast Report\r\n                      </h2>\r\n                      <p>\r\n                        View and analyze all financial forecasts\r\n                      </p>\r\n                    </div>\r\n                  </ReportHeader>\r\n\r\n                  {forecasts && forecasts.length > 0 ? (\r\n                    <>\r\n                      <SummaryGrid>\r\n                        <SummaryCard>\r\n                          <div className=\"label\">\r\n                            <LineChart size={16} />\r\n                            Total Forecasts\r\n                          </div>\r\n                          <div className=\"value\">{forecasts.length}</div>\r\n                          <div className=\"sub-value\">\r\n                            Active forecasts\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <TrendingUp size={16} />\r\n                            Revenue Forecasts\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {forecasts.filter(f => f.forecast_type === 'revenue').length}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Revenue forecasting models\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"expense\">\r\n                          <div className=\"label\">\r\n                            <ArrowDownRight size={16} />\r\n                            Expense Forecasts\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {forecasts.filter(f => f.forecast_type === 'expense').length}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Expense forecasting models\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"profit\">\r\n                          <div className=\"label\">\r\n                            <BarChart3 size={16} />\r\n                            AI Models\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {forecasts.filter(f => \r\n                              f.method === 'arima' || \r\n                              f.method === 'prophet' || \r\n                              f.method === 'xgboost' || \r\n                              f.method === 'lstm' || \r\n                              f.method === 'linear_regression' || \r\n                              f.method === 'sarima'\r\n                            ).length}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Machine learning forecasts\r\n                          </div>\r\n                        </SummaryCard>\r\n                      </SummaryGrid>\r\n\r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>All Forecasts</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Forecast Name</th>\r\n                              <th>Type</th>\r\n                              <th>Method</th>\r\n                              <th>Period</th>\r\n                              <th style={{ textAlign: 'right' }}>Total Forecasted</th>\r\n                              <th>Data Points</th>\r\n                              <th>Created</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {forecasts.map((forecast) => {\r\n                              const forecastData = forecast.forecast_data || [];\r\n                              const totalForecasted = forecastData.reduce((sum, point) => sum + (point.forecasted_value || 0), 0);\r\n                              const isAIModel = forecast.method === 'arima' || \r\n                                               forecast.method === 'prophet' || \r\n                                               forecast.method === 'xgboost' || \r\n                                               forecast.method === 'lstm' || \r\n                                               forecast.method === 'linear_regression' || \r\n                                               forecast.method === 'sarima';\r\n                              \r\n                              return (\r\n                                <tr key={forecast.id}>\r\n                                  <td>\r\n                                    <strong>{forecast.name}</strong>\r\n                                    {forecast.description && (\r\n                                      <div style={{ fontSize: theme.typography.fontSizes.xs, color: TEXT_COLOR_MUTED, marginTop: theme.spacing.xs }}>\r\n                                        {forecast.description}\r\n                                      </div>\r\n                                    )}\r\n                                  </td>\r\n                                  <td>\r\n                                    <span style={{ textTransform: 'capitalize' }}>\r\n                                      {forecast.forecast_type}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td>\r\n                                    <span style={{ textTransform: 'capitalize' }}>\r\n                                      {forecast.method.replace(/_/g, ' ')}\r\n                                      {isAIModel && ' (AI)'}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td>\r\n                                    {formatDate(forecast.start_date)} - {formatDate(forecast.end_date)}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right', fontWeight: theme.typography.fontWeights.bold }}>\r\n                                    {formatCurrency(totalForecasted)}\r\n                                  </td>\r\n                                  <td>{forecastData.length}</td>\r\n                                  <td>{formatDate(forecast.created_at)}</td>\r\n                                </tr>\r\n                              );\r\n                            })}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n\r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>Forecast Summary by Type</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Forecast Type</th>\r\n                              <th style={{ textAlign: 'right' }}>Count</th>\r\n                              <th style={{ textAlign: 'right' }}>Total Forecasted Value</th>\r\n                              <th style={{ textAlign: 'right' }}>Average per Forecast</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {['revenue', 'expense', 'profit', 'inventory'].map((type) => {\r\n                              const typeForecasts = forecasts.filter(f => f.forecast_type === type);\r\n                              if (typeForecasts.length === 0) return null;\r\n                              \r\n                              const totalValue = typeForecasts.reduce((sum, f) => {\r\n                                const data = f.forecast_data || [];\r\n                                return sum + data.reduce((s, p) => s + (p.forecasted_value || 0), 0);\r\n                              }, 0);\r\n                              \r\n                              return (\r\n                                <tr key={type}>\r\n                                  <td style={{ textTransform: 'capitalize', fontWeight: theme.typography.fontWeights.medium }}>\r\n                                    {type}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right' }}>{typeForecasts.length}</td>\r\n                                  <td style={{ textAlign: 'right', fontWeight: theme.typography.fontWeights.bold }}>\r\n                                    {formatCurrency(totalValue)}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right' }}>\r\n                                    {formatCurrency(totalValue / typeForecasts.length)}\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            }).filter(Boolean)}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState>\r\n                      <LineChart size={48} />\r\n                      <h3>No forecasts available</h3>\r\n                      <p>Forecast reports are only available to Finance Admin, Admin, and Manager roles. Create forecasts to see them here.</p>\r\n                    </EmptyState>\r\n                  )}\r\n                </ReportCard>\r\n              </ReportSection>\r\n            )}\r\n          </>\r\n        )}\r\n      </PageContainer>\r\n    </Layout>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
frontend/.next/dev/static/chunks/app_report_ClientPage_tsx_69bbfc2d._.js:                // Note: Backend APIs (getFinancialSummary, getIncomeStatement, getCashFlow) should already filter
frontend/.next/dev/static/chunks/app_report_ClientPage_tsx_69bbfc2d._.js:                    __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$api$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["apiClient"].getFinancialSummary(dateParams.startDate, dateParams.endDate),
frontend/.next/dev/static/chunks/app_report_ClientPage_tsx_69bbfc2d._.js.map:    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASHROCK/Desktop/projectai/frontend/app/report/ClientPage.tsx"],"sourcesContent":["'use client';\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport Layout from '@/components/layout';\r\nimport { apiClient } from '@/lib/api';\r\nimport { useAuth } from '@/lib/rbac/auth-context';\r\nimport useUserStore from '@/store/userStore';\r\nimport { toast } from 'sonner';\r\nimport { theme } from '@/components/common/theme';\r\nimport {\r\n  DollarSign,\r\n  TrendingUp,\r\n  RefreshCw,\r\n  Loader2,\r\n  ArrowUpRight,\r\n  ArrowDownRight,\r\n  FileText,\r\n  BarChart3,\r\n  AlertCircle,\r\n  ShoppingCart,\r\n  Package,\r\n  LineChart,\r\n  Brain,\r\n  Zap,\r\n  Lightbulb,\r\n  Target,\r\n  CheckCircle2\r\n} from 'lucide-react';\r\n\r\nconst PRIMARY_COLOR = theme.colors.primary || '#00AA00';\r\nconst TEXT_COLOR_DARK = '#111827';\r\nconst TEXT_COLOR_MUTED = theme.colors.textSecondary || '#666';\r\n\r\n// Type definitions for error handling\r\ntype ErrorWithDetails = {\r\n  code?: string;\r\n  message?: string;\r\n  response?: {\r\n    status: number;\r\n    data?: {\r\n      detail?: string;\r\n    };\r\n  };\r\n};\r\n\r\nconst CardShadow = `\r\n  0 2px 4px -1px rgba(0, 0, 0, 0.06),\r\n  0 1px 2px -1px rgba(0, 0, 0, 0.03),\r\n  inset 0 0 0 1px rgba(0, 0, 0, 0.02)\r\n`;\r\nconst CardShadowHover = `\r\n  0 8px 12px -2px rgba(0, 0, 0, 0.08),\r\n  0 4px 6px -2px rgba(0, 0, 0, 0.04),\r\n  inset 0 0 0 1px rgba(0, 0, 0, 0.03)\r\n`;\r\n\r\nconst PageContainer = styled.div`\r\n  flex: 1;\r\n  width: 100%;\r\n  max-width: 980px;\r\n  margin-left: auto;\r\n  margin-right: 0;\r\n  padding: ${theme.spacing.sm} ${theme.spacing.sm} ${theme.spacing.sm};\r\n`;\r\n\r\nconst HeaderContainer = styled.div`\r\n  background: linear-gradient(135deg, ${PRIMARY_COLOR} 0%, #008800 100%);\r\n  color: #ffffff;\r\n  padding: ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  border-radius: ${theme.borderRadius.md};\r\n  border-bottom: 3px solid rgba(255, 255, 255, 0.1);\r\n  \r\n  h1 {\r\n    font-size: clamp(24px, 3vw, 36px);\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    margin: 0 0 ${theme.spacing.xs};\r\n    color: #ffffff;\r\n  }\r\n  \r\n  p {\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n    opacity: 0.9;\r\n    margin: 0;\r\n    color: rgba(255, 255, 255, 0.95);\r\n  }\r\n`;\r\n\r\nconst DateFilterCard = styled.div`\r\n  background: ${theme.colors.background};\r\n  padding: ${theme.spacing.lg};\r\n  border-radius: ${theme.borderRadius.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  box-shadow: ${CardShadow};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  display: flex;\r\n  gap: ${theme.spacing.md};\r\n  align-items: flex-end;\r\n  flex-wrap: wrap;\r\n  transition: box-shadow ${theme.transitions.default};\r\n\r\n  &:hover {\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n`;\r\n\r\nconst DateInputGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: ${theme.spacing.sm};\r\n  flex: 1;\r\n  min-width: 200px;\r\n`;\r\n\r\nconst ReportSection = styled.div`\r\n  margin-bottom: ${theme.spacing.xl};\r\n`;\r\n\r\nconst ReportCard = styled.div`\r\n  background: ${theme.colors.background};\r\n  padding: ${theme.spacing.xl};\r\n  border-radius: ${theme.borderRadius.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  box-shadow: ${CardShadow};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  transition: box-shadow ${theme.transitions.default};\r\n\r\n  &:hover {\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n`;\r\n\r\nconst ReportHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: ${theme.spacing.lg};\r\n  padding-bottom: ${theme.spacing.md};\r\n  border-bottom: 2px solid ${theme.colors.border};\r\n  \r\n  h2 {\r\n    font-size: ${theme.typography.fontSizes.lg};\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    color: ${TEXT_COLOR_DARK};\r\n    display: flex;\r\n    align-items: center;\r\n    gap: ${theme.spacing.md};\r\n    margin: 0;\r\n    \r\n    svg {\r\n      width: 24px;\r\n      height: 24px;\r\n      color: ${PRIMARY_COLOR};\r\n    }\r\n  }\r\n  \r\n  p {\r\n    color: ${TEXT_COLOR_MUTED};\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    margin: ${theme.spacing.xs} 0 0;\r\n  }\r\n`;\r\n\r\nconst SummaryGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n  gap: ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.xl};\r\n`;\r\n\r\nconst SummaryCard = styled.div<{ $type?: 'revenue' | 'expense' | 'profit' | 'cash' }>`\r\n  background: ${(p) => {\r\n    if (p.$type === 'revenue') return '#f0fdf4';\r\n    if (p.$type === 'expense') return '#fef2f2';\r\n    if (p.$type === 'profit') return '#eff6ff';\r\n    return theme.colors.backgroundSecondary;\r\n  }};\r\n  border: 1px solid ${(p) => {\r\n    if (p.$type === 'revenue') return '#bbf7d0';\r\n    if (p.$type === 'expense') return '#fecaca';\r\n    if (p.$type === 'profit') return '#bfdbfe';\r\n    return theme.colors.border;\r\n  }};\r\n  padding: ${theme.spacing.lg};\r\n  border-radius: ${theme.borderRadius.md};\r\n  transition: transform ${theme.transitions.default}, box-shadow ${theme.transitions.default};\r\n  box-shadow: ${CardShadow};\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n  \r\n  .label {\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    color: ${TEXT_COLOR_MUTED};\r\n    margin-bottom: ${theme.spacing.sm};\r\n    display: flex;\r\n    align-items: center;\r\n    gap: ${theme.spacing.xs};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n  }\r\n  \r\n  .value {\r\n    font-size: clamp(20px, 4vw, 28px);\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    color: ${(p) => p.$type === 'expense' ? '#dc2626' : TEXT_COLOR_DARK};\r\n    margin-bottom: ${theme.spacing.xs};\r\n  }\r\n  \r\n  .sub-value {\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    color: ${TEXT_COLOR_MUTED};\r\n    margin-top: ${theme.spacing.xs};\r\n  }\r\n`;\r\n\r\nconst CategoryTable = styled.table`\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n  margin-top: ${theme.spacing.md};\r\n  \r\n  thead {\r\n    background: ${theme.colors.backgroundSecondary};\r\n    border-bottom: 2px solid ${theme.colors.border};\r\n    \r\n    th {\r\n      text-align: left;\r\n      padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n      font-weight: ${theme.typography.fontWeights.medium};\r\n      color: ${TEXT_COLOR_MUTED};\r\n      font-size: ${theme.typography.fontSizes.xs};\r\n      text-transform: uppercase;\r\n      letter-spacing: 0.05em;\r\n    }\r\n  }\r\n  \r\n  tbody {\r\n    tr {\r\n      border-bottom: 1px solid ${theme.colors.border};\r\n      transition: background-color ${theme.transitions.default};\r\n      \r\n      &:hover {\r\n        background: ${theme.colors.backgroundSecondary};\r\n      }\r\n      \r\n      &:last-child {\r\n        border-bottom: none;\r\n      }\r\n      \r\n      td {\r\n        padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n        color: ${TEXT_COLOR_MUTED};\r\n        font-size: ${theme.typography.fontSizes.sm};\r\n        \r\n        &:last-child {\r\n          font-weight: ${theme.typography.fontWeights.bold};\r\n          color: ${TEXT_COLOR_DARK};\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst CashFlowTable = styled.table`\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n  margin-top: ${theme.spacing.md};\r\n  \r\n  thead {\r\n    background: ${theme.colors.backgroundSecondary};\r\n    border-bottom: 2px solid ${theme.colors.border};\r\n    \r\n    th {\r\n      text-align: left;\r\n      padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n      font-weight: ${theme.typography.fontWeights.medium};\r\n      color: ${TEXT_COLOR_MUTED};\r\n      font-size: ${theme.typography.fontSizes.xs};\r\n      text-transform: uppercase;\r\n      letter-spacing: 0.05em;\r\n    }\r\n  }\r\n  \r\n  tbody {\r\n    tr {\r\n      border-bottom: 1px solid ${theme.colors.border};\r\n      transition: background-color ${theme.transitions.default};\r\n      \r\n      &:hover {\r\n        background: ${theme.colors.backgroundSecondary};\r\n      }\r\n      \r\n      &:last-child {\r\n        border-bottom: none;\r\n      }\r\n      \r\n      td {\r\n        padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n        color: ${TEXT_COLOR_MUTED};\r\n        font-size: ${theme.typography.fontSizes.sm};\r\n        \r\n        &:nth-child(2) {\r\n          color: #059669;\r\n          font-weight: ${theme.typography.fontWeights.medium};\r\n        }\r\n        \r\n        &:nth-child(3) {\r\n          color: #dc2626;\r\n          font-weight: ${theme.typography.fontWeights.medium};\r\n        }\r\n        \r\n        &:last-child {\r\n          font-weight: ${theme.typography.fontWeights.bold};\r\n          color: ${TEXT_COLOR_DARK};\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst LoadingContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 60vh;\r\n  gap: ${theme.spacing.md};\r\n  \r\n  p {\r\n    color: ${TEXT_COLOR_MUTED};\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst Spinner = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 3px solid ${theme.colors.border};\r\n  border-top-color: ${PRIMARY_COLOR};\r\n  border-radius: 50%;\r\n  animation: spin 0.8s linear infinite;\r\n  \r\n  @keyframes spin {\r\n    to { transform: rotate(360deg); }\r\n  }\r\n`;\r\n\r\nconst ErrorBanner = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: ${theme.spacing.md};\r\n  padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  background-color: rgba(239, 68, 68, 0.1);\r\n  border: 1px solid rgba(239, 68, 68, 0.3);\r\n  border-radius: ${theme.borderRadius.md};\r\n  color: #dc2626;\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n\r\n  svg {\r\n    flex-shrink: 0;\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  text-align: center;\r\n  padding: ${theme.spacing.xxl} ${theme.spacing.lg};\r\n  color: ${TEXT_COLOR_MUTED};\r\n  \r\n  svg {\r\n    width: 48px;\r\n    height: 48px;\r\n    margin: 0 auto ${theme.spacing.md};\r\n    opacity: 0.5;\r\n    color: ${TEXT_COLOR_MUTED};\r\n  }\r\n  \r\n  h3 {\r\n    font-size: ${theme.typography.fontSizes.lg};\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    margin: 0 0 ${theme.spacing.sm};\r\n    color: ${TEXT_COLOR_DARK};\r\n  }\r\n`;\r\n\r\nconst ButtonRow = styled.div`\r\n  display: flex;\r\n  gap: ${theme.spacing.md};\r\n  margin-top: ${theme.spacing.md};\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst SectionTitle = styled.h3`\r\n  font-size: ${theme.typography.fontSizes.lg};\r\n  font-weight: ${theme.typography.fontWeights.bold};\r\n  margin: 0 0 ${theme.spacing.md};\r\n  color: ${TEXT_COLOR_DARK};\r\n`;\r\n\r\nconst TwoColumnGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: ${theme.spacing.xl};\r\n  margin-top: ${theme.spacing.xl};\r\n\r\n  @media (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n    gap: ${theme.spacing.lg};\r\n  }\r\n`;\r\n\r\nconst InsightCard = styled.div<{ $priority?: 'high' | 'medium' | 'low' }>`\r\n  background: ${(p) => {\r\n    if (p.$priority === 'high') return '#fef2f2';\r\n    if (p.$priority === 'medium') return '#fffbeb';\r\n    return '#f0fdf4';\r\n  }};\r\n  border: 1px solid ${(p) => {\r\n    if (p.$priority === 'high') return '#fecaca';\r\n    if (p.$priority === 'medium') return '#fde68a';\r\n    return '#bbf7d0';\r\n  }};\r\n  border-left: 4px solid ${(p) => {\r\n    if (p.$priority === 'high') return '#dc2626';\r\n    if (p.$priority === 'medium') return '#d97706';\r\n    return PRIMARY_COLOR;\r\n  }};\r\n  border-radius: ${theme.borderRadius.md};\r\n  padding: ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.md};\r\n  \r\n  .insight-header {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: ${theme.spacing.sm};\r\n    margin-bottom: ${theme.spacing.sm};\r\n    \r\n    h4 {\r\n      font-size: ${theme.typography.fontSizes.md};\r\n      font-weight: ${theme.typography.fontWeights.bold};\r\n      color: ${TEXT_COLOR_DARK};\r\n      margin: 0;\r\n    }\r\n    \r\n  }\r\n  \r\n  .insight-message {\r\n    color: ${TEXT_COLOR_DARK};\r\n    margin-bottom: ${theme.spacing.sm};\r\n    line-height: 1.6;\r\n  }\r\n  \r\n  .insight-actions {\r\n    margin-top: ${theme.spacing.md};\r\n    padding-top: ${theme.spacing.md};\r\n    border-top: 1px solid ${theme.colors.border};\r\n    \r\n    ul {\r\n      margin: 0;\r\n      padding-left: ${theme.spacing.lg};\r\n      color: ${TEXT_COLOR_MUTED};\r\n      font-size: ${theme.typography.fontSizes.sm};\r\n    }\r\n  }\r\n`;\r\n\r\nconst AlertCard = styled.div<{ $severity?: 'high' | 'medium' | 'low' }>`\r\n  background: ${(p) => {\r\n    if (p.$severity === 'high') return '#fef2f2';\r\n    if (p.$severity === 'medium') return '#fffbeb';\r\n    return '#eff6ff';\r\n  }};\r\n  border: 1px solid ${(p) => {\r\n    if (p.$severity === 'high') return '#fecaca';\r\n    if (p.$severity === 'medium') return '#fde68a';\r\n    return '#bfdbfe';\r\n  }};\r\n  border-radius: ${theme.borderRadius.md};\r\n  padding: ${theme.spacing.md};\r\n  margin-bottom: ${theme.spacing.sm};\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: ${theme.spacing.sm};\r\n  \r\n  .alert-icon {\r\n    color: ${(p) => {\r\n      if (p.$severity === 'high') return '#dc2626';\r\n      if (p.$severity === 'medium') return '#d97706';\r\n      return '#2563eb';\r\n    }};\r\n    flex-shrink: 0;\r\n    margin-top: 2px;\r\n  }\r\n  \r\n  .alert-message {\r\n    color: ${TEXT_COLOR_DARK};\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    line-height: 1.5;\r\n  }\r\n`;\r\n\r\nconst TrendBadge = styled.span<{ $direction?: 'increasing' | 'decreasing' | 'stable' }>`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: ${theme.spacing.xs};\r\n  padding: 6px 12px;\r\n  border-radius: ${theme.borderRadius.sm};\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  background: ${(p) => {\r\n    if (p.$direction === 'increasing') return '#d1fae5';\r\n    if (p.$direction === 'decreasing') return '#fee2e2';\r\n    return '#f3f4f6';\r\n  }};\r\n  color: ${(p) => {\r\n    if (p.$direction === 'increasing') return '#065f46';\r\n    if (p.$direction === 'decreasing') return '#991b1b';\r\n    return TEXT_COLOR_MUTED;\r\n  }};\r\n`;\r\n\r\nconst PriorityBadge = styled.span<{ $priority?: 'high' | 'medium' | 'low' }>`\r\n  font-size: ${theme.typography.fontSizes.xs};\r\n  padding: 4px 8px;\r\n  border-radius: ${theme.borderRadius.sm};\r\n  text-transform: uppercase;\r\n  font-weight: ${theme.typography.fontWeights.bold};\r\n  background: ${(p) => {\r\n    if (p.$priority === 'high') return '#dc2626';\r\n    if (p.$priority === 'medium') return '#d97706';\r\n    return PRIMARY_COLOR;\r\n  }};\r\n  color: white;\r\n`;\r\n\r\nconst QuickForecastButton = styled(Button)`\r\n  margin-top: ${theme.spacing.md};\r\n  width: 100%;\r\n`;\r\n\r\ninterface IncomeStatement {\r\n  period: { start_date?: string; end_date?: string };\r\n  revenue: {\r\n    total: number;\r\n    by_category: Record<string, number>;\r\n  };\r\n  sales: {\r\n    total: number;\r\n    by_category?: Record<string, number>;\r\n  };\r\n  expenses: {\r\n    total: number;\r\n    by_category: Record<string, number>;\r\n  };\r\n  profit: number;\r\n  profit_margin: number;\r\n}\r\n\r\ninterface CashFlow {\r\n  period: { start_date?: string; end_date?: string };\r\n  summary: {\r\n    total_inflow: number;\r\n    total_outflow: number;\r\n    net_cash_flow: number;\r\n  };\r\n  daily_cash_flow: Record<string, { inflow: number; outflow: number; net: number }>;\r\n}\r\n\r\ninterface FinancialSummary {\r\n  period: { start_date?: string; end_date?: string };\r\n  financials: {\r\n    total_revenue: number;\r\n    total_sales: number;\r\n    total_expenses: number;\r\n    profit: number;\r\n    profit_margin: number;\r\n  };\r\n  revenue_by_category: Record<string, number>;\r\n  sales_by_category?: Record<string, number>;\r\n  expenses_by_category: Record<string, number>;\r\n  transaction_counts: {\r\n    revenue: number;\r\n    sales: number;\r\n    expenses: number;\r\n    total: number;\r\n  };\r\n  generated_at: string;\r\n}\r\n\r\ninterface InventorySummary {\r\n  total_items: number;\r\n  total_cost_value: number;\r\n  total_selling_value: number;\r\n  potential_profit: number;\r\n  total_quantity_in_stock?: number;\r\n}\r\n\r\ninterface SalesSummary {\r\n  total_sales: number;\r\n  total_revenue: number;\r\n  pending_sales: number;\r\n  posted_sales: number;\r\n  period_start?: string;\r\n  period_end?: string;\r\n}\r\n\r\ninterface ForecastDataPoint {\r\n  period?: string;\r\n  date?: string;\r\n  forecasted_value?: number;\r\n  method?: string;\r\n}\r\n\r\ninterface Forecast {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  forecast_type: string;\r\n  period_type: string;\r\n  start_date: string;\r\n  end_date: string;\r\n  method: string;\r\n  method_params?: Record<string, unknown>;\r\n  forecast_data?: ForecastDataPoint[];\r\n  created_at: string;\r\n}\r\n\r\ninterface MLInsight {\r\n  metric: string;\r\n  forecast?: any[];\r\n  advice?: Array<{\r\n    priority: string;\r\n    title: string;\r\n    message: string;\r\n    actions: string[];\r\n  }>;\r\n  alerts?: Array<{\r\n    severity: string;\r\n    message: string;\r\n  }>;\r\n  summary?: string;\r\n  trend_analysis?: {\r\n    direction: string;\r\n    percentage: number;\r\n    average: number;\r\n    max: number;\r\n    min: number;\r\n  };\r\n}\r\n\r\ninterface ForecastWithAdvice {\r\n  metric: string;\r\n  model_type: string;\r\n  forecast: ForecastDataPoint[];\r\n  advice: Array<{\r\n    priority: string;\r\n    title: string;\r\n    message: string;\r\n    actions: string[];\r\n  }>;\r\n  alerts: Array<{\r\n    severity: string;\r\n    message: string;\r\n  }>;\r\n  summary: string;\r\n  trend_analysis: {\r\n    direction: string;\r\n    percentage: number;\r\n    average: number;\r\n    max: number;\r\n    min: number;\r\n  };\r\n}\r\n\r\nexport default function ReportPage() {\r\n  const { user } = useAuth();\r\n  const storeUser = useUserStore((state) => state.user);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  \r\n  const [startDate, setStartDate] = useState<string>(() => {\r\n    const date = new Date();\r\n    date.setFullYear(date.getFullYear() - 1);\r\n    date.setDate(1);\r\n    return date.toISOString().split('T')[0];\r\n  });\r\n  const [endDate, setEndDate] = useState<string>(() => {\r\n    const tomorrow = new Date();\r\n    tomorrow.setDate(tomorrow.getDate() + 1);\r\n    return tomorrow.toISOString().split('T')[0];\r\n  });\r\n  \r\n  const [financialSummary, setFinancialSummary] = useState<FinancialSummary | null>(null);\r\n  const [incomeStatement, setIncomeStatement] = useState<IncomeStatement | null>(null);\r\n  const [cashFlow, setCashFlow] = useState<CashFlow | null>(null);\r\n  const [inventorySummary, setInventorySummary] = useState<InventorySummary | null>(null);\r\n  const [salesSummary, setSalesSummary] = useState<SalesSummary | null>(null);\r\n  const [forecasts, setForecasts] = useState<Forecast[]>([]);\r\n  const [mlInsights, setMlInsights] = useState<any>(null);\r\n  const [loadingMLInsights, setLoadingMLInsights] = useState(false);\r\n  const [generatingForecast, setGeneratingForecast] = useState<string | null>(null);\r\n\r\n  // Helper function to safely convert values to numbers, handling NaN, null, undefined\r\n  const safeNumber = (value: unknown): number => {\r\n    if (value === null || value === undefined || value === '') {\r\n      return 0;\r\n    }\r\n    const num = Number(value);\r\n    return isNaN(num) ? 0 : num;\r\n  };\r\n\r\n  const loadReports = useCallback(async (useDateFilter: boolean = true) => {\r\n    if (!user) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const userRole = user?.role?.toLowerCase();\r\n      const isFinanceAdmin = userRole === 'finance_manager' || userRole === 'finance_admin';\r\n      const isAccountant = userRole === 'accountant';\r\n      const isEmployee = userRole === 'employee';\r\n\r\n      // Get accessible user IDs based on role\r\n      // Admin/Super Admin: See all (no filtering)\r\n      // Finance Admin: See their own + subordinates (ONLY accountants and employees, NOT other Finance Admins)\r\n      // Accountant: See their own + their Finance Admin's team (ONLY accountants and employees, NOT other Finance Admins)\r\n      // Employee: See only their own\r\n      let accessibleUserIds: number[] | null = null;\r\n      const isAdmin = userRole === 'admin' || userRole === 'super_admin';\r\n      \r\n      if (isAdmin) {\r\n        // Admin can see all - no filtering needed\r\n        accessibleUserIds = null;\r\n      } else if (isFinanceAdmin && user?.id) {\r\n        try {\r\n          // Finance Admin: Get their own subordinates ONLY (accountants and employees)\r\n          // Exclude other Finance Admins, Managers, and their subordinates\r\n          const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n          const subordinatesRes = await apiClient.getSubordinates(userId);\r\n          const subordinates = subordinatesRes?.data || [];\r\n          \r\n          // Filter subordinates to ONLY include accountants and employees (exclude other Finance Admins/Managers)\r\n          const validSubordinateIds = subordinates\r\n            .map((sub: { id?: number | string; role?: string }) => {\r\n              const subId = typeof sub.id === 'string' ? parseInt(sub.id, 10) : Number(sub.id);\r\n              const subRole = (sub.role || '').toLowerCase();\r\n              \r\n              // Only include accountants and employees, exclude Finance Admins and Managers\r\n              if (!Number.isNaN(subId) && (subRole === 'accountant' || subRole === 'employee')) {\r\n                return subId;\r\n              }\r\n              return undefined;\r\n            })\r\n            .filter((id): id is number => id !== undefined);\r\n          \r\n          // Include the finance admin themselves + their valid subordinates only\r\n          accessibleUserIds = [userId, ...validSubordinateIds];\r\n          \r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.log('Finance Admin - Accessible User IDs for Reports:', {\r\n              userId: userId,\r\n              subordinatesCount: subordinates.length,\r\n              validSubordinateIds: validSubordinateIds,\r\n              accessibleUserIds: accessibleUserIds\r\n            });\r\n          }\r\n        } catch (err: unknown) {\r\n          console.warn('Failed to fetch subordinates, using only finance admin ID:', err);\r\n          const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n          accessibleUserIds = [userId];\r\n        }\r\n      } else if (isAccountant && user?.id) {\r\n        // Accountant: Get their Finance Admin's (manager's) subordinates\r\n        const accountantId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n        let managerId: number | null = null;\r\n        \r\n        // Try to get managerId from storeUser first\r\n        const managerIdStr = storeUser?.managerId;\r\n        if (managerIdStr) {\r\n          managerId = typeof managerIdStr === 'string' ? parseInt(managerIdStr, 10) : Number(managerIdStr);\r\n        } else {\r\n          // If not in storeUser, try to fetch current user profile from API\r\n          try {\r\n            const currentUserRes = await apiClient.getCurrentUser();\r\n            const currentUserData = currentUserRes?.data;\r\n            if (currentUserData?.manager_id !== undefined && currentUserData?.manager_id !== null) {\r\n              managerId = typeof currentUserData.manager_id === 'string' \r\n                ? parseInt(currentUserData.manager_id, 10) \r\n                : Number(currentUserData.manager_id);\r\n            }\r\n          } catch (err) {\r\n            console.warn('Failed to fetch current user profile for manager_id:', err);\r\n          }\r\n        }\r\n        \r\n        if (managerId) {\r\n          try {\r\n            const financeAdminId = managerId;\r\n            \r\n            // Get all subordinates of the Finance Admin\r\n            const subordinatesRes = await apiClient.getSubordinates(financeAdminId);\r\n            const subordinates = subordinatesRes?.data || [];\r\n            \r\n            // Filter subordinates to ONLY include accountants and employees (exclude other Finance Admins/Managers)\r\n            const validSubordinateIds = subordinates\r\n              .map((sub: { id?: number | string; role?: string }) => {\r\n                const subId = typeof sub.id === 'string' ? parseInt(sub.id, 10) : Number(sub.id);\r\n                const subRole = (sub.role || '').toLowerCase();\r\n                \r\n                // Only include accountants and employees, exclude Finance Admins and Managers\r\n                if (!Number.isNaN(subId) && (subRole === 'accountant' || subRole === 'employee')) {\r\n                  return subId;\r\n                }\r\n                return undefined;\r\n              })\r\n              .filter((id): id is number => id !== undefined);\r\n            \r\n            // Include the Finance Admin themselves and their valid subordinates only\r\n            accessibleUserIds = [financeAdminId, ...validSubordinateIds];\r\n            \r\n            if (process.env.NODE_ENV === 'development') {\r\n              console.log('Accountant - Accessible User IDs for Reports (from Finance Admin):', {\r\n                accountantId: accountantId,\r\n                financeAdminId: financeAdminId,\r\n                subordinatesCount: subordinates.length,\r\n                validSubordinateIds: validSubordinateIds,\r\n                accessibleUserIds: accessibleUserIds\r\n              });\r\n            }\r\n          } catch (err) {\r\n            console.error('Failed to fetch Finance Admin subordinates for accountant:', err);\r\n            // Fallback: if we can't get subordinates, at least try to show data from the Finance Admin\r\n            accessibleUserIds = [managerId];\r\n          }\r\n        } else {\r\n          // Accountant has no manager assigned - fallback to just themselves\r\n          console.warn('Accountant has no manager (Finance Admin) assigned - using only accountant ID');\r\n          accessibleUserIds = [accountantId];\r\n        }\r\n      } else if (isEmployee && user?.id) {\r\n        // Employee: Can only see their own data\r\n        const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n        accessibleUserIds = [userId];\r\n      }\r\n\r\n      const dateParams = useDateFilter ? { startDate, endDate } : { startDate: undefined, endDate: undefined };\r\n      \r\n      // Fetch sales data for the period (for detailed breakdowns)\r\n      let salesData: unknown[] = [];\r\n      try {\r\n        const salesResponse = await apiClient.getSales({\r\n          status: 'posted', // Only include posted sales in reports\r\n          limit: 1000, // Backend maximum is 1000\r\n          start_date: dateParams.startDate ? new Date(dateParams.startDate + 'T00:00:00').toISOString() : undefined,\r\n          end_date: dateParams.endDate ? new Date(dateParams.endDate + 'T23:59:59').toISOString() : undefined,\r\n        });\r\n        const salesArray = Array.isArray(salesResponse?.data) \r\n          ? salesResponse.data \r\n          : (salesResponse?.data && typeof salesResponse.data === 'object' && 'data' in salesResponse.data \r\n            ? (salesResponse.data as { data?: unknown[] }).data || [] \r\n            : []);\r\n        salesData = salesArray || [];\r\n\r\n        // Apply role-based filtering to sales data\r\n        // Admin/Super Admin: See all (no filtering)\r\n        // Finance Admin: Filter to only their team's sales (themselves + subordinates who are accountants/employees)\r\n        // Accountant: Filter to only their Finance Admin's team sales (Finance Admin + subordinates who are accountants/employees)\r\n        // Employee: Filter to only their own sales\r\n        if (!isAdmin && accessibleUserIds && accessibleUserIds.length > 0) {\r\n          // Finance Admin, Accountant, or Employee: filter based on accessibleUserIds\r\n          salesData = salesData.filter((s: unknown) => {\r\n            const sale = s as { sold_by_id?: unknown; soldBy?: unknown; sold_by?: unknown; created_by_id?: unknown; createdBy?: unknown };\r\n            const soldById = sale.sold_by_id || sale.soldBy || sale.sold_by || sale.created_by_id || sale.createdBy;\r\n            if (!soldById) return false;\r\n            const soldByIdNum = typeof soldById === 'string' ? parseInt(soldById, 10) : (typeof soldById === 'number' ? soldById : NaN);\r\n            return !isNaN(soldByIdNum) && accessibleUserIds!.includes(soldByIdNum);\r\n          });\r\n        }\r\n        // Admin/Super Admin sees all - no filtering needed\r\n      } catch (err: unknown) {\r\n        console.warn('Failed to fetch detailed sales data for reports:', err);\r\n        // Continue without sales data - we'll use sales summary API instead\r\n      }\r\n      \r\n      // Check if user can view inventory summary (Finance Admin, Admin, Manager)\r\n      const canViewInventory = user?.role === 'finance_manager' || \r\n                               user?.role === 'finance_admin' || \r\n                               user?.role === 'admin' || \r\n                               user?.role === 'super_admin' ||\r\n                               user?.role === 'manager';\r\n      \r\n      // Check if user can view sales summary (Accountant, Finance Admin, Admin, Manager)\r\n      const canViewSalesSummary = user?.role === 'accountant' ||\r\n                                  user?.role === 'finance_manager' || \r\n                                  user?.role === 'finance_admin' || \r\n                                  user?.role === 'admin' || \r\n                                  user?.role === 'super_admin' ||\r\n                                  user?.role === 'manager';\r\n      \r\n      // Check if user can view forecasts (Admin, Finance Admin, Manager)\r\n      const canViewForecasts = user?.role === 'finance_manager' || \r\n                               user?.role === 'finance_admin' || \r\n                               user?.role === 'admin' || \r\n                               user?.role === 'super_admin' ||\r\n                               user?.role === 'manager';\r\n      \r\n      // Note: Backend APIs (getFinancialSummary, getIncomeStatement, getCashFlow) should already filter\r\n      // data by user role. The frontend trusts these responses. Sales data is filtered above.\r\n      const [summaryResult, incomeResult, cashFlowResult, inventoryResult, salesSummaryResult, forecastsResult] = await Promise.allSettled([\r\n        apiClient.getFinancialSummary(dateParams.startDate, dateParams.endDate),\r\n        apiClient.getIncomeStatement(dateParams.startDate, dateParams.endDate),\r\n        apiClient.getCashFlow(dateParams.startDate, dateParams.endDate),\r\n        canViewInventory ? apiClient.getInventorySummary().catch((err: unknown) => {\r\n          // Silently handle 403 errors (expected for non-finance admins)\r\n          const error = err as ErrorWithDetails;\r\n          if (error.response?.status === 403) {\r\n            return { data: null };\r\n          }\r\n          throw err;\r\n        }) : Promise.resolve({ data: null }),\r\n        canViewSalesSummary ? apiClient.getSalesSummary({\r\n          start_date: dateParams.startDate ? new Date(dateParams.startDate + 'T00:00:00').toISOString() : undefined,\r\n          end_date: dateParams.endDate ? new Date(dateParams.endDate + 'T23:59:59').toISOString() : undefined,\r\n        }).catch((err: unknown) => {\r\n          // Silently handle 403 errors (expected for non-authorized users)\r\n          const error = err as ErrorWithDetails;\r\n          if (error.response?.status === 403) {\r\n            return { data: null };\r\n          }\r\n          throw err;\r\n        }) : Promise.resolve({ data: null }),\r\n        canViewForecasts ? apiClient.getForecasts({ limit: 100 }).catch((err: unknown) => {\r\n          // Silently handle 403 errors (expected for non-authorized users)\r\n          const error = err as ErrorWithDetails;\r\n          if (error.response?.status === 403) {\r\n            return { data: [] };\r\n          }\r\n          throw err;\r\n        }) : Promise.resolve({ data: [] }),\r\n      ]);\r\n      \r\n      // Filter to only include POSTED sales for revenue/profit calculations\r\n      // This ensures revenue and net profit are only calculated from approved sales\r\n      const postedSalesData = salesData.filter((s: unknown) => {\r\n        const sale = s as { status?: string };\r\n        return sale.status === 'posted' || sale.status === 'POSTED' || sale.status?.toLowerCase() === 'posted';\r\n      });\r\n      \r\n      // Calculate sales totals from individual sales - ONLY from POSTED (approved) sales\r\n      // This is a fallback if sales summary API is not available\r\n      const totalSalesFromData = postedSalesData.reduce((sum: number, s: unknown) => {\r\n        const sale = s as { total_sale?: unknown };\r\n        return sum + safeNumber(sale.total_sale);\r\n      }, 0);\r\n      const salesByCategory: Record<string, number> = {};\r\n      postedSalesData.forEach((s: unknown) => {\r\n        const sale = s as { category?: string; total_sale?: unknown; item?: { category?: string } };\r\n        const category = sale.item?.category || sale.category || 'Sales';\r\n        salesByCategory[category] = (salesByCategory[category] || 0) + safeNumber(sale.total_sale);\r\n      });\r\n\r\n      if (summaryResult.status === 'fulfilled') {\r\n        const summaryData = summaryResult.value.data || summaryResult.value;\r\n        if (summaryData && (summaryData.financials || summaryData.revenue_by_category || summaryData.expenses_by_category)) {\r\n          // Initial calculation with individual sales data (will be updated if sales summary is available)\r\n          const baseRevenue = safeNumber(summaryData.financials?.total_revenue);\r\n          const baseExpenses = safeNumber(summaryData.financials?.total_expenses);\r\n          const calculatedRevenue = baseRevenue + totalSalesFromData;\r\n          const calculatedProfit = calculatedRevenue - baseExpenses;\r\n          const calculatedProfitMargin = calculatedRevenue > 0 \r\n            ? (calculatedProfit / calculatedRevenue) * 100\r\n            : 0;\r\n          \r\n          const enhancedSummary = {\r\n            ...summaryData,\r\n            financials: {\r\n              ...summaryData.financials,\r\n              total_sales: safeNumber(totalSalesFromData),\r\n              total_revenue: calculatedRevenue,\r\n              total_expenses: baseExpenses,\r\n              profit: calculatedProfit,\r\n              profit_margin: calculatedProfitMargin,\r\n            },\r\n            sales_by_category: salesByCategory,\r\n            transaction_counts: {\r\n              ...summaryData.transaction_counts,\r\n              sales: postedSalesData.length, // Only count POSTED sales\r\n              total: (summaryData.transaction_counts?.total || 0) + postedSalesData.length,\r\n            },\r\n          };\r\n          \r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.log('Financial Summary loaded (initial):', {\r\n              base_revenue: baseRevenue,\r\n              sales_from_data: totalSalesFromData,\r\n              total_revenue: enhancedSummary.financials?.total_revenue,\r\n              total_sales: enhancedSummary.financials?.total_sales,\r\n              total_expenses: enhancedSummary.financials?.total_expenses,\r\n              revenue_categories: Object.keys(enhancedSummary.revenue_by_category || {}).length,\r\n              sales_categories: Object.keys(enhancedSummary.sales_by_category || {}).length,\r\n              expense_categories: Object.keys(enhancedSummary.expenses_by_category || {}).length,\r\n            });\r\n          }\r\n          setFinancialSummary(enhancedSummary);\r\n        } else {\r\n          console.warn('Invalid summary data structure:', summaryData);\r\n          setFinancialSummary(null);\r\n        }\r\n      } else {\r\n        // Failed to load financial summary, try to use income statement data if available\r\n        if (incomeResult.status === 'fulfilled') {\r\n          const incomeData = incomeResult.value.data as { revenue?: { by_category?: Record<string, number>; total?: number }; expenses?: { by_category?: Record<string, number>; total?: number } };\r\n          const revenueCategories = Object.keys(incomeData.revenue?.by_category || {}).length;\r\n          const expenseCategories = Object.keys(incomeData.expenses?.by_category || {}).length;\r\n          const revenueObj = incomeData.revenue && typeof incomeData.revenue === 'object' ? incomeData.revenue as { total?: number } : {};\r\n          const expensesObj = incomeData.expenses && typeof incomeData.expenses === 'object' ? incomeData.expenses as { total?: number } : {};\r\n          const baseRevenue = safeNumber(revenueObj.total);\r\n          const baseExpenses = safeNumber(expensesObj.total);\r\n          const calculatedRevenue = baseRevenue + totalSalesFromData;\r\n          const calculatedProfit = calculatedRevenue - baseExpenses;\r\n          const calculatedProfitMargin = calculatedRevenue > 0\r\n            ? (calculatedProfit / calculatedRevenue) * 100\r\n            : 0;\r\n          \r\n          setFinancialSummary({\r\n            period: { start_date: startDate, end_date: endDate },\r\n            financials: {\r\n              total_revenue: calculatedRevenue,\r\n              total_sales: safeNumber(totalSalesFromData),\r\n              total_expenses: baseExpenses,\r\n              profit: calculatedProfit,\r\n              profit_margin: calculatedProfitMargin,\r\n            },\r\n            revenue_by_category: (incomeData.revenue?.by_category as Record<string, number>) || {},\r\n            sales_by_category: salesByCategory,\r\n            expenses_by_category: (incomeData.expenses?.by_category as Record<string, number>) || {},\r\n            transaction_counts: {\r\n              revenue: revenueCategories > 0 ? revenueCategories : 0,\r\n              sales: postedSalesData.length, // Only count POSTED sales\r\n              expenses: expenseCategories > 0 ? expenseCategories : 0,\r\n              total: revenueCategories + expenseCategories + postedSalesData.length,\r\n            },\r\n            generated_at: new Date().toISOString(),\r\n          });\r\n        } else {\r\n          setFinancialSummary(null);\r\n        }\r\n      }\r\n      \r\n      if (incomeResult.status === 'fulfilled') {\r\n        const incomeData = incomeResult.value.data || incomeResult.value;\r\n        if (incomeData && (incomeData.revenue || incomeData.expenses)) {\r\n          // Enhance income statement with sales data\r\n          const baseRevenue = safeNumber(incomeData.revenue && typeof incomeData.revenue === 'object' && incomeData.revenue !== null && 'total' in incomeData.revenue ? (incomeData.revenue as { total: number }).total : 0);\r\n          const baseExpenses = safeNumber(incomeData.expenses && typeof incomeData.expenses === 'object' && incomeData.expenses !== null && 'total' in incomeData.expenses ? (incomeData.expenses as { total: number }).total : 0);\r\n          const calculatedRevenue = baseRevenue + totalSalesFromData;\r\n          const calculatedProfit = calculatedRevenue - baseExpenses;\r\n          const calculatedProfitMargin = calculatedRevenue > 0\r\n            ? (calculatedProfit / calculatedRevenue) * 100\r\n            : 0;\r\n          \r\n          const enhancedIncome = {\r\n            ...incomeData,\r\n            sales: {\r\n              total: safeNumber(totalSalesFromData),\r\n              by_category: salesByCategory,\r\n            },\r\n            revenue: {\r\n              by_category: (incomeData.revenue && typeof incomeData.revenue === 'object' && 'by_category' in incomeData.revenue ? incomeData.revenue.by_category : undefined) || {},\r\n              total: calculatedRevenue,\r\n            },\r\n            profit: calculatedProfit,\r\n            profit_margin: calculatedProfitMargin,\r\n          };\r\n          setIncomeStatement(enhancedIncome as IncomeStatement);\r\n        } else {\r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.warn('Invalid income statement data structure:', incomeData);\r\n          }\r\n          setIncomeStatement(null);\r\n        }\r\n      } else {\r\n        console.error('Failed to load income statement:', incomeResult.reason);\r\n        setIncomeStatement(null);\r\n      }\r\n      \r\n      if (cashFlowResult.status === 'fulfilled') {\r\n        const cashFlowData = cashFlowResult.value.data || cashFlowResult.value;\r\n        if (cashFlowData && (cashFlowData.summary || cashFlowData.daily_cash_flow)) {\r\n          // Enhance cash flow with sales data - ONLY from POSTED (approved) sales\r\n          const salesByDay: Record<string, { inflow: number; outflow: number; net: number }> = {};\r\n          postedSalesData.forEach((sale: unknown) => {\r\n            const saleData = sale as { created_at?: string; total_sale?: unknown };\r\n            const saleDate = saleData.created_at ? new Date(saleData.created_at).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n            if (!salesByDay[saleDate]) {\r\n              salesByDay[saleDate] = { inflow: 0, outflow: 0, net: 0 };\r\n            }\r\n            const saleAmount = safeNumber(saleData.total_sale);\r\n            salesByDay[saleDate].inflow += saleAmount;\r\n            salesByDay[saleDate].net += saleAmount;\r\n          });\r\n\r\n          // Merge sales into daily cash flow\r\n          const enhancedDailyFlow = { ...cashFlowData.daily_cash_flow };\r\n          Object.entries(salesByDay).forEach(([date, flow]) => {\r\n            if (enhancedDailyFlow[date]) {\r\n              enhancedDailyFlow[date].inflow += flow.inflow;\r\n              enhancedDailyFlow[date].net += flow.net;\r\n            } else {\r\n              enhancedDailyFlow[date] = flow;\r\n            }\r\n          });\r\n\r\n          const baseInflow = safeNumber(cashFlowData.summary?.total_inflow);\r\n          const baseNetFlow = safeNumber(cashFlowData.summary?.net_cash_flow);\r\n          \r\n          // Use sales revenue from summary result if available, otherwise use calculated totalSalesFromData\r\n          // Check salesSummaryResult to get the sales revenue value\r\n          let salesRevenueForCashFlow = totalSalesFromData;\r\n          if (salesSummaryResult.status === 'fulfilled') {\r\n            const salesSummaryData = salesSummaryResult.value.data || salesSummaryResult.value;\r\n            if (salesSummaryData && typeof salesSummaryData === 'object' && 'total_revenue' in salesSummaryData) {\r\n              salesRevenueForCashFlow = safeNumber((salesSummaryData as SalesSummary).total_revenue);\r\n            }\r\n          }\r\n          \r\n          const enhancedCashFlow = {\r\n            ...cashFlowData,\r\n            summary: {\r\n              ...cashFlowData.summary,\r\n              total_inflow: baseInflow + salesRevenueForCashFlow,\r\n              net_cash_flow: baseNetFlow + salesRevenueForCashFlow,\r\n            },\r\n            daily_cash_flow: enhancedDailyFlow,\r\n          };\r\n          setCashFlow(enhancedCashFlow);\r\n        } else {\r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.warn('Invalid cash flow data structure:', cashFlowData);\r\n          }\r\n          setCashFlow(null);\r\n        }\r\n      } else {\r\n        console.error('Failed to load cash flow:', cashFlowResult.reason);\r\n        setCashFlow(null);\r\n      }\r\n      \r\n      // Handle inventory summary\r\n      if (inventoryResult.status === 'fulfilled') {\r\n        const inventoryData = inventoryResult.value.data || inventoryResult.value;\r\n        if (inventoryData && typeof inventoryData === 'object' && \r\n            ('total_items' in inventoryData || 'total_selling_value' in inventoryData)) {\r\n          setInventorySummary(inventoryData as InventorySummary);\r\n        } else {\r\n          setInventorySummary(null);\r\n        }\r\n      } else {\r\n        // Only log error if it's not a 403 (permission denied)\r\n        if (inventoryResult.reason?.response?.status !== 403) {\r\n          console.warn('Failed to load inventory summary:', inventoryResult.reason);\r\n        }\r\n        setInventorySummary(null);\r\n      }\r\n      \r\n      // Handle sales summary and integrate with financial data\r\n      // Sales summary API provides more accurate aggregated data from the backend\r\n      if (salesSummaryResult.status === 'fulfilled') {\r\n        const salesData = salesSummaryResult.value.data || salesSummaryResult.value;\r\n        if (salesData && typeof salesData === 'object' && \r\n            ('total_sales' in salesData || 'total_revenue' in salesData)) {\r\n          const salesSummaryData = salesData as SalesSummary;\r\n          setSalesSummary(salesSummaryData);\r\n          \r\n          // Always use sales summary revenue when available (more accurate than calculating from individual sales)\r\n          // This ensures we use the backend's aggregated data which only includes POSTED sales\r\n          // Update financial summary with accurate sales data from summary API\r\n          if (summaryResult.status === 'fulfilled') {\r\n            const summaryData = summaryResult.value.data || summaryResult.value;\r\n            if (summaryData && (summaryData.financials || summaryData.revenue_by_category || summaryData.expenses_by_category)) {\r\n              // Use sales summary revenue instead of calculated totalSalesFromData\r\n              // Sales summary is more accurate as it's aggregated by the backend\r\n              const baseRevenue = safeNumber(summaryData.financials?.total_revenue);\r\n              const baseExpenses = safeNumber(summaryData.financials?.total_expenses);\r\n              const salesRevenue = safeNumber(salesSummaryData.total_revenue);\r\n              \r\n              // Total revenue = base revenue (from revenue entries) + sales revenue (from posted sales)\r\n              const calculatedRevenue = baseRevenue + salesRevenue;\r\n              const calculatedProfit = calculatedRevenue - baseExpenses;\r\n              const calculatedProfitMargin = calculatedRevenue > 0 \r\n                ? (calculatedProfit / calculatedRevenue) * 100\r\n                : 0;\r\n              \r\n              const enhancedSummary = {\r\n                ...summaryData,\r\n                financials: {\r\n                  ...summaryData.financials,\r\n                  total_sales: salesRevenue, // Use sales revenue from summary API\r\n                  total_revenue: calculatedRevenue, // Base revenue + sales revenue\r\n                  total_expenses: baseExpenses,\r\n                  profit: calculatedProfit,\r\n                  profit_margin: calculatedProfitMargin,\r\n                },\r\n                sales_by_category: salesByCategory, // Keep category breakdown from individual sales\r\n                transaction_counts: {\r\n                  ...summaryData.transaction_counts,\r\n                  sales: salesSummaryData.posted_sales || postedSalesData.length,\r\n                  total: (summaryData.transaction_counts?.total || 0) + (salesSummaryData.posted_sales || postedSalesData.length),\r\n                },\r\n              };\r\n              \r\n              if (process.env.NODE_ENV === 'development') {\r\n                console.log('Financial Summary updated with Sales Summary:', {\r\n                  base_revenue: baseRevenue,\r\n                  sales_revenue_from_summary: salesRevenue,\r\n                  total_revenue_calculated: calculatedRevenue,\r\n                  total_sales: enhancedSummary.financials?.total_sales,\r\n                  total_expenses: enhancedSummary.financials?.total_expenses,\r\n                  profit: enhancedSummary.financials?.profit,\r\n                  profit_margin: enhancedSummary.financials?.profit_margin,\r\n                });\r\n              }\r\n              \r\n              setFinancialSummary(enhancedSummary);\r\n            }\r\n          }\r\n        } else {\r\n          setSalesSummary(null);\r\n        }\r\n      } else {\r\n        // Only log error if it's not a 403 (permission denied)\r\n        if (salesSummaryResult.reason?.response?.status !== 403) {\r\n          console.warn('Failed to load sales summary:', salesSummaryResult.reason);\r\n        }\r\n        setSalesSummary(null);\r\n      }\r\n      \r\n      // Process forecasts result\r\n      if (forecastsResult.status === 'fulfilled') {\r\n        const forecastsData = forecastsResult.value?.data || forecastsResult.value || [];\r\n        const forecastsArray = Array.isArray(forecastsData) ? forecastsData : [];\r\n        // Parse forecast data if it's a string\r\n        const parsedForecasts = forecastsArray.map((f: unknown) => {\r\n          const forecast = f as Forecast;\r\n          if (typeof forecast.forecast_data === 'string') {\r\n            try {\r\n              forecast.forecast_data = JSON.parse(forecast.forecast_data) as ForecastDataPoint[];\r\n            } catch {\r\n              forecast.forecast_data = [];\r\n            }\r\n          }\r\n          if (typeof forecast.method_params === 'string') {\r\n            try {\r\n              forecast.method_params = JSON.parse(forecast.method_params) as Record<string, unknown>;\r\n            } catch {\r\n              forecast.method_params = {};\r\n            }\r\n          }\r\n          return forecast;\r\n        });\r\n        setForecasts(parsedForecasts);\r\n      } else {\r\n        // Only log error if it's not a 403 (permission denied)\r\n        if (forecastsResult.reason?.response?.status !== 403) {\r\n          console.warn('Failed to load forecasts:', forecastsResult.reason);\r\n        }\r\n        setForecasts([]);\r\n      }\r\n      \r\n      if (summaryResult.status === 'rejected' && incomeResult.status === 'rejected' && cashFlowResult.status === 'rejected') {\r\n        const firstError = summaryResult.reason || incomeResult.reason || cashFlowResult.reason;\r\n        let errorMsg = 'Failed to load reports';\r\n        if (firstError?.response?.data?.detail) {\r\n          const detail = firstError.response.data.detail;\r\n          if (typeof detail === 'string') {\r\n            errorMsg = detail;\r\n          } else if (Array.isArray(detail)) {\r\n            errorMsg = detail.map((e: unknown) => {\r\n              if (typeof e === 'string') return e;\r\n              const errorDetail = e as { msg?: string };\r\n              return errorDetail.msg || JSON.stringify(e);\r\n            }).join(', ');\r\n          }\r\n        } else if (firstError?.message) {\r\n          errorMsg = firstError.message;\r\n        }\r\n        setError(errorMsg);\r\n        toast.error(errorMsg);\r\n        setFinancialSummary(null);\r\n        setIncomeStatement(null);\r\n        setCashFlow(null);\r\n      }\r\n      \r\n    } catch (err: unknown) {\r\n      const error = err as ErrorWithDetails;\r\n      let errorMessage = 'Failed to load reports';\r\n\r\n      if (error.response?.data?.detail) {\r\n        const detail = error.response.data.detail;\r\n        \r\n        if (Array.isArray(detail)) {\r\n          errorMessage = detail.map((e: unknown) => {\r\n            if (typeof e === 'string') return e;\r\n            const errorDetail = e as { msg?: string; loc?: string[] };\r\n            if (errorDetail.msg) return `${errorDetail.loc?.join('.') || 'Field'}: ${errorDetail.msg}`;\r\n            return JSON.stringify(e);\r\n          }).join(', ');\r\n        }\r\n        else if (typeof detail === 'object' && detail && 'msg' in detail) {\r\n          const detailObj = detail as { msg?: string; loc?: string[] };\r\n          errorMessage = `${detailObj.loc?.join('.') || 'Field'}: ${detailObj.msg}`;\r\n        }\r\n        else if (typeof detail === 'string') {\r\n          errorMessage = detail;\r\n        }\r\n        else {\r\n          errorMessage = JSON.stringify(detail);\r\n        }\r\n      } else if ((err as ErrorWithDetails).message) {\r\n        errorMessage = (err as ErrorWithDetails).message!;\r\n      }\r\n      \r\n      setError(errorMessage);\r\n      toast.error(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user, storeUser?.managerId, startDate, endDate]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const timer = setTimeout(() => {\r\n        loadReports(true);\r\n      }, 100);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [user, loadReports]);\r\n\r\n  useEffect(() => {\r\n    if (user && startDate && endDate) {\r\n      const timer = setTimeout(() => {\r\n        loadReports(true);\r\n      }, 300);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [startDate, endDate, loadReports, user]);\r\n\r\n  const formatCurrency = (amount: number | null | undefined): string => {\r\n    const safeAmount = safeNumber(amount);\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2,\r\n    }).format(safeAmount);\r\n  };\r\n\r\n  const formatDate = (dateString?: string): string => {\r\n    if (!dateString) return '';\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n    });\r\n  };\r\n\r\n  const capitalize = (str: string | null | undefined): string => {\r\n    if (!str || typeof str !== 'string') return '';\r\n    return str.charAt(0).toUpperCase() + str.slice(1).replace(/_/g, ' ');\r\n  };\r\n\r\n  // Generate ML forecast with advice\r\n  const generateMLForecast = async (metric: 'expense' | 'revenue' | 'inventory', modelType: string) => {\r\n    setGeneratingForecast(`${metric}-${modelType}`);\r\n    try {\r\n      const response = await apiClient.generateForecastWithAdvice(metric, modelType as any, 12);\r\n      const responseData = (response as any)?.data || response;\r\n      \r\n      if (responseData?.status === 'success') {\r\n        // Update ML insights state\r\n        setMlInsights((prev: any) => ({\r\n          ...prev,\r\n          [metric]: {\r\n            ...responseData,\r\n            model_type: modelType,\r\n            generated_at: new Date().toISOString()\r\n          }\r\n        }));\r\n        toast.success(`${capitalize(metric)} forecast with AI advice generated successfully!`);\r\n      }\r\n    } catch (error: any) {\r\n      const errorMessage = error?.response?.data?.detail || error?.message || 'Failed to generate forecast';\r\n      toast.error(errorMessage);\r\n    } finally {\r\n      setGeneratingForecast(null);\r\n    }\r\n  };\r\n\r\n  // Load ML insights for all metrics\r\n  const loadMLInsights = async () => {\r\n    if (!user || (user?.role !== 'admin' && user?.role !== 'super_admin' && \r\n                  user?.role !== 'finance_admin' && user?.role !== 'finance_manager' && \r\n                  user?.role !== 'manager')) {\r\n      return;\r\n    }\r\n\r\n    setLoadingMLInsights(true);\r\n    try {\r\n      // Try to generate forecasts with advice for all metrics using best available models\r\n      const metrics = ['expense', 'revenue', 'inventory'] as const;\r\n      const insights: Record<string, any> = {};\r\n      \r\n      // Try common models for each metric\r\n      const modelMap = {\r\n        expense: ['arima', 'linear_regression'],\r\n        revenue: ['xgboost', 'prophet'],\r\n        inventory: ['sarima', 'xgboost']\r\n      };\r\n\r\n      for (const metric of metrics) {\r\n        const models = modelMap[metric as keyof typeof modelMap];\r\n        for (const modelType of models) {\r\n          try {\r\n            const response = await apiClient.generateForecastWithAdvice(metric, modelType as any, 12);\r\n            const responseData = (response as any)?.data || response;\r\n            \r\n            if (responseData?.status === 'success') {\r\n              insights[metric] = {\r\n                ...responseData,\r\n                model_type: modelType,\r\n                generated_at: new Date().toISOString()\r\n              };\r\n              break; // Use first successful model\r\n            }\r\n          } catch (e) {\r\n            // Try next model\r\n            continue;\r\n          }\r\n        }\r\n      }\r\n      \r\n      setMlInsights(insights);\r\n    } catch (error) {\r\n      console.error('Failed to load ML insights:', error);\r\n      // Don't show error toast as this is optional enhancement\r\n    } finally {\r\n      setLoadingMLInsights(false);\r\n    }\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <Layout>\r\n        <PageContainer>\r\n          <EmptyState>\r\n            <FileText size={48} />\r\n            <h3>Please log in to view reports</h3>\r\n          </EmptyState>\r\n        </PageContainer>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <PageContainer>\r\n        <HeaderContainer>\r\n          <h1>Financial Reports</h1>\r\n          <p>Income Statement and Cash Flow Analysis</p>\r\n        </HeaderContainer>\r\n\r\n        <DateFilterCard>\r\n          <DateInputGroup>\r\n            <Label htmlFor=\"startDate\">Start Date</Label>\r\n            <Input\r\n              id=\"startDate\"\r\n              type=\"date\"\r\n              value={startDate}\r\n              onChange={(e) => setStartDate(e.target.value)}\r\n            />\r\n          </DateInputGroup>\r\n          <DateInputGroup>\r\n            <Label htmlFor=\"endDate\">End Date</Label>\r\n            <Input\r\n              id=\"endDate\"\r\n              type=\"date\"\r\n              value={endDate}\r\n              onChange={(e) => setEndDate(e.target.value)}\r\n            />\r\n          </DateInputGroup>\r\n          <ButtonRow>\r\n            <Button \r\n              onClick={() => {\r\n                const oneYearAgo = new Date();\r\n                oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);\r\n                oneYearAgo.setDate(1);\r\n                const tomorrow = new Date();\r\n                tomorrow.setDate(tomorrow.getDate() + 1);\r\n                setStartDate(oneYearAgo.toISOString().split('T')[0]);\r\n                setEndDate(tomorrow.toISOString().split('T')[0]);\r\n                loadReports(true);\r\n              }}\r\n              variant=\"outline\"\r\n              disabled={loading}\r\n            >\r\n              Show All Data (1 Year)\r\n            </Button>\r\n            <Button \r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                loadReports(false);\r\n              }}\r\n              variant=\"outline\"\r\n              disabled={loading}\r\n            >\r\n              Load Without Date Filter\r\n            </Button>\r\n            <Button onClick={() => loadReports(true)} disabled={loading}>\r\n              {loading ? (\r\n                <>\r\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                  Loading...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n                  Refresh\r\n                </>\r\n              )}\r\n            </Button>\r\n          </ButtonRow>\r\n        </DateFilterCard>\r\n\r\n        {error && (\r\n          <ErrorBanner>\r\n            <AlertCircle />\r\n            <span>{error}</span>\r\n          </ErrorBanner>\r\n        )}\r\n\r\n        {loading ? (\r\n          <LoadingContainer>\r\n            <Spinner />\r\n            <p>Loading financial reports...</p>\r\n          </LoadingContainer>\r\n        ) : (\r\n          <>\r\n            <ReportSection>\r\n              <ReportCard>\r\n                <ReportHeader>\r\n                  <div>\r\n                    <h2>\r\n                      <BarChart3 />\r\n                      Financial Summary Report\r\n                    </h2>\r\n                    <p>\r\n                      Period: {formatDate(startDate)} - {formatDate(endDate)}\r\n                      {financialSummary?.generated_at && (\r\n                        <>  Generated: {formatDate(financialSummary.generated_at)}</>\r\n                      )}\r\n                    </p>\r\n                  </div>\r\n                </ReportHeader>\r\n\r\n                {financialSummary ? (\r\n                  <>\r\n                    <SummaryGrid>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ArrowUpRight size={16} />\r\n                          Total Revenue\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(financialSummary.financials?.total_revenue)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          {financialSummary.transaction_counts?.revenue || 0} revenue transactions\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ShoppingCart size={16} />\r\n                          Total Sales\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(financialSummary.financials?.total_sales)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          {financialSummary.transaction_counts?.sales || 0} sales transactions\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"expense\">\r\n                        <div className=\"label\">\r\n                          <ArrowDownRight size={16} />\r\n                          Total Expenses\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(financialSummary.financials?.total_expenses)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          {financialSummary.transaction_counts?.expenses || 0} expense transactions\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"profit\">\r\n                        <div className=\"label\">\r\n                          <TrendingUp size={16} />\r\n                          Net Profit\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(financialSummary.financials?.profit)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          Profit Margin: {safeNumber(financialSummary.financials?.profit_margin).toFixed(2)}%\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard>\r\n                        <div className=\"label\">\r\n                          <FileText size={16} />\r\n                          Total Transactions\r\n                        </div>\r\n                        <div className=\"value\">{financialSummary.transaction_counts?.total || 0}</div>\r\n                        <div className=\"sub-value\">\r\n                          {financialSummary.transaction_counts?.revenue || 0} revenue + {financialSummary.transaction_counts?.sales || 0} sales + {financialSummary.transaction_counts?.expenses || 0} expenses\r\n                        </div>\r\n                      </SummaryCard>\r\n                    </SummaryGrid>\r\n\r\n                    <TwoColumnGrid>\r\n                      <div>\r\n                        <SectionTitle>Top Revenue Categories</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Category</th>\r\n                              <th style={{ textAlign: 'right' }}>Amount</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {financialSummary.revenue_by_category && Object.entries(financialSummary.revenue_by_category).length > 0 ? (\r\n                              Object.entries(financialSummary.revenue_by_category)\r\n                                .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                                .slice(0, 5)\r\n                                .map(([category, amount]) => (\r\n                                  <tr key={category}>\r\n                                    <td>{capitalize(category)}</td>\r\n                                    <td style={{ textAlign: 'right' }}>{formatCurrency(amount as number)}</td>\r\n                                  </tr>\r\n                                ))\r\n                            ) : (\r\n                              <tr>\r\n                                <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                  No revenue data\r\n                                </td>\r\n                              </tr>\r\n                            )}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n\r\n                      <div>\r\n                        <SectionTitle>Top Sales Categories</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Category</th>\r\n                              <th style={{ textAlign: 'right' }}>Amount</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {financialSummary.sales_by_category && Object.entries(financialSummary.sales_by_category).length > 0 ? (\r\n                              Object.entries(financialSummary.sales_by_category)\r\n                                .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                                .slice(0, 5)\r\n                                .map(([category, amount]) => (\r\n                                  <tr key={category}>\r\n                                    <td>{capitalize(category)}</td>\r\n                                    <td style={{ textAlign: 'right' }}>{formatCurrency(amount as number)}</td>\r\n                                  </tr>\r\n                                ))\r\n                            ) : (\r\n                              <tr>\r\n                                <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                  No sales data\r\n                                </td>\r\n                              </tr>\r\n                            )}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    </TwoColumnGrid>\r\n\r\n                    <div style={{ marginTop: theme.spacing.xl }}>\r\n                      <SectionTitle>Top Expense Categories</SectionTitle>\r\n                      <CategoryTable>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Category</th>\r\n                            <th style={{ textAlign: 'right' }}>Amount</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {financialSummary.expenses_by_category && Object.entries(financialSummary.expenses_by_category).length > 0 ? (\r\n                            Object.entries(financialSummary.expenses_by_category)\r\n                              .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                              .slice(0, 5)\r\n                              .map(([category, amount]) => (\r\n                                <tr key={category}>\r\n                                  <td>{capitalize(category)}</td>\r\n                                  <td style={{ textAlign: 'right', color: '#dc2626', fontWeight: theme.typography.fontWeights.bold }}>{formatCurrency(amount as number)}</td>\r\n                                </tr>\r\n                              ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                No expense data\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </CategoryTable>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <EmptyState>\r\n                    <BarChart3 size={48} />\r\n                    <h3>No summary data available</h3>\r\n                  </EmptyState>\r\n                )}\r\n              </ReportCard>\r\n            </ReportSection>\r\n\r\n            <ReportSection>\r\n              <ReportCard>\r\n                <ReportHeader>\r\n                  <div>\r\n                    <h2>\r\n                      <FileText />\r\n                      Income Statement (Profit & Loss)\r\n                    </h2>\r\n                    <p>\r\n                      Period: {formatDate(startDate)} - {formatDate(endDate)}\r\n                    </p>\r\n                  </div>\r\n                </ReportHeader>\r\n\r\n                {incomeStatement ? (\r\n                  <>\r\n                    <SummaryGrid>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ArrowUpRight size={16} />\r\n                          Total Revenue\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(incomeStatement.revenue?.total || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          Includes sales revenue\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ShoppingCart size={16} />\r\n                          Sales Revenue\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(incomeStatement.sales?.total || 0)}\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"expense\">\r\n                        <div className=\"label\">\r\n                          <ArrowDownRight size={16} />\r\n                          Total Expenses\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(incomeStatement.expenses?.total || 0)}\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"profit\">\r\n                        <div className=\"label\">\r\n                          <TrendingUp size={16} />\r\n                          Net Profit\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(incomeStatement.profit || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          Profit Margin: {(incomeStatement.profit_margin || 0).toFixed(2)}%\r\n                        </div>\r\n                      </SummaryCard>\r\n                    </SummaryGrid>\r\n\r\n                    <div style={{ marginTop: theme.spacing.xl }}>\r\n                      <SectionTitle>Revenue by Category</SectionTitle>\r\n                      <CategoryTable>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Category</th>\r\n                            <th style={{ textAlign: 'right' }}>Amount</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {incomeStatement.revenue?.by_category && Object.entries(incomeStatement.revenue.by_category).length > 0 ? (\r\n                            Object.entries(incomeStatement.revenue.by_category)\r\n                              .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                              .map(([category, amount]) => (\r\n                                <tr key={category}>\r\n                                  <td>{capitalize(category)}</td>\r\n                                  <td style={{ textAlign: 'right' }}>{formatCurrency(amount as number)}</td>\r\n                                </tr>\r\n                              ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                No revenue data for this period\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </CategoryTable>\r\n                    </div>\r\n\r\n                    {incomeStatement.sales?.by_category && Object.entries(incomeStatement.sales.by_category).length > 0 && (\r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>Sales by Category</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Category</th>\r\n                              <th style={{ textAlign: 'right' }}>Amount</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {Object.entries(incomeStatement.sales.by_category)\r\n                              .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                              .map(([category, amount]) => (\r\n                                <tr key={category}>\r\n                                  <td>{capitalize(category)}</td>\r\n                                  <td style={{ textAlign: 'right' }}>{formatCurrency(amount as number)}</td>\r\n                                </tr>\r\n                              ))}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    )}\r\n\r\n                    <div style={{ marginTop: theme.spacing.xl }}>\r\n                      <SectionTitle>Expenses by Category</SectionTitle>\r\n                      <CategoryTable>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Category</th>\r\n                            <th style={{ textAlign: 'right' }}>Amount</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {incomeStatement.expenses?.by_category && Object.entries(incomeStatement.expenses.by_category).length > 0 ? (\r\n                            Object.entries(incomeStatement.expenses.by_category)\r\n                              .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                              .map(([category, amount]) => (\r\n                                <tr key={category}>\r\n                                  <td>{capitalize(category)}</td>\r\n                                  <td style={{ textAlign: 'right', color: '#dc2626', fontWeight: theme.typography.fontWeights.bold }}>{formatCurrency(amount as number)}</td>\r\n                                </tr>\r\n                              ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                No expense data for this period\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </CategoryTable>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <EmptyState>\r\n                    <FileText size={48} />\r\n                    <h3>No income statement data available</h3>\r\n                  </EmptyState>\r\n                )}\r\n              </ReportCard>\r\n            </ReportSection>\r\n\r\n            <ReportSection>\r\n              <ReportCard>\r\n                <ReportHeader>\r\n                  <div>\r\n                    <h2>\r\n                      <BarChart3 />\r\n                      Cash Flow Statement\r\n                    </h2>\r\n                    <p>\r\n                      Period: {formatDate(startDate)} - {formatDate(endDate)}\r\n                    </p>\r\n                  </div>\r\n                </ReportHeader>\r\n\r\n                {cashFlow ? (\r\n                  <>\r\n                    <SummaryGrid>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ArrowUpRight size={16} />\r\n                          Cash Inflow\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(cashFlow.summary?.total_inflow || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">Money coming in</div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"expense\">\r\n                        <div className=\"label\">\r\n                          <ArrowDownRight size={16} />\r\n                          Cash Outflow\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(cashFlow.summary?.total_outflow || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">Money going out</div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"profit\">\r\n                        <div className=\"label\">\r\n                          <TrendingUp size={16} />\r\n                          Net Cash Flow\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(cashFlow.summary?.net_cash_flow || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">Actual cash available</div>\r\n                      </SummaryCard>\r\n                    </SummaryGrid>\r\n\r\n                    <div style={{ marginTop: theme.spacing.xl }}>\r\n                      <SectionTitle>Daily Cash Flow</SectionTitle>\r\n                      <CashFlowTable>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Date</th>\r\n                            <th style={{ textAlign: 'right' }}>Inflow</th>\r\n                            <th style={{ textAlign: 'right' }}>Outflow</th>\r\n                            <th style={{ textAlign: 'right' }}>Net</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {cashFlow.daily_cash_flow && Object.entries(cashFlow.daily_cash_flow).length > 0 ? (\r\n                            Object.entries(cashFlow.daily_cash_flow)\r\n                              .sort(([dateA], [dateB]) => dateB.localeCompare(dateA))\r\n                              .map(([date, flow]: [string, { inflow: number; outflow: number; net: number }]) => (\r\n                                <tr key={date}>\r\n                                  <td>{formatDate(date)}</td>\r\n                                  <td style={{ textAlign: 'right' }}>\r\n                                    {flow.inflow > 0 ? formatCurrency(flow.inflow) : ''}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right' }}>\r\n                                    {flow.outflow > 0 ? formatCurrency(flow.outflow) : ''}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right' }}>\r\n                                    {formatCurrency(flow.net || 0)}\r\n                                  </td>\r\n                                </tr>\r\n                              ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan={4} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                No cash flow data for this period\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </CashFlowTable>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <EmptyState>\r\n                    <BarChart3 size={48} />\r\n                    <h3>No cash flow data available</h3>\r\n                  </EmptyState>\r\n                )}\r\n              </ReportCard>\r\n            </ReportSection>\r\n\r\n            {/* Sales Summary Section - For Accountant, Finance Admin, Admin, and Manager */}\r\n            {(user?.role === 'accountant' || user?.role === 'finance_manager' || user?.role === 'finance_admin' || user?.role === 'admin' || user?.role === 'super_admin' || user?.role === 'manager') && (\r\n              <ReportSection>\r\n                <ReportCard>\r\n                  <ReportHeader>\r\n                    <div>\r\n                      <h2>\r\n                        <ShoppingCart />\r\n                        Sales Summary Report\r\n                      </h2>\r\n                      <p>\r\n                        Period: {formatDate(startDate)} - {formatDate(endDate)}\r\n                        {salesSummary?.period_start && salesSummary?.period_end && (\r\n                          <>  Sales Period: {formatDate(salesSummary.period_start)} - {formatDate(salesSummary.period_end)}</>\r\n                        )}\r\n                      </p>\r\n                    </div>\r\n                  </ReportHeader>\r\n\r\n                  {salesSummary ? (\r\n                    <>\r\n                      <SummaryGrid>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <ShoppingCart size={16} />\r\n                            Total Sales\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {salesSummary.total_sales || 0}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            All sales transactions\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <DollarSign size={16} />\r\n                            Total Sales Revenue\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {formatCurrency(salesSummary.total_revenue || 0)}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            From posted sales only\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"profit\">\r\n                          <div className=\"label\">\r\n                            <TrendingUp size={16} />\r\n                            Posted Sales\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {salesSummary.posted_sales || 0}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Approved and posted\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"expense\">\r\n                          <div className=\"label\">\r\n                            <AlertCircle size={16} />\r\n                            Pending Sales\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {salesSummary.pending_sales || 0}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Awaiting approval\r\n                          </div>\r\n                        </SummaryCard>\r\n                      </SummaryGrid>\r\n                      \r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>Sales Status Breakdown</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Status</th>\r\n                              <th style={{ textAlign: 'right' }}>Count</th>\r\n                              <th style={{ textAlign: 'right' }}>Percentage</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <tr>\r\n                              <td>Posted (Approved)</td>\r\n                              <td style={{ textAlign: 'right' }}>{salesSummary.posted_sales || 0}</td>\r\n                              <td style={{ textAlign: 'right' }}>\r\n                                {salesSummary.total_sales > 0 \r\n                                  ? ((salesSummary.posted_sales || 0) / salesSummary.total_sales * 100).toFixed(1)\r\n                                  : 0}%\r\n                              </td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td>Pending (Awaiting Approval)</td>\r\n                              <td style={{ textAlign: 'right' }}>{salesSummary.pending_sales || 0}</td>\r\n                              <td style={{ textAlign: 'right' }}>\r\n                                {salesSummary.total_sales > 0 \r\n                                  ? ((salesSummary.pending_sales || 0) / salesSummary.total_sales * 100).toFixed(1)\r\n                                  : 0}%\r\n                              </td>\r\n                            </tr>\r\n                            <tr style={{ fontWeight: theme.typography.fontWeights.bold, borderTop: `2px solid ${theme.colors.border}` }}>\r\n                              <td>Total</td>\r\n                              <td style={{ textAlign: 'right' }}>{salesSummary.total_sales || 0}</td>\r\n                              <td style={{ textAlign: 'right' }}>100%</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState>\r\n                      <ShoppingCart size={48} />\r\n                      <h3>No sales data available</h3>\r\n                      <p>Sales summary is only available to Accountant, Finance Admin, Admin, and Manager roles.</p>\r\n                    </EmptyState>\r\n                  )}\r\n                </ReportCard>\r\n              </ReportSection>\r\n            )}\r\n\r\n            {/* Inventory Summary Section - For Finance Admin, Admin, and Manager */}\r\n            {(user?.role === 'finance_manager' || user?.role === 'finance_admin' || user?.role === 'admin' || user?.role === 'super_admin' || user?.role === 'manager') && (\r\n              <ReportSection>\r\n                <ReportCard>\r\n                  <ReportHeader>\r\n                    <div>\r\n                      <h2>\r\n                        <Package />\r\n                        Inventory Summary\r\n                      </h2>\r\n                      <p>Current inventory valuation and stock levels</p>\r\n                    </div>\r\n                  </ReportHeader>\r\n\r\n                  {inventorySummary ? (\r\n                    <>\r\n                      <SummaryGrid>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <Package size={16} />\r\n                            Total Items\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {inventorySummary.total_items || 0}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Active inventory items\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"expense\">\r\n                          <div className=\"label\">\r\n                            <DollarSign size={16} />\r\n                            Total Cost Value\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {formatCurrency(inventorySummary.total_cost_value || 0)}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Investment in inventory\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <TrendingUp size={16} />\r\n                            Total Selling Value\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {formatCurrency(inventorySummary.total_selling_value || 0)}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Potential revenue if all sold\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"profit\">\r\n                          <div className=\"label\">\r\n                            <TrendingUp size={16} />\r\n                            Potential Profit\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {formatCurrency(inventorySummary.potential_profit || 0)}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Profit if all inventory sold\r\n                          </div>\r\n                        </SummaryCard>\r\n                        {inventorySummary.total_quantity_in_stock !== undefined && (\r\n                          <SummaryCard>\r\n                            <div className=\"label\">\r\n                              <Package size={16} />\r\n                              Total Stock Quantity\r\n                            </div>\r\n                            <div className=\"value\">\r\n                              {inventorySummary.total_quantity_in_stock.toLocaleString()}\r\n                            </div>\r\n                            <div className=\"sub-value\">\r\n                              Total units in stock\r\n                            </div>\r\n                          </SummaryCard>\r\n                        )}\r\n                      </SummaryGrid>\r\n                      \r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>Inventory Valuation Analysis</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Metric</th>\r\n                              <th style={{ textAlign: 'right' }}>Value</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <tr>\r\n                              <td>Total Inventory Items</td>\r\n                              <td style={{ textAlign: 'right' }}>{inventorySummary.total_items || 0}</td>\r\n                            </tr>\r\n                            {inventorySummary.total_quantity_in_stock !== undefined && (\r\n                              <tr>\r\n                                <td>Total Stock Quantity</td>\r\n                                <td style={{ textAlign: 'right' }}>{inventorySummary.total_quantity_in_stock.toLocaleString()} units</td>\r\n                              </tr>\r\n                            )}\r\n                            <tr>\r\n                              <td>Total Cost Value (Investment)</td>\r\n                              <td style={{ textAlign: 'right' }}>{formatCurrency(inventorySummary.total_cost_value || 0)}</td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td>Total Selling Value (Potential Revenue)</td>\r\n                              <td style={{ textAlign: 'right' }}>{formatCurrency(inventorySummary.total_selling_value || 0)}</td>\r\n                            </tr>\r\n                            <tr style={{ fontWeight: theme.typography.fontWeights.bold, borderTop: `2px solid ${theme.colors.border}` }}>\r\n                              <td>Potential Profit</td>\r\n                              <td style={{ textAlign: 'right', color: PRIMARY_COLOR }}>\r\n                                {formatCurrency(inventorySummary.potential_profit || 0)}\r\n                              </td>\r\n                            </tr>\r\n                            {inventorySummary.total_cost_value > 0 && (\r\n                              <tr>\r\n                                <td>Profit Margin (Potential)</td>\r\n                                <td style={{ textAlign: 'right' }}>\r\n                                  {((inventorySummary.potential_profit || 0) / inventorySummary.total_cost_value * 100).toFixed(2)}%\r\n                                </td>\r\n                              </tr>\r\n                            )}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState>\r\n                      <Package size={48} />\r\n                      <h3>No inventory data available</h3>\r\n                      <p>Inventory summary is only available to Finance Admin, Admin, and Manager roles.</p>\r\n                    </EmptyState>\r\n                  )}\r\n                </ReportCard>\r\n              </ReportSection>\r\n            )}\r\n\r\n            {/* ML AI Insights Section - For Admin, Finance Admin, and Manager */}\r\n            {(user?.role === 'finance_manager' || user?.role === 'finance_admin' || user?.role === 'admin' || user?.role === 'super_admin' || user?.role === 'manager') && (\r\n              <ReportSection>\r\n                <ReportCard>\r\n                  <ReportHeader>\r\n                    <div>\r\n                      <h2>\r\n                        <Brain />\r\n                        AI-Powered Insights & Recommendations\r\n                      </h2>\r\n                      <p>\r\n                        Get intelligent forecasts and actionable advice based on ML analysis\r\n                      </p>\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: theme.spacing.sm }}>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={loadMLInsights}\r\n                        disabled={loadingMLInsights}\r\n                      >\r\n                        {loadingMLInsights ? (\r\n                          <>\r\n                            <Loader2 size={14} style={{ marginRight: theme.spacing.xs, animation: 'spin 1s linear infinite' }} />\r\n                            Loading...\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <RefreshCw size={14} style={{ marginRight: theme.spacing.xs }} />\r\n                            Generate Insights\r\n                          </>\r\n                        )}\r\n                      </Button>\r\n                    </div>\r\n                  </ReportHeader>\r\n\r\n                  {mlInsights && Object.keys(mlInsights).length > 0 ? (\r\n                    <>\r\n                      {Object.entries(mlInsights).map(([metric, insight]: [string, any]) => {\r\n                        if (!insight || !insight.forecast) return null;\r\n                        \r\n                        const trend = insight.trend_analysis;\r\n                        const advice = insight.advice || [];\r\n                        const alerts = insight.alerts || [];\r\n                        \r\n                        return (\r\n                          <div key={metric} style={{ marginBottom: theme.spacing.xl }}>\r\n                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: theme.spacing.md }}>\r\n                              <SectionTitle>\r\n                                {capitalize(metric)} Forecast & Insights\r\n                                {insight.model_type && typeof insight.model_type === 'string' && (\r\n                                  <span style={{ \r\n                                    fontSize: theme.typography.fontSizes.sm, \r\n                                    fontWeight: 400,\r\n                                    color: TEXT_COLOR_MUTED,\r\n                                    marginLeft: theme.spacing.sm\r\n                                  }}>\r\n                                    (Model: {insight.model_type.toUpperCase()})\r\n                                  </span>\r\n                                )}\r\n                              </SectionTitle>\r\n                            </div>\r\n\r\n                            {/* Trend Analysis */}\r\n                            {trend && (\r\n                              <div style={{ \r\n                                background: theme.colors.backgroundSecondary, \r\n                                padding: theme.spacing.lg, \r\n                                borderRadius: theme.borderRadius.md,\r\n                                marginBottom: theme.spacing.md\r\n                              }}>\r\n                                <div style={{ \r\n                                  fontSize: theme.typography.fontSizes.sm, \r\n                                  fontWeight: theme.typography.fontWeights.medium,\r\n                                  color: TEXT_COLOR_MUTED,\r\n                                  marginBottom: theme.spacing.sm\r\n                                }}>\r\n                                  Trend Analysis\r\n                                </div>\r\n                                <div style={{ display: 'flex', gap: theme.spacing.md, flexWrap: 'wrap' }}>\r\n                                  <TrendBadge $direction={(trend?.direction || 'stable') as any}>\r\n                                    {trend?.direction === 'increasing' ? <ArrowUpRight size={14} /> : \r\n                                     trend?.direction === 'decreasing' ? <ArrowDownRight size={14} /> : \r\n                                     <TrendingUp size={14} />}\r\n                                    {capitalize(trend?.direction || 'stable')} {trend?.percentage !== undefined && trend.percentage !== null && `(${Math.abs(trend.percentage).toFixed(1)}%)`}\r\n                                  </TrendBadge>\r\n                                  <span style={{ color: TEXT_COLOR_MUTED, fontSize: theme.typography.fontSizes.sm }}>\r\n                                    {trend?.average !== undefined && `Avg: ${formatCurrency(trend.average)}`}\r\n                                    {trend?.average !== undefined && (trend?.max !== undefined || trend?.min !== undefined) && ' | '}\r\n                                    {trend?.max !== undefined && `Max: ${formatCurrency(trend.max)}`}\r\n                                    {(trend?.max !== undefined && trend?.min !== undefined) && ' | '}\r\n                                    {trend?.min !== undefined && `Min: ${formatCurrency(trend.min)}`}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Summary */}\r\n                            {insight.summary && (\r\n                              <div style={{\r\n                                background: '#eff6ff',\r\n                                border: '1px solid #bfdbfe',\r\n                                borderRadius: theme.borderRadius.md,\r\n                                padding: theme.spacing.md,\r\n                                marginBottom: theme.spacing.md\r\n                              }}>\r\n                                <div style={{ \r\n                                  display: 'flex', \r\n                                  gap: theme.spacing.sm, \r\n                                  alignItems: 'flex-start',\r\n                                  color: '#1e40af',\r\n                                  fontSize: theme.typography.fontSizes.sm,\r\n                                  lineHeight: '1.6'\r\n                                }}>\r\n                                  <Lightbulb size={16} style={{ marginTop: '2px', flexShrink: 0 }} />\r\n                                  <div>{insight.summary || 'No summary available'}</div>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Alerts */}\r\n                            {alerts.length > 0 && (\r\n                              <div style={{ marginBottom: theme.spacing.md }}>\r\n                                <SectionTitle style={{ fontSize: theme.typography.fontSizes.md, marginBottom: theme.spacing.sm }}>\r\n                                  Alerts\r\n                                </SectionTitle>\r\n                                {alerts.map((alert: any, index: number) => {\r\n                                  if (!alert || typeof alert !== 'object') return null;\r\n                                  return (\r\n                                    <AlertCard key={index} $severity={alert.severity || 'low'}>\r\n                                      <AlertCircle className=\"alert-icon\" size={18} />\r\n                                      <div className=\"alert-message\">{alert.message || 'No message'}</div>\r\n                                    </AlertCard>\r\n                                  );\r\n                                })}\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Recommendations */}\r\n                            {advice.length > 0 && (\r\n                              <div style={{ marginBottom: theme.spacing.md }}>\r\n                                <SectionTitle style={{ fontSize: theme.typography.fontSizes.md, marginBottom: theme.spacing.sm }}>\r\n                                  Recommendations\r\n                                </SectionTitle>\r\n                                {advice.map((rec: any, index: number) => {\r\n                                  if (!rec || typeof rec !== 'object') return null;\r\n                                  const priority = rec.priority === 'high' ? 'high' : rec.priority === 'medium' ? 'medium' : 'low';\r\n                                  return (\r\n                                    <InsightCard \r\n                                      key={index} \r\n                                      $priority={priority}\r\n                                    >\r\n                                      <div className=\"insight-header\">\r\n                                        <Target size={18} />\r\n                                        <h4>{rec.title || 'Recommendation'}</h4>\r\n                                        <PriorityBadge $priority={priority}>\r\n                                          {rec.priority || 'low'}\r\n                                        </PriorityBadge>\r\n                                      </div>\r\n                                      <div className=\"insight-message\">{rec.message || 'No message available'}</div>\r\n                                      {rec.actions && Array.isArray(rec.actions) && rec.actions.length > 0 && (\r\n                                        <div className=\"insight-actions\">\r\n                                          <strong style={{ fontSize: theme.typography.fontSizes.sm, color: TEXT_COLOR_DARK }}>\r\n                                            Recommended Actions:\r\n                                          </strong>\r\n                                          <ul>\r\n                                            {rec.actions.map((action: any, actionIndex: number) => (\r\n                                              <li key={actionIndex}>{typeof action === 'string' ? action : 'Action item'}</li>\r\n                                            ))}\r\n                                          </ul>\r\n                                        </div>\r\n                                      )}\r\n                                    </InsightCard>\r\n                                  );\r\n                                })}\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Forecast Preview */}\r\n                            {insight.forecast && Array.isArray(insight.forecast) && insight.forecast.length > 0 && (\r\n                              <div>\r\n                                <SectionTitle style={{ fontSize: theme.typography.fontSizes.md, marginBottom: theme.spacing.sm }}>\r\n                                  Forecast Preview ({insight.forecast.length} periods)\r\n                                </SectionTitle>\r\n                                <CategoryTable>\r\n                                  <thead>\r\n                                    <tr>\r\n                                      <th>Period</th>\r\n                                      <th style={{ textAlign: 'right' }}>Forecasted Value</th>\r\n                                    </tr>\r\n                                  </thead>\r\n                                  <tbody>\r\n                                    {Array.isArray(insight.forecast) && insight.forecast.slice(0, 6).map((point: any, index: number) => {\r\n                                      if (!point || typeof point !== 'object') return null;\r\n                                      const period = point.period || (point.date ? formatDate(point.date) : `Period ${index + 1}`);\r\n                                      const value = point.forecasted_value !== undefined ? point.forecasted_value : (point.value !== undefined ? point.value : 0);\r\n                                      return (\r\n                                        <tr key={index}>\r\n                                          <td>{period}</td>\r\n                                          <td style={{ textAlign: 'right', fontWeight: theme.typography.fontWeights.bold }}>\r\n                                            {formatCurrency(value)}\r\n                                          </td>\r\n                                        </tr>\r\n                                      );\r\n                                    })}\r\n                                    {Array.isArray(insight.forecast) && insight.forecast.length > 6 && (\r\n                                      <tr>\r\n                                        <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED, fontStyle: 'italic' }}>\r\n                                          ... and {insight.forecast.length - 6} more periods\r\n                                        </td>\r\n                                      </tr>\r\n                                    )}\r\n                                  </tbody>\r\n                                </CategoryTable>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState>\r\n                      <Brain size={48} />\r\n                      <h3>No ML insights available</h3>\r\n                      <p>Click \"Generate Insights\" to get AI-powered forecasts and recommendations</p>\r\n                      <div style={{ marginTop: theme.spacing.lg, display: 'flex', gap: theme.spacing.sm, flexWrap: 'wrap', justifyContent: 'center' }}>\r\n                        {(['expense', 'revenue', 'inventory'] as const).map((metric) => (\r\n                          <div key={metric} style={{ marginBottom: theme.spacing.sm }}>\r\n                            <QuickForecastButton\r\n                              variant=\"outline\"\r\n                              onClick={() => {\r\n                                const modelMap: Record<string, string[]> = {\r\n                                  expense: ['arima', 'linear_regression'],\r\n                                  revenue: ['xgboost', 'prophet'],\r\n                                  inventory: ['sarima', 'xgboost']\r\n                                };\r\n                                const modelType = modelMap[metric]?.[0] || 'arima';\r\n                                generateMLForecast(metric, modelType);\r\n                              }}\r\n                              disabled={generatingForecast === `${metric}-arima` || generatingForecast === `${metric}-xgboost` || generatingForecast === `${metric}-sarima` || generatingForecast === `${metric}-linear_regression` || generatingForecast === `${metric}-prophet`}\r\n                            >\r\n                              {generatingForecast?.startsWith(metric) ? (\r\n                                <>\r\n                                  <Loader2 size={14} style={{ marginRight: theme.spacing.xs, animation: 'spin 1s linear infinite' }} />\r\n                                  Generating...\r\n                                </>\r\n                              ) : (\r\n                                <>\r\n                                  <Zap size={14} style={{ marginRight: theme.spacing.xs }} />\r\n                                  Quick {capitalize(metric)} Forecast\r\n                                </>\r\n                              )}\r\n                            </QuickForecastButton>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </EmptyState>\r\n                  )}\r\n                </ReportCard>\r\n              </ReportSection>\r\n            )}\r\n\r\n            {/* Forecast Report Section - For Admin, Finance Admin, and Manager */}\r\n            {(user?.role === 'finance_manager' || user?.role === 'finance_admin' || user?.role === 'admin' || user?.role === 'super_admin' || user?.role === 'manager') && (\r\n              <ReportSection>\r\n                <ReportCard>\r\n                  <ReportHeader>\r\n                    <div>\r\n                      <h2>\r\n                        <LineChart />\r\n                        Forecast Report\r\n                      </h2>\r\n                      <p>\r\n                        View and analyze all financial forecasts\r\n                      </p>\r\n                    </div>\r\n                  </ReportHeader>\r\n\r\n                  {forecasts && forecasts.length > 0 ? (\r\n                    <>\r\n                      <SummaryGrid>\r\n                        <SummaryCard>\r\n                          <div className=\"label\">\r\n                            <LineChart size={16} />\r\n                            Total Forecasts\r\n                          </div>\r\n                          <div className=\"value\">{forecasts.length}</div>\r\n                          <div className=\"sub-value\">\r\n                            Active forecasts\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <TrendingUp size={16} />\r\n                            Revenue Forecasts\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {forecasts.filter(f => f.forecast_type === 'revenue').length}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Revenue forecasting models\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"expense\">\r\n                          <div className=\"label\">\r\n                            <ArrowDownRight size={16} />\r\n                            Expense Forecasts\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {forecasts.filter(f => f.forecast_type === 'expense').length}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Expense forecasting models\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"profit\">\r\n                          <div className=\"label\">\r\n                            <BarChart3 size={16} />\r\n                            AI Models\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {forecasts.filter(f => \r\n                              f.method === 'arima' || \r\n                              f.method === 'prophet' || \r\n                              f.method === 'xgboost' || \r\n                              f.method === 'lstm' || \r\n                              f.method === 'linear_regression' || \r\n                              f.method === 'sarima'\r\n                            ).length}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Machine learning forecasts\r\n                          </div>\r\n                        </SummaryCard>\r\n                      </SummaryGrid>\r\n\r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>All Forecasts</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Forecast Name</th>\r\n                              <th>Type</th>\r\n                              <th>Method</th>\r\n                              <th>Period</th>\r\n                              <th style={{ textAlign: 'right' }}>Total Forecasted</th>\r\n                              <th>Data Points</th>\r\n                              <th>Created</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {forecasts.map((forecast) => {\r\n                              const forecastData = forecast.forecast_data || [];\r\n                              const totalForecasted = forecastData.reduce((sum, point) => sum + (point.forecasted_value || 0), 0);\r\n                              const isAIModel = forecast.method === 'arima' || \r\n                                               forecast.method === 'prophet' || \r\n                                               forecast.method === 'xgboost' || \r\n                                               forecast.method === 'lstm' || \r\n                                               forecast.method === 'linear_regression' || \r\n                                               forecast.method === 'sarima';\r\n                              \r\n                              return (\r\n                                <tr key={forecast.id}>\r\n                                  <td>\r\n                                    <strong>{forecast.name}</strong>\r\n                                    {forecast.description && (\r\n                                      <div style={{ fontSize: theme.typography.fontSizes.xs, color: TEXT_COLOR_MUTED, marginTop: theme.spacing.xs }}>\r\n                                        {forecast.description}\r\n                                      </div>\r\n                                    )}\r\n                                  </td>\r\n                                  <td>\r\n                                    <span style={{ textTransform: 'capitalize' }}>\r\n                                      {forecast.forecast_type}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td>\r\n                                    <span style={{ textTransform: 'capitalize' }}>\r\n                                      {forecast.method.replace(/_/g, ' ')}\r\n                                      {isAIModel && ' (AI)'}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td>\r\n                                    {formatDate(forecast.start_date)} - {formatDate(forecast.end_date)}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right', fontWeight: theme.typography.fontWeights.bold }}>\r\n                                    {formatCurrency(totalForecasted)}\r\n                                  </td>\r\n                                  <td>{forecastData.length}</td>\r\n                                  <td>{formatDate(forecast.created_at)}</td>\r\n                                </tr>\r\n                              );\r\n                            })}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n\r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>Forecast Summary by Type</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Forecast Type</th>\r\n                              <th style={{ textAlign: 'right' }}>Count</th>\r\n                              <th style={{ textAlign: 'right' }}>Total Forecasted Value</th>\r\n                              <th style={{ textAlign: 'right' }}>Average per Forecast</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {['revenue', 'expense', 'profit', 'inventory'].map((type) => {\r\n                              const typeForecasts = forecasts.filter(f => f.forecast_type === type);\r\n                              if (typeForecasts.length === 0) return null;\r\n                              \r\n                              const totalValue = typeForecasts.reduce((sum, f) => {\r\n                                const data = f.forecast_data || [];\r\n                                return sum + data.reduce((s, p) => s + (p.forecasted_value || 0), 0);\r\n                              }, 0);\r\n                              \r\n                              return (\r\n                                <tr key={type}>\r\n                                  <td style={{ textTransform: 'capitalize', fontWeight: theme.typography.fontWeights.medium }}>\r\n                                    {type}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right' }}>{typeForecasts.length}</td>\r\n                                  <td style={{ textAlign: 'right', fontWeight: theme.typography.fontWeights.bold }}>\r\n                                    {formatCurrency(totalValue)}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right' }}>\r\n                                    {formatCurrency(totalValue / typeForecasts.length)}\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            }).filter(Boolean)}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState>\r\n                      <LineChart size={48} />\r\n                      <h3>No forecasts available</h3>\r\n                      <p>Forecast reports are only available to Finance Admin, Admin, and Manager roles. Create forecasts to see them here.</p>\r\n                    </EmptyState>\r\n                  )}\r\n                </ReportCard>\r\n              </ReportSection>\r\n            )}\r\n          </>\r\n        )}\r\n      </PageContainer>\r\n    </Layout>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAm0BgB;;AAl0BhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAZA;;;;;;;;;;;;;AAgCA,MAAM,gBAAgB,yIAAK,CAAC,MAAM,CAAC,OAAO,IAAI;AAC9C,MAAM,kBAAkB;AACxB,MAAM,mBAAmB,yIAAK,CAAC,MAAM,CAAC,aAAa,IAAI;AAcvD,MAAM,aAAa,CAAC;;;;AAIpB,CAAC;AACD,MAAM,kBAAkB,CAAC;;;;AAIzB,CAAC;AAED,MAAM,gBAAgB,oMAAM,CAAC,GAAG;;;EAAA,CAAC;;;;;;WAMtB,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;AACtE,CAAC;KAPK;AASN,MAAM,kBAAkB,oMAAM,CAAC,GAAG;;;EAAA,CAAC;sCACG,EAAE,cAAc;;WAE3C,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;iBACb,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;iBAEnB,EAAE,yIAAK,CAAC,YAAY,CAAC,EAAE,CAAC;;;;;iBAKxB,EAAE,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC;gBACrC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;;;;eAKpB,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;iBAC9B,EAAE,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC;;;;;AAKvD,CAAC;MAvBK;AAyBN,MAAM,iBAAiB,oMAAM,CAAC,GAAG;;;EAAA,CAAC;cACpB,EAAE,yIAAK,CAAC,MAAM,CAAC,UAAU,CAAC;WAC7B,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;iBACb,EAAE,yIAAK,CAAC,YAAY,CAAC,EAAE,CAAC;oBACrB,EAAE,yIAAK,CAAC,MAAM,CAAC,MAAM,CAAC;cAC5B,EAAE,WAAW;iBACV,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;OAE7B,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;;yBAGD,EAAE,yIAAK,CAAC,WAAW,CAAC,OAAO,CAAC;;;gBAGrC,EAAE,gBAAgB;;AAElC,CAAC;MAhBK;AAkBN,MAAM,iBAAiB,oMAAM,CAAC,GAAG;;;EAAA,CAAC;;;OAG3B,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;;AAG1B,CAAC;MANK;AAQN,MAAM,gBAAgB,oMAAM,CAAC,GAAG;;;EAAA,CAAC;iBAChB,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;AACpC,CAAC;MAFK;AAIN,MAAM,aAAa,oMAAM,CAAC,GAAG;;;EAAA,CAAC;cAChB,EAAE,yIAAK,CAAC,MAAM,CAAC,UAAU,CAAC;WAC7B,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;iBACb,EAAE,yIAAK,CAAC,YAAY,CAAC,EAAE,CAAC;oBACrB,EAAE,yIAAK,CAAC,MAAM,CAAC,MAAM,CAAC;cAC5B,EAAE,WAAW;iBACV,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;yBACX,EAAE,yIAAK,CAAC,WAAW,CAAC,OAAO,CAAC;;;gBAGrC,EAAE,gBAAgB;;AAElC,CAAC;MAZK;AAcN,MAAM,eAAe,oMAAM,CAAC,GAAG;;;EAAA,CAAC;;;;iBAIf,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;kBAClB,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;2BACV,EAAE,yIAAK,CAAC,MAAM,CAAC,MAAM,CAAC;;;eAGlC,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;iBAC9B,EAAE,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC;WAC1C,EAAE,gBAAgB;;;SAGpB,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;;;;;aAMf,EAAE,cAAc;;;;;WAKlB,EAAE,iBAAiB;eACf,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;YACnC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;AAE/B,CAAC;MA7BK;AA+BN,MAAM,cAAc,oMAAM,CAAC,GAAG;;;EAAA,CAAC;;;OAGxB,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;iBACT,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;AACpC,CAAC;MALK;AAON,MAAM,cAAc,oMAAM,CAAC,GAAG;;;EAAuD,CAAC;cACxE,EAAE,CAAC;IACb,IAAI,EAAE,KAAK,KAAK,WAAW,OAAO;IAClC,IAAI,EAAE,KAAK,KAAK,WAAW,OAAO;IAClC,IAAI,EAAE,KAAK,KAAK,UAAU,OAAO;IACjC,OAAO,yIAAK,CAAC,MAAM,CAAC,mBAAmB;AACzC,EAAE;oBACgB,EAAE,CAAC;IACnB,IAAI,EAAE,KAAK,KAAK,WAAW,OAAO;IAClC,IAAI,EAAE,KAAK,KAAK,WAAW,OAAO;IAClC,IAAI,EAAE,KAAK,KAAK,UAAU,OAAO;IACjC,OAAO,yIAAK,CAAC,MAAM,CAAC,MAAM;AAC5B,EAAE;WACO,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;iBACb,EAAE,yIAAK,CAAC,YAAY,CAAC,EAAE,CAAC;wBACjB,EAAE,yIAAK,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa,EAAE,yIAAK,CAAC,WAAW,CAAC,OAAO,CAAC;cAC/E,EAAE,WAAW;;;;gBAIX,EAAE,gBAAgB;;;;eAInB,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;WACpC,EAAE,iBAAiB;mBACX,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;;SAG7B,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;iBACX,EAAE,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC;;;;;iBAKtC,EAAE,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC;WAC1C,EAAE,CAAC,IAAM,EAAE,KAAK,KAAK,YAAY,YAAY,gBAAgB;mBACrD,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;;;eAIvB,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;WACpC,EAAE,iBAAiB;gBACd,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;AAEnC,CAAC;MA7CK;AA+CN,MAAM,gBAAgB,oMAAM,CAAC,KAAK;;;EAAA,CAAC;;;;cAIrB,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;;gBAGjB,EAAE,yIAAK,CAAC,MAAM,CAAC,mBAAmB,CAAC;6BACtB,EAAE,yIAAK,CAAC,MAAM,CAAC,MAAM,CAAC;;;;eAIpC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;mBACnC,EAAE,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC;aAC5C,EAAE,iBAAiB;iBACf,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;;;;;;;;+BAQlB,EAAE,yIAAK,CAAC,MAAM,CAAC,MAAM,CAAC;mCAClB,EAAE,yIAAK,CAAC,WAAW,CAAC,OAAO,CAAC;;;oBAG3C,EAAE,yIAAK,CAAC,MAAM,CAAC,mBAAmB,CAAC;;;;;;;;iBAQtC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;eACzC,EAAE,iBAAiB;mBACf,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;;;uBAG5B,EAAE,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC;iBAC1C,EAAE,gBAAgB;;;;;AAKnC,CAAC;MA9CK;AAgDN,MAAM,gBAAgB,oMAAM,CAAC,KAAK;;;EAAA,CAAC;;;;cAIrB,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;;gBAGjB,EAAE,yIAAK,CAAC,MAAM,CAAC,mBAAmB,CAAC;6BACtB,EAAE,yIAAK,CAAC,MAAM,CAAC,MAAM,CAAC;;;;eAIpC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;mBACnC,EAAE,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC;aAC5C,EAAE,iBAAiB;iBACf,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;;;;;;;;+BAQlB,EAAE,yIAAK,CAAC,MAAM,CAAC,MAAM,CAAC;mCAClB,EAAE,yIAAK,CAAC,WAAW,CAAC,OAAO,CAAC;;;oBAG3C,EAAE,yIAAK,CAAC,MAAM,CAAC,mBAAmB,CAAC;;;;;;;;iBAQtC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;eACzC,EAAE,iBAAiB;mBACf,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;;;;uBAI5B,EAAE,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC;;;;;uBAKtC,EAAE,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC;;;;uBAItC,EAAE,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC;iBAC1C,EAAE,gBAAgB;;;;;AAKnC,CAAC;OAxDK;AA0DN,MAAM,mBAAmB,oMAAM,CAAC,GAAG;;;EAAA,CAAC;;;;;;OAM7B,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;;WAGf,EAAE,iBAAiB;eACf,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;;;AAG/C,CAAC;OAbK;AAeN,MAAM,UAAU,oMAAM,CAAC,GAAG;;;EAAA,CAAC;;;oBAGP,EAAE,yIAAK,CAAC,MAAM,CAAC,MAAM,CAAC;oBACtB,EAAE,cAAc;;;;;;;AAOpC,CAAC;OAXK;AAaN,MAAM,cAAc,oMAAM,CAAC,GAAG;;;EAAA,CAAC;;;OAGxB,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;WACf,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;iBACjC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;;iBAGnB,EAAE,yIAAK,CAAC,YAAY,CAAC,EAAE,CAAC;;aAE5B,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;;;;;;;AAO7C,CAAC;OAjBK;AAmBN,MAAM,aAAa,oMAAM,CAAC,GAAG;;;EAAA,CAAC;;WAEnB,EAAE,yIAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;SAC1C,EAAE,iBAAiB;;;;;mBAKT,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;WAE3B,EAAE,iBAAiB;;;;eAIf,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;iBAC9B,EAAE,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC;gBACrC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;WACxB,EAAE,gBAAgB;;AAE7B,CAAC;OAnBK;AAqBN,MAAM,YAAY,oMAAM,CAAC,GAAG;;;EAAA,CAAC;;OAEtB,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;cACZ,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;AAEjC,CAAC;OALK;AAON,MAAM,eAAe,oMAAM,CAAC,EAAE;;;EAAA,CAAC;aAClB,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;eAC9B,EAAE,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC;cACrC,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;SACxB,EAAE,gBAAgB;AAC3B,CAAC;OALK;AAON,MAAM,gBAAgB,oMAAM,CAAC,GAAG;;;EAAA,CAAC;;;OAG1B,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;cACZ,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;;;SAIxB,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;AAE5B,CAAC;OAVK;AAYN,MAAM,cAAc,oMAAM,CAAC,GAAG;;;EAA2C,CAAC;cAC5D,EAAE,CAAC;IACb,IAAI,EAAE,SAAS,KAAK,QAAQ,OAAO;IACnC,IAAI,EAAE,SAAS,KAAK,UAAU,OAAO;IACrC,OAAO;AACT,EAAE;oBACgB,EAAE,CAAC;IACnB,IAAI,EAAE,SAAS,KAAK,QAAQ,OAAO;IACnC,IAAI,EAAE,SAAS,KAAK,UAAU,OAAO;IACrC,OAAO;AACT,EAAE;yBACqB,EAAE,CAAC;IACxB,IAAI,EAAE,SAAS,KAAK,QAAQ,OAAO;IACnC,IAAI,EAAE,SAAS,KAAK,UAAU,OAAO;IACrC,OAAO;AACT,EAAE;iBACa,EAAE,yIAAK,CAAC,YAAY,CAAC,EAAE,CAAC;WAC9B,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;iBACb,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;;;;SAK3B,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;mBACT,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;;iBAGrB,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;mBAC9B,EAAE,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC;aAC1C,EAAE,gBAAgB;;;;;;;WAOpB,EAAE,gBAAgB;mBACV,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;;;;gBAKtB,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;iBAClB,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;0BACV,EAAE,yIAAK,CAAC,MAAM,CAAC,MAAM,CAAC;;;;oBAI5B,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;aAC1B,EAAE,iBAAiB;iBACf,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;;;AAGjD,CAAC;OArDK;AAuDN,MAAM,YAAY,oMAAM,CAAC,GAAG;;;EAA2C,CAAC;cAC1D,EAAE,CAAC;IACb,IAAI,EAAE,SAAS,KAAK,QAAQ,OAAO;IACnC,IAAI,EAAE,SAAS,KAAK,UAAU,OAAO;IACrC,OAAO;AACT,EAAE;oBACgB,EAAE,CAAC;IACnB,IAAI,EAAE,SAAS,KAAK,QAAQ,OAAO;IACnC,IAAI,EAAE,SAAS,KAAK,UAAU,OAAO;IACrC,OAAO;AACT,EAAE;iBACa,EAAE,yIAAK,CAAC,YAAY,CAAC,EAAE,CAAC;WAC9B,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;iBACb,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;;OAG7B,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;;WAGf,EAAE,CAAC;IACR,IAAI,EAAE,SAAS,KAAK,QAAQ,OAAO;IACnC,IAAI,EAAE,SAAS,KAAK,UAAU,OAAO;IACrC,OAAO;AACT,EAAE;;;;;;WAMK,EAAE,gBAAgB;eACd,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;;;AAG/C,CAAC;OAjCK;AAmCN,MAAM,aAAa,oMAAM,CAAC,IAAI;;;EAAyD,CAAC;;;OAGjF,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;iBAET,EAAE,yIAAK,CAAC,YAAY,CAAC,EAAE,CAAC;aAC5B,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;eAC9B,EAAE,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC;cACvC,EAAE,CAAC;IACb,IAAI,EAAE,UAAU,KAAK,cAAc,OAAO;IAC1C,IAAI,EAAE,UAAU,KAAK,cAAc,OAAO;IAC1C,OAAO;AACT,EAAE;SACK,EAAE,CAAC;IACR,IAAI,EAAE,UAAU,KAAK,cAAc,OAAO;IAC1C,IAAI,EAAE,UAAU,KAAK,cAAc,OAAO;IAC1C,OAAO;AACT,EAAE;AACJ,CAAC;OAlBK;AAoBN,MAAM,gBAAgB,oMAAM,CAAC,IAAI;;;EAA2C,CAAC;aAChE,EAAE,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;;iBAE5B,EAAE,yIAAK,CAAC,YAAY,CAAC,EAAE,CAAC;;eAE1B,EAAE,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC;cACrC,EAAE,CAAC;IACb,IAAI,EAAE,SAAS,KAAK,QAAQ,OAAO;IACnC,IAAI,EAAE,SAAS,KAAK,UAAU,OAAO;IACrC,OAAO;AACT,EAAE;;AAEJ,CAAC;OAZK;AAcN,MAAM,sBAAsB,IAAA,oMAAM,EAAC,wIAAM;;;EAAC,CAAC;cAC7B,EAAE,yIAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;AAEjC,CAAC;OAHK;AA2IS,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,6IAAO;IACxB,MAAM,YAAY,IAAA,gIAAY;8CAAC,CAAC,QAAU,MAAM,IAAI;;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ;+BAAS;YACjD,MAAM,OAAO,IAAI;YACjB,KAAK,WAAW,CAAC,KAAK,WAAW,KAAK;YACtC,KAAK,OAAO,CAAC;YACb,OAAO,KAAK,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QACzC;;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ;+BAAS;YAC7C,MAAM,WAAW,IAAI;YACrB,SAAS,OAAO,CAAC,SAAS,OAAO,KAAK;YACtC,OAAO,SAAS,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QAC7C;;IAEA,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAA0B;IAClF,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAyB;IAC/E,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAkB;IAC1D,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAA0B;IAClF,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAsB;IACtE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAa,EAAE;IACzD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAM;IAClD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAC;IAC3D,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,yKAAQ,EAAgB;IAE5E,qFAAqF;IACrF,MAAM,aAAa,CAAC;QAClB,IAAI,UAAU,QAAQ,UAAU,aAAa,UAAU,IAAI;YACzD,OAAO;QACT;QACA,MAAM,MAAM,OAAO;QACnB,OAAO,MAAM,OAAO,IAAI;IAC1B;IAEA,MAAM,cAAc,IAAA,4KAAW;+CAAC,OAAO,gBAAyB,IAAI;YAClE,IAAI,CAAC,MAAM;gBACT,WAAW;gBACX;YACF;YAEA,WAAW;YACX,SAAS;YAET,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM;gBAC7B,MAAM,iBAAiB,aAAa,qBAAqB,aAAa;gBACtE,MAAM,eAAe,aAAa;gBAClC,MAAM,aAAa,aAAa;gBAEhC,wCAAwC;gBACxC,4CAA4C;gBAC5C,yGAAyG;gBACzG,oHAAoH;gBACpH,+BAA+B;gBAC/B,IAAI,oBAAqC;gBACzC,MAAM,UAAU,aAAa,WAAW,aAAa;gBAErD,IAAI,SAAS;oBACX,0CAA0C;oBAC1C,oBAAoB;gBACtB,OAAO,IAAI,kBAAkB,MAAM,IAAI;oBACrC,IAAI;wBACF,6EAA6E;wBAC7E,iEAAiE;wBACjE,MAAM,SAAS,OAAO,KAAK,EAAE,KAAK,WAAW,SAAS,KAAK,EAAE,EAAE,MAAM,KAAK,EAAE;wBAC5E,MAAM,kBAAkB,MAAM,0HAAS,CAAC,eAAe,CAAC;wBACxD,MAAM,eAAe,iBAAiB,QAAQ,EAAE;wBAEhD,wGAAwG;wBACxG,MAAM,sBAAsB,aACzB,GAAG;uFAAC,CAAC;gCACJ,MAAM,QAAQ,OAAO,IAAI,EAAE,KAAK,WAAW,SAAS,IAAI,EAAE,EAAE,MAAM,OAAO,IAAI,EAAE;gCAC/E,MAAM,UAAU,CAAC,IAAI,IAAI,IAAI,EAAE,EAAE,WAAW;gCAE5C,8EAA8E;gCAC9E,IAAI,CAAC,OAAO,KAAK,CAAC,UAAU,CAAC,YAAY,gBAAgB,YAAY,UAAU,GAAG;oCAChF,OAAO;gCACT;gCACA,OAAO;4BACT;sFACC,MAAM;uFAAC,CAAC,KAAqB,OAAO;;wBAEvC,uEAAuE;wBACvE,oBAAoB;4BAAC;+BAAW;yBAAoB;wBAEpD,wCAA4C;4BAC1C,QAAQ,GAAG,CAAC,oDAAoD;gCAC9D,QAAQ;gCACR,mBAAmB,aAAa,MAAM;gCACtC,qBAAqB;gCACrB,mBAAmB;4BACrB;wBACF;oBACF,EAAE,OAAO,KAAc;wBACrB,QAAQ,IAAI,CAAC,8DAA8D;wBAC3E,MAAM,SAAS,OAAO,KAAK,EAAE,KAAK,WAAW,SAAS,KAAK,EAAE,EAAE,MAAM,KAAK,EAAE;wBAC5E,oBAAoB;4BAAC;yBAAO;oBAC9B;gBACF,OAAO,IAAI,gBAAgB,MAAM,IAAI;oBACnC,iEAAiE;oBACjE,MAAM,eAAe,OAAO,KAAK,EAAE,KAAK,WAAW,SAAS,KAAK,EAAE,EAAE,MAAM,KAAK,EAAE;oBAClF,IAAI,YAA2B;oBAE/B,4CAA4C;oBAC5C,MAAM,eAAe,WAAW;oBAChC,IAAI,cAAc;wBAChB,YAAY,OAAO,iBAAiB,WAAW,SAAS,cAAc,MAAM,OAAO;oBACrF,OAAO;wBACL,kEAAkE;wBAClE,IAAI;4BACF,MAAM,iBAAiB,MAAM,0HAAS,CAAC,cAAc;4BACrD,MAAM,kBAAkB,gBAAgB;4BACxC,IAAI,iBAAiB,eAAe,aAAa,iBAAiB,eAAe,MAAM;gCACrF,YAAY,OAAO,gBAAgB,UAAU,KAAK,WAC9C,SAAS,gBAAgB,UAAU,EAAE,MACrC,OAAO,gBAAgB,UAAU;4BACvC;wBACF,EAAE,OAAO,KAAK;4BACZ,QAAQ,IAAI,CAAC,wDAAwD;wBACvE;oBACF;oBAEA,IAAI,WAAW;wBACb,IAAI;4BACF,MAAM,iBAAiB;4BAEvB,4CAA4C;4BAC5C,MAAM,kBAAkB,MAAM,0HAAS,CAAC,eAAe,CAAC;4BACxD,MAAM,eAAe,iBAAiB,QAAQ,EAAE;4BAEhD,wGAAwG;4BACxG,MAAM,sBAAsB,aACzB,GAAG;2FAAC,CAAC;oCACJ,MAAM,QAAQ,OAAO,IAAI,EAAE,KAAK,WAAW,SAAS,IAAI,EAAE,EAAE,MAAM,OAAO,IAAI,EAAE;oCAC/E,MAAM,UAAU,CAAC,IAAI,IAAI,IAAI,EAAE,EAAE,WAAW;oCAE5C,8EAA8E;oCAC9E,IAAI,CAAC,OAAO,KAAK,CAAC,UAAU,CAAC,YAAY,gBAAgB,YAAY,UAAU,GAAG;wCAChF,OAAO;oCACT;oCACA,OAAO;gCACT;0FACC,MAAM;2FAAC,CAAC,KAAqB,OAAO;;4BAEvC,yEAAyE;4BACzE,oBAAoB;gCAAC;mCAAmB;6BAAoB;4BAE5D,wCAA4C;gCAC1C,QAAQ,GAAG,CAAC,sEAAsE;oCAChF,cAAc;oCACd,gBAAgB;oCAChB,mBAAmB,aAAa,MAAM;oCACtC,qBAAqB;oCACrB,mBAAmB;gCACrB;4BACF;wBACF,EAAE,OAAO,KAAK;4BACZ,QAAQ,KAAK,CAAC,8DAA8D;4BAC5E,2FAA2F;4BAC3F,oBAAoB;gCAAC;6BAAU;wBACjC;oBACF,OAAO;wBACL,mEAAmE;wBACnE,QAAQ,IAAI,CAAC;wBACb,oBAAoB;4BAAC;yBAAa;oBACpC;gBACF,OAAO,IAAI,cAAc,MAAM,IAAI;oBACjC,wCAAwC;oBACxC,MAAM,SAAS,OAAO,KAAK,EAAE,KAAK,WAAW,SAAS,KAAK,EAAE,EAAE,MAAM,KAAK,EAAE;oBAC5E,oBAAoB;wBAAC;qBAAO;gBAC9B;gBAEA,MAAM,aAAa,gBAAgB;oBAAE;oBAAW;gBAAQ,IAAI;oBAAE,WAAW;oBAAW,SAAS;gBAAU;gBAEvG,4DAA4D;gBAC5D,IAAI,YAAuB,EAAE;gBAC7B,IAAI;oBACF,MAAM,gBAAgB,MAAM,0HAAS,CAAC,QAAQ,CAAC;wBAC7C,QAAQ;wBACR,OAAO;wBACP,YAAY,WAAW,SAAS,GAAG,IAAI,KAAK,WAAW,SAAS,GAAG,aAAa,WAAW,KAAK;wBAChG,UAAU,WAAW,OAAO,GAAG,IAAI,KAAK,WAAW,OAAO,GAAG,aAAa,WAAW,KAAK;oBAC5F;oBACA,MAAM,aAAa,MAAM,OAAO,CAAC,eAAe,QAC5C,cAAc,IAAI,GACjB,eAAe,QAAQ,OAAO,cAAc,IAAI,KAAK,YAAY,UAAU,cAAc,IAAI,GAC5F,AAAC,cAAc,IAAI,CAA0B,IAAI,IAAI,EAAE,GACvD,EAAE;oBACR,YAAY,cAAc,EAAE;oBAE5B,2CAA2C;oBAC3C,4CAA4C;oBAC5C,6GAA6G;oBAC7G,2HAA2H;oBAC3H,2CAA2C;oBAC3C,IAAI,CAAC,WAAW,qBAAqB,kBAAkB,MAAM,GAAG,GAAG;wBACjE,4EAA4E;wBAC5E,YAAY,UAAU,MAAM;mEAAC,CAAC;gCAC5B,MAAM,OAAO;gCACb,MAAM,WAAW,KAAK,UAAU,IAAI,KAAK,MAAM,IAAI,KAAK,OAAO,IAAI,KAAK,aAAa,IAAI,KAAK,SAAS;gCACvG,IAAI,CAAC,UAAU,OAAO;gCACtB,MAAM,cAAc,OAAO,aAAa,WAAW,SAAS,UAAU,MAAO,OAAO,aAAa,WAAW,WAAW;gCACvH,OAAO,CAAC,MAAM,gBAAgB,kBAAmB,QAAQ,CAAC;4BAC5D;;oBACF;gBACA,mDAAmD;gBACrD,EAAE,OAAO,KAAc;oBACrB,QAAQ,IAAI,CAAC,oDAAoD;gBACjE,oEAAoE;gBACtE;gBAEA,2EAA2E;gBAC3E,MAAM,mBAAmB,MAAM,SAAS,qBACf,MAAM,SAAS,mBACf,MAAM,SAAS,WACf,MAAM,SAAS,iBACf,MAAM,SAAS;gBAExC,mFAAmF;gBACnF,MAAM,sBAAsB,MAAM,SAAS,gBACf,MAAM,SAAS,qBACf,MAAM,SAAS,mBACf,MAAM,SAAS,WACf,MAAM,SAAS,iBACf,MAAM,SAAS;gBAE3C,mEAAmE;gBACnE,MAAM,mBAAmB,MAAM,SAAS,qBACf,MAAM,SAAS,mBACf,MAAM,SAAS,WACf,MAAM,SAAS,iBACf,MAAM,SAAS;gBAExC,kGAAkG;gBAClG,wFAAwF;gBACxF,MAAM,CAAC,eAAe,cAAc,gBAAgB,iBAAiB,oBAAoB,gBAAgB,GAAG,MAAM,QAAQ,UAAU,CAAC;oBACnI,0HAAS,CAAC,mBAAmB,CAAC,WAAW,SAAS,EAAE,WAAW,OAAO;oBACtE,0HAAS,CAAC,kBAAkB,CAAC,WAAW,SAAS,EAAE,WAAW,OAAO;oBACrE,0HAAS,CAAC,WAAW,CAAC,WAAW,SAAS,EAAE,WAAW,OAAO;oBAC9D,mBAAmB,0HAAS,CAAC,mBAAmB,GAAG,KAAK;+DAAC,CAAC;4BACxD,+DAA+D;4BAC/D,MAAM,QAAQ;4BACd,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;gCAClC,OAAO;oCAAE,MAAM;gCAAK;4BACtB;4BACA,MAAM;wBACR;gEAAK,QAAQ,OAAO,CAAC;wBAAE,MAAM;oBAAK;oBAClC,sBAAsB,0HAAS,CAAC,eAAe,CAAC;wBAC9C,YAAY,WAAW,SAAS,GAAG,IAAI,KAAK,WAAW,SAAS,GAAG,aAAa,WAAW,KAAK;wBAChG,UAAU,WAAW,OAAO,GAAG,IAAI,KAAK,WAAW,OAAO,GAAG,aAAa,WAAW,KAAK;oBAC5F,GAAG,KAAK;+DAAC,CAAC;4BACR,iEAAiE;4BACjE,MAAM,QAAQ;4BACd,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;gCAClC,OAAO;oCAAE,MAAM;gCAAK;4BACtB;4BACA,MAAM;wBACR;gEAAK,QAAQ,OAAO,CAAC;wBAAE,MAAM;oBAAK;oBAClC,mBAAmB,0HAAS,CAAC,YAAY,CAAC;wBAAE,OAAO;oBAAI,GAAG,KAAK;+DAAC,CAAC;4BAC/D,iEAAiE;4BACjE,MAAM,QAAQ;4BACd,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;gCAClC,OAAO;oCAAE,MAAM,EAAE;gCAAC;4BACpB;4BACA,MAAM;wBACR;gEAAK,QAAQ,OAAO,CAAC;wBAAE,MAAM,EAAE;oBAAC;iBACjC;gBAED,sEAAsE;gBACtE,8EAA8E;gBAC9E,MAAM,kBAAkB,UAAU,MAAM;2EAAC,CAAC;wBACxC,MAAM,OAAO;wBACb,OAAO,KAAK,MAAM,KAAK,YAAY,KAAK,MAAM,KAAK,YAAY,KAAK,MAAM,EAAE,kBAAkB;oBAChG;;gBAEA,mFAAmF;gBACnF,2DAA2D;gBAC3D,MAAM,qBAAqB,gBAAgB,MAAM;8EAAC,CAAC,KAAa;wBAC9D,MAAM,OAAO;wBACb,OAAO,MAAM,WAAW,KAAK,UAAU;oBACzC;6EAAG;gBACH,MAAM,kBAA0C,CAAC;gBACjD,gBAAgB,OAAO;2DAAC,CAAC;wBACvB,MAAM,OAAO;wBACb,MAAM,WAAW,KAAK,IAAI,EAAE,YAAY,KAAK,QAAQ,IAAI;wBACzD,eAAe,CAAC,SAAS,GAAG,CAAC,eAAe,CAAC,SAAS,IAAI,CAAC,IAAI,WAAW,KAAK,UAAU;oBAC3F;;gBAEA,IAAI,cAAc,MAAM,KAAK,aAAa;oBACxC,MAAM,cAAc,cAAc,KAAK,CAAC,IAAI,IAAI,cAAc,KAAK;oBACnE,IAAI,eAAe,CAAC,YAAY,UAAU,IAAI,YAAY,mBAAmB,IAAI,YAAY,oBAAoB,GAAG;wBAClH,iGAAiG;wBACjG,MAAM,cAAc,WAAW,YAAY,UAAU,EAAE;wBACvD,MAAM,eAAe,WAAW,YAAY,UAAU,EAAE;wBACxD,MAAM,oBAAoB,cAAc;wBACxC,MAAM,mBAAmB,oBAAoB;wBAC7C,MAAM,yBAAyB,oBAAoB,IAC/C,AAAC,mBAAmB,oBAAqB,MACzC;wBAEJ,MAAM,kBAAkB;4BACtB,GAAG,WAAW;4BACd,YAAY;gCACV,GAAG,YAAY,UAAU;gCACzB,aAAa,WAAW;gCACxB,eAAe;gCACf,gBAAgB;gCAChB,QAAQ;gCACR,eAAe;4BACjB;4BACA,mBAAmB;4BACnB,oBAAoB;gCAClB,GAAG,YAAY,kBAAkB;gCACjC,OAAO,gBAAgB,MAAM;gCAC7B,OAAO,CAAC,YAAY,kBAAkB,EAAE,SAAS,CAAC,IAAI,gBAAgB,MAAM;4BAC9E;wBACF;wBAEA,wCAA4C;4BAC1C,QAAQ,GAAG,CAAC,uCAAuC;gCACjD,cAAc;gCACd,iBAAiB;gCACjB,eAAe,gBAAgB,UAAU,EAAE;gCAC3C,aAAa,gBAAgB,UAAU,EAAE;gCACzC,gBAAgB,gBAAgB,UAAU,EAAE;gCAC5C,oBAAoB,OAAO,IAAI,CAAC,gBAAgB,mBAAmB,IAAI,CAAC,GAAG,MAAM;gCACjF,kBAAkB,OAAO,IAAI,CAAC,gBAAgB,iBAAiB,IAAI,CAAC,GAAG,MAAM;gCAC7E,oBAAoB,OAAO,IAAI,CAAC,gBAAgB,oBAAoB,IAAI,CAAC,GAAG,MAAM;4BACpF;wBACF;wBACA,oBAAoB;oBACtB,OAAO;wBACL,QAAQ,IAAI,CAAC,mCAAmC;wBAChD,oBAAoB;oBACtB;gBACF,OAAO;oBACL,kFAAkF;oBAClF,IAAI,aAAa,MAAM,KAAK,aAAa;wBACvC,MAAM,aAAa,aAAa,KAAK,CAAC,IAAI;wBAC1C,MAAM,oBAAoB,OAAO,IAAI,CAAC,WAAW,OAAO,EAAE,eAAe,CAAC,GAAG,MAAM;wBACnF,MAAM,oBAAoB,OAAO,IAAI,CAAC,WAAW,QAAQ,EAAE,eAAe,CAAC,GAAG,MAAM;wBACpF,MAAM,aAAa,WAAW,OAAO,IAAI,OAAO,WAAW,OAAO,KAAK,WAAW,WAAW,OAAO,GAAyB,CAAC;wBAC9H,MAAM,cAAc,WAAW,QAAQ,IAAI,OAAO,WAAW,QAAQ,KAAK,WAAW,WAAW,QAAQ,GAAyB,CAAC;wBAClI,MAAM,cAAc,WAAW,WAAW,KAAK;wBAC/C,MAAM,eAAe,WAAW,YAAY,KAAK;wBACjD,MAAM,oBAAoB,cAAc;wBACxC,MAAM,mBAAmB,oBAAoB;wBAC7C,MAAM,yBAAyB,oBAAoB,IAC/C,AAAC,mBAAmB,oBAAqB,MACzC;wBAEJ,oBAAoB;4BAClB,QAAQ;gCAAE,YAAY;gCAAW,UAAU;4BAAQ;4BACnD,YAAY;gCACV,eAAe;gCACf,aAAa,WAAW;gCACxB,gBAAgB;gCAChB,QAAQ;gCACR,eAAe;4BACjB;4BACA,qBAAqB,AAAC,WAAW,OAAO,EAAE,eAA0C,CAAC;4BACrF,mBAAmB;4BACnB,sBAAsB,AAAC,WAAW,QAAQ,EAAE,eAA0C,CAAC;4BACvF,oBAAoB;gCAClB,SAAS,oBAAoB,IAAI,oBAAoB;gCACrD,OAAO,gBAAgB,MAAM;gCAC7B,UAAU,oBAAoB,IAAI,oBAAoB;gCACtD,OAAO,oBAAoB,oBAAoB,gBAAgB,MAAM;4BACvE;4BACA,cAAc,IAAI,OAAO,WAAW;wBACtC;oBACF,OAAO;wBACL,oBAAoB;oBACtB;gBACF;gBAEA,IAAI,aAAa,MAAM,KAAK,aAAa;oBACvC,MAAM,aAAa,aAAa,KAAK,CAAC,IAAI,IAAI,aAAa,KAAK;oBAChE,IAAI,cAAc,CAAC,WAAW,OAAO,IAAI,WAAW,QAAQ,GAAG;wBAC7D,2CAA2C;wBAC3C,MAAM,cAAc,WAAW,WAAW,OAAO,IAAI,OAAO,WAAW,OAAO,KAAK,YAAY,WAAW,OAAO,KAAK,QAAQ,WAAW,WAAW,OAAO,GAAG,AAAC,WAAW,OAAO,CAAuB,KAAK,GAAG;wBAChN,MAAM,eAAe,WAAW,WAAW,QAAQ,IAAI,OAAO,WAAW,QAAQ,KAAK,YAAY,WAAW,QAAQ,KAAK,QAAQ,WAAW,WAAW,QAAQ,GAAG,AAAC,WAAW,QAAQ,CAAuB,KAAK,GAAG;wBACtN,MAAM,oBAAoB,cAAc;wBACxC,MAAM,mBAAmB,oBAAoB;wBAC7C,MAAM,yBAAyB,oBAAoB,IAC/C,AAAC,mBAAmB,oBAAqB,MACzC;wBAEJ,MAAM,iBAAiB;4BACrB,GAAG,UAAU;4BACb,OAAO;gCACL,OAAO,WAAW;gCAClB,aAAa;4BACf;4BACA,SAAS;gCACP,aAAa,CAAC,WAAW,OAAO,IAAI,OAAO,WAAW,OAAO,KAAK,YAAY,iBAAiB,WAAW,OAAO,GAAG,WAAW,OAAO,CAAC,WAAW,GAAG,SAAS,KAAK,CAAC;gCACpK,OAAO;4BACT;4BACA,QAAQ;4BACR,eAAe;wBACjB;wBACA,mBAAmB;oBACrB,OAAO;wBACL,wCAA4C;4BAC1C,QAAQ,IAAI,CAAC,4CAA4C;wBAC3D;wBACA,mBAAmB;oBACrB;gBACF,OAAO;oBACL,QAAQ,KAAK,CAAC,oCAAoC,aAAa,MAAM;oBACrE,mBAAmB;gBACrB;gBAEA,IAAI,eAAe,MAAM,KAAK,aAAa;oBACzC,MAAM,eAAe,eAAe,KAAK,CAAC,IAAI,IAAI,eAAe,KAAK;oBACtE,IAAI,gBAAgB,CAAC,aAAa,OAAO,IAAI,aAAa,eAAe,GAAG;wBAC1E,wEAAwE;wBACxE,MAAM,aAA+E,CAAC;wBACtF,gBAAgB,OAAO;mEAAC,CAAC;gCACvB,MAAM,WAAW;gCACjB,MAAM,WAAW,SAAS,UAAU,GAAG,IAAI,KAAK,SAAS,UAAU,EAAE,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;gCACzI,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE;oCACzB,UAAU,CAAC,SAAS,GAAG;wCAAE,QAAQ;wCAAG,SAAS;wCAAG,KAAK;oCAAE;gCACzD;gCACA,MAAM,aAAa,WAAW,SAAS,UAAU;gCACjD,UAAU,CAAC,SAAS,CAAC,MAAM,IAAI;gCAC/B,UAAU,CAAC,SAAS,CAAC,GAAG,IAAI;4BAC9B;;wBAEA,mCAAmC;wBACnC,MAAM,oBAAoB;4BAAE,GAAG,aAAa,eAAe;wBAAC;wBAC5D,OAAO,OAAO,CAAC,YAAY,OAAO;mEAAC,CAAC,CAAC,MAAM,KAAK;gCAC9C,IAAI,iBAAiB,CAAC,KAAK,EAAE;oCAC3B,iBAAiB,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,MAAM;oCAC7C,iBAAiB,CAAC,KAAK,CAAC,GAAG,IAAI,KAAK,GAAG;gCACzC,OAAO;oCACL,iBAAiB,CAAC,KAAK,GAAG;gCAC5B;4BACF;;wBAEA,MAAM,aAAa,WAAW,aAAa,OAAO,EAAE;wBACpD,MAAM,cAAc,WAAW,aAAa,OAAO,EAAE;wBAErD,kGAAkG;wBAClG,0DAA0D;wBAC1D,IAAI,0BAA0B;wBAC9B,IAAI,mBAAmB,MAAM,KAAK,aAAa;4BAC7C,MAAM,mBAAmB,mBAAmB,KAAK,CAAC,IAAI,IAAI,mBAAmB,KAAK;4BAClF,IAAI,oBAAoB,OAAO,qBAAqB,YAAY,mBAAmB,kBAAkB;gCACnG,0BAA0B,WAAW,AAAC,iBAAkC,aAAa;4BACvF;wBACF;wBAEA,MAAM,mBAAmB;4BACvB,GAAG,YAAY;4BACf,SAAS;gCACP,GAAG,aAAa,OAAO;gCACvB,cAAc,aAAa;gCAC3B,eAAe,cAAc;4BAC/B;4BACA,iBAAiB;wBACnB;wBACA,YAAY;oBACd,OAAO;wBACL,wCAA4C;4BAC1C,QAAQ,IAAI,CAAC,qCAAqC;wBACpD;wBACA,YAAY;oBACd;gBACF,OAAO;oBACL,QAAQ,KAAK,CAAC,6BAA6B,eAAe,MAAM;oBAChE,YAAY;gBACd;gBAEA,2BAA2B;gBAC3B,IAAI,gBAAgB,MAAM,KAAK,aAAa;oBAC1C,MAAM,gBAAgB,gBAAgB,KAAK,CAAC,IAAI,IAAI,gBAAgB,KAAK;oBACzE,IAAI,iBAAiB,OAAO,kBAAkB,YAC1C,CAAC,iBAAiB,iBAAiB,yBAAyB,aAAa,GAAG;wBAC9E,oBAAoB;oBACtB,OAAO;wBACL,oBAAoB;oBACtB;gBACF,OAAO;oBACL,uDAAuD;oBACvD,IAAI,gBAAgB,MAAM,EAAE,UAAU,WAAW,KAAK;wBACpD,QAAQ,IAAI,CAAC,qCAAqC,gBAAgB,MAAM;oBAC1E;oBACA,oBAAoB;gBACtB;gBAEA,yDAAyD;gBACzD,4EAA4E;gBAC5E,IAAI,mBAAmB,MAAM,KAAK,aAAa;oBAC7C,MAAM,YAAY,mBAAmB,KAAK,CAAC,IAAI,IAAI,mBAAmB,KAAK;oBAC3E,IAAI,aAAa,OAAO,cAAc,YAClC,CAAC,iBAAiB,aAAa,mBAAmB,SAAS,GAAG;wBAChE,MAAM,mBAAmB;wBACzB,gBAAgB;wBAEhB,yGAAyG;wBACzG,qFAAqF;wBACrF,qEAAqE;wBACrE,IAAI,cAAc,MAAM,KAAK,aAAa;4BACxC,MAAM,cAAc,cAAc,KAAK,CAAC,IAAI,IAAI,cAAc,KAAK;4BACnE,IAAI,eAAe,CAAC,YAAY,UAAU,IAAI,YAAY,mBAAmB,IAAI,YAAY,oBAAoB,GAAG;gCAClH,qEAAqE;gCACrE,mEAAmE;gCACnE,MAAM,cAAc,WAAW,YAAY,UAAU,EAAE;gCACvD,MAAM,eAAe,WAAW,YAAY,UAAU,EAAE;gCACxD,MAAM,eAAe,WAAW,iBAAiB,aAAa;gCAE9D,0FAA0F;gCAC1F,MAAM,oBAAoB,cAAc;gCACxC,MAAM,mBAAmB,oBAAoB;gCAC7C,MAAM,yBAAyB,oBAAoB,IAC/C,AAAC,mBAAmB,oBAAqB,MACzC;gCAEJ,MAAM,kBAAkB;oCACtB,GAAG,WAAW;oCACd,YAAY;wCACV,GAAG,YAAY,UAAU;wCACzB,aAAa;wCACb,eAAe;wCACf,gBAAgB;wCAChB,QAAQ;wCACR,eAAe;oCACjB;oCACA,mBAAmB;oCACnB,oBAAoB;wCAClB,GAAG,YAAY,kBAAkB;wCACjC,OAAO,iBAAiB,YAAY,IAAI,gBAAgB,MAAM;wCAC9D,OAAO,CAAC,YAAY,kBAAkB,EAAE,SAAS,CAAC,IAAI,CAAC,iBAAiB,YAAY,IAAI,gBAAgB,MAAM;oCAChH;gCACF;gCAEA,wCAA4C;oCAC1C,QAAQ,GAAG,CAAC,iDAAiD;wCAC3D,cAAc;wCACd,4BAA4B;wCAC5B,0BAA0B;wCAC1B,aAAa,gBAAgB,UAAU,EAAE;wCACzC,gBAAgB,gBAAgB,UAAU,EAAE;wCAC5C,QAAQ,gBAAgB,UAAU,EAAE;wCACpC,eAAe,gBAAgB,UAAU,EAAE;oCAC7C;gCACF;gCAEA,oBAAoB;4BACtB;wBACF;oBACF,OAAO;wBACL,gBAAgB;oBAClB;gBACF,OAAO;oBACL,uDAAuD;oBACvD,IAAI,mBAAmB,MAAM,EAAE,UAAU,WAAW,KAAK;wBACvD,QAAQ,IAAI,CAAC,iCAAiC,mBAAmB,MAAM;oBACzE;oBACA,gBAAgB;gBAClB;gBAEA,2BAA2B;gBAC3B,IAAI,gBAAgB,MAAM,KAAK,aAAa;oBAC1C,MAAM,gBAAgB,gBAAgB,KAAK,EAAE,QAAQ,gBAAgB,KAAK,IAAI,EAAE;oBAChF,MAAM,iBAAiB,MAAM,OAAO,CAAC,iBAAiB,gBAAgB,EAAE;oBACxE,uCAAuC;oBACvC,MAAM,kBAAkB,eAAe,GAAG;+EAAC,CAAC;4BAC1C,MAAM,WAAW;4BACjB,IAAI,OAAO,SAAS,aAAa,KAAK,UAAU;gCAC9C,IAAI;oCACF,SAAS,aAAa,GAAG,KAAK,KAAK,CAAC,SAAS,aAAa;gCAC5D,EAAE,OAAM;oCACN,SAAS,aAAa,GAAG,EAAE;gCAC7B;4BACF;4BACA,IAAI,OAAO,SAAS,aAAa,KAAK,UAAU;gCAC9C,IAAI;oCACF,SAAS,aAAa,GAAG,KAAK,KAAK,CAAC,SAAS,aAAa;gCAC5D,EAAE,OAAM;oCACN,SAAS,aAAa,GAAG,CAAC;gCAC5B;4BACF;4BACA,OAAO;wBACT;;oBACA,aAAa;gBACf,OAAO;oBACL,uDAAuD;oBACvD,IAAI,gBAAgB,MAAM,EAAE,UAAU,WAAW,KAAK;wBACpD,QAAQ,IAAI,CAAC,6BAA6B,gBAAgB,MAAM;oBAClE;oBACA,aAAa,EAAE;gBACjB;gBAEA,IAAI,cAAc,MAAM,KAAK,cAAc,aAAa,MAAM,KAAK,cAAc,eAAe,MAAM,KAAK,YAAY;oBACrH,MAAM,aAAa,cAAc,MAAM,IAAI,aAAa,MAAM,IAAI,eAAe,MAAM;oBACvF,IAAI,WAAW;oBACf,IAAI,YAAY,UAAU,MAAM,QAAQ;wBACtC,MAAM,SAAS,WAAW,QAAQ,CAAC,IAAI,CAAC,MAAM;wBAC9C,IAAI,OAAO,WAAW,UAAU;4BAC9B,WAAW;wBACb,OAAO,IAAI,MAAM,OAAO,CAAC,SAAS;4BAChC,WAAW,OAAO,GAAG;uEAAC,CAAC;oCACrB,IAAI,OAAO,MAAM,UAAU,OAAO;oCAClC,MAAM,cAAc;oCACpB,OAAO,YAAY,GAAG,IAAI,KAAK,SAAS,CAAC;gCAC3C;sEAAG,IAAI,CAAC;wBACV;oBACF,OAAO,IAAI,YAAY,SAAS;wBAC9B,WAAW,WAAW,OAAO;oBAC/B;oBACA,SAAS;oBACT,oJAAK,CAAC,KAAK,CAAC;oBACZ,oBAAoB;oBACpB,mBAAmB;oBACnB,YAAY;gBACd;YAEF,EAAE,OAAO,KAAc;gBACrB,MAAM,QAAQ;gBACd,IAAI,eAAe;gBAEnB,IAAI,MAAM,QAAQ,EAAE,MAAM,QAAQ;oBAChC,MAAM,SAAS,MAAM,QAAQ,CAAC,IAAI,CAAC,MAAM;oBAEzC,IAAI,MAAM,OAAO,CAAC,SAAS;wBACzB,eAAe,OAAO,GAAG;mEAAC,CAAC;gCACzB,IAAI,OAAO,MAAM,UAAU,OAAO;gCAClC,MAAM,cAAc;gCACpB,IAAI,YAAY,GAAG,EAAE,OAAO,GAAG,YAAY,GAAG,EAAE,KAAK,QAAQ,QAAQ,EAAE,EAAE,YAAY,GAAG,EAAE;gCAC1F,OAAO,KAAK,SAAS,CAAC;4BACxB;kEAAG,IAAI,CAAC;oBACV,OACK,IAAI,OAAO,WAAW,YAAY,UAAU,SAAS,QAAQ;wBAChE,MAAM,YAAY;wBAClB,eAAe,GAAG,UAAU,GAAG,EAAE,KAAK,QAAQ,QAAQ,EAAE,EAAE,UAAU,GAAG,EAAE;oBAC3E,OACK,IAAI,OAAO,WAAW,UAAU;wBACnC,eAAe;oBACjB,OACK;wBACH,eAAe,KAAK,SAAS,CAAC;oBAChC;gBACF,OAAO,IAAI,AAAC,IAAyB,OAAO,EAAE;oBAC5C,eAAe,AAAC,IAAyB,OAAO;gBAClD;gBAEA,SAAS;gBACT,oJAAK,CAAC,KAAK,CAAC;YACd,SAAU;gBACR,WAAW;YACb;QACF;8CAAG;QAAC;QAAM,WAAW;QAAW;QAAW;KAAQ;IAEnD,IAAA,0KAAS;gCAAC;YACR,IAAI,MAAM;gBACR,MAAM,QAAQ;kDAAW;wBACvB,YAAY;oBACd;iDAAG;gBACH;4CAAO,IAAM,aAAa;;YAC5B;QACF;+BAAG;QAAC;QAAM;KAAY;IAEtB,IAAA,0KAAS;gCAAC;YACR,IAAI,QAAQ,aAAa,SAAS;gBAChC,MAAM,QAAQ;kDAAW;wBACvB,YAAY;oBACd;iDAAG;gBACH;4CAAO,IAAM,aAAa;;YAC5B;QACF;+BAAG;QAAC;QAAW;QAAS;QAAa;KAAK;IAE1C,MAAM,iBAAiB,CAAC;QACtB,MAAM,aAAa,WAAW;QAC9B,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;YACpC,OAAO;YACP,UAAU;YACV,uBAAuB;YACvB,uBAAuB;QACzB,GAAG,MAAM,CAAC;IACZ;IAEA,MAAM,aAAa,CAAC;QAClB,IAAI,CAAC,YAAY,OAAO;QACxB,OAAO,IAAI,KAAK,YAAY,kBAAkB,CAAC,SAAS;YACtD,MAAM;YACN,OAAO;YACP,KAAK;QACP;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,IAAI,CAAC,OAAO,OAAO,QAAQ,UAAU,OAAO;QAC5C,OAAO,IAAI,MAAM,CAAC,GAAG,WAAW,KAAK,IAAI,KAAK,CAAC,GAAG,OAAO,CAAC,MAAM;IAClE;IAEA,mCAAmC;IACnC,MAAM,qBAAqB,OAAO,QAA6C;QAC7E,sBAAsB,GAAG,OAAO,CAAC,EAAE,WAAW;QAC9C,IAAI;YACF,MAAM,WAAW,MAAM,0HAAS,CAAC,0BAA0B,CAAC,QAAQ,WAAkB;YACtF,MAAM,eAAe,AAAC,UAAkB,QAAQ;YAEhD,IAAI,cAAc,WAAW,WAAW;gBACtC,2BAA2B;gBAC3B,cAAc,CAAC,OAAc,CAAC;wBAC5B,GAAG,IAAI;wBACP,CAAC,OAAO,EAAE;4BACR,GAAG,YAAY;4BACf,YAAY;4BACZ,cAAc,IAAI,OAAO,WAAW;wBACtC;oBACF,CAAC;gBACD,oJAAK,CAAC,OAAO,CAAC,GAAG,WAAW,QAAQ,gDAAgD,CAAC;YACvF;QACF,EAAE,OAAO,OAAY;YACnB,MAAM,eAAe,OAAO,UAAU,MAAM,UAAU,OAAO,WAAW;YACxE,oJAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,sBAAsB;QACxB;IACF;IAEA,mCAAmC;IACnC,MAAM,iBAAiB;QACrB,IAAI,CAAC,QAAS,MAAM,SAAS,WAAW,MAAM,SAAS,iBACzC,MAAM,SAAS,mBAAmB,MAAM,SAAS,qBACjD,MAAM,SAAS,WAAY;YACvC;QACF;QAEA,qBAAqB;QACrB,IAAI;YACF,oFAAoF;YACpF,MAAM,UAAU;gBAAC;gBAAW;gBAAW;aAAY;YACnD,MAAM,WAAgC,CAAC;YAEvC,oCAAoC;YACpC,MAAM,WAAW;gBACf,SAAS;oBAAC;oBAAS;iBAAoB;gBACvC,SAAS;oBAAC;oBAAW;iBAAU;gBAC/B,WAAW;oBAAC;oBAAU;iBAAU;YAClC;YAEA,KAAK,MAAM,UAAU,QAAS;gBAC5B,MAAM,SAAS,QAAQ,CAAC,OAAgC;gBACxD,KAAK,MAAM,aAAa,OAAQ;oBAC9B,IAAI;wBACF,MAAM,WAAW,MAAM,0HAAS,CAAC,0BAA0B,CAAC,QAAQ,WAAkB;wBACtF,MAAM,eAAe,AAAC,UAAkB,QAAQ;wBAEhD,IAAI,cAAc,WAAW,WAAW;4BACtC,QAAQ,CAAC,OAAO,GAAG;gCACjB,GAAG,YAAY;gCACf,YAAY;gCACZ,cAAc,IAAI,OAAO,WAAW;4BACtC;4BACA,OAAO,6BAA6B;wBACtC;oBACF,EAAE,OAAO,GAAG;wBAEV;oBACF;gBACF;YACF;YAEA,cAAc;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,yDAAyD;QAC3D,SAAU;YACR,qBAAqB;QACvB;IACF;IAEA,IAAI,CAAC,MAAM;QACT,qBACE,6LAAC,mIAAM;sBACL,cAAA,6LAAC;0BACC,cAAA,6LAAC;;sCACC,6LAAC,6NAAQ;4BAAC,MAAM;;;;;;sCAChB,6LAAC;sCAAG;;;;;;;;;;;;;;;;;;;;;;IAKd;IAEA,qBACE,6LAAC,mIAAM;kBACL,cAAA,6LAAC;;8BACC,6LAAC;;sCACC,6LAAC;sCAAG;;;;;;sCACJ,6LAAC;sCAAE;;;;;;;;;;;;8BAGL,6LAAC;;sCACC,6LAAC;;8CACC,6LAAC,sIAAK;oCAAC,SAAQ;8CAAY;;;;;;8CAC3B,6LAAC,sIAAK;oCACJ,IAAG;oCACH,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;sCAGhD,6LAAC;;8CACC,6LAAC,sIAAK;oCAAC,SAAQ;8CAAU;;;;;;8CACzB,6LAAC,sIAAK;oCACJ,IAAG;oCACH,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;sCAG9C,6LAAC;;8CACC,6LAAC,wIAAM;oCACL,SAAS;wCACP,MAAM,aAAa,IAAI;wCACvB,WAAW,WAAW,CAAC,WAAW,WAAW,KAAK;wCAClD,WAAW,OAAO,CAAC;wCACnB,MAAM,WAAW,IAAI;wCACrB,SAAS,OAAO,CAAC,SAAS,OAAO,KAAK;wCACtC,aAAa,WAAW,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;wCACnD,WAAW,SAAS,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;wCAC/C,YAAY;oCACd;oCACA,SAAQ;oCACR,UAAU;8CACX;;;;;;8CAGD,6LAAC,wIAAM;oCACL,SAAS,CAAC;wCACR,EAAE,cAAc;wCAChB,YAAY;oCACd;oCACA,SAAQ;oCACR,UAAU;8CACX;;;;;;8CAGD,6LAAC,wIAAM;oCAAC,SAAS,IAAM,YAAY;oCAAO,UAAU;8CACjD,wBACC;;0DACE,6LAAC,+NAAO;gDAAC,WAAU;;;;;;4CAA8B;;qEAInD;;0DACE,6LAAC,gOAAS;gDAAC,WAAU;;;;;;4CAAiB;;;;;;;;;;;;;;;;;;;;gBAQ/C,uBACC,6LAAC;;sCACC,6LAAC,sOAAW;;;;;sCACZ,6LAAC;sCAAM;;;;;;;;;;;;gBAIV,wBACC,6LAAC;;sCACC,6LAAC;;;;;sCACD,6LAAC;sCAAE;;;;;;;;;;;yCAGL;;sCACE,6LAAC;sCACC,cAAA,6LAAC;;kDACC,6LAAC;kDACC,cAAA,6LAAC;;8DACC,6LAAC;;sEACC,6LAAC,kOAAS;;;;;wDAAG;;;;;;;8DAGf,6LAAC;;wDAAE;wDACQ,WAAW;wDAAW;wDAAI,WAAW;wDAC7C,kBAAkB,8BACjB;;gEAAE;gEAAe,WAAW,iBAAiB,YAAY;;;;;;;;;;;;;;;;;;;;oCAMhE,iCACC;;0DACE,6LAAC;;kEACC,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,6OAAY;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG5B,6LAAC;gEAAI,WAAU;0EACZ,eAAe,iBAAiB,UAAU,EAAE;;;;;;0EAE/C,6LAAC;gEAAI,WAAU;;oEACZ,iBAAiB,kBAAkB,EAAE,WAAW;oEAAE;;;;;;;;;;;;;kEAGvD,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,yOAAY;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG5B,6LAAC;gEAAI,WAAU;0EACZ,eAAe,iBAAiB,UAAU,EAAE;;;;;;0EAE/C,6LAAC;gEAAI,WAAU;;oEACZ,iBAAiB,kBAAkB,EAAE,SAAS;oEAAE;;;;;;;;;;;;;kEAGrD,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,mPAAc;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG9B,6LAAC;gEAAI,WAAU;0EACZ,eAAe,iBAAiB,UAAU,EAAE;;;;;;0EAE/C,6LAAC;gEAAI,WAAU;;oEACZ,iBAAiB,kBAAkB,EAAE,YAAY;oEAAE;;;;;;;;;;;;;kEAGxD,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,mOAAU;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG1B,6LAAC;gEAAI,WAAU;0EACZ,eAAe,iBAAiB,UAAU,EAAE;;;;;;0EAE/C,6LAAC;gEAAI,WAAU;;oEAAY;oEACT,WAAW,iBAAiB,UAAU,EAAE,eAAe,OAAO,CAAC;oEAAG;;;;;;;;;;;;;kEAGtF,6LAAC;;0EACC,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,6NAAQ;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAGxB,6LAAC;gEAAI,WAAU;0EAAS,iBAAiB,kBAAkB,EAAE,SAAS;;;;;;0EACtE,6LAAC;gEAAI,WAAU;;oEACZ,iBAAiB,kBAAkB,EAAE,WAAW;oEAAE;oEAAY,iBAAiB,kBAAkB,EAAE,SAAS;oEAAE;oEAAU,iBAAiB,kBAAkB,EAAE,YAAY;oEAAE;;;;;;;;;;;;;;;;;;;0DAKlL,6LAAC;;kEACC,6LAAC;;0EACC,6LAAC;0EAAa;;;;;;0EACd,6LAAC;;kFACC,6LAAC;kFACC,cAAA,6LAAC;;8FACC,6LAAC;8FAAG;;;;;;8FACJ,6LAAC;oFAAG,OAAO;wFAAE,WAAW;oFAAQ;8FAAG;;;;;;;;;;;;;;;;;kFAGvC,6LAAC;kFACE,iBAAiB,mBAAmB,IAAI,OAAO,OAAO,CAAC,iBAAiB,mBAAmB,EAAE,MAAM,GAAG,IACrG,OAAO,OAAO,CAAC,iBAAiB,mBAAmB,EAChD,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,GAAK,AAAC,IAAgB,GACxC,KAAK,CAAC,GAAG,GACT,GAAG,CAAC,CAAC,CAAC,UAAU,OAAO,iBACtB,6LAAC;;kGACC,6LAAC;kGAAI,WAAW;;;;;;kGAChB,6LAAC;wFAAG,OAAO;4FAAE,WAAW;wFAAQ;kGAAI,eAAe;;;;;;;+EAF5C;;;;sGAMb,6LAAC;sFACC,cAAA,6LAAC;gFAAG,SAAS;gFAAG,OAAO;oFAAE,WAAW;oFAAU,OAAO;gFAAiB;0FAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;kEASnF,6LAAC;;0EACC,6LAAC;0EAAa;;;;;;0EACd,6LAAC;;kFACC,6LAAC;kFACC,cAAA,6LAAC;;8FACC,6LAAC;8FAAG;;;;;;8FACJ,6LAAC;oFAAG,OAAO;wFAAE,WAAW;oFAAQ;8FAAG;;;;;;;;;;;;;;;;;kFAGvC,6LAAC;kFACE,iBAAiB,iBAAiB,IAAI,OAAO,OAAO,CAAC,iBAAiB,iBAAiB,EAAE,MAAM,GAAG,IACjG,OAAO,OAAO,CAAC,iBAAiB,iBAAiB,EAC9C,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,GAAK,AAAC,IAAgB,GACxC,KAAK,CAAC,GAAG,GACT,GAAG,CAAC,CAAC,CAAC,UAAU,OAAO,iBACtB,6LAAC;;kGACC,6LAAC;kGAAI,WAAW;;;;;;kGAChB,6LAAC;wFAAG,OAAO;4FAAE,WAAW;wFAAQ;kGAAI,eAAe;;;;;;;+EAF5C;;;;sGAMb,6LAAC;sFACC,cAAA,6LAAC;gFAAG,SAAS;gFAAG,OAAO;oFAAE,WAAW;oFAAU,OAAO;gFAAiB;0FAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0DAUrF,6LAAC;gDAAI,OAAO;oDAAE,WAAW,yIAAK,CAAC,OAAO,CAAC,EAAE;gDAAC;;kEACxC,6LAAC;kEAAa;;;;;;kEACd,6LAAC;;0EACC,6LAAC;0EACC,cAAA,6LAAC;;sFACC,6LAAC;sFAAG;;;;;;sFACJ,6LAAC;4EAAG,OAAO;gFAAE,WAAW;4EAAQ;sFAAG;;;;;;;;;;;;;;;;;0EAGvC,6LAAC;0EACE,iBAAiB,oBAAoB,IAAI,OAAO,OAAO,CAAC,iBAAiB,oBAAoB,EAAE,MAAM,GAAG,IACvG,OAAO,OAAO,CAAC,iBAAiB,oBAAoB,EACjD,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,GAAK,AAAC,IAAgB,GACxC,KAAK,CAAC,GAAG,GACT,GAAG,CAAC,CAAC,CAAC,UAAU,OAAO,iBACtB,6LAAC;;0FACC,6LAAC;0FAAI,WAAW;;;;;;0FAChB,6LAAC;gFAAG,OAAO;oFAAE,WAAW;oFAAS,OAAO;oFAAW,YAAY,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI;gFAAC;0FAAI,eAAe;;;;;;;uEAF7G;;;;8FAMb,6LAAC;8EACC,cAAA,6LAAC;wEAAG,SAAS;wEAAG,OAAO;4EAAE,WAAW;4EAAU,OAAO;wEAAiB;kFAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qEAUrF,6LAAC;;0DACC,6LAAC,kOAAS;gDAAC,MAAM;;;;;;0DACjB,6LAAC;0DAAG;;;;;;;;;;;;;;;;;;;;;;;sCAMZ,6LAAC;sCACC,cAAA,6LAAC;;kDACC,6LAAC;kDACC,cAAA,6LAAC;;8DACC,6LAAC;;sEACC,6LAAC,6NAAQ;;;;;wDAAG;;;;;;;8DAGd,6LAAC;;wDAAE;wDACQ,WAAW;wDAAW;wDAAI,WAAW;;;;;;;;;;;;;;;;;;oCAKnD,gCACC;;0DACE,6LAAC;;kEACC,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,6OAAY;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG5B,6LAAC;gEAAI,WAAU;0EACZ,eAAe,gBAAgB,OAAO,EAAE,SAAS;;;;;;0EAEpD,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;kEAI7B,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,yOAAY;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG5B,6LAAC;gEAAI,WAAU;0EACZ,eAAe,gBAAgB,KAAK,EAAE,SAAS;;;;;;;;;;;;kEAGpD,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,mPAAc;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG9B,6LAAC;gEAAI,WAAU;0EACZ,eAAe,gBAAgB,QAAQ,EAAE,SAAS;;;;;;;;;;;;kEAGvD,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,mOAAU;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG1B,6LAAC;gEAAI,WAAU;0EACZ,eAAe,gBAAgB,MAAM,IAAI;;;;;;0EAE5C,6LAAC;gEAAI,WAAU;;oEAAY;oEACT,CAAC,gBAAgB,aAAa,IAAI,CAAC,EAAE,OAAO,CAAC;oEAAG;;;;;;;;;;;;;;;;;;;0DAKtE,6LAAC;gDAAI,OAAO;oDAAE,WAAW,yIAAK,CAAC,OAAO,CAAC,EAAE;gDAAC;;kEACxC,6LAAC;kEAAa;;;;;;kEACd,6LAAC;;0EACC,6LAAC;0EACC,cAAA,6LAAC;;sFACC,6LAAC;sFAAG;;;;;;sFACJ,6LAAC;4EAAG,OAAO;gFAAE,WAAW;4EAAQ;sFAAG;;;;;;;;;;;;;;;;;0EAGvC,6LAAC;0EACE,gBAAgB,OAAO,EAAE,eAAe,OAAO,OAAO,CAAC,gBAAgB,OAAO,CAAC,WAAW,EAAE,MAAM,GAAG,IACpG,OAAO,OAAO,CAAC,gBAAgB,OAAO,CAAC,WAAW,EAC/C,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,GAAK,AAAC,IAAgB,GACxC,GAAG,CAAC,CAAC,CAAC,UAAU,OAAO,iBACtB,6LAAC;;0FACC,6LAAC;0FAAI,WAAW;;;;;;0FAChB,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;0FAAI,eAAe;;;;;;;uEAF5C;;;;8FAMb,6LAAC;8EACC,cAAA,6LAAC;wEAAG,SAAS;wEAAG,OAAO;4EAAE,WAAW;4EAAU,OAAO;wEAAiB;kFAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;4CASlF,gBAAgB,KAAK,EAAE,eAAe,OAAO,OAAO,CAAC,gBAAgB,KAAK,CAAC,WAAW,EAAE,MAAM,GAAG,mBAChG,6LAAC;gDAAI,OAAO;oDAAE,WAAW,yIAAK,CAAC,OAAO,CAAC,EAAE;gDAAC;;kEACxC,6LAAC;kEAAa;;;;;;kEACd,6LAAC;;0EACC,6LAAC;0EACC,cAAA,6LAAC;;sFACC,6LAAC;sFAAG;;;;;;sFACJ,6LAAC;4EAAG,OAAO;gFAAE,WAAW;4EAAQ;sFAAG;;;;;;;;;;;;;;;;;0EAGvC,6LAAC;0EACE,OAAO,OAAO,CAAC,gBAAgB,KAAK,CAAC,WAAW,EAC9C,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,GAAK,AAAC,IAAgB,GACxC,GAAG,CAAC,CAAC,CAAC,UAAU,OAAO,iBACtB,6LAAC;;0FACC,6LAAC;0FAAI,WAAW;;;;;;0FAChB,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;0FAAI,eAAe;;;;;;;uEAF5C;;;;;;;;;;;;;;;;;;;;;;0DAUrB,6LAAC;gDAAI,OAAO;oDAAE,WAAW,yIAAK,CAAC,OAAO,CAAC,EAAE;gDAAC;;kEACxC,6LAAC;kEAAa;;;;;;kEACd,6LAAC;;0EACC,6LAAC;0EACC,cAAA,6LAAC;;sFACC,6LAAC;sFAAG;;;;;;sFACJ,6LAAC;4EAAG,OAAO;gFAAE,WAAW;4EAAQ;sFAAG;;;;;;;;;;;;;;;;;0EAGvC,6LAAC;0EACE,gBAAgB,QAAQ,EAAE,eAAe,OAAO,OAAO,CAAC,gBAAgB,QAAQ,CAAC,WAAW,EAAE,MAAM,GAAG,IACtG,OAAO,OAAO,CAAC,gBAAgB,QAAQ,CAAC,WAAW,EAChD,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,GAAK,AAAC,IAAgB,GACxC,GAAG,CAAC,CAAC,CAAC,UAAU,OAAO,iBACtB,6LAAC;;0FACC,6LAAC;0FAAI,WAAW;;;;;;0FAChB,6LAAC;gFAAG,OAAO;oFAAE,WAAW;oFAAS,OAAO;oFAAW,YAAY,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI;gFAAC;0FAAI,eAAe;;;;;;;uEAF7G;;;;8FAMb,6LAAC;8EACC,cAAA,6LAAC;wEAAG,SAAS;wEAAG,OAAO;4EAAE,WAAW;4EAAU,OAAO;wEAAiB;kFAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qEAUrF,6LAAC;;0DACC,6LAAC,6NAAQ;gDAAC,MAAM;;;;;;0DAChB,6LAAC;0DAAG;;;;;;;;;;;;;;;;;;;;;;;sCAMZ,6LAAC;sCACC,cAAA,6LAAC;;kDACC,6LAAC;kDACC,cAAA,6LAAC;;8DACC,6LAAC;;sEACC,6LAAC,kOAAS;;;;;wDAAG;;;;;;;8DAGf,6LAAC;;wDAAE;wDACQ,WAAW;wDAAW;wDAAI,WAAW;;;;;;;;;;;;;;;;;;oCAKnD,yBACC;;0DACE,6LAAC;;kEACC,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,6OAAY;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG5B,6LAAC;gEAAI,WAAU;0EACZ,eAAe,SAAS,OAAO,EAAE,gBAAgB;;;;;;0EAEpD,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;kEAE7B,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,mPAAc;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG9B,6LAAC;gEAAI,WAAU;0EACZ,eAAe,SAAS,OAAO,EAAE,iBAAiB;;;;;;0EAErD,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;kEAE7B,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,mOAAU;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG1B,6LAAC;gEAAI,WAAU;0EACZ,eAAe,SAAS,OAAO,EAAE,iBAAiB;;;;;;0EAErD,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;;;;;;;0DAI/B,6LAAC;gDAAI,OAAO;oDAAE,WAAW,yIAAK,CAAC,OAAO,CAAC,EAAE;gDAAC;;kEACxC,6LAAC;kEAAa;;;;;;kEACd,6LAAC;;0EACC,6LAAC;0EACC,cAAA,6LAAC;;sFACC,6LAAC;sFAAG;;;;;;sFACJ,6LAAC;4EAAG,OAAO;gFAAE,WAAW;4EAAQ;sFAAG;;;;;;sFACnC,6LAAC;4EAAG,OAAO;gFAAE,WAAW;4EAAQ;sFAAG;;;;;;sFACnC,6LAAC;4EAAG,OAAO;gFAAE,WAAW;4EAAQ;sFAAG;;;;;;;;;;;;;;;;;0EAGvC,6LAAC;0EACE,SAAS,eAAe,IAAI,OAAO,OAAO,CAAC,SAAS,eAAe,EAAE,MAAM,GAAG,IAC7E,OAAO,OAAO,CAAC,SAAS,eAAe,EACpC,IAAI,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,MAAM,GAAK,MAAM,aAAa,CAAC,QAC/C,GAAG,CAAC,CAAC,CAAC,MAAM,KAAiE,iBAC5E,6LAAC;;0FACC,6LAAC;0FAAI,WAAW;;;;;;0FAChB,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;0FAC7B,KAAK,MAAM,GAAG,IAAI,eAAe,KAAK,MAAM,IAAI;;;;;;0FAEnD,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;0FAC7B,KAAK,OAAO,GAAG,IAAI,eAAe,KAAK,OAAO,IAAI;;;;;;0FAErD,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;0FAC7B,eAAe,KAAK,GAAG,IAAI;;;;;;;uEATvB;;;;8FAcb,6LAAC;8EACC,cAAA,6LAAC;wEAAG,SAAS;wEAAG,OAAO;4EAAE,WAAW;4EAAU,OAAO;wEAAiB;kFAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qEAUrF,6LAAC;;0DACC,6LAAC,kOAAS;gDAAC,MAAM;;;;;;0DACjB,6LAAC;0DAAG;;;;;;;;;;;;;;;;;;;;;;;wBAOX,CAAC,MAAM,SAAS,gBAAgB,MAAM,SAAS,qBAAqB,MAAM,SAAS,mBAAmB,MAAM,SAAS,WAAW,MAAM,SAAS,iBAAiB,MAAM,SAAS,SAAS,mBACvL,6LAAC;sCACC,cAAA,6LAAC;;kDACC,6LAAC;kDACC,cAAA,6LAAC;;8DACC,6LAAC;;sEACC,6LAAC,yOAAY;;;;;wDAAG;;;;;;;8DAGlB,6LAAC;;wDAAE;wDACQ,WAAW;wDAAW;wDAAI,WAAW;wDAC7C,cAAc,gBAAgB,cAAc,4BAC3C;;gEAAE;gEAAkB,WAAW,aAAa,YAAY;gEAAE;gEAAI,WAAW,aAAa,UAAU;;;;;;;;;;;;;;;;;;;;oCAMvG,6BACC;;0DACE,6LAAC;;kEACC,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,yOAAY;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG5B,6LAAC;gEAAI,WAAU;0EACZ,aAAa,WAAW,IAAI;;;;;;0EAE/B,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;kEAI7B,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,mOAAU;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG1B,6LAAC;gEAAI,WAAU;0EACZ,eAAe,aAAa,aAAa,IAAI;;;;;;0EAEhD,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;kEAI7B,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,mOAAU;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG1B,6LAAC;gEAAI,WAAU;0EACZ,aAAa,YAAY,IAAI;;;;;;0EAEhC,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;kEAI7B,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,sOAAW;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG3B,6LAAC;gEAAI,WAAU;0EACZ,aAAa,aAAa,IAAI;;;;;;0EAEjC,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;;;;;;;0DAM/B,6LAAC;gDAAI,OAAO;oDAAE,WAAW,yIAAK,CAAC,OAAO,CAAC,EAAE;gDAAC;;kEACxC,6LAAC;kEAAa;;;;;;kEACd,6LAAC;;0EACC,6LAAC;0EACC,cAAA,6LAAC;;sFACC,6LAAC;sFAAG;;;;;;sFACJ,6LAAC;4EAAG,OAAO;gFAAE,WAAW;4EAAQ;sFAAG;;;;;;sFACnC,6LAAC;4EAAG,OAAO;gFAAE,WAAW;4EAAQ;sFAAG;;;;;;;;;;;;;;;;;0EAGvC,6LAAC;;kFACC,6LAAC;;0FACC,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;0FAAI,aAAa,YAAY,IAAI;;;;;;0FACjE,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;;oFAC7B,aAAa,WAAW,GAAG,IACxB,CAAC,CAAC,aAAa,YAAY,IAAI,CAAC,IAAI,aAAa,WAAW,GAAG,GAAG,EAAE,OAAO,CAAC,KAC5E;oFAAE;;;;;;;;;;;;;kFAGV,6LAAC;;0FACC,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;0FAAI,aAAa,aAAa,IAAI;;;;;;0FAClE,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;;oFAC7B,aAAa,WAAW,GAAG,IACxB,CAAC,CAAC,aAAa,aAAa,IAAI,CAAC,IAAI,aAAa,WAAW,GAAG,GAAG,EAAE,OAAO,CAAC,KAC7E;oFAAE;;;;;;;;;;;;;kFAGV,6LAAC;wEAAG,OAAO;4EAAE,YAAY,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI;4EAAE,WAAW,CAAC,UAAU,EAAE,yIAAK,CAAC,MAAM,CAAC,MAAM,EAAE;wEAAC;;0FACxG,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;0FAAI,aAAa,WAAW,IAAI;;;;;;0FAChE,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;0FAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qEAO7C,6LAAC;;0DACC,6LAAC,yOAAY;gDAAC,MAAM;;;;;;0DACpB,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAE;;;;;;;;;;;;;;;;;;;;;;;wBAQZ,CAAC,MAAM,SAAS,qBAAqB,MAAM,SAAS,mBAAmB,MAAM,SAAS,WAAW,MAAM,SAAS,iBAAiB,MAAM,SAAS,SAAS,mBACxJ,6LAAC;sCACC,cAAA,6LAAC;;kDACC,6LAAC;kDACC,cAAA,6LAAC;;8DACC,6LAAC;;sEACC,6LAAC,sNAAO;;;;;wDAAG;;;;;;;8DAGb,6LAAC;8DAAE;;;;;;;;;;;;;;;;;oCAIN,iCACC;;0DACE,6LAAC;;kEACC,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,sNAAO;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAGvB,6LAAC;gEAAI,WAAU;0EACZ,iBAAiB,WAAW,IAAI;;;;;;0EAEnC,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;kEAI7B,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,mOAAU;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG1B,6LAAC;gEAAI,WAAU;0EACZ,eAAe,iBAAiB,gBAAgB,IAAI;;;;;;0EAEvD,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;kEAI7B,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,mOAAU;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG1B,6LAAC;gEAAI,WAAU;0EACZ,eAAe,iBAAiB,mBAAmB,IAAI;;;;;;0EAE1D,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;kEAI7B,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,mOAAU;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG1B,6LAAC;gEAAI,WAAU;0EACZ,eAAe,iBAAiB,gBAAgB,IAAI;;;;;;0EAEvD,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;oDAI5B,iBAAiB,uBAAuB,KAAK,2BAC5C,6LAAC;;0EACC,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,sNAAO;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAGvB,6LAAC;gEAAI,WAAU;0EACZ,iBAAiB,uBAAuB,CAAC,cAAc;;;;;;0EAE1D,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;;;;;;;0DAOjC,6LAAC;gDAAI,OAAO;oDAAE,WAAW,yIAAK,CAAC,OAAO,CAAC,EAAE;gDAAC;;kEACxC,6LAAC;kEAAa;;;;;;kEACd,6LAAC;;0EACC,6LAAC;0EACC,cAAA,6LAAC;;sFACC,6LAAC;sFAAG;;;;;;sFACJ,6LAAC;4EAAG,OAAO;gFAAE,WAAW;4EAAQ;sFAAG;;;;;;;;;;;;;;;;;0EAGvC,6LAAC;;kFACC,6LAAC;;0FACC,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;0FAAI,iBAAiB,WAAW,IAAI;;;;;;;;;;;;oEAErE,iBAAiB,uBAAuB,KAAK,2BAC5C,6LAAC;;0FACC,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;;oFAAI,iBAAiB,uBAAuB,CAAC,cAAc;oFAAG;;;;;;;;;;;;;kFAGlG,6LAAC;;0FACC,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;0FAAI,eAAe,iBAAiB,gBAAgB,IAAI;;;;;;;;;;;;kFAE1F,6LAAC;;0FACC,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;0FAAI,eAAe,iBAAiB,mBAAmB,IAAI;;;;;;;;;;;;kFAE7F,6LAAC;wEAAG,OAAO;4EAAE,YAAY,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI;4EAAE,WAAW,CAAC,UAAU,EAAE,yIAAK,CAAC,MAAM,CAAC,MAAM,EAAE;wEAAC;;0FACxG,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;gFAAG,OAAO;oFAAE,WAAW;oFAAS,OAAO;gFAAc;0FACnD,eAAe,iBAAiB,gBAAgB,IAAI;;;;;;;;;;;;oEAGxD,iBAAiB,gBAAgB,GAAG,mBACnC,6LAAC;;0FACC,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;;oFAC7B,CAAC,CAAC,iBAAiB,gBAAgB,IAAI,CAAC,IAAI,iBAAiB,gBAAgB,GAAG,GAAG,EAAE,OAAO,CAAC;oFAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qEAS/G,6LAAC;;0DACC,6LAAC,sNAAO;gDAAC,MAAM;;;;;;0DACf,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAE;;;;;;;;;;;;;;;;;;;;;;;wBAQZ,CAAC,MAAM,SAAS,qBAAqB,MAAM,SAAS,mBAAmB,MAAM,SAAS,WAAW,MAAM,SAAS,iBAAiB,MAAM,SAAS,SAAS,mBACxJ,6LAAC;sCACC,cAAA,6LAAC;;kDACC,6LAAC;;0DACC,6LAAC;;kEACC,6LAAC;;0EACC,6LAAC,gNAAK;;;;;4DAAG;;;;;;;kEAGX,6LAAC;kEAAE;;;;;;;;;;;;0DAIL,6LAAC;gDAAI,OAAO;oDAAE,SAAS;oDAAQ,KAAK,yIAAK,CAAC,OAAO,CAAC,EAAE;gDAAC;0DACnD,cAAA,6LAAC,wIAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,SAAS;oDACT,UAAU;8DAET,kCACC;;0EACE,6LAAC,+NAAO;gEAAC,MAAM;gEAAI,OAAO;oEAAE,aAAa,yIAAK,CAAC,OAAO,CAAC,EAAE;oEAAE,WAAW;gEAA0B;;;;;;4DAAK;;qFAIvG;;0EACE,6LAAC,gOAAS;gEAAC,MAAM;gEAAI,OAAO;oEAAE,aAAa,yIAAK,CAAC,OAAO,CAAC,EAAE;gEAAC;;;;;;4DAAK;;;;;;;;;;;;;;;;;;;oCAQ1E,cAAc,OAAO,IAAI,CAAC,YAAY,MAAM,GAAG,kBAC9C;kDACG,OAAO,OAAO,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,QAAQ,QAAuB;4CAC/D,IAAI,CAAC,WAAW,CAAC,QAAQ,QAAQ,EAAE,OAAO;4CAE1C,MAAM,QAAQ,QAAQ,cAAc;4CACpC,MAAM,SAAS,QAAQ,MAAM,IAAI,EAAE;4CACnC,MAAM,SAAS,QAAQ,MAAM,IAAI,EAAE;4CAEnC,qBACE,6LAAC;gDAAiB,OAAO;oDAAE,cAAc,yIAAK,CAAC,OAAO,CAAC,EAAE;gDAAC;;kEACxD,6LAAC;wDAAI,OAAO;4DAAE,SAAS;4DAAQ,gBAAgB;4DAAiB,YAAY;4DAAU,cAAc,yIAAK,CAAC,OAAO,CAAC,EAAE;wDAAC;kEACnH,cAAA,6LAAC;;gEACE,WAAW;gEAAQ;gEACnB,QAAQ,UAAU,IAAI,OAAO,QAAQ,UAAU,KAAK,0BACnD,6LAAC;oEAAK,OAAO;wEACX,UAAU,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;wEACvC,YAAY;wEACZ,OAAO;wEACP,YAAY,yIAAK,CAAC,OAAO,CAAC,EAAE;oEAC9B;;wEAAG;wEACQ,QAAQ,UAAU,CAAC,WAAW;wEAAG;;;;;;;;;;;;;;;;;;oDAOjD,uBACC,6LAAC;wDAAI,OAAO;4DACV,YAAY,yIAAK,CAAC,MAAM,CAAC,mBAAmB;4DAC5C,SAAS,yIAAK,CAAC,OAAO,CAAC,EAAE;4DACzB,cAAc,yIAAK,CAAC,YAAY,CAAC,EAAE;4DACnC,cAAc,yIAAK,CAAC,OAAO,CAAC,EAAE;wDAChC;;0EACE,6LAAC;gEAAI,OAAO;oEACV,UAAU,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;oEACvC,YAAY,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM;oEAC/C,OAAO;oEACP,cAAc,yIAAK,CAAC,OAAO,CAAC,EAAE;gEAChC;0EAAG;;;;;;0EAGH,6LAAC;gEAAI,OAAO;oEAAE,SAAS;oEAAQ,KAAK,yIAAK,CAAC,OAAO,CAAC,EAAE;oEAAE,UAAU;gEAAO;;kFACrE,6LAAC;wEAAW,YAAa,OAAO,aAAa;;4EAC1C,OAAO,cAAc,6BAAe,6LAAC,6OAAY;gFAAC,MAAM;;;;;uFACxD,OAAO,cAAc,6BAAe,6LAAC,mPAAc;gFAAC,MAAM;;;;;qGAC1D,6LAAC,mOAAU;gFAAC,MAAM;;;;;;4EAClB,WAAW,OAAO,aAAa;4EAAU;4EAAE,OAAO,eAAe,aAAa,MAAM,UAAU,KAAK,QAAQ,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,MAAM,UAAU,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC;;;;;;;kFAE3J,6LAAC;wEAAK,OAAO;4EAAE,OAAO;4EAAkB,UAAU,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;wEAAC;;4EAC7E,OAAO,YAAY,aAAa,CAAC,KAAK,EAAE,eAAe,MAAM,OAAO,GAAG;4EACvE,OAAO,YAAY,aAAa,CAAC,OAAO,QAAQ,aAAa,OAAO,QAAQ,SAAS,KAAK;4EAC1F,OAAO,QAAQ,aAAa,CAAC,KAAK,EAAE,eAAe,MAAM,GAAG,GAAG;4EAC9D,OAAO,QAAQ,aAAa,OAAO,QAAQ,aAAc;4EAC1D,OAAO,QAAQ,aAAa,CAAC,KAAK,EAAE,eAAe,MAAM,GAAG,GAAG;;;;;;;;;;;;;;;;;;;oDAOvE,QAAQ,OAAO,kBACd,6LAAC;wDAAI,OAAO;4DACV,YAAY;4DACZ,QAAQ;4DACR,cAAc,yIAAK,CAAC,YAAY,CAAC,EAAE;4DACnC,SAAS,yIAAK,CAAC,OAAO,CAAC,EAAE;4DACzB,cAAc,yIAAK,CAAC,OAAO,CAAC,EAAE;wDAChC;kEACE,cAAA,6LAAC;4DAAI,OAAO;gEACV,SAAS;gEACT,KAAK,yIAAK,CAAC,OAAO,CAAC,EAAE;gEACrB,YAAY;gEACZ,OAAO;gEACP,UAAU,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;gEACvC,YAAY;4DACd;;8EACE,6LAAC,4NAAS;oEAAC,MAAM;oEAAI,OAAO;wEAAE,WAAW;wEAAO,YAAY;oEAAE;;;;;;8EAC9D,6LAAC;8EAAK,QAAQ,OAAO,IAAI;;;;;;;;;;;;;;;;;oDAM9B,OAAO,MAAM,GAAG,mBACf,6LAAC;wDAAI,OAAO;4DAAE,cAAc,yIAAK,CAAC,OAAO,CAAC,EAAE;wDAAC;;0EAC3C,6LAAC;gEAAa,OAAO;oEAAE,UAAU,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;oEAAE,cAAc,yIAAK,CAAC,OAAO,CAAC,EAAE;gEAAC;0EAAG;;;;;;4DAGjG,OAAO,GAAG,CAAC,CAAC,OAAY;gEACvB,IAAI,CAAC,SAAS,OAAO,UAAU,UAAU,OAAO;gEAChD,qBACE,6LAAC;oEAAsB,WAAW,MAAM,QAAQ,IAAI;;sFAClD,6LAAC,sOAAW;4EAAC,WAAU;4EAAa,MAAM;;;;;;sFAC1C,6LAAC;4EAAI,WAAU;sFAAiB,MAAM,OAAO,IAAI;;;;;;;mEAFnC;;;;;4DAKpB;;;;;;;oDAKH,OAAO,MAAM,GAAG,mBACf,6LAAC;wDAAI,OAAO;4DAAE,cAAc,yIAAK,CAAC,OAAO,CAAC,EAAE;wDAAC;;0EAC3C,6LAAC;gEAAa,OAAO;oEAAE,UAAU,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;oEAAE,cAAc,yIAAK,CAAC,OAAO,CAAC,EAAE;gEAAC;0EAAG;;;;;;4DAGjG,OAAO,GAAG,CAAC,CAAC,KAAU;gEACrB,IAAI,CAAC,OAAO,OAAO,QAAQ,UAAU,OAAO;gEAC5C,MAAM,WAAW,IAAI,QAAQ,KAAK,SAAS,SAAS,IAAI,QAAQ,KAAK,WAAW,WAAW;gEAC3F,qBACE,6LAAC;oEAEC,WAAW;;sFAEX,6LAAC;4EAAI,WAAU;;8FACb,6LAAC,mNAAM;oFAAC,MAAM;;;;;;8FACd,6LAAC;8FAAI,IAAI,KAAK,IAAI;;;;;;8FAClB,6LAAC;oFAAc,WAAW;8FACvB,IAAI,QAAQ,IAAI;;;;;;;;;;;;sFAGrB,6LAAC;4EAAI,WAAU;sFAAmB,IAAI,OAAO,IAAI;;;;;;wEAChD,IAAI,OAAO,IAAI,MAAM,OAAO,CAAC,IAAI,OAAO,KAAK,IAAI,OAAO,CAAC,MAAM,GAAG,mBACjE,6LAAC;4EAAI,WAAU;;8FACb,6LAAC;oFAAO,OAAO;wFAAE,UAAU,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;wFAAE,OAAO;oFAAgB;8FAAG;;;;;;8FAGpF,6LAAC;8FACE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,QAAa,4BAC7B,6LAAC;sGAAsB,OAAO,WAAW,WAAW,SAAS;2FAApD;;;;;;;;;;;;;;;;;mEAlBZ;;;;;4DAyBX;;;;;;;oDAKH,QAAQ,QAAQ,IAAI,MAAM,OAAO,CAAC,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,CAAC,MAAM,GAAG,mBAChF,6LAAC;;0EACC,6LAAC;gEAAa,OAAO;oEAAE,UAAU,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;oEAAE,cAAc,yIAAK,CAAC,OAAO,CAAC,EAAE;gEAAC;;oEAAG;oEAC7E,QAAQ,QAAQ,CAAC,MAAM;oEAAC;;;;;;;0EAE7C,6LAAC;;kFACC,6LAAC;kFACC,cAAA,6LAAC;;8FACC,6LAAC;8FAAG;;;;;;8FACJ,6LAAC;oFAAG,OAAO;wFAAE,WAAW;oFAAQ;8FAAG;;;;;;;;;;;;;;;;;kFAGvC,6LAAC;;4EACE,MAAM,OAAO,CAAC,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,OAAY;gFAChF,IAAI,CAAC,SAAS,OAAO,UAAU,UAAU,OAAO;gFAChD,MAAM,SAAS,MAAM,MAAM,IAAI,CAAC,MAAM,IAAI,GAAG,WAAW,MAAM,IAAI,IAAI,CAAC,OAAO,EAAE,QAAQ,GAAG;gFAC3F,MAAM,QAAQ,MAAM,gBAAgB,KAAK,YAAY,MAAM,gBAAgB,GAAI,MAAM,KAAK,KAAK,YAAY,MAAM,KAAK,GAAG;gFACzH,qBACE,6LAAC;;sGACC,6LAAC;sGAAI;;;;;;sGACL,6LAAC;4FAAG,OAAO;gGAAE,WAAW;gGAAS,YAAY,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI;4FAAC;sGAC5E,eAAe;;;;;;;mFAHX;;;;;4EAOb;4EACC,MAAM,OAAO,CAAC,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,CAAC,MAAM,GAAG,mBAC5D,6LAAC;0FACC,cAAA,6LAAC;oFAAG,SAAS;oFAAG,OAAO;wFAAE,WAAW;wFAAU,OAAO;wFAAkB,WAAW;oFAAS;;wFAAG;wFACnF,QAAQ,QAAQ,CAAC,MAAM,GAAG;wFAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+CAlK3C;;;;;wCA4Kd;sEAGF,6LAAC;;0DACC,6LAAC,gNAAK;gDAAC,MAAM;;;;;;0DACb,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAE;;;;;;0DACH,6LAAC;gDAAI,OAAO;oDAAE,WAAW,yIAAK,CAAC,OAAO,CAAC,EAAE;oDAAE,SAAS;oDAAQ,KAAK,yIAAK,CAAC,OAAO,CAAC,EAAE;oDAAE,UAAU;oDAAQ,gBAAgB;gDAAS;0DAC3H,AAAC;oDAAC;oDAAW;oDAAW;iDAAY,CAAW,GAAG,CAAC,CAAC,uBACnD,6LAAC;wDAAiB,OAAO;4DAAE,cAAc,yIAAK,CAAC,OAAO,CAAC,EAAE;wDAAC;kEACxD,cAAA,6LAAC;4DACC,SAAQ;4DACR,SAAS;gEACP,MAAM,WAAqC;oEACzC,SAAS;wEAAC;wEAAS;qEAAoB;oEACvC,SAAS;wEAAC;wEAAW;qEAAU;oEAC/B,WAAW;wEAAC;wEAAU;qEAAU;gEAClC;gEACA,MAAM,YAAY,QAAQ,CAAC,OAAO,EAAE,CAAC,EAAE,IAAI;gEAC3C,mBAAmB,QAAQ;4DAC7B;4DACA,UAAU,uBAAuB,GAAG,OAAO,MAAM,CAAC,IAAI,uBAAuB,GAAG,OAAO,QAAQ,CAAC,IAAI,uBAAuB,GAAG,OAAO,OAAO,CAAC,IAAI,uBAAuB,GAAG,OAAO,kBAAkB,CAAC,IAAI,uBAAuB,GAAG,OAAO,QAAQ,CAAC;sEAElP,oBAAoB,WAAW,wBAC9B;;kFACE,6LAAC,+NAAO;wEAAC,MAAM;wEAAI,OAAO;4EAAE,aAAa,yIAAK,CAAC,OAAO,CAAC,EAAE;4EAAE,WAAW;wEAA0B;;;;;;oEAAK;;6FAIvG;;kFACE,6LAAC,0MAAG;wEAAC,MAAM;wEAAI,OAAO;4EAAE,aAAa,yIAAK,CAAC,OAAO,CAAC,EAAE;wEAAC;;;;;;oEAAK;oEACpD,WAAW;oEAAQ;;;;;;;;uDAtBxB;;;;;;;;;;;;;;;;;;;;;;;;;;;wBAoCvB,CAAC,MAAM,SAAS,qBAAqB,MAAM,SAAS,mBAAmB,MAAM,SAAS,WAAW,MAAM,SAAS,iBAAiB,MAAM,SAAS,SAAS,mBACxJ,6LAAC;sCACC,cAAA,6LAAC;;kDACC,6LAAC;kDACC,cAAA,6LAAC;;8DACC,6LAAC;;sEACC,6LAAC,gOAAS;;;;;wDAAG;;;;;;;8DAGf,6LAAC;8DAAE;;;;;;;;;;;;;;;;;oCAMN,aAAa,UAAU,MAAM,GAAG,kBAC/B;;0DACE,6LAAC;;kEACC,6LAAC;;0EACC,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,gOAAS;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAGzB,6LAAC;gEAAI,WAAU;0EAAS,UAAU,MAAM;;;;;;0EACxC,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;kEAI7B,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,mOAAU;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG1B,6LAAC;gEAAI,WAAU;0EACZ,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,aAAa,KAAK,WAAW,MAAM;;;;;;0EAE9D,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;kEAI7B,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,mPAAc;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAG9B,6LAAC;gEAAI,WAAU;0EACZ,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,aAAa,KAAK,WAAW,MAAM;;;;;;0EAE9D,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;kEAI7B,6LAAC;wDAAY,OAAM;;0EACjB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,kOAAS;wEAAC,MAAM;;;;;;oEAAM;;;;;;;0EAGzB,6LAAC;gEAAI,WAAU;0EACZ,UAAU,MAAM,CAAC,CAAA,IAChB,EAAE,MAAM,KAAK,WACb,EAAE,MAAM,KAAK,aACb,EAAE,MAAM,KAAK,aACb,EAAE,MAAM,KAAK,UACb,EAAE,MAAM,KAAK,uBACb,EAAE,MAAM,KAAK,UACb,MAAM;;;;;;0EAEV,6LAAC;gEAAI,WAAU;0EAAY;;;;;;;;;;;;;;;;;;0DAM/B,6LAAC;gDAAI,OAAO;oDAAE,WAAW,yIAAK,CAAC,OAAO,CAAC,EAAE;gDAAC;;kEACxC,6LAAC;kEAAa;;;;;;kEACd,6LAAC;;0EACC,6LAAC;0EACC,cAAA,6LAAC;;sFACC,6LAAC;sFAAG;;;;;;sFACJ,6LAAC;sFAAG;;;;;;sFACJ,6LAAC;sFAAG;;;;;;sFACJ,6LAAC;sFAAG;;;;;;sFACJ,6LAAC;4EAAG,OAAO;gFAAE,WAAW;4EAAQ;sFAAG;;;;;;sFACnC,6LAAC;sFAAG;;;;;;sFACJ,6LAAC;sFAAG;;;;;;;;;;;;;;;;;0EAGR,6LAAC;0EACE,UAAU,GAAG,CAAC,CAAC;oEACd,MAAM,eAAe,SAAS,aAAa,IAAI,EAAE;oEACjD,MAAM,kBAAkB,aAAa,MAAM,CAAC,CAAC,KAAK,QAAU,MAAM,CAAC,MAAM,gBAAgB,IAAI,CAAC,GAAG;oEACjG,MAAM,YAAY,SAAS,MAAM,KAAK,WACrB,SAAS,MAAM,KAAK,aACpB,SAAS,MAAM,KAAK,aACpB,SAAS,MAAM,KAAK,UACpB,SAAS,MAAM,KAAK,uBACpB,SAAS,MAAM,KAAK;oEAErC,qBACE,6LAAC;;0FACC,6LAAC;;kGACC,6LAAC;kGAAQ,SAAS,IAAI;;;;;;oFACrB,SAAS,WAAW,kBACnB,6LAAC;wFAAI,OAAO;4FAAE,UAAU,yIAAK,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;4FAAE,OAAO;4FAAkB,WAAW,yIAAK,CAAC,OAAO,CAAC,EAAE;wFAAC;kGACzG,SAAS,WAAW;;;;;;;;;;;;0FAI3B,6LAAC;0FACC,cAAA,6LAAC;oFAAK,OAAO;wFAAE,eAAe;oFAAa;8FACxC,SAAS,aAAa;;;;;;;;;;;0FAG3B,6LAAC;0FACC,cAAA,6LAAC;oFAAK,OAAO;wFAAE,eAAe;oFAAa;;wFACxC,SAAS,MAAM,CAAC,OAAO,CAAC,MAAM;wFAC9B,aAAa;;;;;;;;;;;;0FAGlB,6LAAC;;oFACE,WAAW,SAAS,UAAU;oFAAE;oFAAI,WAAW,SAAS,QAAQ;;;;;;;0FAEnE,6LAAC;gFAAG,OAAO;oFAAE,WAAW;oFAAS,YAAY,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI;gFAAC;0FAC5E,eAAe;;;;;;0FAElB,6LAAC;0FAAI,aAAa,MAAM;;;;;;0FACxB,6LAAC;0FAAI,WAAW,SAAS,UAAU;;;;;;;uEA3B5B,SAAS,EAAE;;;;;gEA8BxB;;;;;;;;;;;;;;;;;;0DAKN,6LAAC;gDAAI,OAAO;oDAAE,WAAW,yIAAK,CAAC,OAAO,CAAC,EAAE;gDAAC;;kEACxC,6LAAC;kEAAa;;;;;;kEACd,6LAAC;;0EACC,6LAAC;0EACC,cAAA,6LAAC;;sFACC,6LAAC;sFAAG;;;;;;sFACJ,6LAAC;4EAAG,OAAO;gFAAE,WAAW;4EAAQ;sFAAG;;;;;;sFACnC,6LAAC;4EAAG,OAAO;gFAAE,WAAW;4EAAQ;sFAAG;;;;;;sFACnC,6LAAC;4EAAG,OAAO;gFAAE,WAAW;4EAAQ;sFAAG;;;;;;;;;;;;;;;;;0EAGvC,6LAAC;0EACE;oEAAC;oEAAW;oEAAW;oEAAU;iEAAY,CAAC,GAAG,CAAC,CAAC;oEAClD,MAAM,gBAAgB,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,aAAa,KAAK;oEAChE,IAAI,cAAc,MAAM,KAAK,GAAG,OAAO;oEAEvC,MAAM,aAAa,cAAc,MAAM,CAAC,CAAC,KAAK;wEAC5C,MAAM,OAAO,EAAE,aAAa,IAAI,EAAE;wEAClC,OAAO,MAAM,KAAK,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,CAAC,EAAE,gBAAgB,IAAI,CAAC,GAAG;oEACpE,GAAG;oEAEH,qBACE,6LAAC;;0FACC,6LAAC;gFAAG,OAAO;oFAAE,eAAe;oFAAc,YAAY,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM;gFAAC;0FACvF;;;;;;0FAEH,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;0FAAI,cAAc,MAAM;;;;;;0FACxD,6LAAC;gFAAG,OAAO;oFAAE,WAAW;oFAAS,YAAY,yIAAK,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI;gFAAC;0FAC5E,eAAe;;;;;;0FAElB,6LAAC;gFAAG,OAAO;oFAAE,WAAW;gFAAQ;0FAC7B,eAAe,aAAa,cAAc,MAAM;;;;;;;uEAT5C;;;;;gEAab,GAAG,MAAM,CAAC;;;;;;;;;;;;;;;;;;;qEAMlB,6LAAC;;0DACC,6LAAC,gOAAS;gDAAC,MAAM;;;;;;0DACjB,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWzB;GAv+DwB;;QACL,6IAAO;QACN,gIAAY;;;OAFR","debugId":null}}]
frontend/.next/dev/static/chunks/[root-of-the-server]__2d68b843._.js:    async getFinancialSummary(startDate, endDate) {
frontend/.next/dev/static/chunks/[root-of-the-server]__2d68b843._.js.map:    {"offset": {"line": 514, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASHROCK/Desktop/pro%2B/project3/projectai/frontend/lib/api.ts"],"sourcesContent":["// lib/api.ts\r\n'use client';\r\n\r\nimport axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\r\n\r\nconst DEFAULT_BASE_URL = 'http://localhost:8000/api/v1';\r\nconst API_BASE_URL = (process.env.NEXT_PUBLIC_API_URL || DEFAULT_BASE_URL).replace(/\\/$/, '');\r\n\r\ninterface ApiResponse<T = unknown> {\r\n  success?: boolean;\r\n  data: T;\r\n  message?: string;\r\n  error?: string;\r\n}\r\n\r\ntype Filters = Record<string, string | number | boolean | undefined>;\r\ntype RevenueRecord = {\r\n  id?: number | string;\r\n  amount?: number;\r\n  date?: string;\r\n  created_at?: string;\r\n  [key: string]: unknown;\r\n};\r\ntype ExpenseRecord = RevenueRecord;\r\ntype TransactionRecord = (RevenueRecord | ExpenseRecord) & {\r\n  transaction_type: 'revenue' | 'expense';\r\n};\r\n\r\ninterface AuthTokens {\r\n  access_token: string;\r\n  token_type: string;\r\n}\r\n\r\ninterface User {\r\n  id: number;\r\n  email: string;\r\n  username?: string;\r\n  full_name: string;\r\n  role: string;\r\n  department?: string;\r\n  phone?: string | null;\r\n  is_active: boolean;\r\n  created_at?: string;\r\n  manager_id?: number;\r\n}\r\n\r\ntype LoginResponse = AuthTokens & { user: User };\r\nexport type ApiUser = User;\r\nexport interface ApiRole {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  permissions?: string[];\r\n  user_count?: number;\r\n  permission_count?: number;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nclass ApiClient {\r\n  private client: AxiosInstance;\r\n\r\n  constructor() {\r\n    this.client = axios.create({\r\n      baseURL: API_BASE_URL,\r\n      timeout: 300000, // 5 minutes timeout for ML training requests (can take longer)\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    this.setupInterceptors();\r\n  }\r\n\r\n  private setupInterceptors() {\r\n    this.client.interceptors.request.use(\r\n      (config) => {\r\n        if (typeof window !== 'undefined') {\r\n          const token = localStorage.getItem('access_token');\r\n          if (token) {\r\n            config.headers = config.headers ?? {};\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n          }\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(error),\r\n    );\r\n\r\n    this.client.interceptors.response.use(\r\n      (response) => response,\r\n      async (error) => {\r\n        const originalRequest = error.config;\r\n        const requestUrl = originalRequest?.url || '';\r\n        \r\n        // Handle 401 Unauthorized - but DON'T redirect on login endpoint\r\n        // The login page handles its own error states and redirects\r\n        if (error.response?.status === 401 && !originalRequest?._retry) {\r\n          originalRequest._retry = true;\r\n          if (typeof window !== 'undefined') {\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n            \r\n            // Only redirect if NOT on the login endpoint\r\n            // Login endpoint errors should be handled by the login page component\r\n            const isLoginEndpoint = requestUrl.includes('/auth/login-json') || \r\n                                   requestUrl.includes('/auth/login');\r\n            \r\n            if (!isLoginEndpoint && !window.location.pathname.includes('/auth/login')) {\r\n              // Redirect to home page for other 401 errors (not login-related)\r\n              window.location.href = '/';\r\n            }\r\n            // For login endpoint 401s, let the error propagate to the component\r\n          }\r\n        }\r\n        \r\n        // Handle 403 Forbidden - user doesn't have permission\r\n        if (error.response?.status === 403) {\r\n          const url = error.config?.url || '';\r\n          const errorDetail = error.response?.data?.detail || 'Insufficient permissions';\r\n          \r\n          // Suppress warnings for expected 403s on role-restricted endpoints\r\n          // These are handled gracefully by the calling code\r\n          const suppressWarnings = url.includes('/inventory/summary') || \r\n                                   url.includes('/sales/summary') || \r\n                                   url.includes('/sales/summary/overview') ||\r\n                                   url.includes('/sales/journal-entries') ||\r\n                                   url.includes('/backup');\r\n          \r\n          // For user endpoints, provide more helpful error messages\r\n          if (url.includes('/users/') && !url.includes('/users/me')) {\r\n            // Don't suppress warnings for user endpoints - these are important\r\n            if (typeof window !== 'undefined') {\r\n              console.warn('Access forbidden to user resource:', errorDetail);\r\n            }\r\n            // Enhance error with more context\r\n            error.response.data = {\r\n              ...error.response.data,\r\n              detail: errorDetail,\r\n              message: `You don't have permission to access this user. ${errorDetail}`,\r\n            };\r\n          } else if (!suppressWarnings && typeof window !== 'undefined') {\r\n            console.warn('Access forbidden:', errorDetail);\r\n          }\r\n        }\r\n        \r\n        // Handle 404 Not Found - suppress console warnings for non-critical endpoints\r\n        if (error.response?.status === 404) {\r\n          const url = error.config?.url || '';\r\n          // Only log 404s in development mode to reduce console noise\r\n          if (process.env.NODE_ENV === 'development' && typeof window !== 'undefined') {\r\n            console.warn('Resource not found:', url);\r\n          }\r\n        }\r\n        \r\n        // Handle network errors - suppress repetitive errors for polling endpoints\r\n        if (!error.response) {\r\n          const url = error.config?.url || '';\r\n          // Suppress errors for polling endpoints to reduce console noise\r\n          // These are expected when backend is down\r\n          const isPollingEndpoint = url.includes('/notifications/unread/count') || \r\n                                   url.includes('/dashboard/recent-activity') ||\r\n                                   url.includes('/health');\r\n          \r\n          if (!isPollingEndpoint) {\r\n            // Only log non-polling endpoint errors\r\n            const errorMessage = error.message || 'Network error: Unable to connect to server';\r\n            \r\n            if (process.env.NODE_ENV === 'development') {\r\n              console.error('Network error:', errorMessage);\r\n              \r\n              if (error.code === 'ECONNREFUSED' || error.message?.includes('Network Error')) {\r\n                console.error('Backend server may not be running. Please ensure the backend is running on http://localhost:8000');\r\n              } else if (error.code === 'ERR_NETWORK') {\r\n                console.error('Network request failed. Check your internet connection and backend server status.');\r\n              }\r\n            }\r\n          }\r\n          // Polling endpoint errors are silently handled - they're expected when backend is down\r\n        }\r\n        \r\n        return Promise.reject(error);\r\n      },\r\n    );\r\n  }\r\n\r\n  private normalizeResponse<T>(payload: unknown): ApiResponse<T> {\r\n    // Handle different response formats from the backend\r\n    if (!payload) {\r\n      return { data: null as unknown as T };\r\n    }\r\n    \r\n    // If payload is already in ApiResponse format\r\n    if (typeof payload === 'object' && payload !== null) {\r\n      if ('data' in payload) {\r\n        return payload as ApiResponse<T>;\r\n      }\r\n      // If payload is the data itself (direct response)\r\n      return { data: payload as T };\r\n    }\r\n    \r\n    // Fallback: wrap primitive values\r\n    return { data: payload as T };\r\n  }\r\n\r\n  /**\r\n   * Extract error message from various error formats\r\n   */\r\n  private extractErrorMessage(error: unknown): string {\r\n    if (error && typeof error === 'object') {\r\n      // Axios error format\r\n      if ('response' in error) {\r\n        const axiosError = error as { response?: { data?: { detail?: string; message?: string; error?: string } } };\r\n        return axiosError.response?.data?.detail || \r\n               axiosError.response?.data?.message || \r\n               axiosError.response?.data?.error || \r\n               'An error occurred';\r\n      }\r\n      // Standard Error object\r\n      if ('message' in error) {\r\n        return (error as { message: string }).message;\r\n      }\r\n    }\r\n    // Fallback\r\n    return error instanceof Error ? error.message : 'An unknown error occurred';\r\n  }\r\n\r\n  private async get<T>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.get<T>(url, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async post<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.post<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async put<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.put<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async delete<T>(url: string, data?: unknown, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.delete<T>(url, { ...config, data });\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  // Auth endpoints\r\n  async login(identifier: string, password: string): Promise<ApiResponse<LoginResponse>> {\r\n    const response = await this.client.post<LoginResponse>('/auth/login-json', {\r\n      username: identifier,\r\n      password,\r\n    });\r\n    const normalized = this.normalizeResponse<LoginResponse>(response.data);\r\n    \r\n    // Only set token if we have a valid access token and user data\r\n    if (normalized.data?.access_token && normalized.data?.user) {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.setItem('access_token', normalized.data.access_token);\r\n      }\r\n    } else {\r\n      // Clear any existing tokens if response is invalid\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n        localStorage.removeItem('refresh_token');\r\n      }\r\n      throw new Error('Invalid login response: missing access token or user data');\r\n    }\r\n    \r\n    return normalized;\r\n  }\r\n\r\n  async register(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post<User>('/auth/register', userData);\r\n  }\r\n\r\n  async logout(): Promise<void> {\r\n    try {\r\n      await this.post('/auth/logout');\r\n    } finally {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n      }\r\n    }\r\n  }\r\n\r\n  async refreshToken(): Promise<ApiResponse<{ access_token: string }>> {\r\n    if (typeof window === 'undefined') throw new Error('Token refresh is client only');\r\n    const token = localStorage.getItem('access_token');\r\n    if (!token) throw new Error('No token to refresh');\r\n    const response = await this.client.post('/auth/refresh', { token });\r\n    const normalized = this.normalizeResponse<{ access_token: string }>(response.data);\r\n    localStorage.setItem('access_token', normalized.data.access_token);\r\n    return normalized;\r\n  }\r\n\r\n  async generateOTP(): Promise<ApiResponse<{ otp_code: string; message: string }>> {\r\n    return this.post('/auth/generate-otp');\r\n  }\r\n\r\n  async verifyOTP(otp_code: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/verify-otp', { otp_code });\r\n  }\r\n\r\n  async requestOTP(email: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/request-otp', { email });\r\n  }\r\n\r\n  async resetPassword(email: string, code: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/reset-password', { email, code, newPassword });\r\n  }\r\n\r\n  // User endpoints\r\n  async getCurrentUser(): Promise<ApiResponse<User>> {\r\n    return this.get('/users/me');\r\n  }\r\n\r\n  async updateCurrentUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put('/users/me', userData);\r\n  }\r\n\r\n  async changePassword(currentPassword: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/users/me/change-password', { current_password: currentPassword, new_password: newPassword });\r\n  }\r\n\r\n  async getUsers(): Promise<ApiResponse<User[]>> {\r\n    try {\r\n      const response = await this.get<User[]>('/users/');\r\n      // Ensure we always return an array\r\n      if (Array.isArray(response.data)) {\r\n        return response;\r\n      }\r\n      return { ...response, data: [] };\r\n    } catch (error: unknown) {\r\n      const axiosError = error as { response?: { status?: number } };\r\n      if (axiosError.response?.status === 403) {\r\n        // Return empty array instead of throwing for 403 on list endpoint\r\n        // This allows the UI to handle permission errors gracefully\r\n        return { data: [] };\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getUser(userId: number): Promise<ApiResponse<User>> {\r\n    try {\r\n      return await this.get(`/users/${userId}`);\r\n    } catch (error: unknown) {\r\n      // Provide better error context for user fetch failures\r\n      const axiosError = error as { response?: { status?: number; data?: { detail?: string } } };\r\n      if (axiosError.response?.status === 403) {\r\n        const detail = axiosError.response.data?.detail || 'Insufficient permissions';\r\n        const enhancedError = new Error(`Cannot access user ${userId}: ${detail}`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      if (axiosError.response?.status === 404) {\r\n        const enhancedError = new Error(`User ${userId} not found`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getSubordinates(userId: number): Promise<ApiResponse<User[]>> {\r\n    return this.get(`/users/${userId}/subordinates`);\r\n  }\r\n\r\n  async createUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    try {\r\n      return await this.post('/users', userData);\r\n    } catch (error: unknown) {\r\n      // Provide better error context for user creation failures\r\n      const axiosError = error as { response?: { status?: number; data?: { detail?: string } } };\r\n      if (axiosError.response?.status === 403) {\r\n        const detail = axiosError.response.data?.detail || 'Insufficient permissions';\r\n        const enhancedError = new Error(`Cannot create user: ${detail}. You may not have permission to create users with this role.`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      if (axiosError.response?.status === 400) {\r\n        const detail = axiosError.response.data?.detail || 'Invalid user data';\r\n        const enhancedError = new Error(`Failed to create user: ${detail}`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a subordinate (accountant or employee)\r\n   * Used by finance managers to create accountants/employees\r\n   */\r\n  async createSubordinate(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post('/users/subordinates', userData);\r\n  }\r\n\r\n  async updateUser(userId: number, userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put(`/users/${userId}`, userData);\r\n  }\r\n\r\n  async deleteUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/delete`, { password });\r\n  }\r\n\r\n  async activateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/deactivate`, { password });\r\n  }\r\n\r\n  // Permission endpoints\r\n  async getUserPermissions(userId: number): Promise<ApiResponse<{ permissions: string[] }>> {\r\n    return this.get(`/users/${userId}/permissions`);\r\n  }\r\n\r\n  async updateUserPermissions(userId: number, permissions: string[]): Promise<ApiResponse<{ message: string; permissions: string[] }>> {\r\n    return this.put(`/users/${userId}/permissions`, { permissions });\r\n  }\r\n\r\n  // Financial endpoints\r\n  async getRevenues(filters?: Filters): Promise<ApiResponse<RevenueRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/revenue', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getRevenue(revenueId: number): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.get(`/revenue/${revenueId}`);\r\n  }\r\n\r\n  async createRevenue(revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.post('/revenue', revenueData);\r\n  }\r\n\r\n  async updateRevenue(revenueId: number, revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.put(`/revenue/${revenueId}`, revenueData);\r\n  }\r\n\r\n  async deleteRevenue(revenueId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/revenue/${revenueId}/delete`, { password });\r\n  }\r\n\r\n  async getExpenses(filters?: Filters): Promise<ApiResponse<ExpenseRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/expenses', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getExpense(expenseId: number): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.get(`/expenses/${expenseId}`);\r\n  }\r\n\r\n  async createExpense(expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.post('/expenses', expenseData);\r\n  }\r\n\r\n  async updateExpense(expenseId: number, expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.put(`/expenses/${expenseId}`, expenseData);\r\n  }\r\n\r\n  async deleteExpense(expenseId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/expenses/${expenseId}/delete`, { password });\r\n  }\r\n\r\n  // Transactions (combined revenues and expenses)\r\n  async getTransactions(): Promise<ApiResponse<TransactionRecord[]>> {\r\n    try {\r\n      const [revenuesResponse, expensesResponse] = await Promise.all([\r\n        this.getRevenues(),\r\n        this.getExpenses(),\r\n      ]);\r\n\r\n      const revenues = (revenuesResponse.data || []).map((r: RevenueRecord): TransactionRecord => ({\r\n        ...r,\r\n        transaction_type: 'revenue',\r\n        id: `revenue-${r.id}`,\r\n      }));\r\n\r\n      const expenses = (expensesResponse.data || []).map((e: ExpenseRecord): TransactionRecord => ({\r\n        ...e,\r\n        transaction_type: 'expense',\r\n        id: `expense-${e.id}`,\r\n        amount: -Math.abs(Number(e.amount ?? 0)), // Make expenses negative\r\n      }));\r\n\r\n      const transactions = [...revenues, ...expenses].sort((a, b) => {\r\n        const dateA = new Date(a.date || a.created_at || 0).getTime();\r\n        const dateB = new Date(b.date || b.created_at || 0).getTime();\r\n        return dateB - dateA; // Most recent first\r\n      });\r\n\r\n      return { data: transactions };\r\n    } catch (error) {\r\n      // Error handled by caller\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Dashboard\r\n  async getDashboardOverview(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/overview');\r\n  }\r\n\r\n  async getDashboardKPIs(period: 'week' | 'month' | 'quarter' | 'year' = 'month'): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/kpis', { params: { period } });\r\n  }\r\n\r\n  async getDashboardRecentActivity(limit = 10): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/dashboard/recent-activity', { params: { limit } });\r\n  }\r\n\r\n  // Analytics\r\n  async getAdvancedKPIs(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/kpis', { params });\r\n  }\r\n\r\n  async getTrendAnalysis(params?: {\r\n    metric?: 'revenue' | 'expenses' | 'profit';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/trends', { params });\r\n  }\r\n\r\n  async getTimeSeriesData(params?: {\r\n    interval?: 'day' | 'week' | 'month' | 'quarter' | 'year';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/time-series', { params });\r\n  }\r\n\r\n  async getCategoryBreakdown(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/category-breakdown', { params });\r\n  }\r\n\r\n  async getAnalyticsOverview(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get('/analytics/overview', { params });\r\n  }\r\n\r\n  // Reports\r\n  async getReports(filters?: Filters): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    return this.get('/reports', { params: filters });\r\n  }\r\n\r\n  async getReport(reportId: number): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get(`/reports/${reportId}`);\r\n  }\r\n\r\n  async createReport(reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.post('/reports', reportData);\r\n  }\r\n\r\n  async updateReport(reportId: number, reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.put(`/reports/${reportId}`, reportData);\r\n  }\r\n\r\n  async deleteReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/reports/${reportId}`);\r\n  }\r\n\r\n  async downloadReport(reportId: number): Promise<ApiResponse<{ download_url: string; file_size: number; filename: string }>> {\r\n    return this.post(`/reports/${reportId}/download`);\r\n  }\r\n\r\n  async regenerateReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/reports/${reportId}/regenerate`);\r\n  }\r\n\r\n  async getAvailableReportTypes(): Promise<ApiResponse<{ report_types: Array<{ type: string; name: string; description: string }> }>> {\r\n    return this.get('/reports/types/available');\r\n  }\r\n\r\n  // Financial Reports - Direct data fetching\r\n  async getIncomeStatement(startDate?: string, endDate?: string): Promise<ApiResponse<Record<string, unknown>>> {\r\n    const params: Filters = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n    \r\n    // Fetch revenue and expense data to calculate income statement\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n      \r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate totals - ONLY from approved entries\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n\r\n    // Group by category - handle both enum and string categories - ONLY from approved entries\r\n    const revenueByCategory: Record<string, number> = {};\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const catValue =\r\n        r.category && typeof r.category === 'object' && 'value' in r.category\r\n          ? (r.category as { value?: unknown }).value\r\n          : r.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      revenueByCategory[catKey] = (revenueByCategory[catKey] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const catValue =\r\n        e.category && typeof e.category === 'object' && 'value' in e.category\r\n          ? (e.category as { value?: unknown }).value\r\n          : e.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      expenseByCategory[catKey] = (expenseByCategory[catKey] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        revenue: {\r\n          total: totalRevenue,\r\n          by_category: revenueByCategory,\r\n        },\r\n        expenses: {\r\n          total: totalExpenses,\r\n          by_category: expenseByCategory,\r\n        },\r\n        profit,\r\n        profit_margin: totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0,\r\n      },\r\n    };\r\n  }\r\n\r\n  async getCashFlow(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    summary: { total_inflow: number; total_outflow: number; net_cash_flow: number };\r\n    daily_cash_flow: Record<string, { inflow: number; outflow: number; net: number }>;\r\n  }>> {\r\n    const params: Record<string, unknown> = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n    \r\n    // Fetch revenue and expense data to calculate cash flow\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([this.getRevenues(), this.getExpenses()]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures cash flow is only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate daily cash flow - ONLY from approved entries\r\n    const cashFlowByDay: Record<string, { inflow: number; outflow: number; net: number }> = {};\r\n    \r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = r.date || r.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(r.amount || 0);\r\n      cashFlowByDay[day].inflow += amount;\r\n      cashFlowByDay[day].net += amount;\r\n    });\r\n\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = e.date || e.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(e.amount || 0);\r\n      cashFlowByDay[day].outflow += amount;\r\n      cashFlowByDay[day].net -= amount;\r\n    });\r\n\r\n    const totalInflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.inflow, 0);\r\n    const totalOutflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.outflow, 0);\r\n    const netCashFlow = totalInflow - totalOutflow;\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        summary: {\r\n          total_inflow: totalInflow,\r\n          total_outflow: totalOutflow,\r\n          net_cash_flow: netCashFlow,\r\n        },\r\n        daily_cash_flow: cashFlowByDay,\r\n      },\r\n    };\r\n  }\r\n\r\n  // Financial Summary Report\r\n  async getFinancialSummary(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    financials: {\r\n      total_revenue: number;\r\n      total_expenses: number;\r\n      profit: number;\r\n      profit_margin: number;\r\n    };\r\n    revenue_by_category: Record<string, number>;\r\n    expenses_by_category: Record<string, number>;\r\n    transaction_counts: { revenue: number; expenses: number; total: number };\r\n    generated_at: string;\r\n  }>> {\r\n    // Always fetch all data first, then calculate summary\r\n    const [allRevenuesRes, allExpensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = allRevenuesRes.data || [];\r\n    let expenses = allExpensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n    \r\n    // Filter to only include APPROVED revenue entries for calculations\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    \r\n    // Filter to only include APPROVED expense entries for calculations\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate totals from filtered data - ONLY approved revenue and expenses\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n    const profitMargin = totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0;\r\n\r\n    // Process category summaries - ONLY from approved revenue\r\n    const revenueByCategory: Record<string, number> = {};\r\n    const normalizeCategory = (raw: unknown): string => {\r\n      if (typeof raw === 'string') return raw || 'other';\r\n      if (raw && typeof raw === 'object' && 'value' in raw) {\r\n        const value = (raw as { value?: unknown }).value;\r\n        return typeof value === 'string' ? value : String(value ?? 'other');\r\n      }\r\n      return String(raw ?? 'other');\r\n    };\r\n\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const cat = normalizeCategory(r.category);\r\n      revenueByCategory[cat] = (revenueByCategory[cat] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    // Process category summaries - ONLY from approved expenses\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const cat = normalizeCategory(e.category);\r\n      expenseByCategory[cat] = (expenseByCategory[cat] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    // Calculate actual transaction counts - ONLY approved items\r\n    const revenueCount = approvedRevenues.length;\r\n    const expenseCount = approvedExpenses.length;\r\n\r\n    const result = {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        financials: {\r\n          total_revenue: totalRevenue,\r\n          total_expenses: totalExpenses,\r\n          profit,\r\n          profit_margin: profitMargin,\r\n        },\r\n        revenue_by_category: revenueByCategory,\r\n        expenses_by_category: expenseByCategory,\r\n        transaction_counts: {\r\n          revenue: revenueCount,\r\n          expenses: expenseCount,\r\n          total: revenueCount + expenseCount,\r\n        },\r\n        generated_at: new Date().toISOString(),\r\n      },\r\n    };\r\n\r\n    return result;\r\n  }\r\n\r\n  // Approvals\r\n  async getApprovals(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/approvals');\r\n  }\r\n\r\n  async getApproval(approvalId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/approvals/${approvalId}`);\r\n  }\r\n\r\n  async getApprovalComments(approvalId: number): Promise<ApiResponse<unknown[]>> {\r\n    return this.get(`/approvals/${approvalId}/comments`);\r\n  }\r\n\r\n  async createApprovalComment(approvalId: number, comment: string): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${approvalId}/comments`, { comment });\r\n  }\r\n\r\n  async approveItem(itemId: number, itemType: 'revenue' | 'expense'): Promise<ApiResponse<unknown>> {\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/approve`);\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/approve`);\r\n    }\r\n  }\r\n\r\n  async rejectItem(\r\n    itemId: number,\r\n    itemType: 'revenue' | 'expense',\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // Reject revenue or expense entry through their respective endpoints\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    }\r\n  }\r\n\r\n  async approveWorkflow(workflowId: number): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/approve`);\r\n  }\r\n\r\n  async rejectWorkflow(\r\n    workflowId: number,\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/reject`, { rejection_reason: reason, password });\r\n  }\r\n\r\n  // Notifications\r\n  async getNotifications(unreadOnly?: boolean): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/notifications', { params: { unread_only: unreadOnly } });\r\n  }\r\n\r\n  async getNotification(notificationId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async markNotificationAsRead(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/notifications/${notificationId}/mark-read`);\r\n  }\r\n\r\n  async markAllNotificationsAsRead(): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/notifications/mark-all-read');\r\n  }\r\n\r\n  async deleteNotification(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async getUnreadCount(): Promise<ApiResponse<{ unread_count: number }>> {\r\n    return this.get('/notifications/unread/count');\r\n  }\r\n\r\n  async getNotificationPreferences(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/notifications/preferences');\r\n  }\r\n\r\n  async updateNotificationPreferences(\r\n    preferences: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put('/notifications/preferences', preferences);\r\n  }\r\n\r\n  // Admin endpoints\r\n  async getAdminSystemStats(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/system/stats');\r\n  }\r\n\r\n  async getSystemSettings(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/settings');\r\n  }\r\n\r\n  async getSystemHealth(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/health');\r\n  }\r\n\r\n  async getHierarchy(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/hierarchy');\r\n  }\r\n\r\n  async getRoles(): Promise<ApiResponse<ApiRole[]>> {\r\n    return this.get('/admin/roles');\r\n  }\r\n\r\n  async getPermissions(): Promise<ApiResponse<string[]>> {\r\n    return this.get('/admin/permissions');\r\n  }\r\n\r\n  async createRole(roleData: { name: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.post('/admin/roles', payload);\r\n  }\r\n\r\n  async updateRole(roleId: number, roleData: { name?: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.put(`/admin/roles/${roleId}`, payload);\r\n  }\r\n\r\n  async deleteRole(roleId: number): Promise<ApiResponse<null>> {\r\n    return this.delete(`/admin/roles/${roleId}`);\r\n  }\r\n\r\n  // Backup endpoints\r\n  async createBackup(includeFiles: boolean = false): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/create', null, {\r\n      params: { include_files: includeFiles }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async listBackups(): Promise<ApiResponse<{ backups: unknown[] }>> {\r\n    return this.get('/admin/backup/list');\r\n  }\r\n\r\n  async restoreBackup(backupName: string): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/restore', null, {\r\n      params: { backup_name: backupName }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async deleteBackup(backupName: string, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/admin/backup/${encodeURIComponent(backupName)}/delete`, { password });\r\n  }\r\n\r\n  async getVerificationHistory(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/users/me/verification-history');\r\n  }\r\n\r\n  // 2FA endpoints\r\n  async get2FAStatus(): Promise<ApiResponse<{ enabled: boolean }>> {\r\n    return this.get('/users/me/2fa/status');\r\n  }\r\n\r\n  async setup2FA(): Promise<ApiResponse<{ secret: string; qr_code_url: string; manual_entry_key: string }>> {\r\n    return this.post('/users/me/2fa/setup');\r\n  }\r\n\r\n  async verify2FA(code: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/verify', { code });\r\n  }\r\n\r\n  async disable2FA(currentPassword: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/disable', { current_password: currentPassword });\r\n  }\r\n\r\n  // IP Restriction endpoints\r\n  async getIPRestrictionStatus(): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.get('/users/me/ip-restriction');\r\n  }\r\n\r\n  async updateIPRestriction(enabled: boolean): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.put('/users/me/ip-restriction', { enabled });\r\n  }\r\n\r\n  async addAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.post('/users/me/ip-restriction/allowed-ips', { ip_address: ipAddress });\r\n  }\r\n\r\n  async removeAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.delete(`/users/me/ip-restriction/allowed-ips/${encodeURIComponent(ipAddress)}`);\r\n  }\r\n\r\n  async triggerBackup(includeFiles = false): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/admin/backup/create', undefined, { params: { include_files: includeFiles } });\r\n  }\r\n\r\n  // Department endpoints\r\n  async getDepartments(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/departments');\r\n  }\r\n\r\n  async getDepartment(departmentId: string | number): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.get(`/departments/${encodedId}`);\r\n  }\r\n\r\n  async createDepartment(departmentData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/departments', departmentData);\r\n  }\r\n\r\n  async updateDepartment(\r\n    departmentId: string | number,\r\n    departmentData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.put(`/departments/${encodedId}`, departmentData);\r\n  }\r\n\r\n  async deleteDepartment(\r\n    departmentId: string | number,\r\n    password: string,\r\n  ): Promise<ApiResponse<{ message: string }>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.post(`/departments/${encodedId}/delete`, { password });\r\n  }\r\n\r\n  // Project endpoints\r\n  async getProjects(filters?: Record<string, unknown>): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/projects', { params: filters });\r\n  }\r\n\r\n  async getProject(projectId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/projects/${projectId}`);\r\n  }\r\n\r\n  async createProject(projectData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/projects', projectData);\r\n  }\r\n\r\n  async updateProject(\r\n    projectId: number,\r\n    projectData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put(`/projects/${projectId}`, projectData);\r\n  }\r\n\r\n  async deleteProject(projectId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/projects/${projectId}/delete`, { password });\r\n  }\r\n\r\n  // Audit Logs endpoints (Admin only)\r\n  async getAuditLogs(filters?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    user_id?: number;\r\n    action?: string;\r\n    resource_type?: string;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    const params: Record<string, unknown> = {};\r\n    if (filters) {\r\n      if (filters.skip !== undefined) params.skip = filters.skip;\r\n      if (filters.limit !== undefined) params.limit = filters.limit;\r\n      if (filters.user_id !== undefined) params.user_id = filters.user_id;\r\n      if (filters.action) params.action = filters.action;\r\n      if (filters.resource_type) params.resource_type = filters.resource_type;\r\n      if (filters.start_date) {\r\n        // Convert to ISO format for backend\r\n        const start = new Date(filters.start_date + 'T00:00:00');\r\n        params.start_date = start.toISOString();\r\n      }\r\n      if (filters.end_date) {\r\n        // Convert to ISO format for backend\r\n        const end = new Date(filters.end_date + 'T23:59:59');\r\n        params.end_date = end.toISOString();\r\n      }\r\n    }\r\n    return this.get('/admin/audit/logs', { params });\r\n  }\r\n\r\n  // ============================================================================\r\n  // BUDGETING & FORECASTING (FP&A)\r\n  // ============================================================================\r\n\r\n  // Budget Management\r\n  async getBudgets(params?: { skip?: number; limit?: number; status?: string; department?: string }) {\r\n    return this.get('/budgeting/budgets', { params });\r\n  }\r\n\r\n  async getBudget(id: number) {\r\n    return this.get(`/budgeting/budgets/${id}`);\r\n  }\r\n\r\n  async createBudget(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/budgets', data);\r\n  }\r\n\r\n  async createBudgetFromTemplate(templateName: string, data: Record<string, unknown>) {\r\n    const params: Record<string, unknown> = {\r\n      template_name: templateName\r\n    };\r\n    if (data.name) params.name = data.name;\r\n    if (data.start_date) params.start_date = data.start_date;\r\n    if (data.end_date) params.end_date = data.end_date;\r\n    if (data.department) params.department = data.department;\r\n    if (data.project) params.project = data.project;\r\n    \r\n    return this.post(`/budgeting/budgets/from-template`, {}, { params });\r\n  }\r\n\r\n  async updateBudget(id: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${id}`, data);\r\n  }\r\n\r\n  async deleteBudget(id: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${id}/delete`, { password });\r\n  }\r\n\r\n  async validateBudget(id: number) {\r\n    return this.post(`/budgeting/budgets/${id}/validate`);\r\n  }\r\n\r\n  // Budget Items\r\n  async getBudgetItems(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/items`);\r\n  }\r\n\r\n  async createBudgetItem(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items`, data);\r\n  }\r\n\r\n  async updateBudgetItem(budgetId: number, itemId: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${budgetId}/items/${itemId}`, data);\r\n  }\r\n\r\n  async deleteBudgetItem(budgetId: number, itemId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  // Scenario Planning\r\n  async getScenarios(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/scenarios`);\r\n  }\r\n\r\n  async createScenario(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios`, data);\r\n  }\r\n\r\n  async compareScenarios(budgetId: number, scenarioIds: number[]) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/compare`, { scenario_ids: scenarioIds });\r\n  }\r\n\r\n  async deleteScenario(budgetId: number, scenarioId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/${scenarioId}/delete`, { password });\r\n  }\r\n\r\n  // Forecasting\r\n  async getForecasts(params?: { skip?: number; limit?: number }) {\r\n    // Always provide explicit defaults to match backend expectations\r\n    const queryParams = {\r\n      skip: params?.skip !== undefined && params.skip >= 0 ? params.skip : 0,\r\n      limit: params?.limit !== undefined && params.limit >= 1 && params.limit <= 1000 ? params.limit : 100\r\n    };\r\n    \r\n    return this.get('/budgeting/forecasts', { params: queryParams });\r\n  }\r\n\r\n  async createForecast(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/forecasts', data);\r\n  }\r\n\r\n  async getForecast(id: number) {\r\n    return this.get(`/budgeting/forecasts/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Update a forecast\r\n   * @param id - Forecast ID\r\n   * @param data - Forecast update data (name, description, and optionally forecast_data)\r\n   */\r\n  async updateForecast(\r\n    id: number,\r\n    data: {\r\n      name?: string;\r\n      description?: string;\r\n      forecast_data?: Array<{\r\n        period?: string;\r\n        date?: string;\r\n        forecasted_value?: number;\r\n        method?: string;\r\n      }>;\r\n    },\r\n  ) {\r\n    return this.put(`/budgeting/forecasts/${id}`, data);\r\n  }\r\n\r\n  async deleteForecast(id: number, password: string) {\r\n    return this.post(`/budgeting/forecasts/${id}/delete`, { password });\r\n  }\r\n\r\n  // ============================================================================\r\n  // AI/ML MODEL TRAINING\r\n  // ============================================================================\r\n\r\n  /**\r\n   * Train all AI/ML models\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   */\r\n  async trainAllModels(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/all',\r\n      params: { start_date: startDate, end_date: endDate }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train ARIMA model for expenses\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   * @param order - ARIMA order (p,d,q) as string \"p,d,q\"\r\n   */\r\n  async trainExpensesArima(startDate: string, endDate: string, order: string = \"1,1,1\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/arima',\r\n      params: { start_date: startDate, end_date: endDate, order },\r\n      timeout: 120000 // 2 minutes for ARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for expenses\r\n   */\r\n  async trainExpensesProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Linear Regression model for expenses\r\n   */\r\n  async trainExpensesLinearRegression(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/linear-regression',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for revenue\r\n   */\r\n  async trainRevenueProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for revenue\r\n   */\r\n  async trainRevenueXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for revenue\r\n   */\r\n  async trainRevenueLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train SARIMA model for inventory\r\n   */\r\n  async trainInventorySARIMA(startDate: string, endDate: string, order: string = \"1,1,1\", seasonalOrder: string = \"1,1,1,12\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/sarima',\r\n      params: { start_date: startDate, end_date: endDate, order, seasonal_order: seasonalOrder },\r\n      timeout: 180000 // 3 minutes for SARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for inventory\r\n   */\r\n  async trainInventoryXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for inventory\r\n   */\r\n  async trainInventoryLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get auto-learning status and statistics\r\n   */\r\n  async getAutoLearnStatus() {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/auto-learn/status'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Manually trigger auto-learning for a metric\r\n   * @param metric - 'expense', 'revenue', or 'inventory'\r\n   */\r\n  async triggerAutoLearn(metric: 'expense' | 'revenue' | 'inventory') {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: `/budgeting/ml/auto-learn/trigger/${metric}`,\r\n      timeout: 300000 // 5 minutes for training\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get list of all trained models\r\n   * @param metric - Optional filter by metric\r\n   */\r\n  async getTrainedModels(metric?: 'expense' | 'revenue' | 'inventory') {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/models',\r\n      params: metric ? { metric } : {}\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get ML scheduler status and scheduled jobs\r\n   */\r\n  async getSchedulerStatus() {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/scheduler/status'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Generate forecast with AI-powered advice and recommendations\r\n   * @param metric - 'expense', 'revenue', or 'inventory'\r\n   * @param modelType - 'arima', 'sarima', 'prophet', 'xgboost', 'lstm', 'linear_regression'\r\n   * @param periods - Number of periods to forecast\r\n   */\r\n  async generateForecastWithAdvice(\r\n    metric: 'expense' | 'revenue' | 'inventory',\r\n    modelType: 'arima' | 'sarima' | 'prophet' | 'xgboost' | 'lstm' | 'linear_regression',\r\n    periods: number = 12\r\n  ) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/forecast/with-advice',\r\n      params: { metric, model_type: modelType, periods },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  // Variance Analysis\r\n  async calculateVariance(budgetId: number, periodStart: string, periodEnd: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/variance`, {}, {\r\n      params: { period_start: periodStart, period_end: periodEnd }\r\n    });\r\n  }\r\n\r\n  async getVarianceHistory(budgetId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance`, { params });\r\n  }\r\n\r\n  async getVarianceSummary(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance/summary`);\r\n  }\r\n\r\n  // ============================================================================\r\n  // INVENTORY MANAGEMENT API\r\n  // ============================================================================\r\n  \r\n  async createInventoryItem(itemData: {\r\n    item_name: string;\r\n    buying_price: number;\r\n    expense_amount?: number;\r\n    selling_price: number;\r\n    quantity: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.post('/inventory/items', itemData);\r\n  }\r\n\r\n  async getInventoryItems(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    category?: string;\r\n    is_active?: boolean;\r\n    search?: string;\r\n  }) {\r\n    return this.get('/inventory/items', { params });\r\n  }\r\n\r\n  async getInventoryItem(itemId: number) {\r\n    return this.get(`/inventory/items/${itemId}`);\r\n  }\r\n\r\n  async updateInventoryItem(itemId: number, itemData: {\r\n    item_name?: string;\r\n    buying_price?: number;\r\n    expense_amount?: number;\r\n    selling_price?: number;\r\n    quantity?: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.put(`/inventory/items/${itemId}`, itemData);\r\n  }\r\n\r\n  async deleteInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  async activateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/deactivate`, { password });\r\n  }\r\n\r\n  async getInventoryAuditLogs(itemId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/inventory/items/${itemId}/audit`, { params });\r\n  }\r\n\r\n  async getLowStockItems(threshold?: number) {\r\n    return this.get('/inventory/items/low-stock/list', { params: { threshold } });\r\n  }\r\n\r\n  async getInventorySummary() {\r\n    return this.get('/inventory/summary');\r\n  }\r\n\r\n  // ============================================================================\r\n  // SALES API\r\n  // ============================================================================\r\n\r\n  async createSale(saleData: {\r\n    item_id: number;\r\n    quantity_sold: number;\r\n    customer_name?: string;\r\n    customer_email?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post('/sales/', saleData);\r\n  }\r\n\r\n  async getSales(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    status?: 'pending' | 'posted' | 'cancelled';\r\n    item_id?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    // Enforce backend maximum limit of 1000 to prevent 422 errors\r\n    // Backend has a hard limit of 1000 (le=1000), so cap any higher values\r\n    let safeLimit: number | undefined = params?.limit;\r\n    if (safeLimit !== undefined && safeLimit > 1000) {\r\n      console.warn(`getSales: Limit ${safeLimit} exceeds backend maximum of 1000. Capping to 1000.`);\r\n      safeLimit = 1000;\r\n    }\r\n    \r\n    const safeParams = params ? {\r\n      ...params,\r\n      limit: safeLimit\r\n    } : undefined;\r\n    \r\n    return this.get('/sales', { params: safeParams });\r\n  }\r\n\r\n  async getSale(saleId: number) {\r\n    return this.get(`/sales/${saleId}`);\r\n  }\r\n\r\n  async postSale(saleId: number, postData: {\r\n    debit_account?: string;\r\n    credit_account?: string;\r\n    reference_number?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post(`/sales/${saleId}/post`, postData);\r\n  }\r\n\r\n  async cancelSale(saleId: number) {\r\n    return this.post(`/sales/${saleId}/cancel`, {});\r\n  }\r\n\r\n  async getSalesSummary(params?: { start_date?: string; end_date?: string }) {\r\n    return this.get('/sales/summary/overview', { params });\r\n  }\r\n\r\n  async getReceipt(saleId: number) {\r\n    return this.get(`/sales/receipt/${saleId}`);\r\n  }\r\n\r\n  async getJournalEntries(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    return this.get('/sales/journal-entries/list', { params });\r\n  }\r\n\r\n  /**\r\n   * Submit a contact/support message\r\n   * You can override the endpoint path with NEXT_PUBLIC_CONTACT_ENDPOINT (e.g. \"/contact\")\r\n   * Note: The base URL already includes /api/v1, so the path should be relative to that\r\n   */\r\n  async submitContact(payload: { name: string; email: string; message: string }) {\r\n    const contactPath = process.env.NEXT_PUBLIC_CONTACT_ENDPOINT || '/contact';\r\n    return this.post(contactPath, payload);\r\n  }\r\n\r\n  // Generic request method\r\n  async request<T = unknown>(config: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.request<T>(config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n}\r\n\r\nexport const apiClient = new ApiClient();\r\nexport default apiClient;"],"names":[],"mappings":"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","debugId":null}},
frontend/.next/dev/static/chunks/[root-of-the-server]__7029126a._.js:    async getFinancialSummary(startDate, endDate) {
frontend/.next/dev/static/chunks/[root-of-the-server]__7029126a._.js.map:    {"offset": {"line": 513, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASHROCK/Desktop/pro%2B/project3/project1/frontend/lib/api.ts"],"sourcesContent":["// lib/api.ts\r\n'use client';\r\n\r\nimport axios, { AxiosInstance, AxiosRequestConfig, AxiosError } from 'axios';\r\nimport { logger } from './logger';\r\n\r\nconst DEFAULT_BASE_URL = 'http://localhost:8000/api/v1';\r\nconst API_BASE_URL = (process.env.NEXT_PUBLIC_API_URL || DEFAULT_BASE_URL).replace(/\\/$/, '');\r\n\r\ninterface ApiResponse<T = unknown> {\r\n  success?: boolean;\r\n  data: T;\r\n  message?: string;\r\n  error?: string;\r\n}\r\n\r\ntype Filters = Record<string, string | number | boolean | undefined>;\r\ntype RevenueRecord = {\r\n  id?: number | string;\r\n  amount?: number;\r\n  date?: string;\r\n  created_at?: string;\r\n  [key: string]: unknown;\r\n};\r\ntype ExpenseRecord = RevenueRecord;\r\ntype TransactionRecord = (RevenueRecord | ExpenseRecord) & {\r\n  transaction_type: 'revenue' | 'expense';\r\n};\r\n\r\ninterface AuthTokens {\r\n  access_token: string;\r\n  token_type: string;\r\n}\r\n\r\ninterface User {\r\n  id: number;\r\n  email: string;\r\n  username?: string;\r\n  full_name: string;\r\n  role: string;\r\n  department?: string;\r\n  phone?: string | null;\r\n  is_active: boolean;\r\n  created_at?: string;\r\n  manager_id?: number;\r\n}\r\n\r\ntype LoginResponse = AuthTokens & { user: User };\r\nexport type ApiUser = User;\r\nexport interface ApiRole {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  permissions?: string[];\r\n  user_count?: number;\r\n  permission_count?: number;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nclass ApiClient {\r\n  private client: AxiosInstance;\r\n\r\n  constructor() {\r\n    this.client = axios.create({\r\n      baseURL: API_BASE_URL,\r\n      timeout: 300000, // 5 minutes timeout for ML training requests (can take longer)\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    this.setupInterceptors();\r\n  }\r\n\r\n  private setupInterceptors() {\r\n    this.client.interceptors.request.use(\r\n      (config) => {\r\n        if (typeof window !== 'undefined') {\r\n          const token = localStorage.getItem('access_token');\r\n          if (token) {\r\n            config.headers = config.headers ?? {};\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n          }\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(error),\r\n    );\r\n\r\n    this.client.interceptors.response.use(\r\n      (response) => response,\r\n      async (error) => {\r\n        const originalRequest = error.config;\r\n        const requestUrl = originalRequest?.url || '';\r\n        \r\n        // Handle 401 Unauthorized - but DON'T redirect on login endpoint\r\n        // The login page handles its own error states and redirects\r\n        if (error.response?.status === 401 && !originalRequest?._retry) {\r\n          originalRequest._retry = true;\r\n          if (typeof window !== 'undefined') {\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n            \r\n            // Only redirect if NOT on the login endpoint\r\n            // Login endpoint errors should be handled by the login page component\r\n            const isLoginEndpoint = requestUrl.includes('/auth/login-json') || \r\n                                   requestUrl.includes('/auth/login');\r\n            \r\n            if (!isLoginEndpoint && !window.location.pathname.includes('/auth/login')) {\r\n              // Redirect to home page for other 401 errors (not login-related)\r\n              window.location.href = '/';\r\n            }\r\n            // For login endpoint 401s, let the error propagate to the component\r\n          }\r\n        }\r\n        \r\n        // Handle 403 Forbidden - user doesn't have permission\r\n        if (error.response?.status === 403) {\r\n          const url = error.config?.url || '';\r\n          // Suppress warnings for expected 403s on role-restricted endpoints\r\n          // These are handled gracefully by the calling code\r\n          const suppressWarnings = url.includes('/inventory/summary') || \r\n                                   url.includes('/sales/summary') || \r\n                                   url.includes('/sales/summary/overview') ||\r\n                                   url.includes('/sales/journal-entries') ||\r\n                                   url.includes('/backup');\r\n          \r\n          if (!suppressWarnings && typeof window !== 'undefined') {\r\n              console.warn('Access forbidden:', error.response?.data?.detail || 'Insufficient permissions');\r\n          }\r\n        }\r\n        \r\n        // Handle 404 Not Found - suppress console warnings for non-critical endpoints\r\n        if (error.response?.status === 404) {\r\n          const url = error.config?.url || '';\r\n          // Only log 404s in development mode to reduce console noise\r\n          if (process.env.NODE_ENV === 'development' && typeof window !== 'undefined') {\r\n            console.warn('Resource not found:', url);\r\n          }\r\n        }\r\n        \r\n        // Handle network errors - suppress repetitive errors for polling endpoints\r\n        if (!error.response) {\r\n          const url = error.config?.url || '';\r\n          // Suppress errors for polling endpoints to reduce console noise\r\n          // These are expected when backend is down\r\n          const isPollingEndpoint = url.includes('/notifications/unread/count') || \r\n                                   url.includes('/dashboard/recent-activity') ||\r\n                                   url.includes('/health');\r\n          \r\n          if (!isPollingEndpoint) {\r\n            // Only log non-polling endpoint errors\r\n            const errorMessage = error.message || 'Network error: Unable to connect to server';\r\n            \r\n            if (process.env.NODE_ENV === 'development') {\r\n              console.error('Network error:', errorMessage);\r\n              \r\n              if (error.code === 'ECONNREFUSED' || error.message?.includes('Network Error')) {\r\n                console.error('Backend server may not be running. Please ensure the backend is running on http://localhost:8000');\r\n              } else if (error.code === 'ERR_NETWORK') {\r\n                console.error('Network request failed. Check your internet connection and backend server status.');\r\n              }\r\n            }\r\n          }\r\n          // Polling endpoint errors are silently handled - they're expected when backend is down\r\n        }\r\n        \r\n        return Promise.reject(error);\r\n      },\r\n    );\r\n  }\r\n\r\n  private normalizeResponse<T>(payload: unknown): ApiResponse<T> {\r\n    if (payload && typeof payload === 'object' && 'data' in payload) {\r\n      return payload as ApiResponse<T>;\r\n    }\r\n    return { data: payload as T };\r\n  }\r\n\r\n  private async get<T>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.get<T>(url, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async post<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.post<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async put<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.put<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async delete<T>(url: string, data?: unknown, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.delete<T>(url, { ...config, data });\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  // Auth endpoints\r\n  async login(identifier: string, password: string): Promise<ApiResponse<LoginResponse>> {\r\n    const response = await this.client.post<LoginResponse>('/auth/login-json', {\r\n      username: identifier,\r\n      password,\r\n    });\r\n    const normalized = this.normalizeResponse<LoginResponse>(response.data);\r\n    \r\n    // Only set token if we have a valid access token and user data\r\n    if (normalized.data?.access_token && normalized.data?.user) {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.setItem('access_token', normalized.data.access_token);\r\n      }\r\n    } else {\r\n      // Clear any existing tokens if response is invalid\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n        localStorage.removeItem('refresh_token');\r\n      }\r\n      throw new Error('Invalid login response: missing access token or user data');\r\n    }\r\n    \r\n    return normalized;\r\n  }\r\n\r\n  async register(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post<User>('/auth/register', userData);\r\n  }\r\n\r\n  async logout(): Promise<void> {\r\n    try {\r\n      await this.post('/auth/logout');\r\n    } finally {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n      }\r\n    }\r\n  }\r\n\r\n  async refreshToken(): Promise<ApiResponse<{ access_token: string }>> {\r\n    if (typeof window === 'undefined') throw new Error('Token refresh is client only');\r\n    const token = localStorage.getItem('access_token');\r\n    if (!token) throw new Error('No token to refresh');\r\n    const response = await this.client.post('/auth/refresh', { token });\r\n    const normalized = this.normalizeResponse<{ access_token: string }>(response.data);\r\n    localStorage.setItem('access_token', normalized.data.access_token);\r\n    return normalized;\r\n  }\r\n\r\n  async generateOTP(): Promise<ApiResponse<{ otp_code: string; message: string }>> {\r\n    return this.post('/auth/generate-otp');\r\n  }\r\n\r\n  async verifyOTP(otp_code: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/verify-otp', { otp_code });\r\n  }\r\n\r\n  async requestOTP(email: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/request-otp', { email });\r\n  }\r\n\r\n  async resetPassword(email: string, code: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/reset-password', { email, code, newPassword });\r\n  }\r\n\r\n  // User endpoints\r\n  async getCurrentUser(): Promise<ApiResponse<User>> {\r\n    return this.get('/users/me');\r\n  }\r\n\r\n  async updateCurrentUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put('/users/me', userData);\r\n  }\r\n\r\n  async changePassword(currentPassword: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/users/me/change-password', { current_password: currentPassword, new_password: newPassword });\r\n  }\r\n\r\n  async getUsers(): Promise<ApiResponse<User[]>> {\r\n    return this.get('/users/');\r\n  }\r\n\r\n  async getUser(userId: number): Promise<ApiResponse<User>> {\r\n    return this.get(`/users/${userId}`);\r\n  }\r\n\r\n  async getSubordinates(userId: number): Promise<ApiResponse<User[]>> {\r\n    return this.get(`/users/${userId}/subordinates`);\r\n  }\r\n\r\n  async createUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post('/users', userData);\r\n  }\r\n\r\n  /**\r\n   * Create a subordinate (accountant or employee)\r\n   * Used by finance managers to create accountants/employees\r\n   */\r\n  async createSubordinate(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post('/users/subordinates', userData);\r\n  }\r\n\r\n  async updateUser(userId: number, userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put(`/users/${userId}`, userData);\r\n  }\r\n\r\n  async deleteUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/delete`, { password });\r\n  }\r\n\r\n  async activateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/deactivate`, { password });\r\n  }\r\n\r\n  // Permission endpoints\r\n  async getUserPermissions(userId: number): Promise<ApiResponse<{ permissions: string[] }>> {\r\n    return this.get(`/users/${userId}/permissions`);\r\n  }\r\n\r\n  async updateUserPermissions(userId: number, permissions: string[]): Promise<ApiResponse<{ message: string; permissions: string[] }>> {\r\n    return this.put(`/users/${userId}/permissions`, { permissions });\r\n  }\r\n\r\n  // Financial endpoints\r\n  async getRevenues(filters?: Filters): Promise<ApiResponse<RevenueRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/revenue', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getRevenue(revenueId: number): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.get(`/revenue/${revenueId}`);\r\n  }\r\n\r\n  async createRevenue(revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.post('/revenue', revenueData);\r\n  }\r\n\r\n  async updateRevenue(revenueId: number, revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.put(`/revenue/${revenueId}`, revenueData);\r\n  }\r\n\r\n  async deleteRevenue(revenueId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/revenue/${revenueId}/delete`, { password });\r\n  }\r\n\r\n  async getExpenses(filters?: Filters): Promise<ApiResponse<ExpenseRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/expenses', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getExpense(expenseId: number): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.get(`/expenses/${expenseId}`);\r\n  }\r\n\r\n  async createExpense(expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.post('/expenses', expenseData);\r\n  }\r\n\r\n  async updateExpense(expenseId: number, expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.put(`/expenses/${expenseId}`, expenseData);\r\n  }\r\n\r\n  async deleteExpense(expenseId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/expenses/${expenseId}/delete`, { password });\r\n  }\r\n\r\n  // Transactions (combined revenues and expenses)\r\n  async getTransactions(): Promise<ApiResponse<TransactionRecord[]>> {\r\n    try {\r\n      const [revenuesResponse, expensesResponse] = await Promise.all([\r\n        this.getRevenues(),\r\n        this.getExpenses(),\r\n      ]);\r\n\r\n      const revenues = (revenuesResponse.data || []).map((r: RevenueRecord): TransactionRecord => ({\r\n        ...r,\r\n        transaction_type: 'revenue',\r\n        id: `revenue-${r.id}`,\r\n      }));\r\n\r\n      const expenses = (expensesResponse.data || []).map((e: ExpenseRecord): TransactionRecord => ({\r\n        ...e,\r\n        transaction_type: 'expense',\r\n        id: `expense-${e.id}`,\r\n        amount: -Math.abs(Number(e.amount ?? 0)), // Make expenses negative\r\n      }));\r\n\r\n      const transactions = [...revenues, ...expenses].sort((a, b) => {\r\n        const dateA = new Date(a.date || a.created_at || 0).getTime();\r\n        const dateB = new Date(b.date || b.created_at || 0).getTime();\r\n        return dateB - dateA; // Most recent first\r\n      });\r\n\r\n      return { data: transactions };\r\n    } catch (error) {\r\n      // Error handled by caller\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Dashboard\r\n  async getDashboardOverview(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/overview');\r\n  }\r\n\r\n  async getDashboardKPIs(period: 'week' | 'month' | 'quarter' | 'year' = 'month'): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/kpis', { params: { period } });\r\n  }\r\n\r\n  async getDashboardRecentActivity(limit = 10): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/dashboard/recent-activity', { params: { limit } });\r\n  }\r\n\r\n  // Analytics\r\n  async getAdvancedKPIs(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/kpis', { params });\r\n  }\r\n\r\n  async getTrendAnalysis(params?: {\r\n    metric?: 'revenue' | 'expenses' | 'profit';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/trends', { params });\r\n  }\r\n\r\n  async getTimeSeriesData(params?: {\r\n    interval?: 'day' | 'week' | 'month' | 'quarter' | 'year';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/time-series', { params });\r\n  }\r\n\r\n  async getCategoryBreakdown(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/category-breakdown', { params });\r\n  }\r\n\r\n  async getAnalyticsOverview(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get('/analytics/overview', { params });\r\n  }\r\n\r\n  // Reports\r\n  async getReports(filters?: Filters): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    return this.get('/reports', { params: filters });\r\n  }\r\n\r\n  async getReport(reportId: number): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get(`/reports/${reportId}`);\r\n  }\r\n\r\n  async createReport(reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.post('/reports', reportData);\r\n  }\r\n\r\n  async updateReport(reportId: number, reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.put(`/reports/${reportId}`, reportData);\r\n  }\r\n\r\n  async deleteReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/reports/${reportId}`);\r\n  }\r\n\r\n  async downloadReport(reportId: number): Promise<ApiResponse<{ download_url: string; file_size: number; filename: string }>> {\r\n    return this.post(`/reports/${reportId}/download`);\r\n  }\r\n\r\n  async regenerateReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/reports/${reportId}/regenerate`);\r\n  }\r\n\r\n  async getAvailableReportTypes(): Promise<ApiResponse<{ report_types: Array<{ type: string; name: string; description: string }> }>> {\r\n    return this.get('/reports/types/available');\r\n  }\r\n\r\n  // Financial Reports - Direct data fetching\r\n  async getIncomeStatement(startDate?: string, endDate?: string): Promise<ApiResponse<Record<string, unknown>>> {\r\n    const params: Filters = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n    \r\n    // Fetch revenue and expense data to calculate income statement\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n      \r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate totals - ONLY from approved entries\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n\r\n    // Group by category - handle both enum and string categories - ONLY from approved entries\r\n    const revenueByCategory: Record<string, number> = {};\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const catValue =\r\n        r.category && typeof r.category === 'object' && 'value' in r.category\r\n          ? (r.category as { value?: unknown }).value\r\n          : r.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      revenueByCategory[catKey] = (revenueByCategory[catKey] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const catValue =\r\n        e.category && typeof e.category === 'object' && 'value' in e.category\r\n          ? (e.category as { value?: unknown }).value\r\n          : e.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      expenseByCategory[catKey] = (expenseByCategory[catKey] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        revenue: {\r\n          total: totalRevenue,\r\n          by_category: revenueByCategory,\r\n        },\r\n        expenses: {\r\n          total: totalExpenses,\r\n          by_category: expenseByCategory,\r\n        },\r\n        profit,\r\n        profit_margin: totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0,\r\n      },\r\n    };\r\n  }\r\n\r\n  async getCashFlow(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    summary: { total_inflow: number; total_outflow: number; net_cash_flow: number };\r\n    daily_cash_flow: Record<string, { inflow: number; outflow: number; net: number }>;\r\n  }>> {\r\n    const params: Record<string, unknown> = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n    \r\n    // Fetch revenue and expense data to calculate cash flow\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([this.getRevenues(), this.getExpenses()]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures cash flow is only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate daily cash flow - ONLY from approved entries\r\n    const cashFlowByDay: Record<string, { inflow: number; outflow: number; net: number }> = {};\r\n    \r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = r.date || r.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(r.amount || 0);\r\n      cashFlowByDay[day].inflow += amount;\r\n      cashFlowByDay[day].net += amount;\r\n    });\r\n\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = e.date || e.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(e.amount || 0);\r\n      cashFlowByDay[day].outflow += amount;\r\n      cashFlowByDay[day].net -= amount;\r\n    });\r\n\r\n    const totalInflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.inflow, 0);\r\n    const totalOutflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.outflow, 0);\r\n    const netCashFlow = totalInflow - totalOutflow;\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        summary: {\r\n          total_inflow: totalInflow,\r\n          total_outflow: totalOutflow,\r\n          net_cash_flow: netCashFlow,\r\n        },\r\n        daily_cash_flow: cashFlowByDay,\r\n      },\r\n    };\r\n  }\r\n\r\n  // Financial Summary Report\r\n  async getFinancialSummary(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    financials: {\r\n      total_revenue: number;\r\n      total_expenses: number;\r\n      profit: number;\r\n      profit_margin: number;\r\n    };\r\n    revenue_by_category: Record<string, number>;\r\n    expenses_by_category: Record<string, number>;\r\n    transaction_counts: { revenue: number; expenses: number; total: number };\r\n    generated_at: string;\r\n  }>> {\r\n    // Always fetch all data first, then calculate summary\r\n    const [allRevenuesRes, allExpensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = allRevenuesRes.data || [];\r\n    let expenses = allExpensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n    \r\n    // Filter to only include APPROVED revenue entries for calculations\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    \r\n    // Filter to only include APPROVED expense entries for calculations\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate totals from filtered data - ONLY approved revenue and expenses\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n    const profitMargin = totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0;\r\n\r\n    // Process category summaries - ONLY from approved revenue\r\n    const revenueByCategory: Record<string, number> = {};\r\n    const normalizeCategory = (raw: unknown): string => {\r\n      if (typeof raw === 'string') return raw || 'other';\r\n      if (raw && typeof raw === 'object' && 'value' in raw) {\r\n        const value = (raw as { value?: unknown }).value;\r\n        return typeof value === 'string' ? value : String(value ?? 'other');\r\n      }\r\n      return String(raw ?? 'other');\r\n    };\r\n\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const cat = normalizeCategory(r.category);\r\n      revenueByCategory[cat] = (revenueByCategory[cat] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    // Process category summaries - ONLY from approved expenses\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const cat = normalizeCategory(e.category);\r\n      expenseByCategory[cat] = (expenseByCategory[cat] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    // Calculate actual transaction counts - ONLY approved items\r\n    const revenueCount = approvedRevenues.length;\r\n    const expenseCount = approvedExpenses.length;\r\n\r\n    const result = {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        financials: {\r\n          total_revenue: totalRevenue,\r\n          total_expenses: totalExpenses,\r\n          profit,\r\n          profit_margin: profitMargin,\r\n        },\r\n        revenue_by_category: revenueByCategory,\r\n        expenses_by_category: expenseByCategory,\r\n        transaction_counts: {\r\n          revenue: revenueCount,\r\n          expenses: expenseCount,\r\n          total: revenueCount + expenseCount,\r\n        },\r\n        generated_at: new Date().toISOString(),\r\n      },\r\n    };\r\n\r\n    return result;\r\n  }\r\n\r\n  // Approvals\r\n  async getApprovals(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/approvals');\r\n  }\r\n\r\n  async getApproval(approvalId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/approvals/${approvalId}`);\r\n  }\r\n\r\n  async getApprovalComments(approvalId: number): Promise<ApiResponse<unknown[]>> {\r\n    return this.get(`/approvals/${approvalId}/comments`);\r\n  }\r\n\r\n  async createApprovalComment(approvalId: number, comment: string): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${approvalId}/comments`, { comment });\r\n  }\r\n\r\n  async approveItem(itemId: number, itemType: 'revenue' | 'expense'): Promise<ApiResponse<unknown>> {\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/approve`);\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/approve`);\r\n    }\r\n  }\r\n\r\n  async rejectItem(\r\n    itemId: number,\r\n    itemType: 'revenue' | 'expense',\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // Reject revenue or expense entry through their respective endpoints\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    }\r\n  }\r\n\r\n  async approveWorkflow(workflowId: number): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/approve`);\r\n  }\r\n\r\n  async rejectWorkflow(\r\n    workflowId: number,\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/reject`, { rejection_reason: reason, password });\r\n  }\r\n\r\n  // Notifications\r\n  async getNotifications(unreadOnly?: boolean): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/notifications', { params: { unread_only: unreadOnly } });\r\n  }\r\n\r\n  async getNotification(notificationId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async markNotificationAsRead(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/notifications/${notificationId}/mark-read`);\r\n  }\r\n\r\n  async markAllNotificationsAsRead(): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/notifications/mark-all-read');\r\n  }\r\n\r\n  async deleteNotification(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async getUnreadCount(): Promise<ApiResponse<{ unread_count: number }>> {\r\n    return this.get('/notifications/unread/count');\r\n  }\r\n\r\n  async getNotificationPreferences(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/notifications/preferences');\r\n  }\r\n\r\n  async updateNotificationPreferences(\r\n    preferences: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put('/notifications/preferences', preferences);\r\n  }\r\n\r\n  // Admin endpoints\r\n  async getAdminSystemStats(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/system/stats');\r\n  }\r\n\r\n  async getSystemSettings(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/settings');\r\n  }\r\n\r\n  async getSystemHealth(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/health');\r\n  }\r\n\r\n  async getHierarchy(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/hierarchy');\r\n  }\r\n\r\n  async getRoles(): Promise<ApiResponse<ApiRole[]>> {\r\n    return this.get('/admin/roles');\r\n  }\r\n\r\n  async getPermissions(): Promise<ApiResponse<string[]>> {\r\n    return this.get('/admin/permissions');\r\n  }\r\n\r\n  async createRole(roleData: { name: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.post('/admin/roles', payload);\r\n  }\r\n\r\n  async updateRole(roleId: number, roleData: { name?: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.put(`/admin/roles/${roleId}`, payload);\r\n  }\r\n\r\n  async deleteRole(roleId: number): Promise<ApiResponse<null>> {\r\n    return this.delete(`/admin/roles/${roleId}`);\r\n  }\r\n\r\n  // Backup endpoints\r\n  async createBackup(includeFiles: boolean = false): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/create', null, {\r\n      params: { include_files: includeFiles }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async listBackups(): Promise<ApiResponse<{ backups: unknown[] }>> {\r\n    return this.get('/admin/backup/list');\r\n  }\r\n\r\n  async restoreBackup(backupName: string): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/restore', null, {\r\n      params: { backup_name: backupName }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async deleteBackup(backupName: string, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/admin/backup/${encodeURIComponent(backupName)}/delete`, { password });\r\n  }\r\n\r\n  async getVerificationHistory(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/users/me/verification-history');\r\n  }\r\n\r\n  // 2FA endpoints\r\n  async get2FAStatus(): Promise<ApiResponse<{ enabled: boolean }>> {\r\n    return this.get('/users/me/2fa/status');\r\n  }\r\n\r\n  async setup2FA(): Promise<ApiResponse<{ secret: string; qr_code_url: string; manual_entry_key: string }>> {\r\n    return this.post('/users/me/2fa/setup');\r\n  }\r\n\r\n  async verify2FA(code: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/verify', { code });\r\n  }\r\n\r\n  async disable2FA(currentPassword: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/disable', { current_password: currentPassword });\r\n  }\r\n\r\n  // IP Restriction endpoints\r\n  async getIPRestrictionStatus(): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.get('/users/me/ip-restriction');\r\n  }\r\n\r\n  async updateIPRestriction(enabled: boolean): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.put('/users/me/ip-restriction', { enabled });\r\n  }\r\n\r\n  async addAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.post('/users/me/ip-restriction/allowed-ips', { ip_address: ipAddress });\r\n  }\r\n\r\n  async removeAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.delete(`/users/me/ip-restriction/allowed-ips/${encodeURIComponent(ipAddress)}`);\r\n  }\r\n\r\n  async triggerBackup(includeFiles = false): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/admin/backup/create', undefined, { params: { include_files: includeFiles } });\r\n  }\r\n\r\n  // Department endpoints\r\n  async getDepartments(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/departments');\r\n  }\r\n\r\n  async getDepartment(departmentId: string | number): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.get(`/departments/${encodedId}`);\r\n  }\r\n\r\n  async createDepartment(departmentData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/departments', departmentData);\r\n  }\r\n\r\n  async updateDepartment(\r\n    departmentId: string | number,\r\n    departmentData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.put(`/departments/${encodedId}`, departmentData);\r\n  }\r\n\r\n  async deleteDepartment(\r\n    departmentId: string | number,\r\n    password: string,\r\n  ): Promise<ApiResponse<{ message: string }>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.post(`/departments/${encodedId}/delete`, { password });\r\n  }\r\n\r\n  // Project endpoints\r\n  async getProjects(filters?: Record<string, unknown>): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/projects', { params: filters });\r\n  }\r\n\r\n  async getProject(projectId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/projects/${projectId}`);\r\n  }\r\n\r\n  async createProject(projectData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/projects', projectData);\r\n  }\r\n\r\n  async updateProject(\r\n    projectId: number,\r\n    projectData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put(`/projects/${projectId}`, projectData);\r\n  }\r\n\r\n  async deleteProject(projectId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/projects/${projectId}/delete`, { password });\r\n  }\r\n\r\n  // Audit Logs endpoints (Admin only)\r\n  async getAuditLogs(filters?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    user_id?: number;\r\n    action?: string;\r\n    resource_type?: string;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    const params: Record<string, unknown> = {};\r\n    if (filters) {\r\n      if (filters.skip !== undefined) params.skip = filters.skip;\r\n      if (filters.limit !== undefined) params.limit = filters.limit;\r\n      if (filters.user_id !== undefined) params.user_id = filters.user_id;\r\n      if (filters.action) params.action = filters.action;\r\n      if (filters.resource_type) params.resource_type = filters.resource_type;\r\n      if (filters.start_date) {\r\n        // Convert to ISO format for backend\r\n        const start = new Date(filters.start_date + 'T00:00:00');\r\n        params.start_date = start.toISOString();\r\n      }\r\n      if (filters.end_date) {\r\n        // Convert to ISO format for backend\r\n        const end = new Date(filters.end_date + 'T23:59:59');\r\n        params.end_date = end.toISOString();\r\n      }\r\n    }\r\n    return this.get('/admin/audit/logs', { params });\r\n  }\r\n\r\n  // ============================================================================\r\n  // BUDGETING & FORECASTING (FP&A)\r\n  // ============================================================================\r\n\r\n  // Budget Management\r\n  async getBudgets(params?: { skip?: number; limit?: number; status?: string; department?: string }) {\r\n    return this.get('/budgeting/budgets', { params });\r\n  }\r\n\r\n  async getBudget(id: number) {\r\n    return this.get(`/budgeting/budgets/${id}`);\r\n  }\r\n\r\n  async createBudget(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/budgets', data);\r\n  }\r\n\r\n  async createBudgetFromTemplate(templateName: string, data: Record<string, unknown>) {\r\n    const params: Record<string, unknown> = {\r\n      template_name: templateName\r\n    };\r\n    if (data.name) params.name = data.name;\r\n    if (data.start_date) params.start_date = data.start_date;\r\n    if (data.end_date) params.end_date = data.end_date;\r\n    if (data.department) params.department = data.department;\r\n    if (data.project) params.project = data.project;\r\n    \r\n    return this.post(`/budgeting/budgets/from-template`, {}, { params });\r\n  }\r\n\r\n  async updateBudget(id: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${id}`, data);\r\n  }\r\n\r\n  async deleteBudget(id: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${id}/delete`, { password });\r\n  }\r\n\r\n  async validateBudget(id: number) {\r\n    return this.post(`/budgeting/budgets/${id}/validate`);\r\n  }\r\n\r\n  // Budget Items\r\n  async getBudgetItems(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/items`);\r\n  }\r\n\r\n  async createBudgetItem(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items`, data);\r\n  }\r\n\r\n  async updateBudgetItem(budgetId: number, itemId: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${budgetId}/items/${itemId}`, data);\r\n  }\r\n\r\n  async deleteBudgetItem(budgetId: number, itemId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  // Scenario Planning\r\n  async getScenarios(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/scenarios`);\r\n  }\r\n\r\n  async createScenario(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios`, data);\r\n  }\r\n\r\n  async compareScenarios(budgetId: number, scenarioIds: number[]) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/compare`, { scenario_ids: scenarioIds });\r\n  }\r\n\r\n  // Forecasting\r\n  async getForecasts(params?: { skip?: number; limit?: number }) {\r\n    // Always provide explicit defaults to match backend expectations\r\n    const queryParams = {\r\n      skip: params?.skip !== undefined && params.skip >= 0 ? params.skip : 0,\r\n      limit: params?.limit !== undefined && params.limit >= 1 && params.limit <= 1000 ? params.limit : 100\r\n    };\r\n    \r\n    return this.get('/budgeting/forecasts', { params: queryParams });\r\n  }\r\n\r\n  async createForecast(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/forecasts', data);\r\n  }\r\n\r\n  async getForecast(id: number) {\r\n    return this.get(`/budgeting/forecasts/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Update a forecast\r\n   * @param id - Forecast ID\r\n   * @param data - Forecast update data (name, description, and optionally forecast_data)\r\n   */\r\n  async updateForecast(\r\n    id: number,\r\n    data: {\r\n      name?: string;\r\n      description?: string;\r\n      forecast_data?: Array<{\r\n        period?: string;\r\n        date?: string;\r\n        forecasted_value?: number;\r\n        method?: string;\r\n      }>;\r\n    },\r\n  ) {\r\n    return this.put(`/budgeting/forecasts/${id}`, data);\r\n  }\r\n\r\n  async deleteForecast(id: number, password: string) {\r\n    return this.post(`/budgeting/forecasts/${id}/delete`, { password });\r\n  }\r\n\r\n  // ============================================================================\r\n  // AI/ML MODEL TRAINING\r\n  // ============================================================================\r\n\r\n  /**\r\n   * Train all AI/ML models\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   */\r\n  async trainAllModels(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/all',\r\n      params: { start_date: startDate, end_date: endDate }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train ARIMA model for expenses\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   * @param order - ARIMA order (p,d,q) as string \"p,d,q\"\r\n   */\r\n  async trainExpensesArima(startDate: string, endDate: string, order: string = \"1,1,1\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/arima',\r\n      params: { start_date: startDate, end_date: endDate, order },\r\n      timeout: 120000 // 2 minutes for ARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for expenses\r\n   */\r\n  async trainExpensesProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Linear Regression model for expenses\r\n   */\r\n  async trainExpensesLinearRegression(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/linear-regression',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for revenue\r\n   */\r\n  async trainRevenueProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for revenue\r\n   */\r\n  async trainRevenueXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for revenue\r\n   */\r\n  async trainRevenueLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train SARIMA model for inventory\r\n   */\r\n  async trainInventorySARIMA(startDate: string, endDate: string, order: string = \"1,1,1\", seasonalOrder: string = \"1,1,1,12\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/sarima',\r\n      params: { start_date: startDate, end_date: endDate, order, seasonal_order: seasonalOrder },\r\n      timeout: 180000 // 3 minutes for SARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for inventory\r\n   */\r\n  async trainInventoryXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for inventory\r\n   */\r\n  async trainInventoryLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  // Variance Analysis\r\n  async calculateVariance(budgetId: number, periodStart: string, periodEnd: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/variance`, {}, {\r\n      params: { period_start: periodStart, period_end: periodEnd }\r\n    });\r\n  }\r\n\r\n  async getVarianceHistory(budgetId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance`, { params });\r\n  }\r\n\r\n  async getVarianceSummary(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance/summary`);\r\n  }\r\n\r\n  // ============================================================================\r\n  // INVENTORY MANAGEMENT API\r\n  // ============================================================================\r\n  \r\n  async createInventoryItem(itemData: {\r\n    item_name: string;\r\n    buying_price: number;\r\n    expense_amount?: number;\r\n    selling_price: number;\r\n    quantity: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.post('/inventory/items', itemData);\r\n  }\r\n\r\n  async getInventoryItems(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    category?: string;\r\n    is_active?: boolean;\r\n    search?: string;\r\n  }) {\r\n    return this.get('/inventory/items', { params });\r\n  }\r\n\r\n  async getInventoryItem(itemId: number) {\r\n    return this.get(`/inventory/items/${itemId}`);\r\n  }\r\n\r\n  async updateInventoryItem(itemId: number, itemData: {\r\n    item_name?: string;\r\n    buying_price?: number;\r\n    expense_amount?: number;\r\n    selling_price?: number;\r\n    quantity?: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.put(`/inventory/items/${itemId}`, itemData);\r\n  }\r\n\r\n  async deleteInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  async activateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/deactivate`, { password });\r\n  }\r\n\r\n  async getInventoryAuditLogs(itemId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/inventory/items/${itemId}/audit`, { params });\r\n  }\r\n\r\n  async getLowStockItems(threshold?: number) {\r\n    return this.get('/inventory/items/low-stock/list', { params: { threshold } });\r\n  }\r\n\r\n  async getInventorySummary() {\r\n    return this.get('/inventory/summary');\r\n  }\r\n\r\n  // ============================================================================\r\n  // SALES API\r\n  // ============================================================================\r\n\r\n  async createSale(saleData: {\r\n    item_id: number;\r\n    quantity_sold: number;\r\n    customer_name?: string;\r\n    customer_email?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post('/sales/', saleData);\r\n  }\r\n\r\n  async getSales(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    status?: 'pending' | 'posted' | 'cancelled';\r\n    item_id?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    // Enforce backend maximum limit of 1000 to prevent 422 errors\r\n    // Backend has a hard limit of 1000 (le=1000), so cap any higher values\r\n    let safeLimit: number | undefined = params?.limit;\r\n    if (safeLimit !== undefined && safeLimit > 1000) {\r\n      console.warn(`getSales: Limit ${safeLimit} exceeds backend maximum of 1000. Capping to 1000.`);\r\n      safeLimit = 1000;\r\n    }\r\n    \r\n    const safeParams = params ? {\r\n      ...params,\r\n      limit: safeLimit\r\n    } : undefined;\r\n    \r\n    return this.get('/sales', { params: safeParams });\r\n  }\r\n\r\n  async getSale(saleId: number) {\r\n    return this.get(`/sales/${saleId}`);\r\n  }\r\n\r\n  async postSale(saleId: number, postData: {\r\n    debit_account?: string;\r\n    credit_account?: string;\r\n    reference_number?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post(`/sales/${saleId}/post`, postData);\r\n  }\r\n\r\n  async cancelSale(saleId: number) {\r\n    return this.post(`/sales/${saleId}/cancel`, {});\r\n  }\r\n\r\n  async getSalesSummary(params?: { start_date?: string; end_date?: string }) {\r\n    return this.get('/sales/summary/overview', { params });\r\n  }\r\n\r\n  async getReceipt(saleId: number) {\r\n    return this.get(`/sales/receipt/${saleId}`);\r\n  }\r\n\r\n  async getJournalEntries(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    return this.get('/sales/journal-entries/list', { params });\r\n  }\r\n\r\n  /**\r\n   * Submit a contact/support message\r\n   * You can override the endpoint path with NEXT_PUBLIC_CONTACT_ENDPOINT (e.g. \"/support/contact\")\r\n   */\r\n  async submitContact(payload: { name: string; email: string; message: string }) {\r\n    const contactPath = process.env.NEXT_PUBLIC_CONTACT_ENDPOINT || '/contact';\r\n    return this.post(contactPath, payload);\r\n  }\r\n\r\n  // Generic request method\r\n  async request<T = unknown>(config: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.request<T>(config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n}\r\n\r\nexport const apiClient = new ApiClient();\r\nexport default apiClient;"],"names":[],"mappings":"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","debugId":null}},
frontend/.next/dev/static/chunks/[root-of-the-server]__82d03868._.js:    async getFinancialSummary(startDate, endDate) {
frontend/.next/dev/static/chunks/[root-of-the-server]__82d03868._.js.map:    {"offset": {"line": 586, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASHROCK/Desktop/pro%2B/project3/project1/frontend/lib/api.ts"],"sourcesContent":["// lib/api.ts\r\n'use client';\r\n\r\nimport axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\r\nimport { logger } from './logger';\r\n\r\nconst DEFAULT_BASE_URL = 'http://localhost:8000/api/v1';\r\nconst API_BASE_URL = (process.env.NEXT_PUBLIC_API_URL || DEFAULT_BASE_URL).replace(/\\/$/, '');\r\n\r\ninterface ApiResponse<T = unknown> {\r\n  success?: boolean;\r\n  data: T;\r\n  message?: string;\r\n  error?: string;\r\n}\r\n\r\ntype Filters = Record<string, string | number | boolean | undefined>;\r\ntype RevenueRecord = {\r\n  id?: number | string;\r\n  amount?: number;\r\n  date?: string;\r\n  created_at?: string;\r\n  [key: string]: unknown;\r\n};\r\ntype ExpenseRecord = RevenueRecord;\r\ntype TransactionRecord = (RevenueRecord | ExpenseRecord) & {\r\n  transaction_type: 'revenue' | 'expense';\r\n};\r\n\r\ninterface AuthTokens {\r\n  access_token: string;\r\n  token_type: string;\r\n}\r\n\r\ninterface User {\r\n  id: number;\r\n  email: string;\r\n  username?: string;\r\n  full_name: string;\r\n  role: string;\r\n  department?: string;\r\n  phone?: string | null;\r\n  is_active: boolean;\r\n  created_at?: string;\r\n  manager_id?: number;\r\n}\r\n\r\ntype LoginResponse = AuthTokens & { user: User };\r\nexport type ApiUser = User;\r\nexport interface ApiRole {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  permissions?: string[];\r\n  user_count?: number;\r\n  permission_count?: number;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nclass ApiClient {\r\n  private client: AxiosInstance;\r\n\r\n  constructor() {\r\n    this.client = axios.create({\r\n      baseURL: API_BASE_URL,\r\n      timeout: 300000, // 5 minutes timeout for ML training requests (can take longer)\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    this.setupInterceptors();\r\n  }\r\n\r\n  private setupInterceptors() {\r\n    this.client.interceptors.request.use(\r\n      (config) => {\r\n        if (typeof window !== 'undefined') {\r\n          const token = localStorage.getItem('access_token');\r\n          if (token) {\r\n            config.headers = config.headers ?? {};\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n          }\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(error),\r\n    );\r\n\r\n    this.client.interceptors.response.use(\r\n      (response) => response,\r\n      async (error) => {\r\n        const originalRequest = error.config;\r\n        const requestUrl = originalRequest?.url || '';\r\n        \r\n        // Handle 401 Unauthorized - but DON'T redirect on login endpoint\r\n        // The login page handles its own error states and redirects\r\n        if (error.response?.status === 401 && !originalRequest?._retry) {\r\n          originalRequest._retry = true;\r\n          if (typeof window !== 'undefined') {\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n            \r\n            // Only redirect if NOT on the login endpoint\r\n            // Login endpoint errors should be handled by the login page component\r\n            const isLoginEndpoint = requestUrl.includes('/auth/login-json') || \r\n                                   requestUrl.includes('/auth/login');\r\n            \r\n            if (!isLoginEndpoint && !window.location.pathname.includes('/auth/login')) {\r\n              // Redirect to home page for other 401 errors (not login-related)\r\n              window.location.href = '/';\r\n            }\r\n            // For login endpoint 401s, let the error propagate to the component\r\n          }\r\n        }\r\n        \r\n        // Handle 403 Forbidden - user doesn't have permission\r\n        if (error.response?.status === 403) {\r\n          const url = error.config?.url || '';\r\n          // Suppress warnings for expected 403s on role-restricted endpoints\r\n          // These are handled gracefully by the calling code\r\n          const suppressWarnings = url.includes('/inventory/summary') || \r\n                                   url.includes('/sales/summary') || \r\n                                   url.includes('/sales/summary/overview') ||\r\n                                   url.includes('/sales/journal-entries') ||\r\n                                   url.includes('/backup');\r\n          \r\n          if (!suppressWarnings) {\r\n              logger.warn('Access forbidden:', error.response?.data?.detail || 'Insufficient permissions');\r\n          }\r\n        }\r\n        \r\n        // Handle 404 Not Found - suppress console warnings for non-critical endpoints\r\n        if (error.response?.status === 404) {\r\n          const url = error.config?.url || '';\r\n          // Only log 404s in development mode to reduce console noise\r\n          logger.debug('Resource not found:', url);\r\n        }\r\n        \r\n        // Handle network errors - suppress repetitive errors for polling endpoints\r\n        if (!error.response) {\r\n          const url = originalRequest?.url || '';\r\n          // Suppress errors for polling endpoints to reduce console noise\r\n          // These are expected when backend is down\r\n          const isPollingEndpoint = url.includes('/notifications/unread/count') || \r\n                                   url.includes('/dashboard/recent-activity') ||\r\n                                   url.includes('/health');\r\n          \r\n          if (!isPollingEndpoint) {\r\n            const errorCode = (error as { code?: string }).code;\r\n            if (errorCode === 'ECONNREFUSED') {\r\n              logger.warn('Backend server may not be running. Please ensure the backend is running on http://localhost:8000');\r\n            } else if (errorCode === 'ERR_NETWORK') {\r\n              logger.warn('Network request failed. Check your internet connection and backend server status.');\r\n            }\r\n          }\r\n          // Polling endpoint errors are silently handled - they're expected when backend is down\r\n        }\r\n        \r\n        return Promise.reject(error);\r\n      },\r\n    );\r\n  }\r\n\r\n  private normalizeResponse<T>(payload: unknown): ApiResponse<T> {\r\n    if (payload && typeof payload === 'object' && 'data' in payload) {\r\n      return payload as ApiResponse<T>;\r\n    }\r\n    return { data: payload as T };\r\n  }\r\n\r\n  private async get<T>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.get<T>(url, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async post<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.post<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async put<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.put<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async delete<T>(url: string, data?: unknown, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.delete<T>(url, { ...config, data });\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  // Auth endpoints\r\n  async login(identifier: string, password: string): Promise<ApiResponse<LoginResponse>> {\r\n    const response = await this.client.post<LoginResponse>('/auth/login-json', {\r\n      username: identifier,\r\n      password,\r\n    });\r\n    const normalized = this.normalizeResponse<LoginResponse>(response.data);\r\n    \r\n    // Only set token if we have a valid access token and user data\r\n    if (normalized.data?.access_token && normalized.data?.user) {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.setItem('access_token', normalized.data.access_token);\r\n      }\r\n    } else {\r\n      // Clear any existing tokens if response is invalid\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n        localStorage.removeItem('refresh_token');\r\n      }\r\n      throw new Error('Invalid login response: missing access token or user data');\r\n    }\r\n    \r\n    return normalized;\r\n  }\r\n\r\n  async register(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post<User>('/auth/register', userData);\r\n  }\r\n\r\n  async logout(): Promise<void> {\r\n    try {\r\n      await this.post('/auth/logout');\r\n    } finally {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n      }\r\n    }\r\n  }\r\n\r\n  async refreshToken(): Promise<ApiResponse<{ access_token: string }>> {\r\n    if (typeof window === 'undefined') throw new Error('Token refresh is client only');\r\n    const token = localStorage.getItem('access_token');\r\n    if (!token) throw new Error('No token to refresh');\r\n    const response = await this.client.post('/auth/refresh', { token });\r\n    const normalized = this.normalizeResponse<{ access_token: string }>(response.data);\r\n    localStorage.setItem('access_token', normalized.data.access_token);\r\n    return normalized;\r\n  }\r\n\r\n  async generateOTP(): Promise<ApiResponse<{ otp_code: string; message: string }>> {\r\n    return this.post('/auth/generate-otp');\r\n  }\r\n\r\n  async verifyOTP(otp_code: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/verify-otp', { otp_code });\r\n  }\r\n\r\n  async requestOTP(email: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/request-otp', { email });\r\n  }\r\n\r\n  async resetPassword(email: string, code: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/reset-password', { email, code, newPassword });\r\n  }\r\n\r\n  // User endpoints\r\n  async getCurrentUser(): Promise<ApiResponse<User>> {\r\n    return this.get('/users/me');\r\n  }\r\n\r\n  async updateCurrentUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put('/users/me', userData);\r\n  }\r\n\r\n  async changePassword(currentPassword: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/users/me/change-password', { current_password: currentPassword, new_password: newPassword });\r\n  }\r\n\r\n  async getUsers(): Promise<ApiResponse<User[]>> {\r\n    return this.get('/users/');\r\n  }\r\n\r\n  async getUser(userId: number): Promise<ApiResponse<User>> {\r\n    return this.get(`/users/${userId}`);\r\n  }\r\n\r\n  async getSubordinates(userId: number): Promise<ApiResponse<User[]>> {\r\n    return this.get(`/users/${userId}/subordinates`);\r\n  }\r\n\r\n  async createUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post('/users', userData);\r\n  }\r\n\r\n  /**\r\n   * Create a subordinate (accountant or employee)\r\n   * Used by finance managers to create accountants/employees\r\n   */\r\n  async createSubordinate(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post('/users/subordinates', userData);\r\n  }\r\n\r\n  async updateUser(userId: number, userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put(`/users/${userId}`, userData);\r\n  }\r\n\r\n  async deleteUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/delete`, { password });\r\n  }\r\n\r\n  async activateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/deactivate`, { password });\r\n  }\r\n\r\n  // Permission endpoints\r\n  async getUserPermissions(userId: number): Promise<ApiResponse<{ permissions: string[] }>> {\r\n    return this.get(`/users/${userId}/permissions`);\r\n  }\r\n\r\n  async updateUserPermissions(userId: number, permissions: string[]): Promise<ApiResponse<{ message: string; permissions: string[] }>> {\r\n    return this.put(`/users/${userId}/permissions`, { permissions });\r\n  }\r\n\r\n  // Financial endpoints\r\n  async getRevenues(filters?: Filters): Promise<ApiResponse<RevenueRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/revenue', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getRevenue(revenueId: number): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.get(`/revenue/${revenueId}`);\r\n  }\r\n\r\n  async createRevenue(revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.post('/revenue', revenueData);\r\n  }\r\n\r\n  async updateRevenue(revenueId: number, revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.put(`/revenue/${revenueId}`, revenueData);\r\n  }\r\n\r\n  async deleteRevenue(revenueId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/revenue/${revenueId}/delete`, { password });\r\n  }\r\n\r\n  async getExpenses(filters?: Filters): Promise<ApiResponse<ExpenseRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/expenses', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getExpense(expenseId: number): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.get(`/expenses/${expenseId}`);\r\n  }\r\n\r\n  async createExpense(expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.post('/expenses', expenseData);\r\n  }\r\n\r\n  async updateExpense(expenseId: number, expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.put(`/expenses/${expenseId}`, expenseData);\r\n  }\r\n\r\n  async deleteExpense(expenseId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/expenses/${expenseId}/delete`, { password });\r\n  }\r\n\r\n  // Transactions (combined revenues and expenses)\r\n  async getTransactions(): Promise<ApiResponse<TransactionRecord[]>> {\r\n    try {\r\n      const [revenuesResponse, expensesResponse] = await Promise.all([\r\n        this.getRevenues(),\r\n        this.getExpenses(),\r\n      ]);\r\n\r\n      const revenues = (revenuesResponse.data || []).map((r: RevenueRecord): TransactionRecord => ({\r\n        ...r,\r\n        transaction_type: 'revenue',\r\n        id: `revenue-${r.id}`,\r\n      }));\r\n\r\n      const expenses = (expensesResponse.data || []).map((e: ExpenseRecord): TransactionRecord => ({\r\n        ...e,\r\n        transaction_type: 'expense',\r\n        id: `expense-${e.id}`,\r\n        amount: -Math.abs(Number(e.amount ?? 0)), // Make expenses negative\r\n      }));\r\n\r\n      const transactions = [...revenues, ...expenses].sort((a, b) => {\r\n        const dateA = new Date(a.date || a.created_at || 0).getTime();\r\n        const dateB = new Date(b.date || b.created_at || 0).getTime();\r\n        return dateB - dateA; // Most recent first\r\n      });\r\n\r\n      return { data: transactions };\r\n    } catch (error) {\r\n      // Error handled by caller\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Dashboard\r\n  async getDashboardOverview(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/overview');\r\n  }\r\n\r\n  async getDashboardKPIs(period: 'week' | 'month' | 'quarter' | 'year' = 'month'): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/kpis', { params: { period } });\r\n  }\r\n\r\n  async getDashboardRecentActivity(limit = 10): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/dashboard/recent-activity', { params: { limit } });\r\n  }\r\n\r\n  // Analytics\r\n  async getAdvancedKPIs(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/kpis', { params });\r\n  }\r\n\r\n  async getTrendAnalysis(params?: {\r\n    metric?: 'revenue' | 'expenses' | 'profit';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/trends', { params });\r\n  }\r\n\r\n  async getTimeSeriesData(params?: {\r\n    interval?: 'day' | 'week' | 'month' | 'quarter' | 'year';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/time-series', { params });\r\n  }\r\n\r\n  async getCategoryBreakdown(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/category-breakdown', { params });\r\n  }\r\n\r\n  async getAnalyticsOverview(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get('/analytics/overview', { params });\r\n  }\r\n\r\n  // Reports\r\n  async getReports(filters?: Filters): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    return this.get('/reports', { params: filters });\r\n  }\r\n\r\n  async getReport(reportId: number): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get(`/reports/${reportId}`);\r\n  }\r\n\r\n  async createReport(reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.post('/reports', reportData);\r\n  }\r\n\r\n  async updateReport(reportId: number, reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.put(`/reports/${reportId}`, reportData);\r\n  }\r\n\r\n  async deleteReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/reports/${reportId}`);\r\n  }\r\n\r\n  async downloadReport(reportId: number): Promise<ApiResponse<{ download_url: string; file_size: number; filename: string }>> {\r\n    return this.post(`/reports/${reportId}/download`);\r\n  }\r\n\r\n  async regenerateReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/reports/${reportId}/regenerate`);\r\n  }\r\n\r\n  async getAvailableReportTypes(): Promise<ApiResponse<{ report_types: Array<{ type: string; name: string; description: string }> }>> {\r\n    return this.get('/reports/types/available');\r\n  }\r\n\r\n  // Financial Reports - Direct data fetching\r\n  async getIncomeStatement(startDate?: string, endDate?: string): Promise<ApiResponse<Record<string, unknown>>> {\r\n    const params: Filters = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n    \r\n    // Fetch revenue and expense data to calculate income statement\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n      \r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate totals - ONLY from approved entries\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n\r\n    // Group by category - handle both enum and string categories - ONLY from approved entries\r\n    const revenueByCategory: Record<string, number> = {};\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const catValue =\r\n        r.category && typeof r.category === 'object' && 'value' in r.category\r\n          ? (r.category as { value?: unknown }).value\r\n          : r.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      revenueByCategory[catKey] = (revenueByCategory[catKey] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const catValue =\r\n        e.category && typeof e.category === 'object' && 'value' in e.category\r\n          ? (e.category as { value?: unknown }).value\r\n          : e.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      expenseByCategory[catKey] = (expenseByCategory[catKey] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        revenue: {\r\n          total: totalRevenue,\r\n          by_category: revenueByCategory,\r\n        },\r\n        expenses: {\r\n          total: totalExpenses,\r\n          by_category: expenseByCategory,\r\n        },\r\n        profit,\r\n        profit_margin: totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0,\r\n      },\r\n    };\r\n  }\r\n\r\n  async getCashFlow(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    summary: { total_inflow: number; total_outflow: number; net_cash_flow: number };\r\n    daily_cash_flow: Record<string, { inflow: number; outflow: number; net: number }>;\r\n  }>> {\r\n    const params: Record<string, unknown> = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n    \r\n    // Fetch revenue and expense data to calculate cash flow\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([this.getRevenues(), this.getExpenses()]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures cash flow is only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate daily cash flow - ONLY from approved entries\r\n    const cashFlowByDay: Record<string, { inflow: number; outflow: number; net: number }> = {};\r\n    \r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = r.date || r.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(r.amount || 0);\r\n      cashFlowByDay[day].inflow += amount;\r\n      cashFlowByDay[day].net += amount;\r\n    });\r\n\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = e.date || e.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(e.amount || 0);\r\n      cashFlowByDay[day].outflow += amount;\r\n      cashFlowByDay[day].net -= amount;\r\n    });\r\n\r\n    const totalInflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.inflow, 0);\r\n    const totalOutflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.outflow, 0);\r\n    const netCashFlow = totalInflow - totalOutflow;\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        summary: {\r\n          total_inflow: totalInflow,\r\n          total_outflow: totalOutflow,\r\n          net_cash_flow: netCashFlow,\r\n        },\r\n        daily_cash_flow: cashFlowByDay,\r\n      },\r\n    };\r\n  }\r\n\r\n  // Financial Summary Report\r\n  async getFinancialSummary(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    financials: {\r\n      total_revenue: number;\r\n      total_expenses: number;\r\n      profit: number;\r\n      profit_margin: number;\r\n    };\r\n    revenue_by_category: Record<string, number>;\r\n    expenses_by_category: Record<string, number>;\r\n    transaction_counts: { revenue: number; expenses: number; total: number };\r\n    generated_at: string;\r\n  }>> {\r\n    // Always fetch all data first, then calculate summary\r\n    const [allRevenuesRes, allExpensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = allRevenuesRes.data || [];\r\n    let expenses = allExpensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n    \r\n    // Filter to only include APPROVED revenue entries for calculations\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    \r\n    // Filter to only include APPROVED expense entries for calculations\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate totals from filtered data - ONLY approved revenue and expenses\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n    const profitMargin = totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0;\r\n\r\n    // Process category summaries - ONLY from approved revenue\r\n    const revenueByCategory: Record<string, number> = {};\r\n    const normalizeCategory = (raw: unknown): string => {\r\n      if (typeof raw === 'string') return raw || 'other';\r\n      if (raw && typeof raw === 'object' && 'value' in raw) {\r\n        const value = (raw as { value?: unknown }).value;\r\n        return typeof value === 'string' ? value : String(value ?? 'other');\r\n      }\r\n      return String(raw ?? 'other');\r\n    };\r\n\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const cat = normalizeCategory(r.category);\r\n      revenueByCategory[cat] = (revenueByCategory[cat] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    // Process category summaries - ONLY from approved expenses\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const cat = normalizeCategory(e.category);\r\n      expenseByCategory[cat] = (expenseByCategory[cat] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    // Calculate actual transaction counts - ONLY approved items\r\n    const revenueCount = approvedRevenues.length;\r\n    const expenseCount = approvedExpenses.length;\r\n\r\n    const result = {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        financials: {\r\n          total_revenue: totalRevenue,\r\n          total_expenses: totalExpenses,\r\n          profit,\r\n          profit_margin: profitMargin,\r\n        },\r\n        revenue_by_category: revenueByCategory,\r\n        expenses_by_category: expenseByCategory,\r\n        transaction_counts: {\r\n          revenue: revenueCount,\r\n          expenses: expenseCount,\r\n          total: revenueCount + expenseCount,\r\n        },\r\n        generated_at: new Date().toISOString(),\r\n      },\r\n    };\r\n\r\n    return result;\r\n  }\r\n\r\n  // Approvals\r\n  async getApprovals(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/approvals');\r\n  }\r\n\r\n  async getApproval(approvalId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/approvals/${approvalId}`);\r\n  }\r\n\r\n  async getApprovalComments(approvalId: number): Promise<ApiResponse<unknown[]>> {\r\n    return this.get(`/approvals/${approvalId}/comments`);\r\n  }\r\n\r\n  async createApprovalComment(approvalId: number, comment: string): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${approvalId}/comments`, { comment });\r\n  }\r\n\r\n  async approveItem(itemId: number, itemType: 'revenue' | 'expense'): Promise<ApiResponse<unknown>> {\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/approve`);\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/approve`);\r\n    }\r\n  }\r\n\r\n  async rejectItem(\r\n    itemId: number,\r\n    itemType: 'revenue' | 'expense',\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // Reject revenue or expense entry through their respective endpoints\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    }\r\n  }\r\n\r\n  async approveWorkflow(workflowId: number): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/approve`);\r\n  }\r\n\r\n  async rejectWorkflow(\r\n    workflowId: number,\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/reject`, { rejection_reason: reason, password });\r\n  }\r\n\r\n  // Notifications\r\n  async getNotifications(unreadOnly?: boolean): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/notifications', { params: { unread_only: unreadOnly } });\r\n  }\r\n\r\n  async getNotification(notificationId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async markNotificationAsRead(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/notifications/${notificationId}/mark-read`);\r\n  }\r\n\r\n  async markAllNotificationsAsRead(): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/notifications/mark-all-read');\r\n  }\r\n\r\n  async deleteNotification(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async getUnreadCount(): Promise<ApiResponse<{ unread_count: number }>> {\r\n    return this.get('/notifications/unread/count');\r\n  }\r\n\r\n  async getNotificationPreferences(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/notifications/preferences');\r\n  }\r\n\r\n  async updateNotificationPreferences(\r\n    preferences: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put('/notifications/preferences', preferences);\r\n  }\r\n\r\n  // Admin endpoints\r\n  async getAdminSystemStats(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/system/stats');\r\n  }\r\n\r\n  async getSystemSettings(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/settings');\r\n  }\r\n\r\n  async getSystemHealth(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/health');\r\n  }\r\n\r\n  async getHierarchy(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/hierarchy');\r\n  }\r\n\r\n  async getRoles(): Promise<ApiResponse<ApiRole[]>> {\r\n    return this.get('/admin/roles');\r\n  }\r\n\r\n  async getPermissions(): Promise<ApiResponse<string[]>> {\r\n    return this.get('/admin/permissions');\r\n  }\r\n\r\n  async createRole(roleData: { name: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.post('/admin/roles', payload);\r\n  }\r\n\r\n  async updateRole(roleId: number, roleData: { name?: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.put(`/admin/roles/${roleId}`, payload);\r\n  }\r\n\r\n  async deleteRole(roleId: number): Promise<ApiResponse<null>> {\r\n    return this.delete(`/admin/roles/${roleId}`);\r\n  }\r\n\r\n  // Backup endpoints\r\n  async createBackup(includeFiles: boolean = false): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/create', null, {\r\n      params: { include_files: includeFiles }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async listBackups(): Promise<ApiResponse<{ backups: unknown[] }>> {\r\n    return this.get('/admin/backup/list');\r\n  }\r\n\r\n  async restoreBackup(backupName: string): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/restore', null, {\r\n      params: { backup_name: backupName }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async deleteBackup(backupName: string, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/admin/backup/${encodeURIComponent(backupName)}/delete`, { password });\r\n  }\r\n\r\n  async getVerificationHistory(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/users/me/verification-history');\r\n  }\r\n\r\n  // 2FA endpoints\r\n  async get2FAStatus(): Promise<ApiResponse<{ enabled: boolean }>> {\r\n    return this.get('/users/me/2fa/status');\r\n  }\r\n\r\n  async setup2FA(): Promise<ApiResponse<{ secret: string; qr_code_url: string; manual_entry_key: string }>> {\r\n    return this.post('/users/me/2fa/setup');\r\n  }\r\n\r\n  async verify2FA(code: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/verify', { code });\r\n  }\r\n\r\n  async disable2FA(currentPassword: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/disable', { current_password: currentPassword });\r\n  }\r\n\r\n  // IP Restriction endpoints\r\n  async getIPRestrictionStatus(): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.get('/users/me/ip-restriction');\r\n  }\r\n\r\n  async updateIPRestriction(enabled: boolean): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.put('/users/me/ip-restriction', { enabled });\r\n  }\r\n\r\n  async addAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.post('/users/me/ip-restriction/allowed-ips', { ip_address: ipAddress });\r\n  }\r\n\r\n  async removeAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.delete(`/users/me/ip-restriction/allowed-ips/${encodeURIComponent(ipAddress)}`);\r\n  }\r\n\r\n  async triggerBackup(includeFiles = false): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/admin/backup/create', undefined, { params: { include_files: includeFiles } });\r\n  }\r\n\r\n  // Department endpoints\r\n  async getDepartments(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/departments');\r\n  }\r\n\r\n  async getDepartment(departmentId: string | number): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.get(`/departments/${encodedId}`);\r\n  }\r\n\r\n  async createDepartment(departmentData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/departments', departmentData);\r\n  }\r\n\r\n  async updateDepartment(\r\n    departmentId: string | number,\r\n    departmentData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.put(`/departments/${encodedId}`, departmentData);\r\n  }\r\n\r\n  async deleteDepartment(\r\n    departmentId: string | number,\r\n    password: string,\r\n  ): Promise<ApiResponse<{ message: string }>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.post(`/departments/${encodedId}/delete`, { password });\r\n  }\r\n\r\n  // Project endpoints\r\n  async getProjects(filters?: Record<string, unknown>): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/projects', { params: filters });\r\n  }\r\n\r\n  async getProject(projectId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/projects/${projectId}`);\r\n  }\r\n\r\n  async createProject(projectData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/projects', projectData);\r\n  }\r\n\r\n  async updateProject(\r\n    projectId: number,\r\n    projectData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put(`/projects/${projectId}`, projectData);\r\n  }\r\n\r\n  async deleteProject(projectId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/projects/${projectId}/delete`, { password });\r\n  }\r\n\r\n  // Audit Logs endpoints (Admin only)\r\n  async getAuditLogs(filters?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    user_id?: number;\r\n    action?: string;\r\n    resource_type?: string;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    const params: Record<string, unknown> = {};\r\n    if (filters) {\r\n      if (filters.skip !== undefined) params.skip = filters.skip;\r\n      if (filters.limit !== undefined) params.limit = filters.limit;\r\n      if (filters.user_id !== undefined) params.user_id = filters.user_id;\r\n      if (filters.action) params.action = filters.action;\r\n      if (filters.resource_type) params.resource_type = filters.resource_type;\r\n      if (filters.start_date) {\r\n        // Convert to ISO format for backend\r\n        const start = new Date(filters.start_date + 'T00:00:00');\r\n        params.start_date = start.toISOString();\r\n      }\r\n      if (filters.end_date) {\r\n        // Convert to ISO format for backend\r\n        const end = new Date(filters.end_date + 'T23:59:59');\r\n        params.end_date = end.toISOString();\r\n      }\r\n    }\r\n    return this.get('/admin/audit/logs', { params });\r\n  }\r\n\r\n  // ============================================================================\r\n  // BUDGETING & FORECASTING (FP&A)\r\n  // ============================================================================\r\n\r\n  // Budget Management\r\n  async getBudgets(params?: { skip?: number; limit?: number; status?: string; department?: string }) {\r\n    return this.get('/budgeting/budgets', { params });\r\n  }\r\n\r\n  async getBudget(id: number) {\r\n    return this.get(`/budgeting/budgets/${id}`);\r\n  }\r\n\r\n  async createBudget(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/budgets', data);\r\n  }\r\n\r\n  async createBudgetFromTemplate(templateName: string, data: Record<string, unknown>) {\r\n    const params: Record<string, unknown> = {\r\n      template_name: templateName\r\n    };\r\n    if (data.name) params.name = data.name;\r\n    if (data.start_date) params.start_date = data.start_date;\r\n    if (data.end_date) params.end_date = data.end_date;\r\n    if (data.department) params.department = data.department;\r\n    if (data.project) params.project = data.project;\r\n    \r\n    return this.post(`/budgeting/budgets/from-template`, {}, { params });\r\n  }\r\n\r\n  async updateBudget(id: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${id}`, data);\r\n  }\r\n\r\n  async deleteBudget(id: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${id}/delete`, { password });\r\n  }\r\n\r\n  async validateBudget(id: number) {\r\n    return this.post(`/budgeting/budgets/${id}/validate`);\r\n  }\r\n\r\n  // Budget Items\r\n  async getBudgetItems(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/items`);\r\n  }\r\n\r\n  async createBudgetItem(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items`, data);\r\n  }\r\n\r\n  async updateBudgetItem(budgetId: number, itemId: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${budgetId}/items/${itemId}`, data);\r\n  }\r\n\r\n  async deleteBudgetItem(budgetId: number, itemId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  // Scenario Planning\r\n  async getScenarios(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/scenarios`);\r\n  }\r\n\r\n  async createScenario(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios`, data);\r\n  }\r\n\r\n  async compareScenarios(budgetId: number, scenarioIds: number[]) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/compare`, { scenario_ids: scenarioIds });\r\n  }\r\n\r\n  // Forecasting\r\n  async getForecasts(params?: { skip?: number; limit?: number }) {\r\n    // Always provide explicit defaults to match backend expectations\r\n    const queryParams = {\r\n      skip: params?.skip !== undefined && params.skip >= 0 ? params.skip : 0,\r\n      limit: params?.limit !== undefined && params.limit >= 1 && params.limit <= 1000 ? params.limit : 100\r\n    };\r\n    \r\n    return this.get('/budgeting/forecasts', { params: queryParams });\r\n  }\r\n\r\n  async createForecast(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/forecasts', data);\r\n  }\r\n\r\n  async getForecast(id: number) {\r\n    return this.get(`/budgeting/forecasts/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Update a forecast\r\n   * @param id - Forecast ID\r\n   * @param data - Forecast update data (name, description, and optionally forecast_data)\r\n   */\r\n  async updateForecast(\r\n    id: number,\r\n    data: {\r\n      name?: string;\r\n      description?: string;\r\n      forecast_data?: Array<{\r\n        period?: string;\r\n        date?: string;\r\n        forecasted_value?: number;\r\n        method?: string;\r\n      }>;\r\n    },\r\n  ) {\r\n    return this.put(`/budgeting/forecasts/${id}`, data);\r\n  }\r\n\r\n  async deleteForecast(id: number, password: string) {\r\n    return this.post(`/budgeting/forecasts/${id}/delete`, { password });\r\n  }\r\n\r\n  // ============================================================================\r\n  // AI/ML MODEL TRAINING\r\n  // ============================================================================\r\n\r\n  /**\r\n   * Train all AI/ML models\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   */\r\n  async trainAllModels(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/all',\r\n      params: { start_date: startDate, end_date: endDate }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train ARIMA model for expenses\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   * @param order - ARIMA order (p,d,q) as string \"p,d,q\"\r\n   */\r\n  async trainExpensesArima(startDate: string, endDate: string, order: string = \"1,1,1\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/arima',\r\n      params: { start_date: startDate, end_date: endDate, order },\r\n      timeout: 120000 // 2 minutes for ARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for expenses\r\n   */\r\n  async trainExpensesProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Linear Regression model for expenses\r\n   */\r\n  async trainExpensesLinearRegression(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/linear-regression',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for revenue\r\n   */\r\n  async trainRevenueProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for revenue\r\n   */\r\n  async trainRevenueXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for revenue\r\n   */\r\n  async trainRevenueLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train SARIMA model for inventory\r\n   */\r\n  async trainInventorySARIMA(startDate: string, endDate: string, order: string = \"1,1,1\", seasonalOrder: string = \"1,1,1,12\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/sarima',\r\n      params: { start_date: startDate, end_date: endDate, order, seasonal_order: seasonalOrder },\r\n      timeout: 180000 // 3 minutes for SARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for inventory\r\n   */\r\n  async trainInventoryXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for inventory\r\n   */\r\n  async trainInventoryLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  // Variance Analysis\r\n  async calculateVariance(budgetId: number, periodStart: string, periodEnd: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/variance`, {}, {\r\n      params: { period_start: periodStart, period_end: periodEnd }\r\n    });\r\n  }\r\n\r\n  async getVarianceHistory(budgetId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance`, { params });\r\n  }\r\n\r\n  async getVarianceSummary(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance/summary`);\r\n  }\r\n\r\n  // ============================================================================\r\n  // INVENTORY MANAGEMENT API\r\n  // ============================================================================\r\n  \r\n  async createInventoryItem(itemData: {\r\n    item_name: string;\r\n    buying_price: number;\r\n    expense_amount?: number;\r\n    selling_price: number;\r\n    quantity: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.post('/inventory/items', itemData);\r\n  }\r\n\r\n  async getInventoryItems(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    category?: string;\r\n    is_active?: boolean;\r\n    search?: string;\r\n  }) {\r\n    return this.get('/inventory/items', { params });\r\n  }\r\n\r\n  async getInventoryItem(itemId: number) {\r\n    return this.get(`/inventory/items/${itemId}`);\r\n  }\r\n\r\n  async updateInventoryItem(itemId: number, itemData: {\r\n    item_name?: string;\r\n    buying_price?: number;\r\n    expense_amount?: number;\r\n    selling_price?: number;\r\n    quantity?: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.put(`/inventory/items/${itemId}`, itemData);\r\n  }\r\n\r\n  async deleteInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  async activateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/deactivate`, { password });\r\n  }\r\n\r\n  async getInventoryAuditLogs(itemId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/inventory/items/${itemId}/audit`, { params });\r\n  }\r\n\r\n  async getLowStockItems(threshold?: number) {\r\n    return this.get('/inventory/items/low-stock/list', { params: { threshold } });\r\n  }\r\n\r\n  async getInventorySummary() {\r\n    return this.get('/inventory/summary');\r\n  }\r\n\r\n  // ============================================================================\r\n  // SALES API\r\n  // ============================================================================\r\n\r\n  async createSale(saleData: {\r\n    item_id: number;\r\n    quantity_sold: number;\r\n    customer_name?: string;\r\n    customer_email?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post('/sales/', saleData);\r\n  }\r\n\r\n  async getSales(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    status?: 'pending' | 'posted' | 'cancelled';\r\n    item_id?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    // Enforce backend maximum limit of 1000 to prevent 422 errors\r\n    // Backend has a hard limit of 1000 (le=1000), so cap any higher values\r\n    let safeLimit: number | undefined = params?.limit;\r\n    if (safeLimit !== undefined && safeLimit > 1000) {\r\n      logger.warn(`getSales: Limit ${safeLimit} exceeds backend maximum of 1000. Capping to 1000.`);\r\n      safeLimit = 1000;\r\n    }\r\n    \r\n    const safeParams = params ? {\r\n      ...params,\r\n      limit: safeLimit\r\n    } : undefined;\r\n    \r\n    return this.get('/sales', { params: safeParams });\r\n  }\r\n\r\n  async getSale(saleId: number) {\r\n    return this.get(`/sales/${saleId}`);\r\n  }\r\n\r\n  async postSale(saleId: number, postData: {\r\n    debit_account?: string;\r\n    credit_account?: string;\r\n    reference_number?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post(`/sales/${saleId}/post`, postData);\r\n  }\r\n\r\n  async cancelSale(saleId: number) {\r\n    return this.post(`/sales/${saleId}/cancel`, {});\r\n  }\r\n\r\n  async getSalesSummary(params?: { start_date?: string; end_date?: string }) {\r\n    return this.get('/sales/summary/overview', { params });\r\n  }\r\n\r\n  async getReceipt(saleId: number) {\r\n    return this.get(`/sales/receipt/${saleId}`);\r\n  }\r\n\r\n  async getJournalEntries(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    return this.get('/sales/journal-entries/list', { params });\r\n  }\r\n\r\n  /**\r\n   * Submit a contact/support message\r\n   * You can override the endpoint path with NEXT_PUBLIC_CONTACT_ENDPOINT (e.g. \"/support/contact\")\r\n   */\r\n  async submitContact(payload: { name: string; email: string; message: string }) {\r\n    const contactPath = process.env.NEXT_PUBLIC_CONTACT_ENDPOINT || '/contact';\r\n    return this.post(contactPath, payload);\r\n  }\r\n\r\n  // Generic request method\r\n  async request<T = unknown>(config: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.request<T>(config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n}\r\n\r\nexport const apiClient = new ApiClient();\r\nexport default apiClient;"],"names":[],"mappings":"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","debugId":null}},
frontend/.next/dev/static/chunks/[root-of-the-server]__ae11d106._.js:    async getFinancialSummary(startDate, endDate) {
frontend/.next/dev/static/chunks/[root-of-the-server]__ae11d106._.js.map:    {"offset": {"line": 513, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASHROCK/Desktop/pro%2B/project3/projectai/frontend/lib/api.ts"],"sourcesContent":["// lib/api.ts\r\n'use client';\r\n\r\nimport axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\r\n\r\nconst DEFAULT_BASE_URL = 'http://localhost:8000/api/v1';\r\nconst API_BASE_URL = (process.env.NEXT_PUBLIC_API_URL || DEFAULT_BASE_URL).replace(/\\/$/, '');\r\n\r\ninterface ApiResponse<T = unknown> {\r\n  success?: boolean;\r\n  data: T;\r\n  message?: string;\r\n  error?: string;\r\n}\r\n\r\ntype Filters = Record<string, string | number | boolean | undefined>;\r\ntype RevenueRecord = {\r\n  id?: number | string;\r\n  amount?: number;\r\n  date?: string;\r\n  created_at?: string;\r\n  [key: string]: unknown;\r\n};\r\ntype ExpenseRecord = RevenueRecord;\r\ntype TransactionRecord = (RevenueRecord | ExpenseRecord) & {\r\n  transaction_type: 'revenue' | 'expense';\r\n};\r\n\r\ninterface AuthTokens {\r\n  access_token: string;\r\n  token_type: string;\r\n}\r\n\r\ninterface User {\r\n  id: number;\r\n  email: string;\r\n  username?: string;\r\n  full_name: string;\r\n  role: string;\r\n  department?: string;\r\n  phone?: string | null;\r\n  is_active: boolean;\r\n  created_at?: string;\r\n  manager_id?: number;\r\n}\r\n\r\ntype LoginResponse = AuthTokens & { user: User };\r\nexport type ApiUser = User;\r\nexport interface ApiRole {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  permissions?: string[];\r\n  user_count?: number;\r\n  permission_count?: number;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nclass ApiClient {\r\n  private client: AxiosInstance;\r\n\r\n  constructor() {\r\n    this.client = axios.create({\r\n      baseURL: API_BASE_URL,\r\n      timeout: 300000, // 5 minutes timeout for ML training requests (can take longer)\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    this.setupInterceptors();\r\n  }\r\n\r\n  private setupInterceptors() {\r\n    this.client.interceptors.request.use(\r\n      (config) => {\r\n        if (typeof window !== 'undefined') {\r\n          const token = localStorage.getItem('access_token');\r\n          if (token) {\r\n            config.headers = config.headers ?? {};\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n          }\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(error),\r\n    );\r\n\r\n    this.client.interceptors.response.use(\r\n      (response) => response,\r\n      async (error) => {\r\n        const originalRequest = error.config;\r\n        const requestUrl = originalRequest?.url || '';\r\n        \r\n        // Handle 401 Unauthorized - but DON'T redirect on login endpoint\r\n        // The login page handles its own error states and redirects\r\n        if (error.response?.status === 401 && !originalRequest?._retry) {\r\n          originalRequest._retry = true;\r\n          if (typeof window !== 'undefined') {\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n            \r\n            // Only redirect if NOT on the login endpoint\r\n            // Login endpoint errors should be handled by the login page component\r\n            const isLoginEndpoint = requestUrl.includes('/auth/login-json') || \r\n                                   requestUrl.includes('/auth/login');\r\n            \r\n            if (!isLoginEndpoint && !window.location.pathname.includes('/auth/login')) {\r\n              // Redirect to home page for other 401 errors (not login-related)\r\n              window.location.href = '/';\r\n            }\r\n            // For login endpoint 401s, let the error propagate to the component\r\n          }\r\n        }\r\n        \r\n        // Handle 403 Forbidden - user doesn't have permission\r\n        if (error.response?.status === 403) {\r\n          const url = error.config?.url || '';\r\n          const errorDetail = error.response?.data?.detail || 'Insufficient permissions';\r\n          \r\n          // Suppress warnings for expected 403s on role-restricted endpoints\r\n          // These are handled gracefully by the calling code\r\n          const suppressWarnings = url.includes('/inventory/summary') || \r\n                                   url.includes('/sales/summary') || \r\n                                   url.includes('/sales/summary/overview') ||\r\n                                   url.includes('/sales/journal-entries') ||\r\n                                   url.includes('/backup');\r\n          \r\n          // For user endpoints, provide more helpful error messages\r\n          if (url.includes('/users/') && !url.includes('/users/me')) {\r\n            // Don't suppress warnings for user endpoints - these are important\r\n            if (typeof window !== 'undefined') {\r\n              console.warn('Access forbidden to user resource:', errorDetail);\r\n            }\r\n            // Enhance error with more context\r\n            error.response.data = {\r\n              ...error.response.data,\r\n              detail: errorDetail,\r\n              message: `You don't have permission to access this user. ${errorDetail}`,\r\n            };\r\n          } else if (!suppressWarnings && typeof window !== 'undefined') {\r\n            console.warn('Access forbidden:', errorDetail);\r\n          }\r\n        }\r\n        \r\n        // Handle 404 Not Found - suppress console warnings for non-critical endpoints\r\n        if (error.response?.status === 404) {\r\n          const url = error.config?.url || '';\r\n          // Only log 404s in development mode to reduce console noise\r\n          if (process.env.NODE_ENV === 'development' && typeof window !== 'undefined') {\r\n            console.warn('Resource not found:', url);\r\n          }\r\n        }\r\n        \r\n        // Handle network errors - suppress repetitive errors for polling endpoints\r\n        if (!error.response) {\r\n          const url = error.config?.url || '';\r\n          // Suppress errors for polling endpoints to reduce console noise\r\n          // These are expected when backend is down\r\n          const isPollingEndpoint = url.includes('/notifications/unread/count') || \r\n                                   url.includes('/dashboard/recent-activity') ||\r\n                                   url.includes('/health');\r\n          \r\n          if (!isPollingEndpoint) {\r\n            // Only log non-polling endpoint errors\r\n            const errorMessage = error.message || 'Network error: Unable to connect to server';\r\n            \r\n            if (process.env.NODE_ENV === 'development') {\r\n              console.error('Network error:', errorMessage);\r\n              \r\n              if (error.code === 'ECONNREFUSED' || error.message?.includes('Network Error')) {\r\n                console.error('Backend server may not be running. Please ensure the backend is running on http://localhost:8000');\r\n              } else if (error.code === 'ERR_NETWORK') {\r\n                console.error('Network request failed. Check your internet connection and backend server status.');\r\n              }\r\n            }\r\n          }\r\n          // Polling endpoint errors are silently handled - they're expected when backend is down\r\n        }\r\n        \r\n        return Promise.reject(error);\r\n      },\r\n    );\r\n  }\r\n\r\n  private normalizeResponse<T>(payload: unknown): ApiResponse<T> {\r\n    // Handle different response formats from the backend\r\n    if (!payload) {\r\n      return { data: null as unknown as T };\r\n    }\r\n    \r\n    // If payload is already in ApiResponse format\r\n    if (typeof payload === 'object' && payload !== null) {\r\n      if ('data' in payload) {\r\n        return payload as ApiResponse<T>;\r\n      }\r\n      // If payload is the data itself (direct response)\r\n      return { data: payload as T };\r\n    }\r\n    \r\n    // Fallback: wrap primitive values\r\n    return { data: payload as T };\r\n  }\r\n\r\n  /**\r\n   * Extract error message from various error formats\r\n   */\r\n  private extractErrorMessage(error: unknown): string {\r\n    if (error && typeof error === 'object') {\r\n      // Axios error format\r\n      if ('response' in error) {\r\n        const axiosError = error as { response?: { data?: { detail?: string; message?: string; error?: string } } };\r\n        return axiosError.response?.data?.detail || \r\n               axiosError.response?.data?.message || \r\n               axiosError.response?.data?.error || \r\n               'An error occurred';\r\n      }\r\n      // Standard Error object\r\n      if ('message' in error) {\r\n        return (error as { message: string }).message;\r\n      }\r\n    }\r\n    // Fallback\r\n    return error instanceof Error ? error.message : 'An unknown error occurred';\r\n  }\r\n\r\n  private async get<T>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.get<T>(url, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async post<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.post<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async put<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.put<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async delete<T>(url: string, data?: unknown, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.delete<T>(url, { ...config, data });\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  // Auth endpoints\r\n  async login(identifier: string, password: string): Promise<ApiResponse<LoginResponse>> {\r\n    const response = await this.client.post<LoginResponse>('/auth/login-json', {\r\n      username: identifier,\r\n      password,\r\n    });\r\n    const normalized = this.normalizeResponse<LoginResponse>(response.data);\r\n    \r\n    // Only set token if we have a valid access token and user data\r\n    if (normalized.data?.access_token && normalized.data?.user) {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.setItem('access_token', normalized.data.access_token);\r\n      }\r\n    } else {\r\n      // Clear any existing tokens if response is invalid\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n        localStorage.removeItem('refresh_token');\r\n      }\r\n      throw new Error('Invalid login response: missing access token or user data');\r\n    }\r\n    \r\n    return normalized;\r\n  }\r\n\r\n  async register(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post<User>('/auth/register', userData);\r\n  }\r\n\r\n  async logout(): Promise<void> {\r\n    try {\r\n      await this.post('/auth/logout');\r\n    } finally {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n      }\r\n    }\r\n  }\r\n\r\n  async refreshToken(): Promise<ApiResponse<{ access_token: string }>> {\r\n    if (typeof window === 'undefined') throw new Error('Token refresh is client only');\r\n    const token = localStorage.getItem('access_token');\r\n    if (!token) throw new Error('No token to refresh');\r\n    const response = await this.client.post('/auth/refresh', { token });\r\n    const normalized = this.normalizeResponse<{ access_token: string }>(response.data);\r\n    localStorage.setItem('access_token', normalized.data.access_token);\r\n    return normalized;\r\n  }\r\n\r\n  async generateOTP(): Promise<ApiResponse<{ otp_code: string; message: string }>> {\r\n    return this.post('/auth/generate-otp');\r\n  }\r\n\r\n  async verifyOTP(otp_code: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/verify-otp', { otp_code });\r\n  }\r\n\r\n  async requestOTP(email: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/request-otp', { email });\r\n  }\r\n\r\n  async resetPassword(email: string, code: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/reset-password', { email, code, newPassword });\r\n  }\r\n\r\n  // User endpoints\r\n  async getCurrentUser(): Promise<ApiResponse<User>> {\r\n    return this.get('/users/me');\r\n  }\r\n\r\n  async updateCurrentUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put('/users/me', userData);\r\n  }\r\n\r\n  async changePassword(currentPassword: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/users/me/change-password', { current_password: currentPassword, new_password: newPassword });\r\n  }\r\n\r\n  async getUsers(): Promise<ApiResponse<User[]>> {\r\n    try {\r\n      const response = await this.get<User[]>('/users/');\r\n      // Ensure we always return an array\r\n      if (Array.isArray(response.data)) {\r\n        return response;\r\n      }\r\n      return { ...response, data: [] };\r\n    } catch (error: unknown) {\r\n      const axiosError = error as { response?: { status?: number } };\r\n      if (axiosError.response?.status === 403) {\r\n        // Return empty array instead of throwing for 403 on list endpoint\r\n        // This allows the UI to handle permission errors gracefully\r\n        return { data: [] };\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getUser(userId: number): Promise<ApiResponse<User>> {\r\n    try {\r\n      return await this.get(`/users/${userId}`);\r\n    } catch (error: unknown) {\r\n      // Provide better error context for user fetch failures\r\n      const axiosError = error as { response?: { status?: number; data?: { detail?: string } } };\r\n      if (axiosError.response?.status === 403) {\r\n        const detail = axiosError.response.data?.detail || 'Insufficient permissions';\r\n        const enhancedError = new Error(`Cannot access user ${userId}: ${detail}`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      if (axiosError.response?.status === 404) {\r\n        const enhancedError = new Error(`User ${userId} not found`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getSubordinates(userId: number): Promise<ApiResponse<User[]>> {\r\n    return this.get(`/users/${userId}/subordinates`);\r\n  }\r\n\r\n  async createUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    try {\r\n      return await this.post('/users', userData);\r\n    } catch (error: unknown) {\r\n      // Provide better error context for user creation failures\r\n      const axiosError = error as { response?: { status?: number; data?: { detail?: string } } };\r\n      if (axiosError.response?.status === 403) {\r\n        const detail = axiosError.response.data?.detail || 'Insufficient permissions';\r\n        const enhancedError = new Error(`Cannot create user: ${detail}. You may not have permission to create users with this role.`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      if (axiosError.response?.status === 400) {\r\n        const detail = axiosError.response.data?.detail || 'Invalid user data';\r\n        const enhancedError = new Error(`Failed to create user: ${detail}`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a subordinate (accountant or employee)\r\n   * Used by finance managers to create accountants/employees\r\n   */\r\n  async createSubordinate(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post('/users/subordinates', userData);\r\n  }\r\n\r\n  async updateUser(userId: number, userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put(`/users/${userId}`, userData);\r\n  }\r\n\r\n  async deleteUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/delete`, { password });\r\n  }\r\n\r\n  async activateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/deactivate`, { password });\r\n  }\r\n\r\n  // Permission endpoints\r\n  async getUserPermissions(userId: number): Promise<ApiResponse<{ permissions: string[] }>> {\r\n    return this.get(`/users/${userId}/permissions`);\r\n  }\r\n\r\n  async updateUserPermissions(userId: number, permissions: string[]): Promise<ApiResponse<{ message: string; permissions: string[] }>> {\r\n    return this.put(`/users/${userId}/permissions`, { permissions });\r\n  }\r\n\r\n  // Financial endpoints\r\n  async getRevenues(filters?: Filters): Promise<ApiResponse<RevenueRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/revenue', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getRevenue(revenueId: number): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.get(`/revenue/${revenueId}`);\r\n  }\r\n\r\n  async createRevenue(revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.post('/revenue', revenueData);\r\n  }\r\n\r\n  async updateRevenue(revenueId: number, revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.put(`/revenue/${revenueId}`, revenueData);\r\n  }\r\n\r\n  async deleteRevenue(revenueId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/revenue/${revenueId}/delete`, { password });\r\n  }\r\n\r\n  async getExpenses(filters?: Filters): Promise<ApiResponse<ExpenseRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/expenses', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getExpense(expenseId: number): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.get(`/expenses/${expenseId}`);\r\n  }\r\n\r\n  async createExpense(expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.post('/expenses', expenseData);\r\n  }\r\n\r\n  async updateExpense(expenseId: number, expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.put(`/expenses/${expenseId}`, expenseData);\r\n  }\r\n\r\n  async deleteExpense(expenseId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/expenses/${expenseId}/delete`, { password });\r\n  }\r\n\r\n  // Transactions (combined revenues and expenses)\r\n  async getTransactions(): Promise<ApiResponse<TransactionRecord[]>> {\r\n    try {\r\n      const [revenuesResponse, expensesResponse] = await Promise.all([\r\n        this.getRevenues(),\r\n        this.getExpenses(),\r\n      ]);\r\n\r\n      const revenues = (revenuesResponse.data || []).map((r: RevenueRecord): TransactionRecord => ({\r\n        ...r,\r\n        transaction_type: 'revenue',\r\n        id: `revenue-${r.id}`,\r\n      }));\r\n\r\n      const expenses = (expensesResponse.data || []).map((e: ExpenseRecord): TransactionRecord => ({\r\n        ...e,\r\n        transaction_type: 'expense',\r\n        id: `expense-${e.id}`,\r\n        amount: -Math.abs(Number(e.amount ?? 0)), // Make expenses negative\r\n      }));\r\n\r\n      const transactions = [...revenues, ...expenses].sort((a, b) => {\r\n        const dateA = new Date(a.date || a.created_at || 0).getTime();\r\n        const dateB = new Date(b.date || b.created_at || 0).getTime();\r\n        return dateB - dateA; // Most recent first\r\n      });\r\n\r\n      return { data: transactions };\r\n    } catch (error) {\r\n      // Error handled by caller\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Dashboard\r\n  async getDashboardOverview(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/overview');\r\n  }\r\n\r\n  async getDashboardKPIs(period: 'week' | 'month' | 'quarter' | 'year' = 'month'): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/kpis', { params: { period } });\r\n  }\r\n\r\n  async getDashboardRecentActivity(limit = 10): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/dashboard/recent-activity', { params: { limit } });\r\n  }\r\n\r\n  // Analytics\r\n  async getAdvancedKPIs(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/kpis', { params });\r\n  }\r\n\r\n  async getTrendAnalysis(params?: {\r\n    metric?: 'revenue' | 'expenses' | 'profit';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/trends', { params });\r\n  }\r\n\r\n  async getTimeSeriesData(params?: {\r\n    interval?: 'day' | 'week' | 'month' | 'quarter' | 'year';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/time-series', { params });\r\n  }\r\n\r\n  async getCategoryBreakdown(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/category-breakdown', { params });\r\n  }\r\n\r\n  async getAnalyticsOverview(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get('/analytics/overview', { params });\r\n  }\r\n\r\n  // Reports\r\n  async getReports(filters?: Filters): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    return this.get('/reports', { params: filters });\r\n  }\r\n\r\n  async getReport(reportId: number): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get(`/reports/${reportId}`);\r\n  }\r\n\r\n  async createReport(reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.post('/reports', reportData);\r\n  }\r\n\r\n  async updateReport(reportId: number, reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.put(`/reports/${reportId}`, reportData);\r\n  }\r\n\r\n  async deleteReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/reports/${reportId}`);\r\n  }\r\n\r\n  async downloadReport(reportId: number): Promise<ApiResponse<{ download_url: string; file_size: number; filename: string }>> {\r\n    return this.post(`/reports/${reportId}/download`);\r\n  }\r\n\r\n  async regenerateReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/reports/${reportId}/regenerate`);\r\n  }\r\n\r\n  async getAvailableReportTypes(): Promise<ApiResponse<{ report_types: Array<{ type: string; name: string; description: string }> }>> {\r\n    return this.get('/reports/types/available');\r\n  }\r\n\r\n  // Financial Reports - Direct data fetching\r\n  async getIncomeStatement(startDate?: string, endDate?: string): Promise<ApiResponse<Record<string, unknown>>> {\r\n    const params: Filters = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n    \r\n    // Fetch revenue and expense data to calculate income statement\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n      \r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate totals - ONLY from approved entries\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n\r\n    // Group by category - handle both enum and string categories - ONLY from approved entries\r\n    const revenueByCategory: Record<string, number> = {};\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const catValue =\r\n        r.category && typeof r.category === 'object' && 'value' in r.category\r\n          ? (r.category as { value?: unknown }).value\r\n          : r.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      revenueByCategory[catKey] = (revenueByCategory[catKey] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const catValue =\r\n        e.category && typeof e.category === 'object' && 'value' in e.category\r\n          ? (e.category as { value?: unknown }).value\r\n          : e.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      expenseByCategory[catKey] = (expenseByCategory[catKey] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        revenue: {\r\n          total: totalRevenue,\r\n          by_category: revenueByCategory,\r\n        },\r\n        expenses: {\r\n          total: totalExpenses,\r\n          by_category: expenseByCategory,\r\n        },\r\n        profit,\r\n        profit_margin: totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0,\r\n      },\r\n    };\r\n  }\r\n\r\n  async getCashFlow(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    summary: { total_inflow: number; total_outflow: number; net_cash_flow: number };\r\n    daily_cash_flow: Record<string, { inflow: number; outflow: number; net: number }>;\r\n  }>> {\r\n    const params: Record<string, unknown> = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n    \r\n    // Fetch revenue and expense data to calculate cash flow\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([this.getRevenues(), this.getExpenses()]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures cash flow is only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate daily cash flow - ONLY from approved entries\r\n    const cashFlowByDay: Record<string, { inflow: number; outflow: number; net: number }> = {};\r\n    \r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = r.date || r.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(r.amount || 0);\r\n      cashFlowByDay[day].inflow += amount;\r\n      cashFlowByDay[day].net += amount;\r\n    });\r\n\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = e.date || e.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(e.amount || 0);\r\n      cashFlowByDay[day].outflow += amount;\r\n      cashFlowByDay[day].net -= amount;\r\n    });\r\n\r\n    const totalInflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.inflow, 0);\r\n    const totalOutflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.outflow, 0);\r\n    const netCashFlow = totalInflow - totalOutflow;\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        summary: {\r\n          total_inflow: totalInflow,\r\n          total_outflow: totalOutflow,\r\n          net_cash_flow: netCashFlow,\r\n        },\r\n        daily_cash_flow: cashFlowByDay,\r\n      },\r\n    };\r\n  }\r\n\r\n  // Financial Summary Report\r\n  async getFinancialSummary(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    financials: {\r\n      total_revenue: number;\r\n      total_expenses: number;\r\n      profit: number;\r\n      profit_margin: number;\r\n    };\r\n    revenue_by_category: Record<string, number>;\r\n    expenses_by_category: Record<string, number>;\r\n    transaction_counts: { revenue: number; expenses: number; total: number };\r\n    generated_at: string;\r\n  }>> {\r\n    // Always fetch all data first, then calculate summary\r\n    const [allRevenuesRes, allExpensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = allRevenuesRes.data || [];\r\n    let expenses = allExpensesRes.data || [];\r\n    \r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n      \r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n    \r\n    // Filter to only include APPROVED revenue entries for calculations\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) => \r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    \r\n    // Filter to only include APPROVED expense entries for calculations\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) => \r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n    \r\n    // Calculate totals from filtered data - ONLY approved revenue and expenses\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n    const profitMargin = totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0;\r\n\r\n    // Process category summaries - ONLY from approved revenue\r\n    const revenueByCategory: Record<string, number> = {};\r\n    const normalizeCategory = (raw: unknown): string => {\r\n      if (typeof raw === 'string') return raw || 'other';\r\n      if (raw && typeof raw === 'object' && 'value' in raw) {\r\n        const value = (raw as { value?: unknown }).value;\r\n        return typeof value === 'string' ? value : String(value ?? 'other');\r\n      }\r\n      return String(raw ?? 'other');\r\n    };\r\n\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const cat = normalizeCategory(r.category);\r\n      revenueByCategory[cat] = (revenueByCategory[cat] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    // Process category summaries - ONLY from approved expenses\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const cat = normalizeCategory(e.category);\r\n      expenseByCategory[cat] = (expenseByCategory[cat] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    // Calculate actual transaction counts - ONLY approved items\r\n    const revenueCount = approvedRevenues.length;\r\n    const expenseCount = approvedExpenses.length;\r\n\r\n    const result = {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        financials: {\r\n          total_revenue: totalRevenue,\r\n          total_expenses: totalExpenses,\r\n          profit,\r\n          profit_margin: profitMargin,\r\n        },\r\n        revenue_by_category: revenueByCategory,\r\n        expenses_by_category: expenseByCategory,\r\n        transaction_counts: {\r\n          revenue: revenueCount,\r\n          expenses: expenseCount,\r\n          total: revenueCount + expenseCount,\r\n        },\r\n        generated_at: new Date().toISOString(),\r\n      },\r\n    };\r\n\r\n    return result;\r\n  }\r\n\r\n  // Approvals\r\n  async getApprovals(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/approvals');\r\n  }\r\n\r\n  async getApproval(approvalId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/approvals/${approvalId}`);\r\n  }\r\n\r\n  async getApprovalComments(approvalId: number): Promise<ApiResponse<unknown[]>> {\r\n    return this.get(`/approvals/${approvalId}/comments`);\r\n  }\r\n\r\n  async createApprovalComment(approvalId: number, comment: string): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${approvalId}/comments`, { comment });\r\n  }\r\n\r\n  async approveItem(itemId: number, itemType: 'revenue' | 'expense'): Promise<ApiResponse<unknown>> {\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/approve`);\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/approve`);\r\n    }\r\n  }\r\n\r\n  async rejectItem(\r\n    itemId: number,\r\n    itemType: 'revenue' | 'expense',\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // Reject revenue or expense entry through their respective endpoints\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    }\r\n  }\r\n\r\n  async approveWorkflow(workflowId: number): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/approve`);\r\n  }\r\n\r\n  async rejectWorkflow(\r\n    workflowId: number,\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/reject`, { rejection_reason: reason, password });\r\n  }\r\n\r\n  // Notifications\r\n  async getNotifications(unreadOnly?: boolean): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/notifications', { params: { unread_only: unreadOnly } });\r\n  }\r\n\r\n  async getNotification(notificationId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async markNotificationAsRead(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/notifications/${notificationId}/mark-read`);\r\n  }\r\n\r\n  async markAllNotificationsAsRead(): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/notifications/mark-all-read');\r\n  }\r\n\r\n  async deleteNotification(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async getUnreadCount(): Promise<ApiResponse<{ unread_count: number }>> {\r\n    return this.get('/notifications/unread/count');\r\n  }\r\n\r\n  async getNotificationPreferences(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/notifications/preferences');\r\n  }\r\n\r\n  async updateNotificationPreferences(\r\n    preferences: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put('/notifications/preferences', preferences);\r\n  }\r\n\r\n  // Admin endpoints\r\n  async getAdminSystemStats(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/system/stats');\r\n  }\r\n\r\n  async getSystemSettings(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/settings');\r\n  }\r\n\r\n  async getSystemHealth(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/health');\r\n  }\r\n\r\n  async getHierarchy(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/hierarchy');\r\n  }\r\n\r\n  async getRoles(): Promise<ApiResponse<ApiRole[]>> {\r\n    return this.get('/admin/roles');\r\n  }\r\n\r\n  async getPermissions(): Promise<ApiResponse<string[]>> {\r\n    return this.get('/admin/permissions');\r\n  }\r\n\r\n  async createRole(roleData: { name: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.post('/admin/roles', payload);\r\n  }\r\n\r\n  async updateRole(roleId: number, roleData: { name?: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.put(`/admin/roles/${roleId}`, payload);\r\n  }\r\n\r\n  async deleteRole(roleId: number): Promise<ApiResponse<null>> {\r\n    return this.delete(`/admin/roles/${roleId}`);\r\n  }\r\n\r\n  // Backup endpoints\r\n  async createBackup(includeFiles: boolean = false): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/create', null, {\r\n      params: { include_files: includeFiles }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async listBackups(): Promise<ApiResponse<{ backups: unknown[] }>> {\r\n    return this.get('/admin/backup/list');\r\n  }\r\n\r\n  async restoreBackup(backupName: string): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/restore', null, {\r\n      params: { backup_name: backupName }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async deleteBackup(backupName: string, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/admin/backup/${encodeURIComponent(backupName)}/delete`, { password });\r\n  }\r\n\r\n  async getVerificationHistory(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/users/me/verification-history');\r\n  }\r\n\r\n  // 2FA endpoints\r\n  async get2FAStatus(): Promise<ApiResponse<{ enabled: boolean }>> {\r\n    return this.get('/users/me/2fa/status');\r\n  }\r\n\r\n  async setup2FA(): Promise<ApiResponse<{ secret: string; qr_code_url: string; manual_entry_key: string }>> {\r\n    return this.post('/users/me/2fa/setup');\r\n  }\r\n\r\n  async verify2FA(code: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/verify', { code });\r\n  }\r\n\r\n  async disable2FA(currentPassword: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/disable', { current_password: currentPassword });\r\n  }\r\n\r\n  // IP Restriction endpoints\r\n  async getIPRestrictionStatus(): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.get('/users/me/ip-restriction');\r\n  }\r\n\r\n  async updateIPRestriction(enabled: boolean): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.put('/users/me/ip-restriction', { enabled });\r\n  }\r\n\r\n  async addAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.post('/users/me/ip-restriction/allowed-ips', { ip_address: ipAddress });\r\n  }\r\n\r\n  async removeAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.delete(`/users/me/ip-restriction/allowed-ips/${encodeURIComponent(ipAddress)}`);\r\n  }\r\n\r\n  async triggerBackup(includeFiles = false): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/admin/backup/create', undefined, { params: { include_files: includeFiles } });\r\n  }\r\n\r\n  // Department endpoints\r\n  async getDepartments(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/departments');\r\n  }\r\n\r\n  async getDepartment(departmentId: string | number): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.get(`/departments/${encodedId}`);\r\n  }\r\n\r\n  async createDepartment(departmentData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/departments', departmentData);\r\n  }\r\n\r\n  async updateDepartment(\r\n    departmentId: string | number,\r\n    departmentData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.put(`/departments/${encodedId}`, departmentData);\r\n  }\r\n\r\n  async deleteDepartment(\r\n    departmentId: string | number,\r\n    password: string,\r\n  ): Promise<ApiResponse<{ message: string }>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.post(`/departments/${encodedId}/delete`, { password });\r\n  }\r\n\r\n  // Project endpoints\r\n  async getProjects(filters?: Record<string, unknown>): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/projects', { params: filters });\r\n  }\r\n\r\n  async getProject(projectId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/projects/${projectId}`);\r\n  }\r\n\r\n  async createProject(projectData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/projects', projectData);\r\n  }\r\n\r\n  async updateProject(\r\n    projectId: number,\r\n    projectData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put(`/projects/${projectId}`, projectData);\r\n  }\r\n\r\n  async deleteProject(projectId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/projects/${projectId}/delete`, { password });\r\n  }\r\n\r\n  // Audit Logs endpoints (Admin only)\r\n  async getAuditLogs(filters?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    user_id?: number;\r\n    action?: string;\r\n    resource_type?: string;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    const params: Record<string, unknown> = {};\r\n    if (filters) {\r\n      if (filters.skip !== undefined) params.skip = filters.skip;\r\n      if (filters.limit !== undefined) params.limit = filters.limit;\r\n      if (filters.user_id !== undefined) params.user_id = filters.user_id;\r\n      if (filters.action) params.action = filters.action;\r\n      if (filters.resource_type) params.resource_type = filters.resource_type;\r\n      if (filters.start_date) {\r\n        // Convert to ISO format for backend\r\n        const start = new Date(filters.start_date + 'T00:00:00');\r\n        params.start_date = start.toISOString();\r\n      }\r\n      if (filters.end_date) {\r\n        // Convert to ISO format for backend\r\n        const end = new Date(filters.end_date + 'T23:59:59');\r\n        params.end_date = end.toISOString();\r\n      }\r\n    }\r\n    return this.get('/admin/audit/logs', { params });\r\n  }\r\n\r\n  // ============================================================================\r\n  // BUDGETING & FORECASTING (FP&A)\r\n  // ============================================================================\r\n\r\n  // Budget Management\r\n  async getBudgets(params?: { skip?: number; limit?: number; status?: string; department?: string }) {\r\n    return this.get('/budgeting/budgets', { params });\r\n  }\r\n\r\n  async getBudget(id: number) {\r\n    return this.get(`/budgeting/budgets/${id}`);\r\n  }\r\n\r\n  async createBudget(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/budgets', data);\r\n  }\r\n\r\n  async createBudgetFromTemplate(templateName: string, data: Record<string, unknown>) {\r\n    const params: Record<string, unknown> = {\r\n      template_name: templateName\r\n    };\r\n    if (data.name) params.name = data.name;\r\n    if (data.start_date) params.start_date = data.start_date;\r\n    if (data.end_date) params.end_date = data.end_date;\r\n    if (data.department) params.department = data.department;\r\n    if (data.project) params.project = data.project;\r\n    \r\n    return this.post(`/budgeting/budgets/from-template`, {}, { params });\r\n  }\r\n\r\n  async updateBudget(id: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${id}`, data);\r\n  }\r\n\r\n  async deleteBudget(id: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${id}/delete`, { password });\r\n  }\r\n\r\n  async validateBudget(id: number) {\r\n    return this.post(`/budgeting/budgets/${id}/validate`);\r\n  }\r\n\r\n  // Budget Items\r\n  async getBudgetItems(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/items`);\r\n  }\r\n\r\n  async createBudgetItem(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items`, data);\r\n  }\r\n\r\n  async updateBudgetItem(budgetId: number, itemId: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${budgetId}/items/${itemId}`, data);\r\n  }\r\n\r\n  async deleteBudgetItem(budgetId: number, itemId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  // Scenario Planning\r\n  async getScenarios(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/scenarios`);\r\n  }\r\n\r\n  async createScenario(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios`, data);\r\n  }\r\n\r\n  async compareScenarios(budgetId: number, scenarioIds: number[]) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/compare`, { scenario_ids: scenarioIds });\r\n  }\r\n\r\n  async deleteScenario(budgetId: number, scenarioId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/${scenarioId}/delete`, { password });\r\n  }\r\n\r\n  // Forecasting\r\n  async getForecasts(params?: { skip?: number; limit?: number }) {\r\n    // Always provide explicit defaults to match backend expectations\r\n    const queryParams = {\r\n      skip: params?.skip !== undefined && params.skip >= 0 ? params.skip : 0,\r\n      limit: params?.limit !== undefined && params.limit >= 1 && params.limit <= 1000 ? params.limit : 100\r\n    };\r\n    \r\n    return this.get('/budgeting/forecasts', { params: queryParams });\r\n  }\r\n\r\n  async createForecast(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/forecasts', data);\r\n  }\r\n\r\n  async getForecast(id: number) {\r\n    return this.get(`/budgeting/forecasts/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Update a forecast\r\n   * @param id - Forecast ID\r\n   * @param data - Forecast update data (name, description, and optionally forecast_data)\r\n   */\r\n  async updateForecast(\r\n    id: number,\r\n    data: {\r\n      name?: string;\r\n      description?: string;\r\n      forecast_data?: Array<{\r\n        period?: string;\r\n        date?: string;\r\n        forecasted_value?: number;\r\n        method?: string;\r\n      }>;\r\n    },\r\n  ) {\r\n    return this.put(`/budgeting/forecasts/${id}`, data);\r\n  }\r\n\r\n  async deleteForecast(id: number, password: string) {\r\n    return this.post(`/budgeting/forecasts/${id}/delete`, { password });\r\n  }\r\n\r\n  // ============================================================================\r\n  // AI/ML MODEL TRAINING\r\n  // ============================================================================\r\n\r\n  /**\r\n   * Train all AI/ML models\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   */\r\n  async trainAllModels(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/all',\r\n      params: { start_date: startDate, end_date: endDate }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train ARIMA model for expenses\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   * @param order - ARIMA order (p,d,q) as string \"p,d,q\"\r\n   */\r\n  async trainExpensesArima(startDate: string, endDate: string, order: string = \"1,1,1\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/arima',\r\n      params: { start_date: startDate, end_date: endDate, order },\r\n      timeout: 120000 // 2 minutes for ARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for expenses\r\n   */\r\n  async trainExpensesProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Linear Regression model for expenses\r\n   */\r\n  async trainExpensesLinearRegression(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/linear-regression',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for revenue\r\n   */\r\n  async trainRevenueProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for revenue\r\n   */\r\n  async trainRevenueXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for revenue\r\n   */\r\n  async trainRevenueLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train SARIMA model for inventory\r\n   */\r\n  async trainInventorySARIMA(startDate: string, endDate: string, order: string = \"1,1,1\", seasonalOrder: string = \"1,1,1,12\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/sarima',\r\n      params: { start_date: startDate, end_date: endDate, order, seasonal_order: seasonalOrder },\r\n      timeout: 180000 // 3 minutes for SARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for inventory\r\n   */\r\n  async trainInventoryXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for inventory\r\n   */\r\n  async trainInventoryLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get auto-learning status and statistics\r\n   */\r\n  async getAutoLearnStatus() {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/auto-learn/status'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Manually trigger auto-learning for a metric\r\n   * @param metric - 'expense', 'revenue', or 'inventory'\r\n   */\r\n  async triggerAutoLearn(metric: 'expense' | 'revenue' | 'inventory') {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: `/budgeting/ml/auto-learn/trigger/${metric}`,\r\n      timeout: 300000 // 5 minutes for training\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get list of all trained models\r\n   * @param metric - Optional filter by metric\r\n   */\r\n  async getTrainedModels(metric?: 'expense' | 'revenue' | 'inventory') {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/models',\r\n      params: metric ? { metric } : {}\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get ML scheduler status and scheduled jobs\r\n   */\r\n  async getSchedulerStatus() {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/scheduler/status'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Generate forecast with AI-powered advice and recommendations\r\n   * @param metric - 'expense', 'revenue', or 'inventory'\r\n   * @param modelType - 'arima', 'sarima', 'prophet', 'xgboost', 'lstm', 'linear_regression'\r\n   * @param periods - Number of periods to forecast\r\n   */\r\n  async generateForecastWithAdvice(\r\n    metric: 'expense' | 'revenue' | 'inventory',\r\n    modelType: 'arima' | 'sarima' | 'prophet' | 'xgboost' | 'lstm' | 'linear_regression',\r\n    periods: number = 12\r\n  ) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/forecast/with-advice',\r\n      params: { metric, model_type: modelType, periods },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  // Variance Analysis\r\n  async calculateVariance(budgetId: number, periodStart: string, periodEnd: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/variance`, {}, {\r\n      params: { period_start: periodStart, period_end: periodEnd }\r\n    });\r\n  }\r\n\r\n  async getVarianceHistory(budgetId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance`, { params });\r\n  }\r\n\r\n  async getVarianceSummary(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance/summary`);\r\n  }\r\n\r\n  // ============================================================================\r\n  // INVENTORY MANAGEMENT API\r\n  // ============================================================================\r\n  \r\n  async createInventoryItem(itemData: {\r\n    item_name: string;\r\n    buying_price: number;\r\n    expense_amount?: number;\r\n    selling_price: number;\r\n    quantity: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.post('/inventory/items', itemData);\r\n  }\r\n\r\n  async getInventoryItems(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    category?: string;\r\n    is_active?: boolean;\r\n    search?: string;\r\n  }) {\r\n    return this.get('/inventory/items', { params });\r\n  }\r\n\r\n  async getInventoryItem(itemId: number) {\r\n    return this.get(`/inventory/items/${itemId}`);\r\n  }\r\n\r\n  async updateInventoryItem(itemId: number, itemData: {\r\n    item_name?: string;\r\n    buying_price?: number;\r\n    expense_amount?: number;\r\n    selling_price?: number;\r\n    quantity?: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.put(`/inventory/items/${itemId}`, itemData);\r\n  }\r\n\r\n  async deleteInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  async activateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/deactivate`, { password });\r\n  }\r\n\r\n  async getInventoryAuditLogs(itemId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/inventory/items/${itemId}/audit`, { params });\r\n  }\r\n\r\n  async getLowStockItems(threshold?: number) {\r\n    return this.get('/inventory/items/low-stock/list', { params: { threshold } });\r\n  }\r\n\r\n  async getInventorySummary() {\r\n    return this.get('/inventory/summary');\r\n  }\r\n\r\n  // ============================================================================\r\n  // SALES API\r\n  // ============================================================================\r\n\r\n  async createSale(saleData: {\r\n    item_id: number;\r\n    quantity_sold: number;\r\n    customer_name?: string;\r\n    customer_email?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post('/sales/', saleData);\r\n  }\r\n\r\n  async getSales(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    status?: 'pending' | 'posted' | 'cancelled';\r\n    item_id?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    // Enforce backend maximum limit of 1000 to prevent 422 errors\r\n    // Backend has a hard limit of 1000 (le=1000), so cap any higher values\r\n    let safeLimit: number | undefined = params?.limit;\r\n    if (safeLimit !== undefined && safeLimit > 1000) {\r\n      console.warn(`getSales: Limit ${safeLimit} exceeds backend maximum of 1000. Capping to 1000.`);\r\n      safeLimit = 1000;\r\n    }\r\n    \r\n    const safeParams = params ? {\r\n      ...params,\r\n      limit: safeLimit\r\n    } : undefined;\r\n    \r\n    return this.get('/sales', { params: safeParams });\r\n  }\r\n\r\n  async getSale(saleId: number) {\r\n    return this.get(`/sales/${saleId}`);\r\n  }\r\n\r\n  async postSale(saleId: number, postData: {\r\n    debit_account?: string;\r\n    credit_account?: string;\r\n    reference_number?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post(`/sales/${saleId}/post`, postData);\r\n  }\r\n\r\n  async cancelSale(saleId: number) {\r\n    return this.post(`/sales/${saleId}/cancel`, {});\r\n  }\r\n\r\n  async getSalesSummary(params?: { start_date?: string; end_date?: string }) {\r\n    return this.get('/sales/summary/overview', { params });\r\n  }\r\n\r\n  async getReceipt(saleId: number) {\r\n    return this.get(`/sales/receipt/${saleId}`);\r\n  }\r\n\r\n  async getJournalEntries(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    return this.get('/sales/journal-entries/list', { params });\r\n  }\r\n\r\n  /**\r\n   * Submit a contact/support message\r\n   * You can override the endpoint path with NEXT_PUBLIC_CONTACT_ENDPOINT (e.g. \"/contact\")\r\n   * Note: The base URL already includes /api/v1, so the path should be relative to that\r\n   */\r\n  async submitContact(payload: { name: string; email: string; message: string }) {\r\n    const contactPath = process.env.NEXT_PUBLIC_CONTACT_ENDPOINT || '/contact';\r\n    return this.post(contactPath, payload);\r\n  }\r\n\r\n  // Generic request method\r\n  async request<T = unknown>(config: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.request<T>(config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n}\r\n\r\nexport const apiClient = new ApiClient();\r\nexport default apiClient;"],"names":[],"mappings":"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","debugId":null}},
frontend/.next/dev/static/chunks/_17effb9f._.js:                // Note: Backend APIs (getFinancialSummary, getIncomeStatement, getCashFlow) should already filter
frontend/.next/dev/static/chunks/_17effb9f._.js:                    __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$api$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["apiClient"].getFinancialSummary(dateParams.startDate, dateParams.endDate),
frontend/.next/dev/static/chunks/_17effb9f._.js.map:    {"offset": {"line": 7118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASHROCK/Desktop/pro%2B/projectai/frontend/app/report/ClientPage.tsx"],"sourcesContent":["'use client';\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport Layout from '@/components/layout';\r\nimport { apiClient } from '@/lib/api';\r\nimport { useAuth } from '@/lib/rbac/auth-context';\r\nimport useUserStore from '@/store/userStore';\r\nimport { toast } from 'sonner';\r\nimport { theme } from '@/components/common/theme';\r\nimport {\r\n  DollarSign,\r\n  TrendingUp,\r\n  RefreshCw,\r\n  Loader2,\r\n  ArrowUpRight,\r\n  ArrowDownRight,\r\n  FileText,\r\n  BarChart3,\r\n  AlertCircle,\r\n  ShoppingCart,\r\n  Package,\r\n  LineChart,\r\n  Brain,\r\n  Zap,\r\n  Lightbulb,\r\n  Target,\r\n  CheckCircle2\r\n} from 'lucide-react';\r\n\r\nconst PRIMARY_COLOR = theme.colors.primary || '#00AA00';\r\nconst TEXT_COLOR_DARK = '#111827';\r\nconst TEXT_COLOR_MUTED = theme.colors.textSecondary || '#666';\r\n\r\n// Type definitions for error handling\r\ntype ErrorWithDetails = {\r\n  code?: string;\r\n  message?: string;\r\n  response?: {\r\n    status: number;\r\n    data?: {\r\n      detail?: string;\r\n    };\r\n  };\r\n};\r\n\r\nconst CardShadow = `\r\n  0 2px 4px -1px rgba(0, 0, 0, 0.06),\r\n  0 1px 2px -1px rgba(0, 0, 0, 0.03),\r\n  inset 0 0 0 1px rgba(0, 0, 0, 0.02)\r\n`;\r\nconst CardShadowHover = `\r\n  0 8px 12px -2px rgba(0, 0, 0, 0.08),\r\n  0 4px 6px -2px rgba(0, 0, 0, 0.04),\r\n  inset 0 0 0 1px rgba(0, 0, 0, 0.03)\r\n`;\r\n\r\nconst PageContainer = styled.div`\r\n  flex: 1;\r\n  width: 100%;\r\n  max-width: 980px;\r\n  margin-left: auto;\r\n  margin-right: 0;\r\n  padding: ${theme.spacing.sm} ${theme.spacing.sm} ${theme.spacing.sm};\r\n`;\r\n\r\nconst HeaderContainer = styled.div`\r\n  background: linear-gradient(135deg, ${PRIMARY_COLOR} 0%, #008800 100%);\r\n  color: #ffffff;\r\n  padding: ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  border-radius: ${theme.borderRadius.md};\r\n  border-bottom: 3px solid rgba(255, 255, 255, 0.1);\r\n  \r\n  h1 {\r\n    font-size: clamp(24px, 3vw, 36px);\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    margin: 0 0 ${theme.spacing.xs};\r\n    color: #ffffff;\r\n  }\r\n  \r\n  p {\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n    opacity: 0.9;\r\n    margin: 0;\r\n    color: rgba(255, 255, 255, 0.95);\r\n  }\r\n`;\r\n\r\nconst DateFilterCard = styled.div`\r\n  background: ${theme.colors.background};\r\n  padding: ${theme.spacing.lg};\r\n  border-radius: ${theme.borderRadius.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  box-shadow: ${CardShadow};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  display: flex;\r\n  gap: ${theme.spacing.md};\r\n  align-items: flex-end;\r\n  flex-wrap: wrap;\r\n  transition: box-shadow ${theme.transitions.default};\r\n\r\n  &:hover {\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n`;\r\n\r\nconst DateInputGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: ${theme.spacing.sm};\r\n  flex: 1;\r\n  min-width: 200px;\r\n`;\r\n\r\nconst ReportSection = styled.div`\r\n  margin-bottom: ${theme.spacing.xl};\r\n`;\r\n\r\nconst ReportCard = styled.div`\r\n  background: ${theme.colors.background};\r\n  padding: ${theme.spacing.xl};\r\n  border-radius: ${theme.borderRadius.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  box-shadow: ${CardShadow};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  transition: box-shadow ${theme.transitions.default};\r\n\r\n  &:hover {\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n`;\r\n\r\nconst ReportHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: ${theme.spacing.lg};\r\n  padding-bottom: ${theme.spacing.md};\r\n  border-bottom: 2px solid ${theme.colors.border};\r\n  \r\n  h2 {\r\n    font-size: ${theme.typography.fontSizes.lg};\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    color: ${TEXT_COLOR_DARK};\r\n    display: flex;\r\n    align-items: center;\r\n    gap: ${theme.spacing.md};\r\n    margin: 0;\r\n    \r\n    svg {\r\n      width: 24px;\r\n      height: 24px;\r\n      color: ${PRIMARY_COLOR};\r\n    }\r\n  }\r\n  \r\n  p {\r\n    color: ${TEXT_COLOR_MUTED};\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    margin: ${theme.spacing.xs} 0 0;\r\n  }\r\n`;\r\n\r\nconst SummaryGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n  gap: ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.xl};\r\n`;\r\n\r\nconst SummaryCard = styled.div<{ $type?: 'revenue' | 'expense' | 'profit' | 'cash' }>`\r\n  background: ${(p) => {\r\n    if (p.$type === 'revenue') return '#f0fdf4';\r\n    if (p.$type === 'expense') return '#fef2f2';\r\n    if (p.$type === 'profit') return '#eff6ff';\r\n    return theme.colors.backgroundSecondary;\r\n  }};\r\n  border: 1px solid ${(p) => {\r\n    if (p.$type === 'revenue') return '#bbf7d0';\r\n    if (p.$type === 'expense') return '#fecaca';\r\n    if (p.$type === 'profit') return '#bfdbfe';\r\n    return theme.colors.border;\r\n  }};\r\n  padding: ${theme.spacing.lg};\r\n  border-radius: ${theme.borderRadius.md};\r\n  transition: transform ${theme.transitions.default}, box-shadow ${theme.transitions.default};\r\n  box-shadow: ${CardShadow};\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n  \r\n  .label {\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    color: ${TEXT_COLOR_MUTED};\r\n    margin-bottom: ${theme.spacing.sm};\r\n    display: flex;\r\n    align-items: center;\r\n    gap: ${theme.spacing.xs};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n  }\r\n  \r\n  .value {\r\n    font-size: clamp(20px, 4vw, 28px);\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    color: ${(p) => p.$type === 'expense' ? '#dc2626' : TEXT_COLOR_DARK};\r\n    margin-bottom: ${theme.spacing.xs};\r\n  }\r\n  \r\n  .sub-value {\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    color: ${TEXT_COLOR_MUTED};\r\n    margin-top: ${theme.spacing.xs};\r\n  }\r\n`;\r\n\r\nconst CategoryTable = styled.table`\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n  margin-top: ${theme.spacing.md};\r\n  \r\n  thead {\r\n    background: ${theme.colors.backgroundSecondary};\r\n    border-bottom: 2px solid ${theme.colors.border};\r\n    \r\n    th {\r\n      text-align: left;\r\n      padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n      font-weight: ${theme.typography.fontWeights.medium};\r\n      color: ${TEXT_COLOR_MUTED};\r\n      font-size: ${theme.typography.fontSizes.xs};\r\n      text-transform: uppercase;\r\n      letter-spacing: 0.05em;\r\n    }\r\n  }\r\n  \r\n  tbody {\r\n    tr {\r\n      border-bottom: 1px solid ${theme.colors.border};\r\n      transition: background-color ${theme.transitions.default};\r\n      \r\n      &:hover {\r\n        background: ${theme.colors.backgroundSecondary};\r\n      }\r\n      \r\n      &:last-child {\r\n        border-bottom: none;\r\n      }\r\n      \r\n      td {\r\n        padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n        color: ${TEXT_COLOR_MUTED};\r\n        font-size: ${theme.typography.fontSizes.sm};\r\n        \r\n        &:last-child {\r\n          font-weight: ${theme.typography.fontWeights.bold};\r\n          color: ${TEXT_COLOR_DARK};\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst CashFlowTable = styled.table`\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n  margin-top: ${theme.spacing.md};\r\n  \r\n  thead {\r\n    background: ${theme.colors.backgroundSecondary};\r\n    border-bottom: 2px solid ${theme.colors.border};\r\n    \r\n    th {\r\n      text-align: left;\r\n      padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n      font-weight: ${theme.typography.fontWeights.medium};\r\n      color: ${TEXT_COLOR_MUTED};\r\n      font-size: ${theme.typography.fontSizes.xs};\r\n      text-transform: uppercase;\r\n      letter-spacing: 0.05em;\r\n    }\r\n  }\r\n  \r\n  tbody {\r\n    tr {\r\n      border-bottom: 1px solid ${theme.colors.border};\r\n      transition: background-color ${theme.transitions.default};\r\n      \r\n      &:hover {\r\n        background: ${theme.colors.backgroundSecondary};\r\n      }\r\n      \r\n      &:last-child {\r\n        border-bottom: none;\r\n      }\r\n      \r\n      td {\r\n        padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n        color: ${TEXT_COLOR_MUTED};\r\n        font-size: ${theme.typography.fontSizes.sm};\r\n        \r\n        &:nth-child(2) {\r\n          color: #059669;\r\n          font-weight: ${theme.typography.fontWeights.medium};\r\n        }\r\n        \r\n        &:nth-child(3) {\r\n          color: #dc2626;\r\n          font-weight: ${theme.typography.fontWeights.medium};\r\n        }\r\n        \r\n        &:last-child {\r\n          font-weight: ${theme.typography.fontWeights.bold};\r\n          color: ${TEXT_COLOR_DARK};\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst LoadingContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 60vh;\r\n  gap: ${theme.spacing.md};\r\n  \r\n  p {\r\n    color: ${TEXT_COLOR_MUTED};\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst Spinner = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 3px solid ${theme.colors.border};\r\n  border-top-color: ${PRIMARY_COLOR};\r\n  border-radius: 50%;\r\n  animation: spin 0.8s linear infinite;\r\n  \r\n  @keyframes spin {\r\n    to { transform: rotate(360deg); }\r\n  }\r\n`;\r\n\r\nconst ErrorBanner = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: ${theme.spacing.md};\r\n  padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  background-color: rgba(239, 68, 68, 0.1);\r\n  border: 1px solid rgba(239, 68, 68, 0.3);\r\n  border-radius: ${theme.borderRadius.md};\r\n  color: #dc2626;\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n\r\n  svg {\r\n    flex-shrink: 0;\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  text-align: center;\r\n  padding: ${theme.spacing.xxl} ${theme.spacing.lg};\r\n  color: ${TEXT_COLOR_MUTED};\r\n  \r\n  svg {\r\n    width: 48px;\r\n    height: 48px;\r\n    margin: 0 auto ${theme.spacing.md};\r\n    opacity: 0.5;\r\n    color: ${TEXT_COLOR_MUTED};\r\n  }\r\n  \r\n  h3 {\r\n    font-size: ${theme.typography.fontSizes.lg};\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    margin: 0 0 ${theme.spacing.sm};\r\n    color: ${TEXT_COLOR_DARK};\r\n  }\r\n`;\r\n\r\nconst ButtonRow = styled.div`\r\n  display: flex;\r\n  gap: ${theme.spacing.md};\r\n  margin-top: ${theme.spacing.md};\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst SectionTitle = styled.h3`\r\n  font-size: ${theme.typography.fontSizes.lg};\r\n  font-weight: ${theme.typography.fontWeights.bold};\r\n  margin: 0 0 ${theme.spacing.md};\r\n  color: ${TEXT_COLOR_DARK};\r\n`;\r\n\r\nconst TwoColumnGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: ${theme.spacing.xl};\r\n  margin-top: ${theme.spacing.xl};\r\n\r\n  @media (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n    gap: ${theme.spacing.lg};\r\n  }\r\n`;\r\n\r\nconst InsightCard = styled.div<{ $priority?: 'high' | 'medium' | 'low' }>`\r\n  background: ${(p) => {\r\n    if (p.$priority === 'high') return '#fef2f2';\r\n    if (p.$priority === 'medium') return '#fffbeb';\r\n    return '#f0fdf4';\r\n  }};\r\n  border: 1px solid ${(p) => {\r\n    if (p.$priority === 'high') return '#fecaca';\r\n    if (p.$priority === 'medium') return '#fde68a';\r\n    return '#bbf7d0';\r\n  }};\r\n  border-left: 4px solid ${(p) => {\r\n    if (p.$priority === 'high') return '#dc2626';\r\n    if (p.$priority === 'medium') return '#d97706';\r\n    return PRIMARY_COLOR;\r\n  }};\r\n  border-radius: ${theme.borderRadius.md};\r\n  padding: ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.md};\r\n  \r\n  .insight-header {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: ${theme.spacing.sm};\r\n    margin-bottom: ${theme.spacing.sm};\r\n    \r\n    h4 {\r\n      font-size: ${theme.typography.fontSizes.md};\r\n      font-weight: ${theme.typography.fontWeights.bold};\r\n      color: ${TEXT_COLOR_DARK};\r\n      margin: 0;\r\n    }\r\n    \r\n  }\r\n  \r\n  .insight-message {\r\n    color: ${TEXT_COLOR_DARK};\r\n    margin-bottom: ${theme.spacing.sm};\r\n    line-height: 1.6;\r\n  }\r\n  \r\n  .insight-actions {\r\n    margin-top: ${theme.spacing.md};\r\n    padding-top: ${theme.spacing.md};\r\n    border-top: 1px solid ${theme.colors.border};\r\n    \r\n    ul {\r\n      margin: 0;\r\n      padding-left: ${theme.spacing.lg};\r\n      color: ${TEXT_COLOR_MUTED};\r\n      font-size: ${theme.typography.fontSizes.sm};\r\n    }\r\n  }\r\n`;\r\n\r\nconst AlertCard = styled.div<{ $severity?: 'high' | 'medium' | 'low' }>`\r\n  background: ${(p) => {\r\n    if (p.$severity === 'high') return '#fef2f2';\r\n    if (p.$severity === 'medium') return '#fffbeb';\r\n    return '#eff6ff';\r\n  }};\r\n  border: 1px solid ${(p) => {\r\n    if (p.$severity === 'high') return '#fecaca';\r\n    if (p.$severity === 'medium') return '#fde68a';\r\n    return '#bfdbfe';\r\n  }};\r\n  border-radius: ${theme.borderRadius.md};\r\n  padding: ${theme.spacing.md};\r\n  margin-bottom: ${theme.spacing.sm};\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: ${theme.spacing.sm};\r\n  \r\n  .alert-icon {\r\n    color: ${(p) => {\r\n      if (p.$severity === 'high') return '#dc2626';\r\n      if (p.$severity === 'medium') return '#d97706';\r\n      return '#2563eb';\r\n    }};\r\n    flex-shrink: 0;\r\n    margin-top: 2px;\r\n  }\r\n  \r\n  .alert-message {\r\n    color: ${TEXT_COLOR_DARK};\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    line-height: 1.5;\r\n  }\r\n`;\r\n\r\nconst TrendBadge = styled.span<{ $direction?: 'increasing' | 'decreasing' | 'stable' }>`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: ${theme.spacing.xs};\r\n  padding: 6px 12px;\r\n  border-radius: ${theme.borderRadius.sm};\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  background: ${(p) => {\r\n    if (p.$direction === 'increasing') return '#d1fae5';\r\n    if (p.$direction === 'decreasing') return '#fee2e2';\r\n    return '#f3f4f6';\r\n  }};\r\n  color: ${(p) => {\r\n    if (p.$direction === 'increasing') return '#065f46';\r\n    if (p.$direction === 'decreasing') return '#991b1b';\r\n    return TEXT_COLOR_MUTED;\r\n  }};\r\n`;\r\n\r\nconst PriorityBadge = styled.span<{ $priority?: 'high' | 'medium' | 'low' }>`\r\n  font-size: ${theme.typography.fontSizes.xs};\r\n  padding: 4px 8px;\r\n  border-radius: ${theme.borderRadius.sm};\r\n  text-transform: uppercase;\r\n  font-weight: ${theme.typography.fontWeights.bold};\r\n  background: ${(p) => {\r\n    if (p.$priority === 'high') return '#dc2626';\r\n    if (p.$priority === 'medium') return '#d97706';\r\n    return PRIMARY_COLOR;\r\n  }};\r\n  color: white;\r\n`;\r\n\r\nconst QuickForecastButton = styled(Button)`\r\n  margin-top: ${theme.spacing.md};\r\n  width: 100%;\r\n`;\r\n\r\ninterface IncomeStatement {\r\n  period: { start_date?: string; end_date?: string };\r\n  revenue: {\r\n    total: number;\r\n    by_category: Record<string, number>;\r\n  };\r\n  sales: {\r\n    total: number;\r\n    by_category?: Record<string, number>;\r\n  };\r\n  expenses: {\r\n    total: number;\r\n    by_category: Record<string, number>;\r\n  };\r\n  profit: number;\r\n  profit_margin: number;\r\n}\r\n\r\ninterface CashFlow {\r\n  period: { start_date?: string; end_date?: string };\r\n  summary: {\r\n    total_inflow: number;\r\n    total_outflow: number;\r\n    net_cash_flow: number;\r\n  };\r\n  daily_cash_flow: Record<string, { inflow: number; outflow: number; net: number }>;\r\n}\r\n\r\ninterface FinancialSummary {\r\n  period: { start_date?: string; end_date?: string };\r\n  financials: {\r\n    total_revenue: number;\r\n    total_sales: number;\r\n    total_expenses: number;\r\n    profit: number;\r\n    profit_margin: number;\r\n  };\r\n  revenue_by_category: Record<string, number>;\r\n  sales_by_category?: Record<string, number>;\r\n  expenses_by_category: Record<string, number>;\r\n  transaction_counts: {\r\n    revenue: number;\r\n    sales: number;\r\n    expenses: number;\r\n    total: number;\r\n  };\r\n  generated_at: string;\r\n}\r\n\r\ninterface InventorySummary {\r\n  total_items: number;\r\n  total_cost_value: number;\r\n  total_selling_value: number;\r\n  potential_profit: number;\r\n  total_quantity_in_stock?: number;\r\n}\r\n\r\ninterface SalesSummary {\r\n  total_sales: number;\r\n  total_revenue: number;\r\n  pending_sales: number;\r\n  posted_sales: number;\r\n  period_start?: string;\r\n  period_end?: string;\r\n}\r\n\r\ninterface ForecastDataPoint {\r\n  period?: string;\r\n  date?: string;\r\n  forecasted_value?: number;\r\n  method?: string;\r\n}\r\n\r\ninterface Forecast {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  forecast_type: string;\r\n  period_type: string;\r\n  start_date: string;\r\n  end_date: string;\r\n  method: string;\r\n  method_params?: Record<string, unknown>;\r\n  forecast_data?: ForecastDataPoint[];\r\n  created_at: string;\r\n}\r\n\r\ninterface MLInsight {\r\n  metric: string;\r\n  forecast?: any[];\r\n  advice?: Array<{\r\n    priority: string;\r\n    title: string;\r\n    message: string;\r\n    actions: string[];\r\n  }>;\r\n  alerts?: Array<{\r\n    severity: string;\r\n    message: string;\r\n  }>;\r\n  summary?: string;\r\n  trend_analysis?: {\r\n    direction: string;\r\n    percentage: number;\r\n    average: number;\r\n    max: number;\r\n    min: number;\r\n  };\r\n}\r\n\r\ninterface ForecastWithAdvice {\r\n  metric: string;\r\n  model_type: string;\r\n  forecast: ForecastDataPoint[];\r\n  advice: Array<{\r\n    priority: string;\r\n    title: string;\r\n    message: string;\r\n    actions: string[];\r\n  }>;\r\n  alerts: Array<{\r\n    severity: string;\r\n    message: string;\r\n  }>;\r\n  summary: string;\r\n  trend_analysis: {\r\n    direction: string;\r\n    percentage: number;\r\n    average: number;\r\n    max: number;\r\n    min: number;\r\n  };\r\n}\r\n\r\nexport default function ReportPage() {\r\n  const { user } = useAuth();\r\n  const storeUser = useUserStore((state) => state.user);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  \r\n  const [startDate, setStartDate] = useState<string>(() => {\r\n    const date = new Date();\r\n    date.setFullYear(date.getFullYear() - 1);\r\n    date.setDate(1);\r\n    return date.toISOString().split('T')[0];\r\n  });\r\n  const [endDate, setEndDate] = useState<string>(() => {\r\n    const tomorrow = new Date();\r\n    tomorrow.setDate(tomorrow.getDate() + 1);\r\n    return tomorrow.toISOString().split('T')[0];\r\n  });\r\n  \r\n  const [financialSummary, setFinancialSummary] = useState<FinancialSummary | null>(null);\r\n  const [incomeStatement, setIncomeStatement] = useState<IncomeStatement | null>(null);\r\n  const [cashFlow, setCashFlow] = useState<CashFlow | null>(null);\r\n  const [inventorySummary, setInventorySummary] = useState<InventorySummary | null>(null);\r\n  const [salesSummary, setSalesSummary] = useState<SalesSummary | null>(null);\r\n  const [forecasts, setForecasts] = useState<Forecast[]>([]);\r\n  const [mlInsights, setMlInsights] = useState<any>(null);\r\n  const [loadingMLInsights, setLoadingMLInsights] = useState(false);\r\n  const [generatingForecast, setGeneratingForecast] = useState<string | null>(null);\r\n\r\n  // Helper function to safely convert values to numbers, handling NaN, null, undefined\r\n  const safeNumber = (value: unknown): number => {\r\n    if (value === null || value === undefined || value === '') {\r\n      return 0;\r\n    }\r\n    const num = Number(value);\r\n    return isNaN(num) ? 0 : num;\r\n  };\r\n\r\n  const loadReports = useCallback(async (useDateFilter: boolean = true) => {\r\n    if (!user) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const userRole = user?.role?.toLowerCase();\r\n      const isFinanceAdmin = userRole === 'finance_manager' || userRole === 'finance_admin';\r\n      const isAccountant = userRole === 'accountant';\r\n      const isEmployee = userRole === 'employee';\r\n\r\n      // Get accessible user IDs based on role\r\n      // Admin/Super Admin: See all (no filtering)\r\n      // Finance Admin: See their own + subordinates (ONLY accountants and employees, NOT other Finance Admins)\r\n      // Accountant: See their own + their Finance Admin's team (ONLY accountants and employees, NOT other Finance Admins)\r\n      // Employee: See only their own\r\n      let accessibleUserIds: number[] | null = null;\r\n      const isAdmin = userRole === 'admin' || userRole === 'super_admin';\r\n      \r\n      if (isAdmin) {\r\n        // Admin can see all - no filtering needed\r\n        accessibleUserIds = null;\r\n      } else if (isFinanceAdmin && user?.id) {\r\n        try {\r\n          // Finance Admin: Get their own subordinates ONLY (accountants and employees)\r\n          // Exclude other Finance Admins, Managers, and their subordinates\r\n          const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n          const subordinatesRes = await apiClient.getSubordinates(userId);\r\n          const subordinates = subordinatesRes?.data || [];\r\n          \r\n          // Filter subordinates to ONLY include accountants and employees (exclude other Finance Admins/Managers)\r\n          const validSubordinateIds = subordinates\r\n            .map((sub: { id?: number | string; role?: string }) => {\r\n              const subId = typeof sub.id === 'string' ? parseInt(sub.id, 10) : Number(sub.id);\r\n              const subRole = (sub.role || '').toLowerCase();\r\n              \r\n              // Only include accountants and employees, exclude Finance Admins and Managers\r\n              if (!Number.isNaN(subId) && (subRole === 'accountant' || subRole === 'employee')) {\r\n                return subId;\r\n              }\r\n              return undefined;\r\n            })\r\n            .filter((id): id is number => id !== undefined);\r\n          \r\n          // Include the finance admin themselves + their valid subordinates only\r\n          accessibleUserIds = [userId, ...validSubordinateIds];\r\n          \r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.log('Finance Admin - Accessible User IDs for Reports:', {\r\n              userId: userId,\r\n              subordinatesCount: subordinates.length,\r\n              validSubordinateIds: validSubordinateIds,\r\n              accessibleUserIds: accessibleUserIds\r\n            });\r\n          }\r\n        } catch (err: unknown) {\r\n          console.warn('Failed to fetch subordinates, using only finance admin ID:', err);\r\n          const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n          accessibleUserIds = [userId];\r\n        }\r\n      } else if (isAccountant && user?.id) {\r\n        // Accountant: Get their Finance Admin's (manager's) subordinates\r\n        const accountantId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n        let managerId: number | null = null;\r\n        \r\n        // Try to get managerId from storeUser first\r\n        const managerIdStr = storeUser?.managerId;\r\n        if (managerIdStr) {\r\n          managerId = typeof managerIdStr === 'string' ? parseInt(managerIdStr, 10) : Number(managerIdStr);\r\n        } else {\r\n          // If not in storeUser, try to fetch current user profile from API\r\n          try {\r\n            const currentUserRes = await apiClient.getCurrentUser();\r\n            const currentUserData = currentUserRes?.data;\r\n            if (currentUserData?.manager_id !== undefined && currentUserData?.manager_id !== null) {\r\n              managerId = typeof currentUserData.manager_id === 'string' \r\n                ? parseInt(currentUserData.manager_id, 10) \r\n                : Number(currentUserData.manager_id);\r\n            }\r\n          } catch (err) {\r\n            console.warn('Failed to fetch current user profile for manager_id:', err);\r\n          }\r\n        }\r\n        \r\n        if (managerId) {\r\n          try {\r\n            const financeAdminId = managerId;\r\n            \r\n            // Get all subordinates of the Finance Admin\r\n            const subordinatesRes = await apiClient.getSubordinates(financeAdminId);\r\n            const subordinates = subordinatesRes?.data || [];\r\n            \r\n            // Filter subordinates to ONLY include accountants and employees (exclude other Finance Admins/Managers)\r\n            const validSubordinateIds = subordinates\r\n              .map((sub: { id?: number | string; role?: string }) => {\r\n                const subId = typeof sub.id === 'string' ? parseInt(sub.id, 10) : Number(sub.id);\r\n                const subRole = (sub.role || '').toLowerCase();\r\n                \r\n                // Only include accountants and employees, exclude Finance Admins and Managers\r\n                if (!Number.isNaN(subId) && (subRole === 'accountant' || subRole === 'employee')) {\r\n                  return subId;\r\n                }\r\n                return undefined;\r\n              })\r\n              .filter((id): id is number => id !== undefined);\r\n            \r\n            // Include the Finance Admin themselves and their valid subordinates only\r\n            accessibleUserIds = [financeAdminId, ...validSubordinateIds];\r\n            \r\n            if (process.env.NODE_ENV === 'development') {\r\n              console.log('Accountant - Accessible User IDs for Reports (from Finance Admin):', {\r\n                accountantId: accountantId,\r\n                financeAdminId: financeAdminId,\r\n                subordinatesCount: subordinates.length,\r\n                validSubordinateIds: validSubordinateIds,\r\n                accessibleUserIds: accessibleUserIds\r\n              });\r\n            }\r\n          } catch (err) {\r\n            console.error('Failed to fetch Finance Admin subordinates for accountant:', err);\r\n            // Fallback: if we can't get subordinates, at least try to show data from the Finance Admin\r\n            accessibleUserIds = [managerId];\r\n          }\r\n        } else {\r\n          // Accountant has no manager assigned - fallback to just themselves\r\n          console.warn('Accountant has no manager (Finance Admin) assigned - using only accountant ID');\r\n          accessibleUserIds = [accountantId];\r\n        }\r\n      } else if (isEmployee && user?.id) {\r\n        // Employee: Can only see their own data\r\n        const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n        accessibleUserIds = [userId];\r\n      }\r\n\r\n      const dateParams = useDateFilter ? { startDate, endDate } : { startDate: undefined, endDate: undefined };\r\n      \r\n      // Fetch sales data for the period (for detailed breakdowns)\r\n      let salesData: unknown[] = [];\r\n      try {\r\n        const salesResponse = await apiClient.getSales({\r\n          status: 'posted', // Only include posted sales in reports\r\n          limit: 1000, // Backend maximum is 1000\r\n          start_date: dateParams.startDate ? new Date(dateParams.startDate + 'T00:00:00').toISOString() : undefined,\r\n          end_date: dateParams.endDate ? new Date(dateParams.endDate + 'T23:59:59').toISOString() : undefined,\r\n        });\r\n        const salesArray = Array.isArray(salesResponse?.data) \r\n          ? salesResponse.data \r\n          : (salesResponse?.data && typeof salesResponse.data === 'object' && 'data' in salesResponse.data \r\n            ? (salesResponse.data as { data?: unknown[] }).data || [] \r\n            : []);\r\n        salesData = salesArray || [];\r\n\r\n        // Apply role-based filtering to sales data\r\n        // Admin/Super Admin: See all (no filtering)\r\n        // Finance Admin: Filter to only their team's sales (themselves + subordinates who are accountants/employees)\r\n        // Accountant: Filter to only their Finance Admin's team sales (Finance Admin + subordinates who are accountants/employees)\r\n        // Employee: Filter to only their own sales\r\n        if (!isAdmin && accessibleUserIds && accessibleUserIds.length > 0) {\r\n          // Finance Admin, Accountant, or Employee: filter based on accessibleUserIds\r\n          salesData = salesData.filter((s: unknown) => {\r\n            const sale = s as { sold_by_id?: unknown; soldBy?: unknown; sold_by?: unknown; created_by_id?: unknown; createdBy?: unknown };\r\n            const soldById = sale.sold_by_id || sale.soldBy || sale.sold_by || sale.created_by_id || sale.createdBy;\r\n            if (!soldById) return false;\r\n            const soldByIdNum = typeof soldById === 'string' ? parseInt(soldById, 10) : (typeof soldById === 'number' ? soldById : NaN);\r\n            return !isNaN(soldByIdNum) && accessibleUserIds!.includes(soldByIdNum);\r\n          });\r\n        }\r\n        // Admin/Super Admin sees all - no filtering needed\r\n      } catch (err: unknown) {\r\n        console.warn('Failed to fetch detailed sales data for reports:', err);\r\n        // Continue without sales data - we'll use sales summary API instead\r\n      }\r\n      \r\n      // Check if user can view inventory summary (Finance Admin, Admin, Manager)\r\n      const canViewInventory = user?.role === 'finance_manager' || \r\n                               user?.role === 'finance_admin' || \r\n                               user?.role === 'admin' || \r\n                               user?.role === 'super_admin' ||\r\n                               user?.role === 'manager';\r\n      \r\n      // Check if user can view sales summary (Accountant, Finance Admin, Admin, Manager)\r\n      const canViewSalesSummary = user?.role === 'accountant' ||\r\n                                  user?.role === 'finance_manager' || \r\n                                  user?.role === 'finance_admin' || \r\n                                  user?.role === 'admin' || \r\n                                  user?.role === 'super_admin' ||\r\n                                  user?.role === 'manager';\r\n      \r\n      // Check if user can view forecasts (Admin, Finance Admin, Manager)\r\n      const canViewForecasts = user?.role === 'finance_manager' || \r\n                               user?.role === 'finance_admin' || \r\n                               user?.role === 'admin' || \r\n                               user?.role === 'super_admin' ||\r\n                               user?.role === 'manager';\r\n      \r\n      // Note: Backend APIs (getFinancialSummary, getIncomeStatement, getCashFlow) should already filter\r\n      // data by user role. The frontend trusts these responses. Sales data is filtered above.\r\n      const [summaryResult, incomeResult, cashFlowResult, inventoryResult, salesSummaryResult, forecastsResult] = await Promise.allSettled([\r\n        apiClient.getFinancialSummary(dateParams.startDate, dateParams.endDate),\r\n        apiClient.getIncomeStatement(dateParams.startDate, dateParams.endDate),\r\n        apiClient.getCashFlow(dateParams.startDate, dateParams.endDate),\r\n        canViewInventory ? apiClient.getInventorySummary().catch((err: unknown) => {\r\n          // Silently handle 403 errors (expected for non-finance admins)\r\n          const error = err as ErrorWithDetails;\r\n          if (error.response?.status === 403) {\r\n            return { data: null };\r\n          }\r\n          throw err;\r\n        }) : Promise.resolve({ data: null }),\r\n        canViewSalesSummary ? apiClient.getSalesSummary({\r\n          start_date: dateParams.startDate ? new Date(dateParams.startDate + 'T00:00:00').toISOString() : undefined,\r\n          end_date: dateParams.endDate ? new Date(dateParams.endDate + 'T23:59:59').toISOString() : undefined,\r\n        }).catch((err: unknown) => {\r\n          // Silently handle 403 errors (expected for non-authorized users)\r\n          const error = err as ErrorWithDetails;\r\n          if (error.response?.status === 403) {\r\n            return { data: null };\r\n          }\r\n          throw err;\r\n        }) : Promise.resolve({ data: null }),\r\n        canViewForecasts ? apiClient.getForecasts({ limit: 100 }).catch((err: unknown) => {\r\n          // Silently handle 403 errors (expected for non-authorized users)\r\n          const error = err as ErrorWithDetails;\r\n          if (error.response?.status === 403) {\r\n            return { data: [] };\r\n          }\r\n          throw err;\r\n        }) : Promise.resolve({ data: [] }),\r\n      ]);\r\n      \r\n      // Filter to only include POSTED sales for revenue/profit calculations\r\n      // This ensures revenue and net profit are only calculated from approved sales\r\n      const postedSalesData = salesData.filter((s: unknown) => {\r\n        const sale = s as { status?: string };\r\n        return sale.status === 'posted' || sale.status === 'POSTED' || sale.status?.toLowerCase() === 'posted';\r\n      });\r\n      \r\n      // Calculate sales totals from individual sales - ONLY from POSTED (approved) sales\r\n      // This is a fallback if sales summary API is not available\r\n      const totalSalesFromData = postedSalesData.reduce((sum: number, s: unknown) => {\r\n        const sale = s as { total_sale?: unknown };\r\n        return sum + safeNumber(sale.total_sale);\r\n      }, 0);\r\n      const salesByCategory: Record<string, number> = {};\r\n      postedSalesData.forEach((s: unknown) => {\r\n        const sale = s as { category?: string; total_sale?: unknown; item?: { category?: string } };\r\n        const category = sale.item?.category || sale.category || 'Sales';\r\n        salesByCategory[category] = (salesByCategory[category] || 0) + safeNumber(sale.total_sale);\r\n      });\r\n\r\n      if (summaryResult.status === 'fulfilled') {\r\n        const summaryData = summaryResult.value.data || summaryResult.value;\r\n        if (summaryData && (summaryData.financials || summaryData.revenue_by_category || summaryData.expenses_by_category)) {\r\n          // Initial calculation with individual sales data (will be updated if sales summary is available)\r\n          const baseRevenue = safeNumber(summaryData.financials?.total_revenue);\r\n          const baseExpenses = safeNumber(summaryData.financials?.total_expenses);\r\n          const calculatedRevenue = baseRevenue + totalSalesFromData;\r\n          const calculatedProfit = calculatedRevenue - baseExpenses;\r\n          const calculatedProfitMargin = calculatedRevenue > 0 \r\n            ? (calculatedProfit / calculatedRevenue) * 100\r\n            : 0;\r\n          \r\n          const enhancedSummary = {\r\n            ...summaryData,\r\n            financials: {\r\n              ...summaryData.financials,\r\n              total_sales: safeNumber(totalSalesFromData),\r\n              total_revenue: calculatedRevenue,\r\n              total_expenses: baseExpenses,\r\n              profit: calculatedProfit,\r\n              profit_margin: calculatedProfitMargin,\r\n            },\r\n            sales_by_category: salesByCategory,\r\n            transaction_counts: {\r\n              ...summaryData.transaction_counts,\r\n              sales: postedSalesData.length, // Only count POSTED sales\r\n              total: (summaryData.transaction_counts?.total || 0) + postedSalesData.length,\r\n            },\r\n          };\r\n          \r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.log('Financial Summary loaded (initial):', {\r\n              base_revenue: baseRevenue,\r\n              sales_from_data: totalSalesFromData,\r\n              total_revenue: enhancedSummary.financials?.total_revenue,\r\n              total_sales: enhancedSummary.financials?.total_sales,\r\n              total_expenses: enhancedSummary.financials?.total_expenses,\r\n              revenue_categories: Object.keys(enhancedSummary.revenue_by_category || {}).length,\r\n              sales_categories: Object.keys(enhancedSummary.sales_by_category || {}).length,\r\n              expense_categories: Object.keys(enhancedSummary.expenses_by_category || {}).length,\r\n            });\r\n          }\r\n          setFinancialSummary(enhancedSummary);\r\n        } else {\r\n          console.warn('Invalid summary data structure:', summaryData);\r\n          setFinancialSummary(null);\r\n        }\r\n      } else {\r\n        // Failed to load financial summary, try to use income statement data if available\r\n        if (incomeResult.status === 'fulfilled') {\r\n          const incomeData = incomeResult.value.data as { revenue?: { by_category?: Record<string, number>; total?: number }; expenses?: { by_category?: Record<string, number>; total?: number } };\r\n          const revenueCategories = Object.keys(incomeData.revenue?.by_category || {}).length;\r\n          const expenseCategories = Object.keys(incomeData.expenses?.by_category || {}).length;\r\n          const revenueObj = incomeData.revenue && typeof incomeData.revenue === 'object' ? incomeData.revenue as { total?: number } : {};\r\n          const expensesObj = incomeData.expenses && typeof incomeData.expenses === 'object' ? incomeData.expenses as { total?: number } : {};\r\n          const baseRevenue = safeNumber(revenueObj.total);\r\n          const baseExpenses = safeNumber(expensesObj.total);\r\n          const calculatedRevenue = baseRevenue + totalSalesFromData;\r\n          const calculatedProfit = calculatedRevenue - baseExpenses;\r\n          const calculatedProfitMargin = calculatedRevenue > 0\r\n            ? (calculatedProfit / calculatedRevenue) * 100\r\n            : 0;\r\n          \r\n          setFinancialSummary({\r\n            period: { start_date: startDate, end_date: endDate },\r\n            financials: {\r\n              total_revenue: calculatedRevenue,\r\n              total_sales: safeNumber(totalSalesFromData),\r\n              total_expenses: baseExpenses,\r\n              profit: calculatedProfit,\r\n              profit_margin: calculatedProfitMargin,\r\n            },\r\n            revenue_by_category: (incomeData.revenue?.by_category as Record<string, number>) || {},\r\n            sales_by_category: salesByCategory,\r\n            expenses_by_category: (incomeData.expenses?.by_category as Record<string, number>) || {},\r\n            transaction_counts: {\r\n              revenue: revenueCategories > 0 ? revenueCategories : 0,\r\n              sales: postedSalesData.length, // Only count POSTED sales\r\n              expenses: expenseCategories > 0 ? expenseCategories : 0,\r\n              total: revenueCategories + expenseCategories + postedSalesData.length,\r\n            },\r\n            generated_at: new Date().toISOString(),\r\n          });\r\n        } else {\r\n          setFinancialSummary(null);\r\n        }\r\n      }\r\n      \r\n      if (incomeResult.status === 'fulfilled') {\r\n        const incomeData = incomeResult.value.data || incomeResult.value;\r\n        if (incomeData && (incomeData.revenue || incomeData.expenses)) {\r\n          // Enhance income statement with sales data\r\n          const baseRevenue = safeNumber(incomeData.revenue && typeof incomeData.revenue === 'object' && incomeData.revenue !== null && 'total' in incomeData.revenue ? (incomeData.revenue as { total: number }).total : 0);\r\n          const baseExpenses = safeNumber(incomeData.expenses && typeof incomeData.expenses === 'object' && incomeData.expenses !== null && 'total' in incomeData.expenses ? (incomeData.expenses as { total: number }).total : 0);\r\n          const calculatedRevenue = baseRevenue + totalSalesFromData;\r\n          const calculatedProfit = calculatedRevenue - baseExpenses;\r\n          const calculatedProfitMargin = calculatedRevenue > 0\r\n            ? (calculatedProfit / calculatedRevenue) * 100\r\n            : 0;\r\n          \r\n          const enhancedIncome = {\r\n            ...incomeData,\r\n            sales: {\r\n              total: safeNumber(totalSalesFromData),\r\n              by_category: salesByCategory,\r\n            },\r\n            revenue: {\r\n              by_category: (incomeData.revenue && typeof incomeData.revenue === 'object' && 'by_category' in incomeData.revenue ? incomeData.revenue.by_category : undefined) || {},\r\n              total: calculatedRevenue,\r\n            },\r\n            profit: calculatedProfit,\r\n            profit_margin: calculatedProfitMargin,\r\n          };\r\n          setIncomeStatement(enhancedIncome as IncomeStatement);\r\n        } else {\r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.warn('Invalid income statement data structure:', incomeData);\r\n          }\r\n          setIncomeStatement(null);\r\n        }\r\n      } else {\r\n        console.error('Failed to load income statement:', incomeResult.reason);\r\n        setIncomeStatement(null);\r\n      }\r\n      \r\n      if (cashFlowResult.status === 'fulfilled') {\r\n        const cashFlowData = cashFlowResult.value.data || cashFlowResult.value;\r\n        if (cashFlowData && (cashFlowData.summary || cashFlowData.daily_cash_flow)) {\r\n          // Enhance cash flow with sales data - ONLY from POSTED (approved) sales\r\n          const salesByDay: Record<string, { inflow: number; outflow: number; net: number }> = {};\r\n          postedSalesData.forEach((sale: unknown) => {\r\n            const saleData = sale as { created_at?: string; total_sale?: unknown };\r\n            const saleDate = saleData.created_at ? new Date(saleData.created_at).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n            if (!salesByDay[saleDate]) {\r\n              salesByDay[saleDate] = { inflow: 0, outflow: 0, net: 0 };\r\n            }\r\n            const saleAmount = safeNumber(saleData.total_sale);\r\n            salesByDay[saleDate].inflow += saleAmount;\r\n            salesByDay[saleDate].net += saleAmount;\r\n          });\r\n\r\n          // Merge sales into daily cash flow\r\n          const enhancedDailyFlow = { ...cashFlowData.daily_cash_flow };\r\n          Object.entries(salesByDay).forEach(([date, flow]) => {\r\n            if (enhancedDailyFlow[date]) {\r\n              enhancedDailyFlow[date].inflow += flow.inflow;\r\n              enhancedDailyFlow[date].net += flow.net;\r\n            } else {\r\n              enhancedDailyFlow[date] = flow;\r\n            }\r\n          });\r\n\r\n          const baseInflow = safeNumber(cashFlowData.summary?.total_inflow);\r\n          const baseNetFlow = safeNumber(cashFlowData.summary?.net_cash_flow);\r\n          \r\n          // Use sales revenue from summary result if available, otherwise use calculated totalSalesFromData\r\n          // Check salesSummaryResult to get the sales revenue value\r\n          let salesRevenueForCashFlow = totalSalesFromData;\r\n          if (salesSummaryResult.status === 'fulfilled') {\r\n            const salesSummaryData = salesSummaryResult.value.data || salesSummaryResult.value;\r\n            if (salesSummaryData && typeof salesSummaryData === 'object' && 'total_revenue' in salesSummaryData) {\r\n              salesRevenueForCashFlow = safeNumber((salesSummaryData as SalesSummary).total_revenue);\r\n            }\r\n          }\r\n          \r\n          const enhancedCashFlow = {\r\n            ...cashFlowData,\r\n            summary: {\r\n              ...cashFlowData.summary,\r\n              total_inflow: baseInflow + salesRevenueForCashFlow,\r\n              net_cash_flow: baseNetFlow + salesRevenueForCashFlow,\r\n            },\r\n            daily_cash_flow: enhancedDailyFlow,\r\n          };\r\n          setCashFlow(enhancedCashFlow);\r\n        } else {\r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.warn('Invalid cash flow data structure:', cashFlowData);\r\n          }\r\n          setCashFlow(null);\r\n        }\r\n      } else {\r\n        console.error('Failed to load cash flow:', cashFlowResult.reason);\r\n        setCashFlow(null);\r\n      }\r\n      \r\n      // Handle inventory summary\r\n      if (inventoryResult.status === 'fulfilled') {\r\n        const inventoryData = inventoryResult.value.data || inventoryResult.value;\r\n        if (inventoryData && typeof inventoryData === 'object' && \r\n            ('total_items' in inventoryData || 'total_selling_value' in inventoryData)) {\r\n          setInventorySummary(inventoryData as InventorySummary);\r\n        } else {\r\n          setInventorySummary(null);\r\n        }\r\n      } else {\r\n        // Only log error if it's not a 403 (permission denied)\r\n        if (inventoryResult.reason?.response?.status !== 403) {\r\n          console.warn('Failed to load inventory summary:', inventoryResult.reason);\r\n        }\r\n        setInventorySummary(null);\r\n      }\r\n      \r\n      // Handle sales summary and integrate with financial data\r\n      // Sales summary API provides more accurate aggregated data from the backend\r\n      if (salesSummaryResult.status === 'fulfilled') {\r\n        const salesData = salesSummaryResult.value.data || salesSummaryResult.value;\r\n        if (salesData && typeof salesData === 'object' && \r\n            ('total_sales' in salesData || 'total_revenue' in salesData)) {\r\n          const salesSummaryData = salesData as SalesSummary;\r\n          setSalesSummary(salesSummaryData);\r\n          \r\n          // Always use sales summary revenue when available (more accurate than calculating from individual sales)\r\n          // This ensures we use the backend's aggregated data which only includes POSTED sales\r\n          // Update financial summary with accurate sales data from summary API\r\n          if (summaryResult.status === 'fulfilled') {\r\n            const summaryData = summaryResult.value.data || summaryResult.value;\r\n            if (summaryData && (summaryData.financials || summaryData.revenue_by_category || summaryData.expenses_by_category)) {\r\n              // Use sales summary revenue instead of calculated totalSalesFromData\r\n              // Sales summary is more accurate as it's aggregated by the backend\r\n              const baseRevenue = safeNumber(summaryData.financials?.total_revenue);\r\n              const baseExpenses = safeNumber(summaryData.financials?.total_expenses);\r\n              const salesRevenue = safeNumber(salesSummaryData.total_revenue);\r\n              \r\n              // Total revenue = base revenue (from revenue entries) + sales revenue (from posted sales)\r\n              const calculatedRevenue = baseRevenue + salesRevenue;\r\n              const calculatedProfit = calculatedRevenue - baseExpenses;\r\n              const calculatedProfitMargin = calculatedRevenue > 0 \r\n                ? (calculatedProfit / calculatedRevenue) * 100\r\n                : 0;\r\n              \r\n              const enhancedSummary = {\r\n                ...summaryData,\r\n                financials: {\r\n                  ...summaryData.financials,\r\n                  total_sales: salesRevenue, // Use sales revenue from summary API\r\n                  total_revenue: calculatedRevenue, // Base revenue + sales revenue\r\n                  total_expenses: baseExpenses,\r\n                  profit: calculatedProfit,\r\n                  profit_margin: calculatedProfitMargin,\r\n                },\r\n                sales_by_category: salesByCategory, // Keep category breakdown from individual sales\r\n                transaction_counts: {\r\n                  ...summaryData.transaction_counts,\r\n                  sales: salesSummaryData.posted_sales || postedSalesData.length,\r\n                  total: (summaryData.transaction_counts?.total || 0) + (salesSummaryData.posted_sales || postedSalesData.length),\r\n                },\r\n              };\r\n              \r\n              if (process.env.NODE_ENV === 'development') {\r\n                console.log('Financial Summary updated with Sales Summary:', {\r\n                  base_revenue: baseRevenue,\r\n                  sales_revenue_from_summary: salesRevenue,\r\n                  total_revenue_calculated: calculatedRevenue,\r\n                  total_sales: enhancedSummary.financials?.total_sales,\r\n                  total_expenses: enhancedSummary.financials?.total_expenses,\r\n                  profit: enhancedSummary.financials?.profit,\r\n                  profit_margin: enhancedSummary.financials?.profit_margin,\r\n                });\r\n              }\r\n              \r\n              setFinancialSummary(enhancedSummary);\r\n            }\r\n          }\r\n        } else {\r\n          setSalesSummary(null);\r\n        }\r\n      } else {\r\n        // Only log error if it's not a 403 (permission denied)\r\n        if (salesSummaryResult.reason?.response?.status !== 403) {\r\n          console.warn('Failed to load sales summary:', salesSummaryResult.reason);\r\n        }\r\n        setSalesSummary(null);\r\n      }\r\n      \r\n      // Process forecasts result\r\n      if (forecastsResult.status === 'fulfilled') {\r\n        const forecastsData = forecastsResult.value?.data || forecastsResult.value || [];\r\n        const forecastsArray = Array.isArray(forecastsData) ? forecastsData : [];\r\n        // Parse forecast data if it's a string\r\n        const parsedForecasts = forecastsArray.map((f: unknown) => {\r\n          const forecast = f as Forecast;\r\n          if (typeof forecast.forecast_data === 'string') {\r\n            try {\r\n              forecast.forecast_data = JSON.parse(forecast.forecast_data) as ForecastDataPoint[];\r\n            } catch {\r\n              forecast.forecast_data = [];\r\n            }\r\n          }\r\n          if (typeof forecast.method_params === 'string') {\r\n            try {\r\n              forecast.method_params = JSON.parse(forecast.method_params) as Record<string, unknown>;\r\n            } catch {\r\n              forecast.method_params = {};\r\n            }\r\n          }\r\n          return forecast;\r\n        });\r\n        setForecasts(parsedForecasts);\r\n      } else {\r\n        // Only log error if it's not a 403 (permission denied)\r\n        if (forecastsResult.reason?.response?.status !== 403) {\r\n          console.warn('Failed to load forecasts:', forecastsResult.reason);\r\n        }\r\n        setForecasts([]);\r\n      }\r\n      \r\n      if (summaryResult.status === 'rejected' && incomeResult.status === 'rejected' && cashFlowResult.status === 'rejected') {\r\n        const firstError = summaryResult.reason || incomeResult.reason || cashFlowResult.reason;\r\n        let errorMsg = 'Failed to load reports';\r\n        if (firstError?.response?.data?.detail) {\r\n          const detail = firstError.response.data.detail;\r\n          if (typeof detail === 'string') {\r\n            errorMsg = detail;\r\n          } else if (Array.isArray(detail)) {\r\n            errorMsg = detail.map((e: unknown) => {\r\n              if (typeof e === 'string') return e;\r\n              const errorDetail = e as { msg?: string };\r\n              return errorDetail.msg || JSON.stringify(e);\r\n            }).join(', ');\r\n          }\r\n        } else if (firstError?.message) {\r\n          errorMsg = firstError.message;\r\n        }\r\n        setError(errorMsg);\r\n        toast.error(errorMsg);\r\n        setFinancialSummary(null);\r\n        setIncomeStatement(null);\r\n        setCashFlow(null);\r\n      }\r\n      \r\n    } catch (err: unknown) {\r\n      const error = err as ErrorWithDetails;\r\n      let errorMessage = 'Failed to load reports';\r\n\r\n      if (error.response?.data?.detail) {\r\n        const detail = error.response.data.detail;\r\n        \r\n        if (Array.isArray(detail)) {\r\n          errorMessage = detail.map((e: unknown) => {\r\n            if (typeof e === 'string') return e;\r\n            const errorDetail = e as { msg?: string; loc?: string[] };\r\n            if (errorDetail.msg) return `${errorDetail.loc?.join('.') || 'Field'}: ${errorDetail.msg}`;\r\n            return JSON.stringify(e);\r\n          }).join(', ');\r\n        }\r\n        else if (typeof detail === 'object' && detail && 'msg' in detail) {\r\n          const detailObj = detail as { msg?: string; loc?: string[] };\r\n          errorMessage = `${detailObj.loc?.join('.') || 'Field'}: ${detailObj.msg}`;\r\n        }\r\n        else if (typeof detail === 'string') {\r\n          errorMessage = detail;\r\n        }\r\n        else {\r\n          errorMessage = JSON.stringify(detail);\r\n        }\r\n      } else if ((err as ErrorWithDetails).message) {\r\n        errorMessage = (err as ErrorWithDetails).message!;\r\n      }\r\n      \r\n      setError(errorMessage);\r\n      toast.error(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user, storeUser?.managerId, startDate, endDate]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const timer = setTimeout(() => {\r\n        loadReports(true);\r\n      }, 100);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [user, loadReports]);\r\n\r\n  useEffect(() => {\r\n    if (user && startDate && endDate) {\r\n      const timer = setTimeout(() => {\r\n        loadReports(true);\r\n      }, 300);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [startDate, endDate, loadReports, user]);\r\n\r\n  const formatCurrency = (amount: number | null | undefined): string => {\r\n    const safeAmount = safeNumber(amount);\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2,\r\n    }).format(safeAmount);\r\n  };\r\n\r\n  const formatDate = (dateString?: string): string => {\r\n    if (!dateString) return '';\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n    });\r\n  };\r\n\r\n  const capitalize = (str: string | null | undefined): string => {\r\n    if (!str || typeof str !== 'string') return '';\r\n    return str.charAt(0).toUpperCase() + str.slice(1).replace(/_/g, ' ');\r\n  };\r\n\r\n  // Generate ML forecast with advice\r\n  const generateMLForecast = async (metric: 'expense' | 'revenue' | 'inventory', modelType: string) => {\r\n    setGeneratingForecast(`${metric}-${modelType}`);\r\n    try {\r\n      const response = await apiClient.generateForecastWithAdvice(metric, modelType as any, 12);\r\n      const responseData = (response as any)?.data || response;\r\n      \r\n      if (responseData?.status === 'success') {\r\n        // Update ML insights state\r\n        setMlInsights((prev: any) => ({\r\n          ...prev,\r\n          [metric]: {\r\n            ...responseData,\r\n            model_type: modelType,\r\n            generated_at: new Date().toISOString()\r\n          }\r\n        }));\r\n        toast.success(`${capitalize(metric)} forecast with AI advice generated successfully!`);\r\n      }\r\n    } catch (error: any) {\r\n      const errorMessage = error?.response?.data?.detail || error?.message || 'Failed to generate forecast';\r\n      toast.error(errorMessage);\r\n    } finally {\r\n      setGeneratingForecast(null);\r\n    }\r\n  };\r\n\r\n  // Load ML insights for all metrics\r\n  const loadMLInsights = async () => {\r\n    if (!user || (user?.role !== 'admin' && user?.role !== 'super_admin' && \r\n                  user?.role !== 'finance_admin' && user?.role !== 'finance_manager' && \r\n                  user?.role !== 'manager')) {\r\n      return;\r\n    }\r\n\r\n    setLoadingMLInsights(true);\r\n    try {\r\n      // Try to generate forecasts with advice for all metrics using best available models\r\n      const metrics = ['expense', 'revenue', 'inventory'] as const;\r\n      const insights: Record<string, any> = {};\r\n      \r\n      // Try common models for each metric\r\n      const modelMap = {\r\n        expense: ['arima', 'linear_regression'],\r\n        revenue: ['xgboost', 'prophet'],\r\n        inventory: ['sarima', 'xgboost']\r\n      };\r\n\r\n      for (const metric of metrics) {\r\n        const models = modelMap[metric as keyof typeof modelMap];\r\n        for (const modelType of models) {\r\n          try {\r\n            const response = await apiClient.generateForecastWithAdvice(metric, modelType as any, 12);\r\n            const responseData = (response as any)?.data || response;\r\n            \r\n            if (responseData?.status === 'success') {\r\n              insights[metric] = {\r\n                ...responseData,\r\n                model_type: modelType,\r\n                generated_at: new Date().toISOString()\r\n              };\r\n              break; // Use first successful model\r\n            }\r\n          } catch (e) {\r\n            // Try next model\r\n            continue;\r\n          }\r\n        }\r\n      }\r\n      \r\n      setMlInsights(insights);\r\n    } catch (error) {\r\n      console.error('Failed to load ML insights:', error);\r\n      // Don't show error toast as this is optional enhancement\r\n    } finally {\r\n      setLoadingMLInsights(false);\r\n    }\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <Layout>\r\n        <PageContainer>\r\n          <EmptyState>\r\n            <FileText size={48} />\r\n            <h3>Please log in to view reports</h3>\r\n          </EmptyState>\r\n        </PageContainer>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <PageContainer>\r\n        <HeaderContainer>\r\n          <h1>Financial Reports</h1>\r\n          <p>Income Statement and Cash Flow Analysis</p>\r\n        </HeaderContainer>\r\n\r\n        <DateFilterCard>\r\n          <DateInputGroup>\r\n            <Label htmlFor=\"startDate\">Start Date</Label>\r\n            <Input\r\n              id=\"startDate\"\r\n              type=\"date\"\r\n              value={startDate}\r\n              onChange={(e) => setStartDate(e.target.value)}\r\n            />\r\n          </DateInputGroup>\r\n          <DateInputGroup>\r\n            <Label htmlFor=\"endDate\">End Date</Label>\r\n            <Input\r\n              id=\"endDate\"\r\n              type=\"date\"\r\n              value={endDate}\r\n              onChange={(e) => setEndDate(e.target.value)}\r\n            />\r\n          </DateInputGroup>\r\n          <ButtonRow>\r\n            <Button \r\n              onClick={() => {\r\n                const oneYearAgo = new Date();\r\n                oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);\r\n                oneYearAgo.setDate(1);\r\n                const tomorrow = new Date();\r\n                tomorrow.setDate(tomorrow.getDate() + 1);\r\n                setStartDate(oneYearAgo.toISOString().split('T')[0]);\r\n                setEndDate(tomorrow.toISOString().split('T')[0]);\r\n                loadReports(true);\r\n              }}\r\n              variant=\"outline\"\r\n              disabled={loading}\r\n            >\r\n              Show All Data (1 Year)\r\n            </Button>\r\n            <Button \r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                loadReports(false);\r\n              }}\r\n              variant=\"outline\"\r\n              disabled={loading}\r\n            >\r\n              Load Without Date Filter\r\n            </Button>\r\n            <Button onClick={() => loadReports(true)} disabled={loading}>\r\n              {loading ? (\r\n                <>\r\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                  Loading...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n                  Refresh\r\n                </>\r\n              )}\r\n            </Button>\r\n          </ButtonRow>\r\n        </DateFilterCard>\r\n\r\n        {error && (\r\n          <ErrorBanner>\r\n            <AlertCircle />\r\n            <span>{error}</span>\r\n          </ErrorBanner>\r\n        )}\r\n\r\n        {loading ? (\r\n          <LoadingContainer>\r\n            <Spinner />\r\n            <p>Loading financial reports...</p>\r\n          </LoadingContainer>\r\n        ) : (\r\n          <>\r\n            <ReportSection>\r\n              <ReportCard>\r\n                <ReportHeader>\r\n                  <div>\r\n                    <h2>\r\n                      <BarChart3 />\r\n                      Financial Summary Report\r\n                    </h2>\r\n                    <p>\r\n                      Period: {formatDate(startDate)} - {formatDate(endDate)}\r\n                      {financialSummary?.generated_at && (\r\n                        <>  Generated: {formatDate(financialSummary.generated_at)}</>\r\n                      )}\r\n                    </p>\r\n                  </div>\r\n                </ReportHeader>\r\n\r\n                {financialSummary ? (\r\n                  <>\r\n                    <SummaryGrid>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ArrowUpRight size={16} />\r\n                          Total Revenue\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(financialSummary.financials?.total_revenue)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          {financialSummary.transaction_counts?.revenue || 0} revenue transactions\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ShoppingCart size={16} />\r\n                          Total Sales\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(financialSummary.financials?.total_sales)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          {financialSummary.transaction_counts?.sales || 0} sales transactions\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"expense\">\r\n                        <div className=\"label\">\r\n                          <ArrowDownRight size={16} />\r\n                          Total Expenses\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(financialSummary.financials?.total_expenses)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          {financialSummary.transaction_counts?.expenses || 0} expense transactions\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"profit\">\r\n                        <div className=\"label\">\r\n                          <TrendingUp size={16} />\r\n                          Net Profit\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(financialSummary.financials?.profit)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          Profit Margin: {safeNumber(financialSummary.financials?.profit_margin).toFixed(2)}%\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard>\r\n                        <div className=\"label\">\r\n                          <FileText size={16} />\r\n                          Total Transactions\r\n                        </div>\r\n                        <div className=\"value\">{financialSummary.transaction_counts?.total || 0}</div>\r\n                        <div className=\"sub-value\">\r\n                          {financialSummary.transaction_counts?.revenue || 0} revenue + {financialSummary.transaction_counts?.sales || 0} sales + {financialSummary.transaction_counts?.expenses || 0} expenses\r\n                        </div>\r\n                      </SummaryCard>\r\n                    </SummaryGrid>\r\n\r\n                    <TwoColumnGrid>\r\n                      <div>\r\n                        <SectionTitle>Top Revenue Categories</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Category</th>\r\n                              <th style={{ textAlign: 'right' }}>Amount</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {financialSummary.revenue_by_category && Object.entries(financialSummary.revenue_by_category).length > 0 ? (\r\n                              Object.entries(financialSummary.revenue_by_category)\r\n                                .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                                .slice(0, 5)\r\n                                .map(([category, amount]) => (\r\n                                  <tr key={category}>\r\n                                    <td>{capitalize(category)}</td>\r\n                                    <td style={{ textAlign: 'right' }}>{formatCurrency(amount as number)}</td>\r\n                                  </tr>\r\n                                ))\r\n                            ) : (\r\n                              <tr>\r\n                                <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                  No revenue data\r\n                                </td>\r\n                              </tr>\r\n                            )}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n\r\n                      <div>\r\n                        <SectionTitle>Top Sales Categories</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Category</th>\r\n                              <th style={{ textAlign: 'right' }}>Amount</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {financialSummary.sales_by_category && Object.entries(financialSummary.sales_by_category).length > 0 ? (\r\n                              Object.entries(financialSummary.sales_by_category)\r\n                                .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                                .slice(0, 5)\r\n                                .map(([category, amount]) => (\r\n                                  <tr key={category}>\r\n                                    <td>{capitalize(category)}</td>\r\n                                    <td style={{ textAlign: 'right' }}>{formatCurrency(amount as number)}</td>\r\n                                  </tr>\r\n                                ))\r\n                            ) : (\r\n                              <tr>\r\n                                <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                  No sales data\r\n                                </td>\r\n                              </tr>\r\n                            )}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    </TwoColumnGrid>\r\n\r\n                    <div style={{ marginTop: theme.spacing.xl }}>\r\n                      <SectionTitle>Top Expense Categories</SectionTitle>\r\n                      <CategoryTable>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Category</th>\r\n                            <th style={{ textAlign: 'right' }}>Amount</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {financialSummary.expenses_by_category && Object.entries(financialSummary.expenses_by_category).length > 0 ? (\r\n                            Object.entries(financialSummary.expenses_by_category)\r\n                              .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                              .slice(0, 5)\r\n                              .map(([category, amount]) => (\r\n                                <tr key={category}>\r\n                                  <td>{capitalize(category)}</td>\r\n                                  <td style={{ textAlign: 'right', color: '#dc2626', fontWeight: theme.typography.fontWeights.bold }}>{formatCurrency(amount as number)}</td>\r\n                                </tr>\r\n                              ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                No expense data\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </CategoryTable>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <EmptyState>\r\n                    <BarChart3 size={48} />\r\n                    <h3>No summary data available</h3>\r\n                  </EmptyState>\r\n                )}\r\n              </ReportCard>\r\n            </ReportSection>\r\n\r\n            <ReportSection>\r\n              <ReportCard>\r\n                <ReportHeader>\r\n                  <div>\r\n                    <h2>\r\n                      <FileText />\r\n                      Income Statement (Profit & Loss)\r\n                    </h2>\r\n                    <p>\r\n                      Period: {formatDate(startDate)} - {formatDate(endDate)}\r\n                    </p>\r\n                  </div>\r\n                </ReportHeader>\r\n\r\n                {incomeStatement ? (\r\n                  <>\r\n                    <SummaryGrid>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ArrowUpRight size={16} />\r\n                          Total Revenue\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(incomeStatement.revenue?.total || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          Includes sales revenue\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ShoppingCart size={16} />\r\n                          Sales Revenue\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(incomeStatement.sales?.total || 0)}\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"expense\">\r\n                        <div className=\"label\">\r\n                          <ArrowDownRight size={16} />\r\n                          Total Expenses\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(incomeStatement.expenses?.total || 0)}\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"profit\">\r\n                        <div className=\"label\">\r\n                          <TrendingUp size={16} />\r\n                          Net Profit\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(incomeStatement.profit || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          Profit Margin: {(incomeStatement.profit_margin || 0).toFixed(2)}%\r\n                        </div>\r\n                      </SummaryCard>\r\n                    </SummaryGrid>\r\n\r\n                    <div style={{ marginTop: theme.spacing.xl }}>\r\n                      <SectionTitle>Revenue by Category</SectionTitle>\r\n                      <CategoryTable>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Category</th>\r\n                            <th style={{ textAlign: 'right' }}>Amount</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {incomeStatement.revenue?.by_category && Object.entries(incomeStatement.revenue.by_category).length > 0 ? (\r\n                            Object.entries(incomeStatement.revenue.by_category)\r\n                              .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                              .map(([category, amount]) => (\r\n                                <tr key={category}>\r\n                                  <td>{capitalize(category)}</td>\r\n                                  <td style={{ textAlign: 'right' }}>{formatCurrency(amount as number)}</td>\r\n                                </tr>\r\n                              ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                No revenue data for this period\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </CategoryTable>\r\n                    </div>\r\n\r\n                    {incomeStatement.sales?.by_category && Object.entries(incomeStatement.sales.by_category).length > 0 && (\r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>Sales by Category</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Category</th>\r\n                              <th style={{ textAlign: 'right' }}>Amount</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {Object.entries(incomeStatement.sales.by_category)\r\n                              .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                              .map(([category, amount]) => (\r\n                                <tr key={category}>\r\n                                  <td>{capitalize(category)}</td>\r\n                                  <td style={{ textAlign: 'right' }}>{formatCurrency(amount as number)}</td>\r\n                                </tr>\r\n                              ))}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    )}\r\n\r\n                    <div style={{ marginTop: theme.spacing.xl }}>\r\n                      <SectionTitle>Expenses by Category</SectionTitle>\r\n                      <CategoryTable>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Category</th>\r\n                            <th style={{ textAlign: 'right' }}>Amount</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {incomeStatement.expenses?.by_category && Object.entries(incomeStatement.expenses.by_category).length > 0 ? (\r\n                            Object.entries(incomeStatement.expenses.by_category)\r\n                              .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                              .map(([category, amount]) => (\r\n                                <tr key={category}>\r\n                                  <td>{capitalize(category)}</td>\r\n                                  <td style={{ textAlign: 'right', color: '#dc2626', fontWeight: theme.typography.fontWeights.bold }}>{formatCurrency(amount as number)}</td>\r\n                                </tr>\r\n                              ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                No expense data for this period\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </CategoryTable>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <EmptyState>\r\n                    <FileText size={48} />\r\n                    <h3>No income statement data available</h3>\r\n                  </EmptyState>\r\n                )}\r\n              </ReportCard>\r\n            </ReportSection>\r\n\r\n            <ReportSection>\r\n              <ReportCard>\r\n                <ReportHeader>\r\n                  <div>\r\n                    <h2>\r\n                      <BarChart3 />\r\n                      Cash Flow Statement\r\n                    </h2>\r\n                    <p>\r\n                      Period: {formatDate(startDate)} - {formatDate(endDate)}\r\n                    </p>\r\n                  </div>\r\n                </ReportHeader>\r\n\r\n                {cashFlow ? (\r\n                  <>\r\n                    <SummaryGrid>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ArrowUpRight size={16} />\r\n                          Cash Inflow\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(cashFlow.summary?.total_inflow || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">Money coming in</div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"expense\">\r\n                        <div className=\"label\">\r\n                          <ArrowDownRight size={16} />\r\n                          Cash Outflow\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(cashFlow.summary?.total_outflow || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">Money going out</div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"profit\">\r\n                        <div className=\"label\">\r\n                          <TrendingUp size={16} />\r\n                          Net Cash Flow\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(cashFlow.summary?.net_cash_flow || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">Actual cash available</div>\r\n                      </SummaryCard>\r\n                    </SummaryGrid>\r\n\r\n                    <div style={{ marginTop: theme.spacing.xl }}>\r\n                      <SectionTitle>Daily Cash Flow</SectionTitle>\r\n                      <CashFlowTable>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Date</th>\r\n                            <th style={{ textAlign: 'right' }}>Inflow</th>\r\n                            <th style={{ textAlign: 'right' }}>Outflow</th>\r\n                            <th style={{ textAlign: 'right' }}>Net</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {cashFlow.daily_cash_flow && Object.entries(cashFlow.daily_cash_flow).length > 0 ? (\r\n                            Object.entries(cashFlow.daily_cash_flow)\r\n                              .sort(([dateA], [dateB]) => dateB.localeCompare(dateA))\r\n                              .map(([date, flow]: [string, { inflow: number; outflow: number; net: number }]) => (\r\n                                <tr key={date}>\r\n                                  <td>{formatDate(date)}</td>\r\n                                  <td style={{ textAlign: 'right' }}>\r\n                                    {flow.inflow > 0 ? formatCurrency(flow.inflow) : ''}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right' }}>\r\n                                    {flow.outflow > 0 ? formatCurrency(flow.outflow) : ''}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right' }}>\r\n                                    {formatCurrency(flow.net || 0)}\r\n                                  </td>\r\n                                </tr>\r\n                              ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan={4} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                No cash flow data for this period\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </CashFlowTable>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <EmptyState>\r\n                    <BarChart3 size={48} />\r\n                    <h3>No cash flow data available</h3>\r\n                  </EmptyState>\r\n                )}\r\n              </ReportCard>\r\n            </ReportSection>\r\n\r\n            {/* Sales Summary Section - For Accountant, Finance Admin, Admin, and Manager */}\r\n            {(user?.role === 'accountant' || user?.role === 'finance_manager' || user?.role === 'finance_admin' || user?.role === 'admin' || user?.role === 'super_admin' || user?.role === 'manager') && (\r\n              <ReportSection>\r\n                <ReportCard>\r\n                  <ReportHeader>\r\n                    <div>\r\n                      <h2>\r\n                        <ShoppingCart />\r\n                        Sales Summary Report\r\n                      </h2>\r\n                      <p>\r\n                        Period: {formatDate(startDate)} - {formatDate(endDate)}\r\n                        {salesSummary?.period_start && salesSummary?.period_end && (\r\n                          <>  Sales Period: {formatDate(salesSummary.period_start)} - {formatDate(salesSummary.period_end)}</>\r\n                        )}\r\n                      </p>\r\n                    </div>\r\n                  </ReportHeader>\r\n\r\n                  {salesSummary ? (\r\n                    <>\r\n                      <SummaryGrid>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <ShoppingCart size={16} />\r\n                            Total Sales\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {salesSummary.total_sales || 0}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            All sales transactions\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <DollarSign size={16} />\r\n                            Total Sales Revenue\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {formatCurrency(salesSummary.total_revenue || 0)}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            From posted sales only\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"profit\">\r\n                          <div className=\"label\">\r\n                            <TrendingUp size={16} />\r\n                            Posted Sales\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {salesSummary.posted_sales || 0}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Approved and posted\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"expense\">\r\n                          <div className=\"label\">\r\n                            <AlertCircle size={16} />\r\n                            Pending Sales\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {salesSummary.pending_sales || 0}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Awaiting approval\r\n                          </div>\r\n                        </SummaryCard>\r\n                      </SummaryGrid>\r\n                      \r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>Sales Status Breakdown</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Status</th>\r\n                              <th style={{ textAlign: 'right' }}>Count</th>\r\n                              <th style={{ textAlign: 'right' }}>Percentage</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <tr>\r\n                              <td>Posted (Approved)</td>\r\n                              <td style={{ textAlign: 'right' }}>{salesSummary.posted_sales || 0}</td>\r\n                              <td style={{ textAlign: 'right' }}>\r\n                                {salesSummary.total_sales > 0 \r\n                                  ? ((salesSummary.posted_sales || 0) / salesSummary.total_sales * 100).toFixed(1)\r\n                                  : 0}%\r\n                              </td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td>Pending (Awaiting Approval)</td>\r\n                              <td style={{ textAlign: 'right' }}>{salesSummary.pending_sales || 0}</td>\r\n                              <td style={{ textAlign: 'right' }}>\r\n                                {salesSummary.total_sales > 0 \r\n                                  ? ((salesSummary.pending_sales || 0) / salesSummary.total_sales * 100).toFixed(1)\r\n                                  : 0}%\r\n                              </td>\r\n                            </tr>\r\n                            <tr style={{ fontWeight: theme.typography.fontWeights.bold, borderTop: `2px solid ${theme.colors.border}` }}>\r\n                              <td>Total</td>\r\n                              <td style={{ textAlign: 'right' }}>{salesSummary.total_sales || 0}</td>\r\n                              <td style={{ textAlign: 'right' }}>100%</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState>\r\n                      <ShoppingCart size={48} />\r\n                      <h3>No sales data available</h3>\r\n                      <p>Sales summary is only available to Accountant, Finance Admin, Admin, and Manager roles.</p>\r\n                    </EmptyState>\r\n                  )}\r\n                </ReportCard>\r\n              </ReportSection>\r\n            )}\r\n\r\n            {/* Inventory Summary Section - For Finance Admin, Admin, and Manager */}\r\n            {(user?.role === 'finance_manager' || user?.role === 'finance_admin' || user?.role === 'admin' || user?.role === 'super_admin' || user?.role === 'manager') && (\r\n              <ReportSection>\r\n                <ReportCard>\r\n                  <ReportHeader>\r\n                    <div>\r\n                      <h2>\r\n                        <Package />\r\n                        Inventory Summary\r\n                      </h2>\r\n                      <p>Current inventory valuation and stock levels</p>\r\n                    </div>\r\n                  </ReportHeader>\r\n\r\n                  {inventorySummary ? (\r\n                    <>\r\n                      <SummaryGrid>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <Package size={16} />\r\n                            Total Items\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {inventorySummary.total_items || 0}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Active inventory items\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"expense\">\r\n                          <div className=\"label\">\r\n                            <DollarSign size={16} />\r\n                            Total Cost Value\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {formatCurrency(inventorySummary.total_cost_value || 0)}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Investment in inventory\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <TrendingUp size={16} />\r\n                            Total Selling Value\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {formatCurrency(inventorySummary.total_selling_value || 0)}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Potential revenue if all sold\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"profit\">\r\n                          <div className=\"label\">\r\n                            <TrendingUp size={16} />\r\n                            Potential Profit\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {formatCurrency(inventorySummary.potential_profit || 0)}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Profit if all inventory sold\r\n                          </div>\r\n                        </SummaryCard>\r\n                        {inventorySummary.total_quantity_in_stock !== undefined && (\r\n                          <SummaryCard>\r\n                            <div className=\"label\">\r\n                              <Package size={16} />\r\n                              Total Stock Quantity\r\n                            </div>\r\n                            <div className=\"value\">\r\n                              {inventorySummary.total_quantity_in_stock.toLocaleString()}\r\n                            </div>\r\n                            <div className=\"sub-value\">\r\n                              Total units in stock\r\n                            </div>\r\n                          </SummaryCard>\r\n                        )}\r\n                      </SummaryGrid>\r\n                      \r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>Inventory Valuation Analysis</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Metric</th>\r\n                              <th style={{ textAlign: 'right' }}>Value</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <tr>\r\n                              <td>Total Inventory Items</td>\r\n                              <td style={{ textAlign: 'right' }}>{inventorySummary.total_items || 0}</td>\r\n                            </tr>\r\n                            {inventorySummary.total_quantity_in_stock !== undefined && (\r\n                              <tr>\r\n                                <td>Total Stock Quantity</td>\r\n                                <td style={{ textAlign: 'right' }}>{inventorySummary.total_quantity_in_stock.toLocaleString()} units</td>\r\n                              </tr>\r\n                            )}\r\n                            <tr>\r\n                              <td>Total Cost Value (Investment)</td>\r\n                              <td style={{ textAlign: 'right' }}>{formatCurrency(inventorySummary.total_cost_value || 0)}</td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td>Total Selling Value (Potential Revenue)</td>\r\n                              <td style={{ textAlign: 'right' }}>{formatCurrency(inventorySummary.total_selling_value || 0)}</td>\r\n                            </tr>\r\n                            <tr style={{ fontWeight: theme.typography.fontWeights.bold, borderTop: `2px solid ${theme.colors.border}` }}>\r\n                              <td>Potential Profit</td>\r\n                              <td style={{ textAlign: 'right', color: PRIMARY_COLOR }}>\r\n                                {formatCurrency(inventorySummary.potential_profit || 0)}\r\n                              </td>\r\n                            </tr>\r\n                            {inventorySummary.total_cost_value > 0 && (\r\n                              <tr>\r\n                                <td>Profit Margin (Potential)</td>\r\n                                <td style={{ textAlign: 'right' }}>\r\n                                  {((inventorySummary.potential_profit || 0) / inventorySummary.total_cost_value * 100).toFixed(2)}%\r\n                                </td>\r\n                              </tr>\r\n                            )}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState>\r\n                      <Package size={48} />\r\n                      <h3>No inventory data available</h3>\r\n                      <p>Inventory summary is only available to Finance Admin, Admin, and Manager roles.</p>\r\n                    </EmptyState>\r\n                  )}\r\n                </ReportCard>\r\n              </ReportSection>\r\n            )}\r\n\r\n            {/* ML AI Insights Section - For Admin, Finance Admin, and Manager */}\r\n            {(user?.role === 'finance_manager' || user?.role === 'finance_admin' || user?.role === 'admin' || user?.role === 'super_admin' || user?.role === 'manager') && (\r\n              <ReportSection>\r\n                <ReportCard>\r\n                  <ReportHeader>\r\n                    <div>\r\n                      <h2>\r\n                        <Brain />\r\n                        AI-Powered Insights & Recommendations\r\n                      </h2>\r\n                      <p>\r\n                        Get intelligent forecasts and actionable advice based on ML analysis\r\n                      </p>\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: theme.spacing.sm }}>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={loadMLInsights}\r\n                        disabled={loadingMLInsights}\r\n                      >\r\n                        {loadingMLInsights ? (\r\n                          <>\r\n                            <Loader2 size={14} style={{ marginRight: theme.spacing.xs, animation: 'spin 1s linear infinite' }} />\r\n                            Loading...\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <RefreshCw size={14} style={{ marginRight: theme.spacing.xs }} />\r\n                            Generate Insights\r\n                          </>\r\n                        )}\r\n                      </Button>\r\n                    </div>\r\n                  </ReportHeader>\r\n\r\n                  {mlInsights && Object.keys(mlInsights).length > 0 ? (\r\n                    <>\r\n                      {Object.entries(mlInsights).map(([metric, insight]: [string, any]) => {\r\n                        if (!insight || !insight.forecast) return null;\r\n                        \r\n                        const trend = insight.trend_analysis;\r\n                        const advice = insight.advice || [];\r\n                        const alerts = insight.alerts || [];\r\n                        \r\n                        return (\r\n                          <div key={metric} style={{ marginBottom: theme.spacing.xl }}>\r\n                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: theme.spacing.md }}>\r\n                              <SectionTitle>\r\n                                {capitalize(metric)} Forecast & Insights\r\n                                {insight.model_type && typeof insight.model_type === 'string' && (\r\n                                  <span style={{ \r\n                                    fontSize: theme.typography.fontSizes.sm, \r\n                                    fontWeight: 400,\r\n                                    color: TEXT_COLOR_MUTED,\r\n                                    marginLeft: theme.spacing.sm\r\n                                  }}>\r\n                                    (Model: {insight.model_type.toUpperCase()})\r\n                                  </span>\r\n                                )}\r\n                              </SectionTitle>\r\n                            </div>\r\n\r\n                            {/* Trend Analysis */}\r\n                            {trend && (\r\n                              <div style={{ \r\n                                background: theme.colors.backgroundSecondary, \r\n                                padding: theme.spacing.lg, \r\n                                borderRadius: theme.borderRadius.md,\r\n                                marginBottom: theme.spacing.md\r\n                              }}>\r\n                                <div style={{ \r\n                                  fontSize: theme.typography.fontSizes.sm, \r\n                                  fontWeight: theme.typography.fontWeights.medium,\r\n                                  color: TEXT_COLOR_MUTED,\r\n                                  marginBottom: theme.spacing.sm\r\n                                }}>\r\n                                  Trend Analysis\r\n                                </div>\r\n                                <div style={{ display: 'flex', gap: theme.spacing.md, flexWrap: 'wrap' }}>\r\n                                  <TrendBadge $direction={(trend?.direction || 'stable') as any}>\r\n                                    {trend?.direction === 'increasing' ? <ArrowUpRight size={14} /> : \r\n                                     trend?.direction === 'decreasing' ? <ArrowDownRight size={14} /> : \r\n                                     <TrendingUp size={14} />}\r\n                                    {capitalize(trend?.direction || 'stable')} {trend?.percentage !== undefined && trend.percentage !== null && `(${Math.abs(trend.percentage).toFixed(1)}%)`}\r\n                                  </TrendBadge>\r\n                                  <span style={{ color: TEXT_COLOR_MUTED, fontSize: theme.typography.fontSizes.sm }}>\r\n                                    {trend?.average !== undefined && `Avg: ${formatCurrency(trend.average)}`}\r\n                                    {trend?.average !== undefined && (trend?.max !== undefined || trend?.min !== undefined) && ' | '}\r\n                                    {trend?.max !== undefined && `Max: ${formatCurrency(trend.max)}`}\r\n                                    {(trend?.max !== undefined && trend?.min !== undefined) && ' | '}\r\n                                    {trend?.min !== undefined && `Min: ${formatCurrency(trend.min)}`}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Summary */}\r\n                            {insight.summary && (\r\n                              <div style={{\r\n                                background: '#eff6ff',\r\n                                border: '1px solid #bfdbfe',\r\n                                borderRadius: theme.borderRadius.md,\r\n                                padding: theme.spacing.md,\r\n                                marginBottom: theme.spacing.md\r\n                              }}>\r\n                                <div style={{ \r\n                                  display: 'flex', \r\n                                  gap: theme.spacing.sm, \r\n                                  alignItems: 'flex-start',\r\n                                  color: '#1e40af',\r\n                                  fontSize: theme.typography.fontSizes.sm,\r\n                                  lineHeight: '1.6'\r\n                                }}>\r\n                                  <Lightbulb size={16} style={{ marginTop: '2px', flexShrink: 0 }} />\r\n                                  <div>{insight.summary || 'No summary available'}</div>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Alerts */}\r\n                            {alerts.length > 0 && (\r\n                              <div style={{ marginBottom: theme.spacing.md }}>\r\n                                <SectionTitle style={{ fontSize: theme.typography.fontSizes.md, marginBottom: theme.spacing.sm }}>\r\n                                  Alerts\r\n                                </SectionTitle>\r\n                                {alerts.map((alert: any, index: number) => {\r\n                                  if (!alert || typeof alert !== 'object') return null;\r\n                                  return (\r\n                                    <AlertCard key={index} $severity={alert.severity || 'low'}>\r\n                                      <AlertCircle className=\"alert-icon\" size={18} />\r\n                                      <div className=\"alert-message\">{alert.message || 'No message'}</div>\r\n                                    </AlertCard>\r\n                                  );\r\n                                })}\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Recommendations */}\r\n                            {advice.length > 0 && (\r\n                              <div style={{ marginBottom: theme.spacing.md }}>\r\n                                <SectionTitle style={{ fontSize: theme.typography.fontSizes.md, marginBottom: theme.spacing.sm }}>\r\n                                  Recommendations\r\n                                </SectionTitle>\r\n                                {advice.map((rec: any, index: number) => {\r\n                                  if (!rec || typeof rec !== 'object') return null;\r\n                                  const priority = rec.priority === 'high' ? 'high' : rec.priority === 'medium' ? 'medium' : 'low';\r\n                                  return (\r\n                                    <InsightCard \r\n                                      key={index} \r\n                                      $priority={priority}\r\n                                    >\r\n                                      <div className=\"insight-header\">\r\n                                        <Target size={18} />\r\n                                        <h4>{rec.title || 'Recommendation'}</h4>\r\n                                        <PriorityBadge $priority={priority}>\r\n                                          {rec.priority || 'low'}\r\n                                        </PriorityBadge>\r\n                                      </div>\r\n                                      <div className=\"insight-message\">{rec.message || 'No message available'}</div>\r\n                                      {rec.actions && Array.isArray(rec.actions) && rec.actions.length > 0 && (\r\n                                        <div className=\"insight-actions\">\r\n                                          <strong style={{ fontSize: theme.typography.fontSizes.sm, color: TEXT_COLOR_DARK }}>\r\n                                            Recommended Actions:\r\n                                          </strong>\r\n                                          <ul>\r\n                                            {rec.actions.map((action: any, actionIndex: number) => (\r\n                                              <li key={actionIndex}>{typeof action === 'string' ? action : 'Action item'}</li>\r\n                                            ))}\r\n                                          </ul>\r\n                                        </div>\r\n                                      )}\r\n                                    </InsightCard>\r\n                                  );\r\n                                })}\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Forecast Preview */}\r\n                            {insight.forecast && Array.isArray(insight.forecast) && insight.forecast.length > 0 && (\r\n                              <div>\r\n                                <SectionTitle style={{ fontSize: theme.typography.fontSizes.md, marginBottom: theme.spacing.sm }}>\r\n                                  Forecast Preview ({insight.forecast.length} periods)\r\n                                </SectionTitle>\r\n                                <CategoryTable>\r\n                                  <thead>\r\n                                    <tr>\r\n                                      <th>Period</th>\r\n                                      <th style={{ textAlign: 'right' }}>Forecasted Value</th>\r\n                                    </tr>\r\n                                  </thead>\r\n                                  <tbody>\r\n                                    {Array.isArray(insight.forecast) && insight.forecast.slice(0, 6).map((point: any, index: number) => {\r\n                                      if (!point || typeof point !== 'object') return null;\r\n                                      const period = point.period || (point.date ? formatDate(point.date) : `Period ${index + 1}`);\r\n                                      const value = point.forecasted_value !== undefined ? point.forecasted_value : (point.value !== undefined ? point.value : 0);\r\n                                      return (\r\n                                        <tr key={index}>\r\n                                          <td>{period}</td>\r\n                                          <td style={{ textAlign: 'right', fontWeight: theme.typography.fontWeights.bold }}>\r\n                                            {formatCurrency(value)}\r\n                                          </td>\r\n                                        </tr>\r\n                                      );\r\n                                    })}\r\n                                    {Array.isArray(insight.forecast) && insight.forecast.length > 6 && (\r\n                                      <tr>\r\n                                        <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED, fontStyle: 'italic' }}>\r\n                                          ... and {insight.forecast.length - 6} more periods\r\n                                        </td>\r\n                                      </tr>\r\n                                    )}\r\n                                  </tbody>\r\n                                </CategoryTable>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState>\r\n                      <Brain size={48} />\r\n                      <h3>No ML insights available</h3>\r\n                      <p>Click \"Generate Insights\" to get AI-powered forecasts and recommendations</p>\r\n                      <div style={{ marginTop: theme.spacing.lg, display: 'flex', gap: theme.spacing.sm, flexWrap: 'wrap', justifyContent: 'center' }}>\r\n                        {(['expense', 'revenue', 'inventory'] as const).map((metric) => (\r\n                          <div key={metric} style={{ marginBottom: theme.spacing.sm }}>\r\n                            <QuickForecastButton\r\n                              variant=\"outline\"\r\n                              onClick={() => {\r\n                                const modelMap: Record<string, string[]> = {\r\n                                  expense: ['arima', 'linear_regression'],\r\n                                  revenue: ['xgboost', 'prophet'],\r\n                                  inventory: ['sarima', 'xgboost']\r\n                                };\r\n                                const modelType = modelMap[metric]?.[0] || 'arima';\r\n                                generateMLForecast(metric, modelType);\r\n                              }}\r\n                              disabled={generatingForecast === `${metric}-arima` || generatingForecast === `${metric}-xgboost` || generatingForecast === `${metric}-sarima` || generatingForecast === `${metric}-linear_regression` || generatingForecast === `${metric}-prophet`}\r\n                            >\r\n                              {generatingForecast?.startsWith(metric) ? (\r\n                                <>\r\n                                  <Loader2 size={14} style={{ marginRight: theme.spacing.xs, animation: 'spin 1s linear infinite' }} />\r\n                                  Generating...\r\n                                </>\r\n                              ) : (\r\n                                <>\r\n                                  <Zap size={14} style={{ marginRight: theme.spacing.xs }} />\r\n                                  Quick {capitalize(metric)} Forecast\r\n                                </>\r\n                              )}\r\n                            </QuickForecastButton>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </EmptyState>\r\n                  )}\r\n                </ReportCard>\r\n              </ReportSection>\r\n            )}\r\n\r\n            {/* Forecast Report Section - For Admin, Finance Admin, and Manager */}\r\n            {(user?.role === 'finance_manager' || user?.role === 'finance_admin' || user?.role === 'admin' || user?.role === 'super_admin' || user?.role === 'manager') && (\r\n              <ReportSection>\r\n                <ReportCard>\r\n                  <ReportHeader>\r\n                    <div>\r\n                      <h2>\r\n                        <LineChart />\r\n                        Forecast Report\r\n                      </h2>\r\n                      <p>\r\n                        View and analyze all financial forecasts\r\n                      </p>\r\n                    </div>\r\n                  </ReportHeader>\r\n\r\n                  {forecasts && forecasts.length > 0 ? (\r\n                    <>\r\n                      <SummaryGrid>\r\n                        <SummaryCard>\r\n                          <div className=\"label\">\r\n                            <LineChart size={16} />\r\n                            Total Forecasts\r\n                          </div>\r\n                          <div className=\"value\">{forecasts.length}</div>\r\n                          <div className=\"sub-value\">\r\n                            Active forecasts\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <TrendingUp size={16} />\r\n                            Revenue Forecasts\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {forecasts.filter(f => f.forecast_type === 'revenue').length}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Revenue forecasting models\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"expense\">\r\n                          <div className=\"label\">\r\n                            <ArrowDownRight size={16} />\r\n                            Expense Forecasts\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {forecasts.filter(f => f.forecast_type === 'expense').length}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Expense forecasting models\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"profit\">\r\n                          <div className=\"label\">\r\n                            <BarChart3 size={16} />\r\n                            AI Models\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {forecasts.filter(f => \r\n                              f.method === 'arima' || \r\n                              f.method === 'prophet' || \r\n                              f.method === 'xgboost' || \r\n                              f.method === 'lstm' || \r\n                              f.method === 'linear_regression' || \r\n                              f.method === 'sarima'\r\n                            ).length}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Machine learning forecasts\r\n                          </div>\r\n                        </SummaryCard>\r\n                      </SummaryGrid>\r\n\r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>All Forecasts</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Forecast Name</th>\r\n                              <th>Type</th>\r\n                              <th>Method</th>\r\n                              <th>Period</th>\r\n                              <th style={{ textAlign: 'right' }}>Total Forecasted</th>\r\n                              <th>Data Points</th>\r\n                              <th>Created</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {forecasts.map((forecast) => {\r\n                              const forecastData = forecast.forecast_data || [];\r\n                              const totalForecasted = forecastData.reduce((sum, point) => sum + (point.forecasted_value || 0), 0);\r\n                              const isAIModel = forecast.method === 'arima' || \r\n                                               forecast.method === 'prophet' || \r\n                                               forecast.method === 'xgboost' || \r\n                                               forecast.method === 'lstm' || \r\n                                               forecast.method === 'linear_regression' || \r\n                                               forecast.method === 'sarima';\r\n                              \r\n                              return (\r\n                                <tr key={forecast.id}>\r\n                                  <td>\r\n                                    <strong>{forecast.name}</strong>\r\n                                    {forecast.description && (\r\n                                      <div style={{ fontSize: theme.typography.fontSizes.xs, color: TEXT_COLOR_MUTED, marginTop: theme.spacing.xs }}>\r\n                                        {forecast.description}\r\n                                      </div>\r\n                                    )}\r\n                                  </td>\r\n                                  <td>\r\n                                    <span style={{ textTransform: 'capitalize' }}>\r\n                                      {forecast.forecast_type}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td>\r\n                                    <span style={{ textTransform: 'capitalize' }}>\r\n                                      {forecast.method.replace(/_/g, ' ')}\r\n                                      {isAIModel && ' (AI)'}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td>\r\n                                    {formatDate(forecast.start_date)} - {formatDate(forecast.end_date)}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right', fontWeight: theme.typography.fontWeights.bold }}>\r\n                                    {formatCurrency(totalForecasted)}\r\n                                  </td>\r\n                                  <td>{forecastData.length}</td>\r\n                                  <td>{formatDate(forecast.created_at)}</td>\r\n                                </tr>\r\n                              );\r\n                            })}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n\r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>Forecast Summary by Type</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Forecast Type</th>\r\n                              <th style={{ textAlign: 'right' }}>Count</th>\r\n                              <th style={{ textAlign: 'right' }}>Total Forecasted Value</th>\r\n                              <th style={{ textAlign: 'right' }}>Average per Forecast</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {['revenue', 'expense', 'profit', 'inventory'].map((type) => {\r\n                              const typeForecasts = forecasts.filter(f => f.forecast_type === type);\r\n                              if (typeForecasts.length === 0) return null;\r\n                              \r\n                              const totalValue = typeForecasts.reduce((sum, f) => {\r\n                                const data = f.forecast_data || [];\r\n                                return sum + data.reduce((s, p) => s + (p.forecasted_value || 0), 0);\r\n                              }, 0);\r\n                              \r\n                              return (\r\n                                <tr key={type}>\r\n                                  <td style={{ textTransform: 'capitalize', fontWeight: theme.typography.fontWeights.medium }}>\r\n                                    {type}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right' }}>{typeForecasts.length}</td>\r\n                                  <td style={{ textAlign: 'right', fontWeight: theme.typography.fontWeights.bold }}>\r\n                                    {formatCurrency(totalValue)}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right' }}>\r\n                                    {formatCurrency(totalValue / typeForecasts.length)}\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            }).filter(Boolean)}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState>\r\n                      <LineChart size={48} />\r\n                      <h3>No forecasts available</h3>\r\n                      <p>Forecast reports are only available to Finance Admin, Admin, and Manager roles. Create forecasts to see them here.</p>\r\n                    </EmptyState>\r\n                  )}\r\n                </ReportCard>\r\n              </ReportSection>\r\n            )}\r\n          </>\r\n        )}\r\n      </PageContainer>\r\n    </Layout>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
frontend/.next/dev/static/chunks/_6c74c127._.js:                    __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$api$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].getFinancialSummary().catch({
frontend/.next/dev/static/chunks/_6c74c127._.js.map:    {"offset": {"line": 7200, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASHROCK/Desktop/projectai/frontend/app/transaction/list/ClientPage.tsx"],"sourcesContent":["'use client';\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Button } from '@/components/ui/button';\r\nimport Link from 'next/link';\r\nimport {\r\n  AlertCircle, ArrowUpRight, ArrowDownRight,\r\n  Search, TrendingUp, ShoppingCart, Package\r\n} from 'lucide-react';\r\nimport Layout from '@/components/layout';\r\nimport apiClient from '@/lib/api';\r\nimport { toast } from 'sonner';\r\nimport { formatCurrency, formatDate } from '@/lib/utils';\r\nimport { theme } from '@/components/common/theme';\r\nimport { useAuth } from '@/lib/rbac/auth-context';\r\nimport useUserStore from '@/store/userStore';\r\n\r\nconst PRIMARY_COLOR = theme.colors.primary || '#00AA00';\r\nconst TEXT_COLOR_DARK = '#111827';\r\nconst TEXT_COLOR_MUTED = theme.colors.textSecondary || '#666';\r\n\r\nconst CardShadow = `\r\n  0 2px 4px -1px rgba(0, 0, 0, 0.06),\r\n  0 1px 2px -1px rgba(0, 0, 0, 0.03),\r\n  inset 0 0 0 1px rgba(0, 0, 0, 0.02)\r\n`;\r\nconst CardShadowHover = `\r\n  0 8px 12px -2px rgba(0, 0, 0, 0.08),\r\n  0 4px 6px -2px rgba(0, 0, 0, 0.04),\r\n  inset 0 0 0 1px rgba(0, 0, 0, 0.03)\r\n`;\r\n\r\nconst PageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n`;\r\n\r\nconst ContentContainer = styled.div`\r\n  flex: 1;\r\n  width: 100%;\r\n  max-width: 980px;\r\n  margin-left: auto;\r\n  margin-right: 0;\r\n  padding: ${theme.spacing.sm} ${theme.spacing.sm} ${theme.spacing.sm};\r\n`;\r\n\r\nconst HeaderContainer = styled.div`\r\n  background: linear-gradient(135deg, ${PRIMARY_COLOR} 0%, #008800 100%);\r\n  color: #ffffff;\r\n  padding: ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  border-radius: ${theme.borderRadius.md};\r\n  border-bottom: 3px solid rgba(255, 255, 255, 0.1);\r\n  \r\n  h1 {\r\n    font-size: clamp(24px, 3vw, 36px);\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    margin: 0 0 ${theme.spacing.xs};\r\n    color: #ffffff;\r\n  }\r\n  \r\n  p {\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n    opacity: 0.9;\r\n    margin: 0;\r\n    color: rgba(255, 255, 255, 0.95);\r\n  }\r\n`;\r\n\r\nconst ErrorBanner = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: ${theme.spacing.md};\r\n  padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  background-color: rgba(239, 68, 68, 0.1);\r\n  border: 1px solid rgba(239, 68, 68, 0.3);\r\n  border-radius: ${theme.borderRadius.md};\r\n  color: #dc2626;\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n\r\n  svg {\r\n    flex-shrink: 0;\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n`;\r\n\r\nconst SummaryGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: ${theme.spacing.md};\r\n  margin-bottom: ${theme.spacing.lg};\r\n`;\r\n\r\nconst BottomSummaryGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: ${theme.spacing.md};\r\n  margin-bottom: ${theme.spacing.lg};\r\n\r\n  @media (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;\r\n\r\nconst SummaryCard = styled.div<{ $type?: 'revenue' | 'expense' | 'net' | 'total' | 'inventory' }>`\r\n  background: ${theme.colors.background};\r\n  border: 1px solid ${theme.colors.border};\r\n  padding: ${theme.spacing.lg};\r\n  border-radius: ${theme.borderRadius.md};\r\n  box-shadow: ${CardShadow};\r\n  transition: transform ${theme.transitions.default}, box-shadow ${theme.transitions.default};\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n\r\n  .label {\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    color: ${TEXT_COLOR_MUTED};\r\n    margin-bottom: ${theme.spacing.sm};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n  }\r\n\r\n  .value {\r\n    font-size: clamp(20px, 3vw, 24px);\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    color: ${props => {\r\n      if (props.$type === 'revenue') return '#16a34a';\r\n      if (props.$type === 'expense') return '#dc2626';\r\n      if (props.$type === 'net') return TEXT_COLOR_DARK;\r\n      return TEXT_COLOR_DARK;\r\n    }};\r\n  }\r\n`;\r\n\r\nconst FiltersContainer = styled.div`\r\n  background: ${theme.colors.background};\r\n  border-radius: ${theme.borderRadius.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  box-shadow: ${CardShadow};\r\n  transition: box-shadow ${theme.transitions.default};\r\n\r\n  &:hover {\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n`;\r\n\r\nconst FiltersGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr 1fr;\r\n  gap: ${theme.spacing.sm};\r\n  \r\n  @media (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n    gap: ${theme.spacing.sm};\r\n  }\r\n`;\r\n\r\nconst SearchContainer = styled.div`\r\n  position: relative;\r\n  grid-column: span 1;\r\n\r\n  svg {\r\n    position: absolute;\r\n    left: ${theme.spacing.md};\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    width: 18px;\r\n    height: 18px;\r\n    color: ${TEXT_COLOR_MUTED};\r\n    pointer-events: none;\r\n  }\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  width: 70%;\r\n  padding: ${theme.spacing.sm} ${theme.spacing.md} ${theme.spacing.sm} 40px;\r\n  border: 1px solid ${theme.colors.border};\r\n  border-radius: ${theme.borderRadius.md};\r\n  background: ${theme.colors.background};\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n  color: ${TEXT_COLOR_DARK};\r\n  transition: all ${theme.transitions.default};\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: ${PRIMARY_COLOR};\r\n    box-shadow: 0 0 0 3px ${PRIMARY_COLOR}15;\r\n  }\r\n\r\n  &::placeholder {\r\n    color: ${TEXT_COLOR_MUTED};\r\n    opacity: 0.6;\r\n  }\r\n`;\r\n\r\nconst Select = styled.select`\r\n  width: 100%;\r\n  padding: ${theme.spacing.sm} ${theme.spacing.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  border-radius: ${theme.borderRadius.md};\r\n  background: ${theme.colors.background};\r\n  color: ${TEXT_COLOR_DARK};\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n  cursor: pointer;\r\n  transition: all ${theme.transitions.default};\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: ${PRIMARY_COLOR};\r\n    box-shadow: 0 0 0 3px ${PRIMARY_COLOR}15;\r\n  }\r\n`;\r\n\r\nconst TableContainer = styled.div`\r\n  background: ${theme.colors.background};\r\n  border-radius: ${theme.borderRadius.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  box-shadow: ${CardShadow};\r\n  overflow: hidden;\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  padding: ${theme.spacing.xxl};\r\n  text-align: center;\r\n  color: ${TEXT_COLOR_MUTED};\r\n\r\n  svg {\r\n    width: 48px;\r\n    height: 48px;\r\n    margin: 0 auto ${theme.spacing.md};\r\n    opacity: 0.5;\r\n  }\r\n\r\n  h3 {\r\n    font-size: ${theme.typography.fontSizes.lg};\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    margin: 0 0 ${theme.spacing.sm};\r\n    color: ${TEXT_COLOR_DARK};\r\n  }\r\n\r\n  p {\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst Table = styled.table`\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n`;\r\n\r\nconst TableHeader = styled.thead`\r\n  background: ${theme.colors.backgroundSecondary};\r\n  border-bottom: 2px solid ${theme.colors.border};\r\n  \r\n  th {\r\n    text-align: left;\r\n    padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n    color: ${TEXT_COLOR_MUTED};\r\n    font-size: ${theme.typography.fontSizes.xs};\r\n    text-transform: uppercase;\r\n    letter-spacing: 0.05em;\r\n  }\r\n`;\r\n\r\nconst TableBody = styled.tbody`\r\n  tr {\r\n    border-bottom: 1px solid ${theme.colors.border};\r\n    transition: background-color ${theme.transitions.default};\r\n    \r\n    &:hover {\r\n      background-color: ${theme.colors.backgroundSecondary};\r\n    }\r\n    \r\n    &:last-child {\r\n      border-bottom: none;\r\n    }\r\n    \r\n    td {\r\n      padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n      color: ${TEXT_COLOR_DARK};\r\n      font-size: ${theme.typography.fontSizes.sm};\r\n    }\r\n  }\r\n`;\r\n\r\nconst TypeBadge = styled.span<{ $type: 'revenue' | 'expense' | 'sale' | 'inventory' }>`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: ${theme.spacing.xs};\r\n  padding: ${theme.spacing.xs} ${theme.spacing.sm};\r\n  border-radius: ${theme.borderRadius.sm};\r\n  font-size: ${theme.typography.fontSizes.xs};\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  background: ${props => {\r\n    if (props.$type === 'revenue') return 'rgba(16, 185, 129, 0.12)';\r\n    if (props.$type === 'expense') return 'rgba(239, 68, 68, 0.12)';\r\n    if (props.$type === 'sale') return 'rgba(59, 130, 246, 0.12)';\r\n    if (props.$type === 'inventory') return 'rgba(168, 85, 247, 0.12)';\r\n    return 'rgba(107, 114, 128, 0.12)';\r\n  }};\r\n  color: ${props => {\r\n    if (props.$type === 'revenue') return '#065f46';\r\n    if (props.$type === 'expense') return '#991b1b';\r\n    if (props.$type === 'sale') return '#1e40af';\r\n    if (props.$type === 'inventory') return '#6b21a8';\r\n    return '#374151';\r\n  }};\r\n`;\r\n\r\nconst AmountCell = styled.td<{ $isExpense: boolean }>`\r\n  font-weight: ${theme.typography.fontWeights.bold};\r\n  color: ${props => props.$isExpense ? '#dc2626' : '#16a34a'} !important;\r\n`;\r\n\r\nconst CategoryBadge = styled.span`\r\n  padding: ${theme.spacing.xs} ${theme.spacing.sm};\r\n  border-radius: ${theme.borderRadius.sm};\r\n  font-size: ${theme.typography.fontSizes.xs};\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  background: rgba(59, 130, 246, 0.12);\r\n  color: #1e40af;\r\n`;\r\n\r\nconst StatusBadge = styled.span<{ $approved: boolean; $status?: string }>`\r\n  padding: ${theme.spacing.xs} ${theme.spacing.sm};\r\n  border-radius: ${theme.borderRadius.sm};\r\n  font-size: ${theme.typography.fontSizes.xs};\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  background: ${props => {\r\n    if (props.$status === 'posted') return 'rgba(16, 185, 129, 0.12)';\r\n    if (props.$status === 'cancelled') return 'rgba(239, 68, 68, 0.12)';\r\n    if (props.$approved) return 'rgba(16, 185, 129, 0.12)';\r\n    return 'rgba(251, 191, 36, 0.12)';\r\n  }};\r\n  color: ${props => {\r\n    if (props.$status === 'posted') return '#065f46';\r\n    if (props.$status === 'cancelled') return '#991b1b';\r\n    if (props.$approved) return '#065f46';\r\n    return '#92400e';\r\n  }};\r\n  margin-right: ${theme.spacing.sm};\r\n`;\r\n\r\nconst RecurringBadge = styled.span`\r\n  padding: ${theme.spacing.xs} ${theme.spacing.sm};\r\n  border-radius: ${theme.borderRadius.sm};\r\n  font-size: ${theme.typography.fontSizes.xs};\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  background: rgba(59, 130, 246, 0.12);\r\n  color: #1e40af;\r\n`;\r\n\r\nconst ActionButtons = styled.div`\r\n  display: flex;\r\n  gap: ${theme.spacing.sm};\r\n  align-items: center;\r\n`;\r\n\r\nconst LoadingContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 60vh;\r\n  gap: ${theme.spacing.md};\r\n  \r\n  p {\r\n    color: ${TEXT_COLOR_MUTED};\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst Spinner = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 3px solid ${theme.colors.border};\r\n  border-top-color: ${PRIMARY_COLOR};\r\n  border-radius: 50%;\r\n  animation: spin 0.8s linear infinite;\r\n  \r\n  @keyframes spin {\r\n    to { transform: rotate(360deg); }\r\n  }\r\n`;\r\n\r\nconst TransactionTitle = styled.div`\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  color: ${TEXT_COLOR_DARK};\r\n`;\r\n\r\ninterface Transaction {\r\n  id: string;\r\n  transaction_type: 'revenue' | 'expense' | 'sale' | 'inventory';\r\n  title: string;\r\n  description?: string | null;\r\n  category: string;\r\n  amount: number;\r\n  date: string;\r\n  is_approved: boolean;\r\n  is_recurring?: boolean;\r\n  recurring_frequency?: string | null;\r\n  source?: string | null;\r\n  vendor?: string | null;\r\n  created_at: string;\r\n  status?: 'pending' | 'posted' | 'cancelled' | 'active' | 'inactive';\r\n  item_name?: string;\r\n  quantity_sold?: number;\r\n  quantity?: number;\r\n  receipt_number?: string;\r\n  customer_name?: string;\r\n  sku?: string;\r\n  buying_price?: number;\r\n  total_cost?: number;\r\n  created_by_id?: number;\r\n  sold_by_id?: number;\r\n}\r\n\r\ntype TransactionItem = Partial<Transaction> & {\r\n  id: string;\r\n  transaction_type: 'revenue' | 'expense' | 'sale' | 'inventory';\r\n  title: string;\r\n  category?: string;\r\n  amount: number;\r\n  date?: string;\r\n  is_approved?: boolean;\r\n  created_at?: string;\r\n  status?: string;\r\n  createdById?: number;\r\n  soldById?: number;\r\n  quantity?: number;\r\n  item_name?: string;\r\n};\r\n\r\nconst toNumber = (value: unknown): number | undefined => {\r\n  if (typeof value === 'number') return value;\r\n  if (typeof value === 'string') {\r\n    const parsed = parseInt(value, 10);\r\n    return Number.isNaN(parsed) ? undefined : parsed;\r\n  }\r\n  return undefined;\r\n};\r\n\r\nconst toString = (value: unknown): string | undefined =>\r\n  typeof value === 'string' ? value : undefined;\r\n\r\nconst toRecord = (value: unknown): Record<string, unknown> =>\r\n  value && typeof value === 'object' ? (value as Record<string, unknown>) : {};\r\n\r\ninterface TransactionSummary {\r\n  totalRevenue: number;\r\n  totalSales: number;\r\n  totalExpenses: number;\r\n  totalInventory: number;\r\n  netAmount: number;\r\n  totalTransactions: number;\r\n}\r\n\r\nexport default function TransactionListPage() {\r\n  const { user } = useAuth();\r\n  const storeUser = useUserStore((state) => state.user);\r\n  const [transactions, setTransactions] = useState<TransactionItem[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [typeFilter, setTypeFilter] = useState<string>('all');\r\n  const [statusFilter, setStatusFilter] = useState<string>('all');\r\n  const [summary, setSummary] = useState<TransactionSummary>({\r\n    totalRevenue: 0,\r\n    totalSales: 0,\r\n    totalExpenses: 0,\r\n    totalInventory: 0,\r\n    netAmount: 0,\r\n    totalTransactions: 0,\r\n  });\r\n  const [loadingSummary, setLoadingSummary] = useState(false);\r\n  // Load summary data from backend\r\n  const loadSummary = useCallback(async () => {\r\n    if (!user) return;\r\n\r\n    setLoadingSummary(true);\r\n    try {\r\n      const userRole = user?.role?.toLowerCase();\r\n      const canViewFinancials = userRole === 'admin' || userRole === 'super_admin' || \r\n                                 userRole === 'finance_admin' || userRole === 'finance_manager' ||\r\n                                 userRole === 'manager' || userRole === 'accountant';\r\n      \r\n      if (!canViewFinancials) {\r\n        setLoadingSummary(false);\r\n        return;\r\n      }\r\n\r\n      // Fetch all summary data from backend in parallel\r\n      const [financialSummaryResult, salesSummaryResult, inventorySummaryResult] = await Promise.allSettled([\r\n        apiClient.getFinancialSummary().catch(() => ({ data: null })),\r\n        apiClient.getSalesSummary().catch(() => ({ data: null })),\r\n        apiClient.getInventorySummary().catch(() => ({ data: null })),\r\n      ]);\r\n\r\n      // Extract financial summary\r\n      let totalRevenue = 0;\r\n      let totalExpenses = 0;\r\n      if (financialSummaryResult.status === 'fulfilled') {\r\n        const financialData = financialSummaryResult.value?.data;\r\n        if (financialData?.financials) {\r\n          totalRevenue = Number(financialData.financials.total_revenue || 0);\r\n          totalExpenses = Number(financialData.financials.total_expenses || 0);\r\n        }\r\n      }\r\n\r\n      // Extract sales summary\r\n      let totalSales = 0;\r\n      if (salesSummaryResult.status === 'fulfilled') {\r\n        const salesData = salesSummaryResult.value?.data;\r\n        if (salesData && typeof salesData === 'object' && 'total_revenue' in salesData) {\r\n          totalSales = Number((salesData as { total_revenue?: number }).total_revenue || 0);\r\n        }\r\n      }\r\n\r\n      // Extract inventory summary\r\n      let totalInventory = 0;\r\n      if (inventorySummaryResult.status === 'fulfilled') {\r\n        const inventoryData = inventorySummaryResult.value?.data;\r\n        if (inventoryData && typeof inventoryData === 'object' && 'total_cost_value' in inventoryData) {\r\n          totalInventory = Number((inventoryData as { total_cost_value?: number }).total_cost_value || 0);\r\n        }\r\n      }\r\n\r\n      const netAmount = totalRevenue + totalSales - totalExpenses - totalInventory;\r\n\r\n      // Update summary - transaction count will be updated separately\r\n      setSummary(prev => ({\r\n        ...prev,\r\n        totalRevenue,\r\n        totalSales,\r\n        totalExpenses,\r\n        totalInventory,\r\n        netAmount,\r\n      }));\r\n    } catch (err) {\r\n      console.warn('Failed to load summary from backend:', err);\r\n      // Don't show error, just use local calculations as fallback\r\n    } finally {\r\n      setLoadingSummary(false);\r\n    }\r\n  }, [user, storeUser?.managerId]);\r\n\r\n  const loadTransactions = useCallback(async () => {\r\n    if (!user) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const userRole = user?.role?.toLowerCase();\r\n      const isFinanceAdmin = userRole === 'finance_manager' || userRole === 'finance_admin';\r\n      const isAccountant = userRole === 'accountant';\r\n      const isEmployee = userRole === 'employee';\r\n      const isAdmin = userRole === 'admin' || userRole === 'super_admin';\r\n\r\n      // Get accessible user IDs based on role\r\n      // Admin/Super Admin: See all (no filtering)\r\n      // Finance Admin: See their own + subordinates (ONLY accountants and employees, NOT other Finance Admins)\r\n      // Accountant: See their own + their Finance Admin's team (ONLY accountants and employees, NOT other Finance Admins)\r\n      // Employee: See only their own\r\n      let userIds: number[] | null = null;\r\n      \r\n      if (isAdmin) {\r\n        // Admin can see all - no filtering needed\r\n        userIds = null;\r\n      } else if (isFinanceAdmin && user?.id) {\r\n        try {\r\n          // Finance Admin: Get their own subordinates ONLY (accountants and employees)\r\n          // Exclude other Finance Admins, Managers, and their subordinates\r\n          const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n          const subordinatesRes = await apiClient.getSubordinates(userId);\r\n          const subordinates = subordinatesRes?.data || [];\r\n          \r\n          // Filter subordinates to ONLY include accountants and employees (exclude other Finance Admins/Managers)\r\n          const validSubordinateIds = subordinates\r\n            .map((sub: { id?: number | string; role?: string }) => {\r\n              const subId = typeof sub.id === 'string' ? parseInt(sub.id, 10) : Number(sub.id);\r\n              const subRole = (sub.role || '').toLowerCase();\r\n              \r\n              // Only include accountants and employees, exclude Finance Admins and Managers\r\n              if (!Number.isNaN(subId) && (subRole === 'accountant' || subRole === 'employee')) {\r\n                return subId;\r\n              }\r\n              return undefined;\r\n            })\r\n            .filter((id): id is number => id !== undefined);\r\n          \r\n          // Include the finance admin themselves + their valid subordinates only\r\n          userIds = [userId, ...validSubordinateIds];\r\n          \r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.log('Finance Admin - Accessible User IDs for Transactions:', {\r\n              userId: userId,\r\n              subordinatesCount: subordinates.length,\r\n              validSubordinateIds: validSubordinateIds,\r\n              userIds: userIds\r\n            });\r\n          }\r\n        } catch (err) {\r\n          console.warn('Failed to fetch subordinates, using only finance admin ID:', err);\r\n          const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n          userIds = [userId];\r\n        }\r\n      } else if (isAccountant && user?.id) {\r\n        // Accountant: Get their Finance Admin's (manager's) subordinates\r\n        const accountantId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n        let managerId: number | null = null;\r\n        \r\n        // Try to get managerId from storeUser first\r\n        const managerIdStr = storeUser?.managerId;\r\n        if (managerIdStr) {\r\n          managerId = typeof managerIdStr === 'string' ? parseInt(managerIdStr, 10) : Number(managerIdStr);\r\n        } else {\r\n          // If not in storeUser, try to fetch current user profile from API\r\n          try {\r\n            const currentUserRes = await apiClient.getCurrentUser();\r\n            const currentUserData = currentUserRes?.data;\r\n            if (currentUserData?.manager_id !== undefined && currentUserData?.manager_id !== null) {\r\n              managerId = typeof currentUserData.manager_id === 'string' \r\n                ? parseInt(currentUserData.manager_id, 10) \r\n                : Number(currentUserData.manager_id);\r\n            }\r\n          } catch (err) {\r\n            console.warn('Failed to fetch current user profile for manager_id:', err);\r\n          }\r\n        }\r\n        \r\n        if (managerId) {\r\n          try {\r\n            const financeAdminId = managerId;\r\n            \r\n            // Get all subordinates of the Finance Admin\r\n            const subordinatesRes = await apiClient.getSubordinates(financeAdminId);\r\n            const subordinates = subordinatesRes?.data || [];\r\n            \r\n            // Filter subordinates to ONLY include accountants and employees (exclude other Finance Admins/Managers)\r\n            const validSubordinateIds = subordinates\r\n              .map((sub: { id?: number | string; role?: string }) => {\r\n                const subId = typeof sub.id === 'string' ? parseInt(sub.id, 10) : Number(sub.id);\r\n                const subRole = (sub.role || '').toLowerCase();\r\n                \r\n                // Only include accountants and employees, exclude Finance Admins and Managers\r\n                if (!Number.isNaN(subId) && (subRole === 'accountant' || subRole === 'employee')) {\r\n                  return subId;\r\n                }\r\n                return undefined;\r\n              })\r\n              .filter((id): id is number => id !== undefined);\r\n            \r\n            // Include the Finance Admin themselves and their valid subordinates only\r\n            userIds = [financeAdminId, ...validSubordinateIds];\r\n            \r\n            if (process.env.NODE_ENV === 'development') {\r\n              console.log('Accountant - Accessible User IDs for Transactions (from Finance Admin):', {\r\n                accountantId: accountantId,\r\n                financeAdminId: financeAdminId,\r\n                subordinatesCount: subordinates.length,\r\n                validSubordinateIds: validSubordinateIds,\r\n                userIds: userIds\r\n              });\r\n            }\r\n          } catch (err) {\r\n            console.error('Failed to fetch Finance Admin subordinates for accountant:', err);\r\n            // Fallback: if we can't get subordinates, at least try to show data from the Finance Admin\r\n            userIds = [managerId];\r\n          }\r\n        } else {\r\n          // Accountant has no manager assigned - fallback to just themselves\r\n          console.warn('Accountant has no manager (Finance Admin) assigned - using only accountant ID');\r\n          userIds = [accountantId];\r\n        }\r\n      } else if (isEmployee && user?.id) {\r\n        // Employee: Can only see their own data\r\n        const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n        userIds = [userId];\r\n      }\r\n\r\n      // Fetch revenues, expenses, sales, and inventory items\r\n      // Backend should already filter for most roles, but we'll apply additional filtering for Finance Admin\r\n      const [transactionsResponse, salesResponse, inventoryResponse] = await Promise.all([\r\n        apiClient.getTransactions().catch(() => ({ data: [] })),\r\n        apiClient.getSales({ limit: 1000 }).catch(() => ({ data: [] })),\r\n        apiClient.getInventoryItems({ limit: 1000 }).catch(() => ({ data: [] })),\r\n      ]);\r\n\r\n      let transactions = transactionsResponse.data || [];\r\n      \r\n      // Transform sales to transaction format\r\n      const salesDataRaw = salesResponse?.data || [];\r\n      const salesArray = Array.isArray(salesDataRaw) ? salesDataRaw : (toRecord(salesDataRaw).data as unknown[]) || [];\r\n      let salesTransactions = salesArray.map((saleRaw): TransactionItem => {\r\n        const sale = toRecord(saleRaw);\r\n        const saleId = toNumber(sale.id) ?? 0;\r\n        const soldById = toNumber(sale.sold_by_id ?? sale.soldBy ?? sale.sold_by);\r\n        const createdById = toNumber(sale.created_by_id ?? sale.createdBy ?? sale.created_by);\r\n        return {\r\n          id: `sale-${saleId}`,\r\n          transaction_type: 'sale',\r\n          title: toString(sale.item_name) || `Sale #${saleId}`,\r\n          description: toString(sale.customer_name)\r\n            ? `Customer: ${sale.customer_name as string}`\r\n            : toString(sale.notes) || `Receipt: ${toString(sale.receipt_number) || `#${saleId}`}`,\r\n          category: toRecord(sale.item).category as string || 'Sales',\r\n          amount: typeof sale.total_sale === 'number' ? sale.total_sale : 0,\r\n          date: toString(sale.created_at) || toString(sale.date),\r\n          is_approved: sale.status === 'posted',\r\n          created_at: toString(sale.created_at),\r\n          status: (toString(sale.status) as Transaction['status']) || 'pending',\r\n          item_name: toString(sale.item_name),\r\n          quantity_sold: toNumber(sale.quantity_sold),\r\n          receipt_number: toString(sale.receipt_number),\r\n          customer_name: toString(sale.customer_name),\r\n          soldById,\r\n          createdById,\r\n        };\r\n      });\r\n\r\n      // Transform inventory items to transaction format (treating creation as expense)\r\n      const inventoryRaw = inventoryResponse?.data || [];\r\n      const inventoryArray = Array.isArray(inventoryRaw) ? inventoryRaw : (toRecord(inventoryRaw).data as unknown[]) || [];\r\n      let inventoryTransactions = inventoryArray.map((itemRaw): TransactionItem => {\r\n        const item = toRecord(itemRaw);\r\n        const itemId = toNumber(item.id) ?? 0;\r\n        const quantity = toNumber(item.quantity) ?? 0;\r\n        const totalCost =\r\n          (typeof item.total_cost === 'number' ? item.total_cost : typeof item.buying_price === 'number' ? item.buying_price : 0) *\r\n          quantity;\r\n        const createdById = toNumber(item.created_by_id ?? item.createdBy ?? item.created_by);\r\n        return {\r\n          id: `inventory-${itemId}`,\r\n          transaction_type: 'inventory',\r\n          title: toString(item.item_name) || `Inventory Item #${itemId}`,\r\n          description: toString(item.description) || `SKU: ${toString(item.sku) || 'N/A'}`,\r\n          category: toString(item.category) || 'Inventory',\r\n          amount: totalCost,\r\n          date: toString(item.created_at) || toString(item.date),\r\n          is_approved: item.is_active !== false,\r\n          created_at: toString(item.created_at),\r\n          status: (item.is_active === false ? 'inactive' : 'active') as Transaction['status'],\r\n          item_name: toString(item.item_name),\r\n          quantity,\r\n          sku: toString(item.sku),\r\n          buying_price: typeof item.buying_price === 'number' ? item.buying_price : undefined,\r\n          total_cost: typeof item.total_cost === 'number' ? item.total_cost : undefined,\r\n          createdById,\r\n        };\r\n      });\r\n\r\n      // Apply role-based filtering\r\n      // Admin/Super Admin: See all (no filtering)\r\n      // Finance Admin: Filter to only their team's transactions (themselves + subordinates who are accountants/employees)\r\n      // Accountant: Filter to only their Finance Admin's team transactions (Finance Admin + subordinates who are accountants/employees)\r\n      // Employee: Filter to only their own transactions\r\n      if (!isAdmin && userIds && userIds.length > 0) {\r\n        // Finance Admin, Accountant, or Employee: filter based on userIds\r\n        // Filter transactions by accessible user IDs\r\n        transactions = transactions.filter((t) => {\r\n          const createdById = toNumber(\r\n            (t as { created_by_id?: unknown; createdBy?: unknown; created_by?: unknown }).created_by_id ??\r\n            (t as { createdBy?: unknown }).createdBy ??\r\n            (t as { created_by?: unknown }).created_by\r\n          );\r\n          return createdById !== undefined && userIds.includes(createdById);\r\n        });\r\n\r\n        // Filter sales by accessible user IDs\r\n        salesTransactions = salesTransactions.filter((s) => {\r\n          const soldById = toNumber((s as { soldById?: unknown; createdById?: unknown }).soldById ?? (s as { createdById?: unknown }).createdById);\r\n          return soldById !== undefined && userIds.includes(soldById);\r\n        });\r\n\r\n        // Filter inventory by accessible user IDs\r\n        inventoryTransactions = inventoryTransactions.filter((i) => {\r\n          const createdById = toNumber((i as { createdById?: unknown }).createdById);\r\n          return createdById !== undefined && userIds.includes(createdById);\r\n        });\r\n      }\r\n      // Admin/Super Admin sees all - no filtering needed\r\n\r\n      // Combine all transactions and sort by date\r\n      const normalizedExisting: TransactionItem[] = (transactions || []).map((t) => ({\r\n        id: t.id?.toString() || '',\r\n        transaction_type: t.transaction_type,\r\n        title: typeof t.title === 'string' ? t.title : 'Transaction',\r\n        description: typeof t.description === 'string' ? t.description : undefined,\r\n        category: typeof t.category === 'string' ? t.category : 'N/A',\r\n        amount: typeof t.amount === 'number' ? t.amount : 0,\r\n        date: toString(t.date) || toString(t.created_at),\r\n        is_approved: Boolean(t.is_approved),\r\n        created_at: toString(t.created_at),\r\n        status: (t.status as Transaction['status']) || 'pending',\r\n        item_name: toString((t as { item_name?: unknown }).item_name),\r\n        quantity: typeof t.quantity === 'number' ? t.quantity : undefined,\r\n        quantity_sold: typeof t.quantity_sold === 'number' ? t.quantity_sold : undefined,\r\n        receipt_number: toString(t.receipt_number),\r\n        customer_name: toString(t.customer_name),\r\n        sku: toString(t.sku),\r\n        buying_price: typeof t.buying_price === 'number' ? t.buying_price : undefined,\r\n        total_cost: typeof t.total_cost === 'number' ? t.total_cost : undefined,\r\n        createdById: toNumber((t as { created_by_id?: unknown }).created_by_id),\r\n        soldById: toNumber((t as { sold_by_id?: unknown }).sold_by_id),\r\n      }));\r\n\r\n      const allTransactions = [...normalizedExisting, ...salesTransactions, ...inventoryTransactions].sort((a, b) => {\r\n        const dateA = new Date(a.date || a.created_at || 0).getTime();\r\n        const dateB = new Date(b.date || b.created_at || 0).getTime();\r\n        return dateB - dateA; // Most recent first\r\n      });\r\n\r\n      setTransactions(allTransactions);\r\n      \r\n      // Update summary with transaction count after loading\r\n      // Note: Financial totals (revenue, expenses, sales, inventory) are loaded separately via loadSummary()\r\n      setSummary(prev => ({\r\n        ...prev,\r\n        totalTransactions: allTransactions.length,\r\n      }));\r\n    } catch (err: unknown) {\r\n      let errorMessage = 'Failed to load transactions';\r\n      \r\n      if (typeof err === 'object' && err !== null && 'response' in err) {\r\n        const response = (err as { response?: { data?: { detail?: unknown } } }).response;\r\n        const detail = response?.data?.detail;\r\n        if (typeof detail === 'string') {\r\n          errorMessage = detail;\r\n        } else if (Array.isArray(detail)) {\r\n          errorMessage = detail.map((e) => (e as { msg?: string }).msg || JSON.stringify(e)).join(', ');\r\n        } else if (detail && typeof detail === 'object' && 'msg' in (detail as Record<string, unknown>)) {\r\n          errorMessage = (detail as { msg?: string }).msg || errorMessage;\r\n        }\r\n      } else if (err instanceof Error) {\r\n        errorMessage = err.message;\r\n      }\r\n      \r\n      setError(errorMessage);\r\n      toast.error(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user, storeUser?.managerId]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      loadTransactions();\r\n    }\r\n  }, [user, loadTransactions]);\r\n\r\n  useEffect(() => {\r\n    if (user && !loading) {\r\n      loadSummary();\r\n    }\r\n  }, [user, loading, loadSummary]);\r\n\r\n  const filteredTransactions = transactions.filter(transaction => {\r\n    const matchesSearch = \r\n      transaction.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.description?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.source?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.vendor?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.item_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.receipt_number?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.customer_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.sku?.toLowerCase().includes(searchTerm.toLowerCase());\r\n    \r\n    const matchesType = typeFilter === 'all' || transaction.transaction_type === typeFilter;\r\n    \r\n    // Handle status filter - include sales and inventory status\r\n    let matchesStatus = false;\r\n    if (statusFilter === 'all') {\r\n      matchesStatus = true;\r\n    } else if (statusFilter === 'approved') {\r\n      matchesStatus = transaction.is_approved || transaction.status === 'posted' || transaction.status === 'active';\r\n    } else if (statusFilter === 'pending') {\r\n      matchesStatus = !transaction.is_approved && transaction.status !== 'posted' && transaction.status !== 'cancelled' && transaction.status !== 'active';\r\n    } else if (statusFilter === 'posted') {\r\n      matchesStatus = transaction.status === 'posted';\r\n    } else if (statusFilter === 'active') {\r\n      matchesStatus = transaction.status === 'active';\r\n    } else if (statusFilter === 'inactive') {\r\n      matchesStatus = transaction.status === 'inactive';\r\n    } else {\r\n      matchesStatus = transaction.status === statusFilter;\r\n    }\r\n    \r\n    return matchesSearch && matchesType && matchesStatus;\r\n  });\r\n\r\n  // Use backend summary if available, otherwise fallback to local calculations\r\n  const localTotalRevenue = filteredTransactions\r\n    .filter(t => t.transaction_type === 'revenue')\r\n    .reduce((sum, t) => sum + Math.abs(t.amount), 0);\r\n  \r\n  const localTotalSales = filteredTransactions\r\n    .filter(t => t.transaction_type === 'sale')\r\n    .reduce((sum, t) => sum + Math.abs(t.amount), 0);\r\n  \r\n  const localTotalExpenses = filteredTransactions\r\n    .filter(t => t.transaction_type === 'expense')\r\n    .reduce((sum, t) => sum + Math.abs(t.amount), 0);\r\n  \r\n  const localTotalInventory = filteredTransactions\r\n    .filter(t => t.transaction_type === 'inventory')\r\n    .reduce((sum, t) => sum + Math.abs(t.amount), 0);\r\n  \r\n  const localNetAmount = localTotalRevenue + localTotalSales - localTotalExpenses - localTotalInventory;\r\n  const localTotalTransactions = filteredTransactions.length;\r\n\r\n  // Use backend data if available and not loading, otherwise use local calculations\r\n  const totalRevenue = !loadingSummary && summary.totalRevenue > 0 ? summary.totalRevenue : localTotalRevenue;\r\n  const totalSales = !loadingSummary && summary.totalSales > 0 ? summary.totalSales : localTotalSales;\r\n  const totalExpenses = !loadingSummary && summary.totalExpenses > 0 ? summary.totalExpenses : localTotalExpenses;\r\n  const totalInventory = !loadingSummary && summary.totalInventory > 0 ? summary.totalInventory : localTotalInventory;\r\n  const netAmount = !loadingSummary && (summary.totalRevenue > 0 || summary.totalSales > 0 || summary.totalExpenses > 0) \r\n    ? summary.netAmount \r\n    : localNetAmount;\r\n  const totalTransactionsCount = localTotalTransactions;\r\n\r\n  if (loading) {\r\n    return (\r\n      <Layout>\r\n        <PageContainer>\r\n          <ContentContainer>\r\n            <LoadingContainer>\r\n              <Spinner />\r\n              <p>Loading transactions...</p>\r\n            </LoadingContainer>\r\n          </ContentContainer>\r\n        </PageContainer>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <PageContainer>\r\n        <ContentContainer>\r\n          <HeaderContainer>\r\n            <h1>Transactions</h1>\r\n            <p>View all revenue and expense transactions</p>\r\n          </HeaderContainer>\r\n\r\n          {error && (\r\n            <ErrorBanner>\r\n              <AlertCircle />\r\n              <span>{error}</span>\r\n            </ErrorBanner>\r\n          )}\r\n\r\n          <SummaryGrid>\r\n            <SummaryCard $type=\"revenue\">\r\n              <div className=\"label\">\r\n                Total Revenue\r\n                {loadingSummary && <span style={{ fontSize: '10px', marginLeft: '4px', opacity: 0.7 }}>(Loading...)</span>}\r\n              </div>\r\n              <div className=\"value\">{formatCurrency(totalRevenue)}</div>\r\n            </SummaryCard>\r\n            <SummaryCard $type=\"revenue\">\r\n              <div className=\"label\">\r\n                Total Sales\r\n                {loadingSummary && <span style={{ fontSize: '10px', marginLeft: '4px', opacity: 0.7 }}>(Loading...)</span>}\r\n              </div>\r\n              <div className=\"value\">{formatCurrency(totalSales)}</div>\r\n            </SummaryCard>\r\n            <SummaryCard $type=\"expense\">\r\n              <div className=\"label\">\r\n                Total Expenses\r\n                {loadingSummary && <span style={{ fontSize: '10px', marginLeft: '4px', opacity: 0.7 }}>(Loading...)</span>}\r\n              </div>\r\n              <div className=\"value\">{formatCurrency(totalExpenses)}</div>\r\n            </SummaryCard>\r\n          </SummaryGrid>\r\n\r\n          <BottomSummaryGrid>\r\n            <SummaryCard $type=\"expense\">\r\n              <div className=\"label\">\r\n                Total Inventory Cost\r\n                {loadingSummary && <span style={{ fontSize: '10px', marginLeft: '4px', opacity: 0.7 }}>(Loading...)</span>}\r\n              </div>\r\n              <div className=\"value\">{formatCurrency(totalInventory)}</div>\r\n            </SummaryCard>\r\n            <SummaryCard $type=\"net\">\r\n              <div className=\"label\">\r\n                Net Amount\r\n                {loadingSummary && <span style={{ fontSize: '10px', marginLeft: '4px', opacity: 0.7 }}>(Loading...)</span>}\r\n              </div>\r\n              <div className=\"value\" style={{ color: netAmount >= 0 ? '#16a34a' : '#dc2626' }}>\r\n                {formatCurrency(netAmount)}\r\n              </div>\r\n            </SummaryCard>\r\n            <SummaryCard $type=\"total\">\r\n              <div className=\"label\">Total Transactions</div>\r\n              <div className=\"value\">{totalTransactionsCount}</div>\r\n            </SummaryCard>\r\n          </BottomSummaryGrid>\r\n\r\n          <FiltersContainer>\r\n            <FiltersGrid>\r\n              <SearchContainer>\r\n                <Search />\r\n                <SearchInput\r\n                  type=\"text\"\r\n                  placeholder=\"Search transactions...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n              </SearchContainer>\r\n              \r\n              <Select value={typeFilter} onChange={(e) => setTypeFilter(e.target.value)}>\r\n                <option value=\"all\">All Types</option>\r\n                <option value=\"revenue\">Revenue</option>\r\n                <option value=\"expense\">Expense</option>\r\n                <option value=\"sale\">Sales</option>\r\n                <option value=\"inventory\">Inventory</option>\r\n              </Select>\r\n              \r\n              <Select value={statusFilter} onChange={(e) => setStatusFilter(e.target.value)}>\r\n                <option value=\"all\">All Status</option>\r\n                <option value=\"approved\">Approved</option>\r\n                <option value=\"posted\">Posted</option>\r\n                <option value=\"active\">Active</option>\r\n                <option value=\"pending\">Pending</option>\r\n                <option value=\"inactive\">Inactive</option>\r\n                <option value=\"cancelled\">Cancelled</option>\r\n              </Select>\r\n            </FiltersGrid>\r\n          </FiltersContainer>\r\n\r\n          <TableContainer>\r\n            {filteredTransactions.length === 0 ? (\r\n              <EmptyState>\r\n                <TrendingUp />\r\n                <h3>No transactions found</h3>\r\n                <p>Try adjusting your filters or create a new transaction.</p>\r\n              </EmptyState>\r\n            ) : (\r\n              <div style={{ overflowX: 'auto' }}>\r\n                <Table>\r\n                  <TableHeader>\r\n                    <tr>\r\n                      <th>Type</th>\r\n                      <th>Title</th>\r\n                      <th>Category</th>\r\n                      <th>Amount</th>\r\n                      <th>Date</th>\r\n                      <th>Status</th>\r\n                      <th>Actions</th>\r\n                    </tr>\r\n                  </TableHeader>\r\n                  <TableBody>\r\n                    {filteredTransactions.map((transaction) => {\r\n                      const originalId = transaction.id.split('-')[1];\r\n                      const isExpense = transaction.transaction_type === 'expense';\r\n                        const isSale = transaction.transaction_type === 'sale';\r\n                      \r\n                      return (\r\n                        <tr key={transaction.id}>\r\n                          <td style={{ whiteSpace: 'nowrap' }}>\r\n                            <TypeBadge $type={transaction.transaction_type}>\r\n                              {isExpense ? (\r\n                                <ArrowDownRight size={12} />\r\n                              ) : isSale ? (\r\n                                <ShoppingCart size={12} />\r\n                              ) : transaction.transaction_type === 'inventory' ? (\r\n                                <Package size={12} />\r\n                              ) : (\r\n                                <ArrowUpRight size={12} />\r\n                              )}\r\n                              {transaction.transaction_type === 'revenue' \r\n                                ? 'Revenue' \r\n                                : transaction.transaction_type === 'expense' \r\n                                ? 'Expense' \r\n                                : transaction.transaction_type === 'sale'\r\n                                ? 'Sale'\r\n                                : 'Inventory'}\r\n                            </TypeBadge>\r\n                          </td>\r\n                          <td>\r\n                            <TransactionTitle>{transaction.title}</TransactionTitle>\r\n                          </td>\r\n                          <td style={{ whiteSpace: 'nowrap' }}>\r\n                            <CategoryBadge>{transaction.category || 'N/A'}</CategoryBadge>\r\n                          </td>\r\n                          <AmountCell $isExpense={isExpense || transaction.transaction_type === 'inventory'} style={{ whiteSpace: 'nowrap' }}>\r\n                            {isExpense || transaction.transaction_type === 'inventory' ? '-' : '+'}{formatCurrency(Math.abs(transaction.amount))}\r\n                          </AmountCell>\r\n                          <td style={{ whiteSpace: 'nowrap' }}>{formatDate(transaction.date || transaction.created_at || '')}</td>\r\n                          <td style={{ whiteSpace: 'nowrap' }}>\r\n                            <StatusBadge \r\n                              $approved={Boolean(transaction.is_approved)} \r\n                              $status={transaction.status}\r\n                            >\r\n                              {transaction.status === 'posted' \r\n                                ? 'Posted' \r\n                                : transaction.status === 'cancelled'\r\n                                ? 'Cancelled'\r\n                                : transaction.status === 'active'\r\n                                ? 'Active'\r\n                                : transaction.status === 'inactive'\r\n                                ? 'Inactive'\r\n                                : transaction.is_approved \r\n                                ? 'Approved' \r\n                                : 'Pending'}\r\n                            </StatusBadge>\r\n                            {transaction.is_recurring && (\r\n                              <RecurringBadge>Recurring</RecurringBadge>\r\n                            )}\r\n                          </td>\r\n                          <td style={{ whiteSpace: 'nowrap' }}>\r\n                            <ActionButtons>\r\n                              {isSale ? (\r\n                                <Link href={`/sales/accounting?sale_id=${originalId}`}>\r\n                                  <Button size=\"sm\" variant=\"secondary\">\r\n                                    View\r\n                                  </Button>\r\n                                </Link>\r\n                              ) : transaction.transaction_type === 'inventory' ? (\r\n                                <Link href={`/inventory/manage?item_id=${originalId}`}>\r\n                                  <Button size=\"sm\" variant=\"secondary\">\r\n                                    View\r\n                                  </Button>\r\n                                </Link>\r\n                              ) : (\r\n                                <Link href={isExpense ? `/expenses/edit/${originalId}` : `/revenue/edit/${originalId}`}>\r\n                                  <Button size=\"sm\" variant=\"secondary\">\r\n                                    View\r\n                                  </Button>\r\n                                </Link>\r\n                              )}\r\n                            </ActionButtons>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </TableBody>\r\n                </Table>\r\n              </div>\r\n            )}\r\n          </TableContainer>\r\n        </ContentContainer>\r\n      </PageContainer>\r\n    </Layout>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
frontend/.next/dev/static/chunks/_f62e224e._.js:    async getFinancialSummary(startDate, endDate) {
frontend/.next/dev/static/chunks/_f62e224e._.js.map:    {"offset": {"line": 488, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ASHROCK/Desktop/projectai/frontend/lib/api.ts"],"sourcesContent":["// lib/api.ts\r\n'use client';\r\n\r\nimport axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\r\n\r\nconst DEFAULT_BASE_URL = 'http://localhost:8000/api/v1';\r\nconst API_BASE_URL = (process.env.NEXT_PUBLIC_API_URL || DEFAULT_BASE_URL).replace(/\\/$/, '');\r\n\r\ninterface ApiResponse<T = unknown> {\r\n  success?: boolean;\r\n  data: T;\r\n  message?: string;\r\n  error?: string;\r\n}\r\n\r\ntype Filters = Record<string, string | number | boolean | undefined>;\r\ntype RevenueRecord = {\r\n  id?: number | string;\r\n  amount?: number;\r\n  date?: string;\r\n  created_at?: string;\r\n  [key: string]: unknown;\r\n};\r\ntype ExpenseRecord = RevenueRecord;\r\ntype TransactionRecord = (RevenueRecord | ExpenseRecord) & {\r\n  transaction_type: 'revenue' | 'expense';\r\n};\r\n\r\ninterface AuthTokens {\r\n  access_token: string;\r\n  token_type: string;\r\n}\r\n\r\ninterface User {\r\n  id: number;\r\n  email: string;\r\n  username?: string;\r\n  full_name: string;\r\n  role: string;\r\n  department?: string;\r\n  phone?: string | null;\r\n  is_active: boolean;\r\n  created_at?: string;\r\n  manager_id?: number;\r\n}\r\n\r\ntype LoginResponse = AuthTokens & { user: User };\r\nexport type ApiUser = User;\r\nexport interface ApiRole {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  permissions?: string[];\r\n  user_count?: number;\r\n  permission_count?: number;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nexport interface AuditLog {\r\n  id: number;\r\n  user_id: number;\r\n  user_full_name?: string;\r\n  user_email?: string;\r\n  user?: { // Backend returns nested user object based on pre-fetched data\r\n    id: number;\r\n    username?: string;\r\n    full_name?: string;\r\n    email?: string;\r\n  };\r\n  action: string;\r\n  resource_type: string;\r\n  resource_id?: number;\r\n  old_values?: string;\r\n  new_values?: string;\r\n  ip_address?: string;\r\n  user_agent?: string;\r\n  created_at: string;\r\n}\r\n\r\nclass ApiClient {\r\n  private client: AxiosInstance;\r\n\r\n  constructor() {\r\n    this.client = axios.create({\r\n      baseURL: API_BASE_URL,\r\n      timeout: 300000, // 5 minutes timeout for ML training requests (can take longer)\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    this.setupInterceptors();\r\n  }\r\n\r\n  private setupInterceptors() {\r\n    this.client.interceptors.request.use(\r\n      (config) => {\r\n        if (typeof window !== 'undefined') {\r\n          const token = localStorage.getItem('access_token');\r\n          if (token) {\r\n            config.headers = config.headers ?? {};\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n          }\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(error),\r\n    );\r\n\r\n    this.client.interceptors.response.use(\r\n      (response) => response,\r\n      async (error) => {\r\n        const originalRequest = error.config;\r\n        const requestUrl = originalRequest?.url || '';\r\n\r\n        // Handle 401 Unauthorized - but DON'T redirect on login endpoint\r\n        // The login page handles its own error states and redirects\r\n        if (error.response?.status === 401 && !originalRequest?._retry) {\r\n          originalRequest._retry = true;\r\n          if (typeof window !== 'undefined') {\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n\r\n            // Only redirect if NOT on the login endpoint\r\n            // Login endpoint errors should be handled by the login page component\r\n            const isLoginEndpoint = requestUrl.includes('/auth/login-json') ||\r\n              requestUrl.includes('/auth/login');\r\n\r\n            if (!isLoginEndpoint && !window.location.pathname.includes('/auth/login')) {\r\n              // Redirect to home page for other 401 errors (not login-related)\r\n              window.location.href = '/';\r\n            }\r\n            // For login endpoint 401s, let the error propagate to the component\r\n          }\r\n        }\r\n\r\n        // Handle 403 Forbidden - user doesn't have permission\r\n        if (error.response?.status === 403) {\r\n          const url = error.config?.url || '';\r\n          const errorDetail = error.response?.data?.detail || 'Insufficient permissions';\r\n\r\n          // Suppress warnings for expected 403s on role-restricted endpoints\r\n          // These are handled gracefully by the calling code\r\n          const suppressWarnings = url.includes('/inventory/summary') ||\r\n            url.includes('/sales/summary') ||\r\n            url.includes('/sales/summary/overview') ||\r\n            url.includes('/sales/journal-entries') ||\r\n            url.includes('/backup');\r\n\r\n          // For user endpoints, provide more helpful error messages\r\n          if (url.includes('/users/') && !url.includes('/users/me')) {\r\n            // Don't suppress warnings for user endpoints - these are important\r\n            if (typeof window !== 'undefined') {\r\n              console.warn('Access forbidden to user resource:', errorDetail);\r\n            }\r\n            // Enhance error with more context\r\n            error.response.data = {\r\n              ...error.response.data,\r\n              detail: errorDetail,\r\n              message: `You don't have permission to access this user. ${errorDetail}`,\r\n            };\r\n          } else if (!suppressWarnings && typeof window !== 'undefined') {\r\n            console.warn('Access forbidden:', errorDetail);\r\n          }\r\n        }\r\n\r\n        // Handle 404 Not Found - suppress console warnings for non-critical endpoints\r\n        if (error.response?.status === 404) {\r\n          const url = error.config?.url || '';\r\n          // Only log 404s in development mode to reduce console noise\r\n          if (process.env.NODE_ENV === 'development' && typeof window !== 'undefined') {\r\n            console.warn('Resource not found:', url);\r\n          }\r\n        }\r\n\r\n        // Handle network errors - suppress repetitive errors for polling endpoints\r\n        if (!error.response) {\r\n          const url = error.config?.url || '';\r\n          // Suppress errors for polling endpoints to reduce console noise\r\n          // These are expected when backend is down\r\n          const isPollingEndpoint = url.includes('/notifications/unread/count') ||\r\n            url.includes('/dashboard/recent-activity') ||\r\n            url.includes('/health');\r\n\r\n          if (!isPollingEndpoint) {\r\n            // Only log non-polling endpoint errors\r\n            const errorMessage = error.message || 'Network error: Unable to connect to server';\r\n\r\n            if (process.env.NODE_ENV === 'development') {\r\n              console.error('Network error:', errorMessage);\r\n\r\n              if (error.code === 'ECONNREFUSED' || error.message?.includes('Network Error')) {\r\n                console.error('Backend server may not be running. Please ensure the backend is running on http://localhost:8000');\r\n              } else if (error.code === 'ERR_NETWORK') {\r\n                console.error('Network request failed. Check your internet connection and backend server status.');\r\n              }\r\n            }\r\n          }\r\n          // Polling endpoint errors are silently handled - they're expected when backend is down\r\n        }\r\n\r\n        return Promise.reject(error);\r\n      },\r\n    );\r\n  }\r\n\r\n  private normalizeResponse<T>(payload: unknown): ApiResponse<T> {\r\n    // Handle different response formats from the backend\r\n    if (!payload) {\r\n      return { data: null as unknown as T };\r\n    }\r\n\r\n    // If payload is already in ApiResponse format\r\n    if (typeof payload === 'object' && payload !== null) {\r\n      if ('data' in payload) {\r\n        return payload as ApiResponse<T>;\r\n      }\r\n      // If payload is the data itself (direct response)\r\n      return { data: payload as T };\r\n    }\r\n\r\n    // Fallback: wrap primitive values\r\n    return { data: payload as T };\r\n  }\r\n\r\n  /**\r\n   * Extract error message from various error formats\r\n   */\r\n  private extractErrorMessage(error: unknown): string {\r\n    if (error && typeof error === 'object') {\r\n      // Axios error format\r\n      if ('response' in error) {\r\n        const axiosError = error as { response?: { data?: { detail?: string; message?: string; error?: string } } };\r\n        return axiosError.response?.data?.detail ||\r\n          axiosError.response?.data?.message ||\r\n          axiosError.response?.data?.error ||\r\n          'An error occurred';\r\n      }\r\n      // Standard Error object\r\n      if ('message' in error) {\r\n        return (error as { message: string }).message;\r\n      }\r\n    }\r\n    // Fallback\r\n    return error instanceof Error ? error.message : 'An unknown error occurred';\r\n  }\r\n\r\n  private async get<T>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.get<T>(url, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async post<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.post<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async put<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.put<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async delete<T>(url: string, data?: unknown, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.delete<T>(url, { ...config, data });\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  // Auth endpoints\r\n  async login(identifier: string, password: string): Promise<ApiResponse<LoginResponse>> {\r\n    const response = await this.client.post<LoginResponse>('/auth/login-json', {\r\n      username: identifier,\r\n      password,\r\n    });\r\n    const normalized = this.normalizeResponse<LoginResponse>(response.data);\r\n\r\n    // Only set token if we have a valid access token and user data\r\n    if (normalized.data?.access_token && normalized.data?.user) {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.setItem('access_token', normalized.data.access_token);\r\n      }\r\n    } else {\r\n      // Clear any existing tokens if response is invalid\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n        localStorage.removeItem('refresh_token');\r\n      }\r\n      throw new Error('Invalid login response: missing access token or user data');\r\n    }\r\n\r\n    return normalized;\r\n  }\r\n\r\n  async register(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post<User>('/auth/register', userData);\r\n  }\r\n\r\n  async logout(): Promise<void> {\r\n    try {\r\n      await this.post('/auth/logout');\r\n    } finally {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n      }\r\n    }\r\n  }\r\n\r\n  async refreshToken(): Promise<ApiResponse<{ access_token: string }>> {\r\n    if (typeof window === 'undefined') throw new Error('Token refresh is client only');\r\n    const token = localStorage.getItem('access_token');\r\n    if (!token) throw new Error('No token to refresh');\r\n    const response = await this.client.post('/auth/refresh', { token });\r\n    const normalized = this.normalizeResponse<{ access_token: string }>(response.data);\r\n    localStorage.setItem('access_token', normalized.data.access_token);\r\n    return normalized;\r\n  }\r\n\r\n  async generateOTP(): Promise<ApiResponse<{ otp_code: string; message: string }>> {\r\n    return this.post('/auth/generate-otp');\r\n  }\r\n\r\n  async verifyOTP(otp_code: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/verify-otp', { otp_code });\r\n  }\r\n\r\n  async requestOTP(email: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/request-otp', { email });\r\n  }\r\n\r\n  async resetPassword(email: string, code: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/reset-password', { email, code, newPassword });\r\n  }\r\n\r\n  // User endpoints\r\n  async getCurrentUser(): Promise<ApiResponse<User>> {\r\n    return this.get('/users/me');\r\n  }\r\n\r\n  async updateCurrentUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put('/users/me', userData);\r\n  }\r\n\r\n  async changePassword(currentPassword: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/users/me/change-password', { current_password: currentPassword, new_password: newPassword });\r\n  }\r\n\r\n  async adminResetPassword(usernameOrEmail: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/users/admin-reset-password', { username_or_email: usernameOrEmail, new_password: newPassword });\r\n  }\r\n\r\n  async getUsers(): Promise<ApiResponse<User[]>> {\r\n    try {\r\n      const response = await this.get<User[]>('/users/');\r\n      // Ensure we always return an array\r\n      if (Array.isArray(response.data)) {\r\n        return response;\r\n      }\r\n      return { ...response, data: [] };\r\n    } catch (error: unknown) {\r\n      const axiosError = error as { response?: { status?: number } };\r\n      if (axiosError.response?.status === 403) {\r\n        // Return empty array instead of throwing for 403 on list endpoint\r\n        // This allows the UI to handle permission errors gracefully\r\n        return { data: [] };\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getUser(userId: number): Promise<ApiResponse<User>> {\r\n    try {\r\n      return await this.get(`/users/${userId}`);\r\n    } catch (error: unknown) {\r\n      // Provide better error context for user fetch failures\r\n      const axiosError = error as { response?: { status?: number; data?: { detail?: string } } };\r\n      if (axiosError.response?.status === 403) {\r\n        const detail = axiosError.response.data?.detail || 'Insufficient permissions';\r\n        const enhancedError = new Error(`Cannot access user ${userId}: ${detail}`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      if (axiosError.response?.status === 404) {\r\n        const enhancedError = new Error(`User ${userId} not found`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getSubordinates(userId: number): Promise<ApiResponse<User[]>> {\r\n    return this.get(`/users/${userId}/subordinates`);\r\n  }\r\n\r\n  async createUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    try {\r\n      return await this.post('/users', userData);\r\n    } catch (error: unknown) {\r\n      // Provide better error context for user creation failures\r\n      const axiosError = error as { response?: { status?: number; data?: { detail?: string } } };\r\n      if (axiosError.response?.status === 403) {\r\n        const detail = axiosError.response.data?.detail || 'Insufficient permissions';\r\n        const enhancedError = new Error(`Cannot create user: ${detail}. You may not have permission to create users with this role.`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      if (axiosError.response?.status === 400) {\r\n        const detail = axiosError.response.data?.detail || 'Invalid user data';\r\n        const enhancedError = new Error(`Failed to create user: ${detail}`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a subordinate (accountant or employee)\r\n   * Used by finance managers to create accountants/employees\r\n   */\r\n  async createSubordinate(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post('/users/subordinates', userData);\r\n  }\r\n\r\n  async updateUser(userId: number, userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put(`/users/${userId}`, userData);\r\n  }\r\n\r\n  async deleteUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/delete`, { password });\r\n  }\r\n\r\n  async activateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/deactivate`, { password });\r\n  }\r\n\r\n  // Permission endpoints\r\n  async getUserPermissions(userId: number): Promise<ApiResponse<{ permissions: Record<string, unknown>[] }>> {\r\n    return this.get(`/users/${userId}/permissions`);\r\n  }\r\n\r\n  async updateUserPermissions(userId: number, permissions: Record<string, unknown>[]): Promise<ApiResponse<{ message: string; permissions: Record<string, unknown>[] }>> {\r\n    return this.put(`/users/${userId}/permissions`, { permissions });\r\n  }\r\n\r\n  // Financial endpoints\r\n  async getRevenues(filters?: Filters): Promise<ApiResponse<RevenueRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/revenue', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getRevenue(revenueId: number): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.get(`/revenue/${revenueId}`);\r\n  }\r\n\r\n  async createRevenue(revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.post('/revenue', revenueData);\r\n  }\r\n\r\n  async updateRevenue(revenueId: number, revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.put(`/revenue/${revenueId}`, revenueData);\r\n  }\r\n\r\n  async deleteRevenue(revenueId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/revenue/${revenueId}/delete`, { password });\r\n  }\r\n\r\n  async getExpenses(filters?: Filters): Promise<ApiResponse<ExpenseRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/expenses', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getExpense(expenseId: number): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.get(`/expenses/${expenseId}`);\r\n  }\r\n\r\n  async createExpense(expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.post('/expenses', expenseData);\r\n  }\r\n\r\n  async updateExpense(expenseId: number, expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.put(`/expenses/${expenseId}`, expenseData);\r\n  }\r\n\r\n  async deleteExpense(expenseId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/expenses/${expenseId}/delete`, { password });\r\n  }\r\n\r\n  // Transactions (combined revenues and expenses)\r\n  async getTransactions(): Promise<ApiResponse<TransactionRecord[]>> {\r\n    try {\r\n      const [revenuesResponse, expensesResponse] = await Promise.all([\r\n        this.getRevenues(),\r\n        this.getExpenses(),\r\n      ]);\r\n\r\n      const revenues = (revenuesResponse.data || []).map((r: RevenueRecord): TransactionRecord => ({\r\n        ...r,\r\n        transaction_type: 'revenue',\r\n        id: `revenue-${r.id}`,\r\n      }));\r\n\r\n      const expenses = (expensesResponse.data || []).map((e: ExpenseRecord): TransactionRecord => ({\r\n        ...e,\r\n        transaction_type: 'expense',\r\n        id: `expense-${e.id}`,\r\n        amount: -Math.abs(Number(e.amount ?? 0)), // Make expenses negative\r\n      }));\r\n\r\n      const transactions = [...revenues, ...expenses].sort((a, b) => {\r\n        const dateA = new Date(a.date || a.created_at || 0).getTime();\r\n        const dateB = new Date(b.date || b.created_at || 0).getTime();\r\n        return dateB - dateA; // Most recent first\r\n      });\r\n\r\n      return { data: transactions };\r\n    } catch (error) {\r\n      // Error handled by caller\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Dashboard\r\n  async getDashboardOverview(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/overview');\r\n  }\r\n\r\n  async getDashboardKPIs(period: 'week' | 'month' | 'quarter' | 'year' = 'month'): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/kpis', { params: { period } });\r\n  }\r\n\r\n  async getDashboardRecentActivity(limit = 10): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/dashboard/recent-activity', { params: { limit } });\r\n  }\r\n\r\n  // Analytics\r\n  async getAdvancedKPIs(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/kpis', { params });\r\n  }\r\n\r\n  async getTrendAnalysis(params?: {\r\n    metric?: 'revenue' | 'expenses' | 'profit';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/trends', { params });\r\n  }\r\n\r\n  async getTimeSeriesData(params?: {\r\n    interval?: 'day' | 'week' | 'month' | 'quarter' | 'year';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/time-series', { params });\r\n  }\r\n\r\n  async getCategoryBreakdown(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/category-breakdown', { params });\r\n  }\r\n\r\n  async getAnalyticsOverview(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get('/analytics/overview', { params });\r\n  }\r\n\r\n  // Reports\r\n  async getReports(filters?: Filters): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    return this.get('/reports', { params: filters });\r\n  }\r\n\r\n  async getReport(reportId: number): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get(`/reports/${reportId}`);\r\n  }\r\n\r\n  async createReport(reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.post('/reports', reportData);\r\n  }\r\n\r\n  async updateReport(reportId: number, reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.put(`/reports/${reportId}`, reportData);\r\n  }\r\n\r\n  async deleteReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/reports/${reportId}`);\r\n  }\r\n\r\n  async downloadReport(reportId: number): Promise<ApiResponse<{ download_url: string; file_size: number; filename: string }>> {\r\n    return this.post(`/reports/${reportId}/download`);\r\n  }\r\n\r\n  async regenerateReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/reports/${reportId}/regenerate`);\r\n  }\r\n\r\n  async getAvailableReportTypes(): Promise<ApiResponse<{ report_types: Array<{ type: string; name: string; description: string }> }>> {\r\n    return this.get('/reports/types/available');\r\n  }\r\n\r\n  // Financial Reports - Direct data fetching\r\n  async getIncomeStatement(startDate?: string, endDate?: string): Promise<ApiResponse<Record<string, unknown>>> {\r\n    const params: Filters = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n\r\n    // Fetch revenue and expense data to calculate income statement\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n\r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n\r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) =>\r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) =>\r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n\r\n    // Calculate totals - ONLY from approved entries\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n\r\n    // Group by category - handle both enum and string categories - ONLY from approved entries\r\n    const revenueByCategory: Record<string, number> = {};\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const catValue =\r\n        r.category && typeof r.category === 'object' && 'value' in r.category\r\n          ? (r.category as { value?: unknown }).value\r\n          : r.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      revenueByCategory[catKey] = (revenueByCategory[catKey] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const catValue =\r\n        e.category && typeof e.category === 'object' && 'value' in e.category\r\n          ? (e.category as { value?: unknown }).value\r\n          : e.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      expenseByCategory[catKey] = (expenseByCategory[catKey] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        revenue: {\r\n          total: totalRevenue,\r\n          by_category: revenueByCategory,\r\n        },\r\n        expenses: {\r\n          total: totalExpenses,\r\n          by_category: expenseByCategory,\r\n        },\r\n        profit,\r\n        profit_margin: totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0,\r\n      },\r\n    };\r\n  }\r\n\r\n  async getCashFlow(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    summary: { total_inflow: number; total_outflow: number; net_cash_flow: number };\r\n    daily_cash_flow: Record<string, { inflow: number; outflow: number; net: number }>;\r\n  }>> {\r\n    const params: Record<string, unknown> = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n\r\n    // Fetch revenue and expense data to calculate cash flow\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([this.getRevenues(), this.getExpenses()]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n\r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n\r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures cash flow is only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) =>\r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) =>\r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n\r\n    // Calculate daily cash flow - ONLY from approved entries\r\n    const cashFlowByDay: Record<string, { inflow: number; outflow: number; net: number }> = {};\r\n\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = r.date || r.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(r.amount || 0);\r\n      cashFlowByDay[day].inflow += amount;\r\n      cashFlowByDay[day].net += amount;\r\n    });\r\n\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = e.date || e.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(e.amount || 0);\r\n      cashFlowByDay[day].outflow += amount;\r\n      cashFlowByDay[day].net -= amount;\r\n    });\r\n\r\n    const totalInflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.inflow, 0);\r\n    const totalOutflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.outflow, 0);\r\n    const netCashFlow = totalInflow - totalOutflow;\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        summary: {\r\n          total_inflow: totalInflow,\r\n          total_outflow: totalOutflow,\r\n          net_cash_flow: netCashFlow,\r\n        },\r\n        daily_cash_flow: cashFlowByDay,\r\n      },\r\n    };\r\n  }\r\n\r\n  // Financial Summary Report\r\n  async getFinancialSummary(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    financials: {\r\n      total_revenue: number;\r\n      total_expenses: number;\r\n      profit: number;\r\n      profit_margin: number;\r\n    };\r\n    revenue_by_category: Record<string, number>;\r\n    expenses_by_category: Record<string, number>;\r\n    transaction_counts: { revenue: number; expenses: number; total: number };\r\n    generated_at: string;\r\n  }>> {\r\n    // Always fetch all data first, then calculate summary\r\n    const [allRevenuesRes, allExpensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = allRevenuesRes.data || [];\r\n    let expenses = allExpensesRes.data || [];\r\n\r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n\r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue entries for calculations\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) =>\r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n\r\n    // Filter to only include APPROVED expense entries for calculations\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) =>\r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n\r\n    // Calculate totals from filtered data - ONLY approved revenue and expenses\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n    const profitMargin = totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0;\r\n\r\n    // Process category summaries - ONLY from approved revenue\r\n    const revenueByCategory: Record<string, number> = {};\r\n    const normalizeCategory = (raw: unknown): string => {\r\n      if (typeof raw === 'string') return raw || 'other';\r\n      if (raw && typeof raw === 'object' && 'value' in raw) {\r\n        const value = (raw as { value?: unknown }).value;\r\n        return typeof value === 'string' ? value : String(value ?? 'other');\r\n      }\r\n      return String(raw ?? 'other');\r\n    };\r\n\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const cat = normalizeCategory(r.category);\r\n      revenueByCategory[cat] = (revenueByCategory[cat] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    // Process category summaries - ONLY from approved expenses\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const cat = normalizeCategory(e.category);\r\n      expenseByCategory[cat] = (expenseByCategory[cat] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    // Calculate actual transaction counts - ONLY approved items\r\n    const revenueCount = approvedRevenues.length;\r\n    const expenseCount = approvedExpenses.length;\r\n\r\n    const result = {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        financials: {\r\n          total_revenue: totalRevenue,\r\n          total_expenses: totalExpenses,\r\n          profit,\r\n          profit_margin: profitMargin,\r\n        },\r\n        revenue_by_category: revenueByCategory,\r\n        expenses_by_category: expenseByCategory,\r\n        transaction_counts: {\r\n          revenue: revenueCount,\r\n          expenses: expenseCount,\r\n          total: revenueCount + expenseCount,\r\n        },\r\n        generated_at: new Date().toISOString(),\r\n      },\r\n    };\r\n\r\n    return result;\r\n  }\r\n\r\n  // Approvals\r\n  async getApprovals(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/approvals');\r\n  }\r\n\r\n  async getApproval(approvalId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/approvals/${approvalId}`);\r\n  }\r\n\r\n  async getApprovalComments(approvalId: number): Promise<ApiResponse<unknown[]>> {\r\n    return this.get(`/approvals/${approvalId}/comments`);\r\n  }\r\n\r\n  async createApprovalComment(approvalId: number, comment: string): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${approvalId}/comments`, { comment });\r\n  }\r\n\r\n  async approveItem(itemId: number, itemType: 'revenue' | 'expense'): Promise<ApiResponse<unknown>> {\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/approve`);\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/approve`);\r\n    }\r\n  }\r\n\r\n  async rejectItem(\r\n    itemId: number,\r\n    itemType: 'revenue' | 'expense',\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // Reject revenue or expense entry through their respective endpoints\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    }\r\n  }\r\n\r\n  async approveWorkflow(workflowId: number): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/approve`);\r\n  }\r\n\r\n  async rejectWorkflow(\r\n    workflowId: number,\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/reject`, { rejection_reason: reason, password });\r\n  }\r\n\r\n  // Notifications\r\n  async getNotifications(unreadOnly?: boolean): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/notifications', { params: { unread_only: unreadOnly } });\r\n  }\r\n\r\n  async getNotification(notificationId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async markNotificationAsRead(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/notifications/${notificationId}/mark-read`);\r\n  }\r\n\r\n  async markAllNotificationsAsRead(): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/notifications/mark-all-read');\r\n  }\r\n\r\n  async deleteNotification(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async getUnreadCount(): Promise<ApiResponse<{ unread_count: number }>> {\r\n    return this.get('/notifications/unread/count');\r\n  }\r\n\r\n  async getNotificationPreferences(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/notifications/preferences');\r\n  }\r\n\r\n  async updateNotificationPreferences(\r\n    preferences: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put('/notifications/preferences', preferences);\r\n  }\r\n\r\n  // Admin endpoints\r\n\r\n  async getAdminSystemStats(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/system/stats');\r\n  }\r\n\r\n  async getSystemSettings(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/settings');\r\n  }\r\n\r\n  async getSystemHealth(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/health');\r\n  }\r\n\r\n  async getHierarchy(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/hierarchy');\r\n  }\r\n\r\n  async getRoles(): Promise<ApiResponse<ApiRole[]>> {\r\n    return this.get('/admin/roles');\r\n  }\r\n\r\n  async getPermissions(): Promise<ApiResponse<string[]>> {\r\n    return this.get('/admin/permissions');\r\n  }\r\n\r\n  async createRole(roleData: { name: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.post('/admin/roles', payload);\r\n  }\r\n\r\n  async updateRole(roleId: number, roleData: { name?: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.put(`/admin/roles/${roleId}`, payload);\r\n  }\r\n\r\n  async deleteRole(roleId: number | string, password: string): Promise<ApiResponse<null>> {\r\n    return this.post(`/admin/roles/${roleId}/delete`, { password });\r\n  }\r\n\r\n  // Backup endpoints\r\n  async createBackup(includeFiles: boolean = false): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/create', null, {\r\n      params: { include_files: includeFiles }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async listBackups(): Promise<ApiResponse<{ backups: unknown[] }>> {\r\n    return this.get('/admin/backup/list');\r\n  }\r\n\r\n  async restoreBackup(backupName: string): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/restore', null, {\r\n      params: { backup_name: backupName }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async deleteBackup(backupName: string, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/admin/backup/${encodeURIComponent(backupName)}/delete`, { password });\r\n  }\r\n\r\n  async getVerificationHistory(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/users/me/verification-history');\r\n  }\r\n\r\n  // 2FA endpoints\r\n  async get2FAStatus(): Promise<ApiResponse<{ enabled: boolean }>> {\r\n    return this.get('/users/me/2fa/status');\r\n  }\r\n\r\n  async setup2FA(): Promise<ApiResponse<{ secret: string; qr_code_url: string; manual_entry_key: string }>> {\r\n    return this.post('/users/me/2fa/setup');\r\n  }\r\n\r\n  async verify2FA(code: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/verify', { code });\r\n  }\r\n\r\n  async disable2FA(currentPassword: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/disable', { current_password: currentPassword });\r\n  }\r\n\r\n  // IP Restriction endpoints\r\n  async getIPRestrictionStatus(): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.get('/users/me/ip-restriction');\r\n  }\r\n\r\n  async updateIPRestriction(enabled: boolean): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.put('/users/me/ip-restriction', { enabled });\r\n  }\r\n\r\n  async addAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.post('/users/me/ip-restriction/allowed-ips', { ip_address: ipAddress });\r\n  }\r\n\r\n  async removeAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.delete(`/users/me/ip-restriction/allowed-ips/${encodeURIComponent(ipAddress)}`);\r\n  }\r\n\r\n  async triggerBackup(includeFiles = false): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/admin/backup/create', undefined, { params: { include_files: includeFiles } });\r\n  }\r\n\r\n  // Department endpoints\r\n  async getDepartments(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/departments');\r\n  }\r\n\r\n  async getDepartment(departmentId: string | number): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.get(`/departments/${encodedId}`);\r\n  }\r\n\r\n  async createDepartment(departmentData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/departments', departmentData);\r\n  }\r\n\r\n  async updateDepartment(\r\n    departmentId: string | number,\r\n    departmentData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.put(`/departments/${encodedId}`, departmentData);\r\n  }\r\n\r\n  async deleteDepartment(\r\n    departmentId: string | number,\r\n    password: string,\r\n  ): Promise<ApiResponse<{ message: string }>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.post(`/departments/${encodedId}/delete`, { password });\r\n  }\r\n\r\n  // Project endpoints\r\n  async getProjects(filters?: Record<string, unknown>): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/projects', { params: filters });\r\n  }\r\n\r\n  async getProject(projectId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/projects/${projectId}`);\r\n  }\r\n\r\n  async createProject(projectData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/projects', projectData);\r\n  }\r\n\r\n  async updateProject(\r\n    projectId: number,\r\n    projectData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put(`/projects/${projectId}`, projectData);\r\n  }\r\n\r\n  async deleteProject(projectId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/projects/${projectId}/delete`, { password });\r\n  }\r\n\r\n  // Audit Logs endpoints (Admin only)\r\n  async getAuditLogs(filters?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    user_id?: number;\r\n    action?: string;\r\n    resource_type?: string;\r\n    start_date?: string;\r\n    end_date?: string;\r\n    search?: string; // Search by username/email/full_name\r\n  }): Promise<ApiResponse<AuditLog[]>> {\r\n    const params: Record<string, unknown> = {};\r\n    if (filters) {\r\n      if (filters.skip !== undefined) params.skip = filters.skip;\r\n      if (filters.limit !== undefined) params.limit = filters.limit;\r\n      if (filters.user_id !== undefined) params.user_id = filters.user_id;\r\n      if (filters.action) params.action = filters.action;\r\n      if (filters.resource_type) params.resource_type = filters.resource_type;\r\n      if (filters.search) params.search = filters.search;\r\n      if (filters.start_date) {\r\n        // Convert to ISO format for backend\r\n        const start = new Date(filters.start_date + 'T00:00:00');\r\n        params.start_date = start.toISOString();\r\n      }\r\n      if (filters.end_date) {\r\n        // Convert to ISO format for backend\r\n        const end = new Date(filters.end_date + 'T23:59:59');\r\n        params.end_date = end.toISOString();\r\n      }\r\n    }\r\n    return this.get('/admin/audit/logs', { params });\r\n  }\r\n\r\n  // ============================================================================\r\n  // BUDGETING & FORECASTING (FP&A)\r\n  // ============================================================================\r\n\r\n  // Budget Management\r\n  async getBudgets(params?: { skip?: number; limit?: number; status?: string; department?: string }) {\r\n    return this.get('/budgeting/budgets', { params });\r\n  }\r\n\r\n  async getBudget(id: number) {\r\n    return this.get(`/budgeting/budgets/${id}`);\r\n  }\r\n\r\n  async createBudget(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/budgets', data);\r\n  }\r\n\r\n  async createBudgetFromTemplate(templateName: string, data: Record<string, unknown>) {\r\n    const params: Record<string, unknown> = {\r\n      template_name: templateName\r\n    };\r\n    if (data.name) params.name = data.name;\r\n    if (data.start_date) params.start_date = data.start_date;\r\n    if (data.end_date) params.end_date = data.end_date;\r\n    if (data.department) params.department = data.department;\r\n    if (data.project) params.project = data.project;\r\n\r\n    return this.post(`/budgeting/budgets/from-template`, {}, { params });\r\n  }\r\n\r\n  async updateBudget(id: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${id}`, data);\r\n  }\r\n\r\n  async deleteBudget(id: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${id}/delete`, { password });\r\n  }\r\n\r\n  async validateBudget(id: number) {\r\n    return this.post(`/budgeting/budgets/${id}/validate`);\r\n  }\r\n\r\n  // Budget Items\r\n  async getBudgetItems(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/items`);\r\n  }\r\n\r\n  async createBudgetItem(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items`, data);\r\n  }\r\n\r\n  async updateBudgetItem(budgetId: number, itemId: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${budgetId}/items/${itemId}`, data);\r\n  }\r\n\r\n  async deleteBudgetItem(budgetId: number, itemId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  // Scenario Planning\r\n  async getScenarios(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/scenarios`);\r\n  }\r\n\r\n  async createScenario(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios`, data);\r\n  }\r\n\r\n  async compareScenarios(budgetId: number, scenarioIds: number[]) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/compare`, { scenario_ids: scenarioIds });\r\n  }\r\n\r\n  async deleteScenario(budgetId: number, scenarioId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/${scenarioId}/delete`, { password });\r\n  }\r\n\r\n  // Forecasting\r\n  async getForecasts(params?: { skip?: number; limit?: number }) {\r\n    // Always provide explicit defaults to match backend expectations\r\n    const queryParams = {\r\n      skip: params?.skip !== undefined && params.skip >= 0 ? params.skip : 0,\r\n      limit: params?.limit !== undefined && params.limit >= 1 && params.limit <= 1000 ? params.limit : 100\r\n    };\r\n\r\n    return this.get('/budgeting/forecasts', { params: queryParams });\r\n  }\r\n\r\n  async createForecast(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/forecasts', data);\r\n  }\r\n\r\n  async getForecast(id: number) {\r\n    return this.get(`/budgeting/forecasts/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Update a forecast\r\n   * @param id - Forecast ID\r\n   * @param data - Forecast update data (name, description, and optionally forecast_data)\r\n   */\r\n  async updateForecast(\r\n    id: number,\r\n    data: {\r\n      name?: string;\r\n      description?: string;\r\n      forecast_data?: Array<{\r\n        period?: string;\r\n        date?: string;\r\n        forecasted_value?: number;\r\n        method?: string;\r\n      }>;\r\n    },\r\n  ) {\r\n    return this.put(`/budgeting/forecasts/${id}`, data);\r\n  }\r\n\r\n  async deleteForecast(id: number, password: string) {\r\n    return this.post(`/budgeting/forecasts/${id}/delete`, { password });\r\n  }\r\n\r\n  // ============================================================================\r\n  // AI/ML MODEL TRAINING\r\n  // ============================================================================\r\n\r\n  /**\r\n   * Train all AI/ML models\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   */\r\n  async trainAllModels(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/all',\r\n      params: { start_date: startDate, end_date: endDate }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train ARIMA model for expenses\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   * @param order - ARIMA order (p,d,q) as string \"p,d,q\"\r\n   */\r\n  async trainExpensesArima(startDate: string, endDate: string, order: string = \"1,1,1\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/arima',\r\n      params: { start_date: startDate, end_date: endDate, order },\r\n      timeout: 120000 // 2 minutes for ARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for expenses\r\n   */\r\n  async trainExpensesProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Linear Regression model for expenses\r\n   */\r\n  async trainExpensesLinearRegression(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/linear-regression',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for revenue\r\n   */\r\n  async trainRevenueProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for revenue\r\n   */\r\n  async trainRevenueXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for revenue\r\n   */\r\n  async trainRevenueLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train SARIMA model for inventory\r\n   */\r\n  async trainInventorySARIMA(startDate: string, endDate: string, order: string = \"1,1,1\", seasonalOrder: string = \"1,1,1,12\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/sarima',\r\n      params: { start_date: startDate, end_date: endDate, order, seasonal_order: seasonalOrder },\r\n      timeout: 180000 // 3 minutes for SARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for inventory\r\n   */\r\n  async trainInventoryXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for inventory\r\n   */\r\n  async trainInventoryLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get auto-learning status and statistics\r\n   */\r\n  async getAutoLearnStatus() {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/auto-learn/status'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Manually trigger auto-learning for a metric\r\n   * @param metric - 'expense', 'revenue', or 'inventory'\r\n   */\r\n  async triggerAutoLearn(metric: 'expense' | 'revenue' | 'inventory') {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: `/budgeting/ml/auto-learn/trigger/${metric}`,\r\n      timeout: 300000 // 5 minutes for training\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get list of all trained models\r\n   * @param metric - Optional filter by metric\r\n   */\r\n  async getTrainedModels(metric?: 'expense' | 'revenue' | 'inventory') {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/models',\r\n      params: metric ? { metric } : {}\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get ML scheduler status and scheduled jobs\r\n   */\r\n  async getSchedulerStatus() {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/scheduler/status'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Generate forecast with AI-powered advice and recommendations\r\n   * @param metric - 'expense', 'revenue', or 'inventory'\r\n   * @param modelType - 'arima', 'sarima', 'prophet', 'xgboost', 'lstm', 'linear_regression'\r\n   * @param periods - Number of periods to forecast\r\n   */\r\n  async generateForecastWithAdvice(\r\n    metric: 'expense' | 'revenue' | 'inventory',\r\n    modelType: 'arima' | 'sarima' | 'prophet' | 'xgboost' | 'lstm' | 'linear_regression',\r\n    periods: number = 12\r\n  ) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/forecast/with-advice',\r\n      params: { metric, model_type: modelType, periods },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  // Variance Analysis\r\n  async calculateVariance(budgetId: number, periodStart: string, periodEnd: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/variance`, {}, {\r\n      params: { period_start: periodStart, period_end: periodEnd }\r\n    });\r\n  }\r\n\r\n  async getVarianceHistory(budgetId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance`, { params });\r\n  }\r\n\r\n  async getVarianceSummary(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance/summary`);\r\n  }\r\n\r\n  // ============================================================================\r\n  // INVENTORY MANAGEMENT API\r\n  // ============================================================================\r\n\r\n  async createInventoryItem(itemData: {\r\n    item_name: string;\r\n    buying_price: number;\r\n    expense_amount?: number;\r\n    selling_price: number;\r\n    quantity: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.post('/inventory/items', itemData);\r\n  }\r\n\r\n  async getInventoryItems(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    category?: string;\r\n    is_active?: boolean;\r\n    search?: string;\r\n  }) {\r\n    return this.get('/inventory/items', { params });\r\n  }\r\n\r\n  async getInventoryItem(itemId: number) {\r\n    return this.get(`/inventory/items/${itemId}`);\r\n  }\r\n\r\n  async updateInventoryItem(itemId: number, itemData: {\r\n    item_name?: string;\r\n    buying_price?: number;\r\n    expense_amount?: number;\r\n    selling_price?: number;\r\n    quantity?: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.put(`/inventory/items/${itemId}`, itemData);\r\n  }\r\n\r\n  async deleteInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  async activateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/deactivate`, { password });\r\n  }\r\n\r\n  async getInventoryAuditLogs(itemId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/inventory/items/${itemId}/audit`, { params });\r\n  }\r\n\r\n  async getLowStockItems(threshold?: number) {\r\n    return this.get('/inventory/items/low-stock/list', { params: { threshold } });\r\n  }\r\n\r\n  async getInventorySummary() {\r\n    return this.get('/inventory/summary');\r\n  }\r\n\r\n  // ============================================================================\r\n  // SALES API\r\n  // ============================================================================\r\n\r\n  async createSale(saleData: {\r\n    item_id: number;\r\n    quantity_sold: number;\r\n    customer_name?: string;\r\n    customer_email?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post('/sales/', saleData);\r\n  }\r\n\r\n  async getSales(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    status?: 'pending' | 'posted' | 'cancelled';\r\n    item_id?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    // Enforce backend maximum limit of 1000 to prevent 422 errors\r\n    // Backend has a hard limit of 1000 (le=1000), so cap any higher values\r\n    let safeLimit: number | undefined = params?.limit;\r\n    if (safeLimit !== undefined && safeLimit > 1000) {\r\n      console.warn(`getSales: Limit ${safeLimit} exceeds backend maximum of 1000. Capping to 1000.`);\r\n      safeLimit = 1000;\r\n    }\r\n\r\n    const safeParams = params ? {\r\n      ...params,\r\n      limit: safeLimit\r\n    } : undefined;\r\n\r\n    return this.get('/sales', { params: safeParams });\r\n  }\r\n\r\n  async getSale(saleId: number) {\r\n    return this.get(`/sales/${saleId}`);\r\n  }\r\n\r\n  async postSale(saleId: number, postData: {\r\n    debit_account?: string;\r\n    credit_account?: string;\r\n    reference_number?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post(`/sales/${saleId}/post`, postData);\r\n  }\r\n\r\n  async cancelSale(saleId: number) {\r\n    return this.post(`/sales/${saleId}/cancel`, {});\r\n  }\r\n\r\n  async getSalesSummary(params?: { start_date?: string; end_date?: string }) {\r\n    return this.get('/sales/summary/overview', { params });\r\n  }\r\n\r\n  async getReceipt(saleId: number) {\r\n    return this.get(`/sales/receipt/${saleId}`);\r\n  }\r\n\r\n  async getJournalEntries(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    return this.get('/sales/journal-entries/list', { params });\r\n  }\r\n\r\n  /**\r\n   * Submit a contact/support message\r\n   * You can override the endpoint path with NEXT_PUBLIC_CONTACT_ENDPOINT (e.g. \"/contact\")\r\n   * Note: The base URL already includes /api/v1, so the path should be relative to that\r\n   */\r\n  async submitContact(payload: { name: string; email: string; message: string }) {\r\n    const contactPath = process.env.NEXT_PUBLIC_CONTACT_ENDPOINT || '/contact';\r\n    return this.post(contactPath, payload);\r\n  }\r\n\r\n  // Generic request method\r\n  async request<T = unknown>(config: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.request<T>(config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n}\r\n\r\nexport const apiClient = new ApiClient();\r\nexport default apiClient;"],"names":[],"mappings":"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","debugId":null}},
frontend/.next/server/chunks/ssr/app_report_ClientPage_tsx_3b9060b3._.js:`;function ad(){let{user:a}=(0,j.useAuth)(),d=(0,k.default)(a=>a.user),[G,H]=(0,c.useState)(!0),[ad,ae]=(0,c.useState)(null),[af,ag]=(0,c.useState)(()=>{let a=new Date;return a.setFullYear(a.getFullYear()-1),a.setDate(1),a.toISOString().split("T")[0]}),[ah,ai]=(0,c.useState)(()=>{let a=new Date;return a.setDate(a.getDate()+1),a.toISOString().split("T")[0]}),[aj,ak]=(0,c.useState)(null),[al,am]=(0,c.useState)(null),[an,ao]=(0,c.useState)(null),[ap,aq]=(0,c.useState)(null),[ar,as]=(0,c.useState)(null),[at,au]=(0,c.useState)([]),[av,aw]=(0,c.useState)(null),[ax,ay]=(0,c.useState)(!1),[az,aA]=(0,c.useState)(null),aB=a=>{if(null==a||""===a)return 0;let b=Number(a);return isNaN(b)?0:b},aC=(0,c.useCallback)(async(b=!0)=>{if(!a)return void H(!1);H(!0),ae(null);try{let c=a?.role?.toLowerCase(),e=null,f="admin"===c||"super_admin"===c;if(f)e=null;else if(("finance_manager"===c||"finance_admin"===c)&&a?.id)try{let b="string"==typeof a.id?parseInt(a.id,10):a.id,c=await i.apiClient.getSubordinates(b),d=(c?.data||[]).map(a=>{let b="string"==typeof a.id?parseInt(a.id,10):Number(a.id),c=(a.role||"").toLowerCase();if(!Number.isNaN(b)&&("accountant"===c||"employee"===c))return b}).filter(a=>void 0!==a);e=[b,...d]}catch(b){console.warn("Failed to fetch subordinates, using only finance admin ID:",b),e=["string"==typeof a.id?parseInt(a.id,10):a.id]}else if("accountant"===c&&a?.id){let b="string"==typeof a.id?parseInt(a.id,10):a.id,c=null,f=d?.managerId;if(f)c="string"==typeof f?parseInt(f,10):Number(f);else try{let a=await i.apiClient.getCurrentUser(),b=a?.data;b?.manager_id!==void 0&&b?.manager_id!==null&&(c="string"==typeof b.manager_id?parseInt(b.manager_id,10):Number(b.manager_id))}catch(a){console.warn("Failed to fetch current user profile for manager_id:",a)}if(c)try{let a=c,b=await i.apiClient.getSubordinates(a),d=(b?.data||[]).map(a=>{let b="string"==typeof a.id?parseInt(a.id,10):Number(a.id),c=(a.role||"").toLowerCase();if(!Number.isNaN(b)&&("accountant"===c||"employee"===c))return b}).filter(a=>void 0!==a);e=[a,...d]}catch(a){console.error("Failed to fetch Finance Admin subordinates for accountant:",a),e=[c]}else console.warn("Accountant has no manager (Finance Admin) assigned - using only accountant ID"),e=[b]}else"employee"===c&&a?.id&&(e=["string"==typeof a.id?parseInt(a.id,10):a.id]);let g=b?{startDate:af,endDate:ah}:{startDate:void 0,endDate:void 0},h=[];try{let a=await i.apiClient.getSales({status:"posted",limit:1e3,start_date:g.startDate?new Date(g.startDate+"T00:00:00").toISOString():void 0,end_date:g.endDate?new Date(g.endDate+"T23:59:59").toISOString():void 0});h=(Array.isArray(a?.data)?a.data:a?.data&&"object"==typeof a.data&&"data"in a.data&&a.data.data||[])||[],!f&&e&&e.length>0&&(h=h.filter(a=>{let b=a.sold_by_id||a.soldBy||a.sold_by||a.created_by_id||a.createdBy;if(!b)return!1;let c="string"==typeof b?parseInt(b,10):"number"==typeof b?b:NaN;return!isNaN(c)&&e.includes(c)}))}catch(a){console.warn("Failed to fetch detailed sales data for reports:",a)}let j=a?.role==="finance_manager"||a?.role==="finance_admin"||a?.role==="admin"||a?.role==="super_admin"||a?.role==="manager",k=a?.role==="accountant"||a?.role==="finance_manager"||a?.role==="finance_admin"||a?.role==="admin"||a?.role==="super_admin"||a?.role==="manager",m=a?.role==="finance_manager"||a?.role==="finance_admin"||a?.role==="admin"||a?.role==="super_admin"||a?.role==="manager",[n,o,p,q,r,s]=await Promise.allSettled([i.apiClient.getFinancialSummary(g.startDate,g.endDate),i.apiClient.getIncomeStatement(g.startDate,g.endDate),i.apiClient.getCashFlow(g.startDate,g.endDate),j?i.apiClient.getInventorySummary().catch(a=>{if(a.response?.status===403)return{data:null};throw a}):Promise.resolve({data:null}),k?i.apiClient.getSalesSummary({start_date:g.startDate?new Date(g.startDate+"T00:00:00").toISOString():void 0,end_date:g.endDate?new Date(g.endDate+"T23:59:59").toISOString():void 0}).catch(a=>{if(a.response?.status===403)return{data:null};throw a}):Promise.resolve({data:null}),m?i.apiClient.getForecasts({limit:100}).catch(a=>{if(a.response?.status===403)return{data:[]};throw a}):Promise.resolve({data:[]})]),t=h.filter(a=>"posted"===a.status||"POSTED"===a.status||a.status?.toLowerCase()==="posted"),u=t.reduce((a,b)=>a+aB(b.total_sale),0),v={};if(t.forEach(a=>{let b=a.item?.category||a.category||"Sales";v[b]=(v[b]||0)+aB(a.total_sale)}),"fulfilled"===n.status){let a=n.value.data||n.value;if(a&&(a.financials||a.revenue_by_category||a.expenses_by_category)){let b=aB(a.financials?.total_revenue),c=aB(a.financials?.total_expenses),d=b+u,e=d-c,f={...a,financials:{...a.financials,total_sales:aB(u),total_revenue:d,total_expenses:c,profit:e,profit_margin:d>0?e/d*100:0},sales_by_category:v,transaction_counts:{...a.transaction_counts,sales:t.length,total:(a.transaction_counts?.total||0)+t.length}};ak(f)}else console.warn("Invalid summary data structure:",a),ak(null)}else if("fulfilled"===o.status){let a=o.value.data,b=Object.keys(a.revenue?.by_category||{}).length,c=Object.keys(a.expenses?.by_category||{}).length,d=a.revenue&&"object"==typeof a.revenue?a.revenue:{},e=a.expenses&&"object"==typeof a.expenses?a.expenses:{},f=aB(d.total),g=aB(e.total),h=f+u,i=h-g;ak({period:{start_date:af,end_date:ah},financials:{total_revenue:h,total_sales:aB(u),total_expenses:g,profit:i,profit_margin:h>0?i/h*100:0},revenue_by_category:a.revenue?.by_category||{},sales_by_category:v,expenses_by_category:a.expenses?.by_category||{},transaction_counts:{revenue:b>0?b:0,sales:t.length,expenses:c>0?c:0,total:b+c+t.length},generated_at:new Date().toISOString()})}else ak(null);if("fulfilled"===o.status){let a=o.value.data||o.value;if(a&&(a.revenue||a.expenses)){let b=aB(a.revenue&&"object"==typeof a.revenue&&null!==a.revenue&&"total"in a.revenue?a.revenue.total:0),c=aB(a.expenses&&"object"==typeof a.expenses&&null!==a.expenses&&"total"in a.expenses?a.expenses.total:0),d=b+u,e=d-c,f={...a,sales:{total:aB(u),by_category:v},revenue:{by_category:(a.revenue&&"object"==typeof a.revenue&&"by_category"in a.revenue?a.revenue.by_category:void 0)||{},total:d},profit:e,profit_margin:d>0?e/d*100:0};am(f)}else am(null)}else console.error("Failed to load income statement:",o.reason),am(null);if("fulfilled"===p.status){let a=p.value.data||p.value;if(a&&(a.summary||a.daily_cash_flow)){let b={};t.forEach(a=>{let c=a.created_at?new Date(a.created_at).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];b[c]||(b[c]={inflow:0,outflow:0,net:0});let d=aB(a.total_sale);b[c].inflow+=d,b[c].net+=d});let c={...a.daily_cash_flow};Object.entries(b).forEach(([a,b])=>{c[a]?(c[a].inflow+=b.inflow,c[a].net+=b.net):c[a]=b});let d=aB(a.summary?.total_inflow),e=aB(a.summary?.net_cash_flow),f=u;if("fulfilled"===r.status){let a=r.value.data||r.value;a&&"object"==typeof a&&"total_revenue"in a&&(f=aB(a.total_revenue))}let g={...a,summary:{...a.summary,total_inflow:d+f,net_cash_flow:e+f},daily_cash_flow:c};ao(g)}else ao(null)}else console.error("Failed to load cash flow:",p.reason),ao(null);if("fulfilled"===q.status){let a=q.value.data||q.value;a&&"object"==typeof a&&("total_items"in a||"total_selling_value"in a)?aq(a):aq(null)}else q.reason?.response?.status!==403&&console.warn("Failed to load inventory summary:",q.reason),aq(null);if("fulfilled"===r.status){let a=r.value.data||r.value;if(a&&"object"==typeof a&&("total_sales"in a||"total_revenue"in a)){if(as(a),"fulfilled"===n.status){let b=n.value.data||n.value;if(b&&(b.financials||b.revenue_by_category||b.expenses_by_category)){let c=aB(b.financials?.total_revenue),d=aB(b.financials?.total_expenses),e=aB(a.total_revenue),f=c+e,g=f-d,h={...b,financials:{...b.financials,total_sales:e,total_revenue:f,total_expenses:d,profit:g,profit_margin:f>0?g/f*100:0},sales_by_category:v,transaction_counts:{...b.transaction_counts,sales:a.posted_sales||t.length,total:(b.transaction_counts?.total||0)+(a.posted_sales||t.length)}};ak(h)}}}else as(null)}else r.reason?.response?.status!==403&&console.warn("Failed to load sales summary:",r.reason),as(null);if("fulfilled"===s.status){let a=s.value?.data||s.value||[],b=(Array.isArray(a)?a:[]).map(a=>{if("string"==typeof a.forecast_data)try{a.forecast_data=JSON.parse(a.forecast_data)}catch{a.forecast_data=[]}if("string"==typeof a.method_params)try{a.method_params=JSON.parse(a.method_params)}catch{a.method_params={}}return a});au(b)}else s.reason?.response?.status!==403&&console.warn("Failed to load forecasts:",s.reason),au([]);if("rejected"===n.status&&"rejected"===o.status&&"rejected"===p.status){let a=n.reason||o.reason||p.reason,b="Failed to load reports";if(a?.response?.data?.detail){let c=a.response.data.detail;"string"==typeof c?b=c:Array.isArray(c)&&(b=c.map(a=>"string"==typeof a?a:a.msg||JSON.stringify(a)).join(", "))}else a?.message&&(b=a.message);ae(b),l.toast.error(b),ak(null),am(null),ao(null)}}catch(b){let a="Failed to load reports";if(b.response?.data?.detail){let c=b.response.data.detail;a=Array.isArray(c)?c.map(a=>"string"==typeof a?a:a.msg?`${a.loc?.join(".")||"Field"}: ${a.msg}`:JSON.stringify(a)).join(", "):"object"==typeof c&&c&&"msg"in c?`${c.loc?.join(".")||"Field"}: ${c.msg}`:"string"==typeof c?c:JSON.stringify(c)}else b.message&&(a=b.message);ae(a),l.toast.error(a)}finally{H(!1)}},[a,d?.managerId,af,ah]);(0,c.useEffect)(()=>{if(a){let a=setTimeout(()=>{aC(!0)},100);return()=>clearTimeout(a)}},[a,aC]),(0,c.useEffect)(()=>{if(a&&af&&ah){let a=setTimeout(()=>{aC(!0)},300);return()=>clearTimeout(a)}},[af,ah,aC,a]);let aD=a=>{let b=aB(a);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(b)},aE=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",aF=a=>a&&"string"==typeof a?a.charAt(0).toUpperCase()+a.slice(1).replace(/_/g," "):"",aG=async(a,b)=>{aA(`${a}-${b}`);try{let c=await i.apiClient.generateForecastWithAdvice(a,b,12),d=c?.data||c;d?.status==="success"&&(aw(c=>({...c,[a]:{...d,model_type:b,generated_at:new Date().toISOString()}})),l.toast.success(`${aF(a)} forecast with AI advice generated successfully!`))}catch(b){let a=b?.response?.data?.detail||b?.message||"Failed to generate forecast";l.toast.error(a)}finally{aA(null)}},aH=async()=>{if(a&&(a?.role==="admin"||a?.role==="super_admin"||a?.role==="finance_admin"||a?.role==="finance_manager"||a?.role==="manager")){ay(!0);try{let a={},b={expense:["arima","linear_regression"],revenue:["xgboost","prophet"],inventory:["sarima","xgboost"]};for(let c of["expense","revenue","inventory"])for(let d of b[c])try{let b=await i.apiClient.generateForecastWithAdvice(c,d,12),e=b?.data||b;if(e?.status==="success"){a[c]={...e,model_type:d,generated_at:new Date().toISOString()};break}}catch(a){continue}aw(a)}catch(a){console.error("Failed to load ML insights:",a)}finally{ay(!1)}}};return a?(0,b.jsx)(h.default,{children:(0,b.jsxs)(I,{children:[(0,b.jsxs)(J,{children:[(0,b.jsx)("h1",{children:"Financial Reports"}),(0,b.jsx)("p",{children:"Income Statement and Cash Flow Analysis"})]}),(0,b.jsxs)(K,{children:[(0,b.jsxs)(L,{children:[(0,b.jsx)(g.Label,{htmlFor:"startDate",children:"Start Date"}),(0,b.jsx)(f.Input,{id:"startDate",type:"date",value:af,onChange:a=>ag(a.target.value)})]}),(0,b.jsxs)(L,{children:[(0,b.jsx)(g.Label,{htmlFor:"endDate",children:"End Date"}),(0,b.jsx)(f.Input,{id:"endDate",type:"date",value:ah,onChange:a=>ai(a.target.value)})]}),(0,b.jsxs)(X,{children:[(0,b.jsx)(e.Button,{onClick:()=>{let a=new Date;a.setFullYear(a.getFullYear()-1),a.setDate(1);let b=new Date;b.setDate(b.getDate()+1),ag(a.toISOString().split("T")[0]),ai(b.toISOString().split("T")[0]),aC(!0)},variant:"outline",disabled:G,children:"Show All Data (1 Year)"}),(0,b.jsx)(e.Button,{onClick:a=>{a.preventDefault(),aC(!1)},variant:"outline",disabled:G,children:"Load Without Date Filter"}),(0,b.jsx)(e.Button,{onClick:()=>aC(!0),disabled:G,children:G?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.RefreshCw,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]})]}),ad&&(0,b.jsxs)(V,{children:[(0,b.jsx)(v.AlertCircle,{}),(0,b.jsx)("span",{children:ad})]}),G?(0,b.jsxs)(T,{children:[(0,b.jsx)(U,{}),(0,b.jsx)("p",{children:"Loading financial reports..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(M,{children:(0,b.jsxs)(N,{children:[(0,b.jsx)(O,{children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{children:[(0,b.jsx)(u.BarChart3,{}),"Financial Summary Report"]}),(0,b.jsxs)("p",{children:["Period: ",aE(af)," - ",aE(ah),aj?.generated_at&&(0,b.jsxs)(b.Fragment,{children:["  Generated: ",aE(aj.generated_at)]})]})]})}),aj?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(P,{children:[(0,b.jsxs)(Q,{$type:"revenue",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(r.ArrowUpRight,{size:16}),"Total Revenue"]}),(0,b.jsx)("div",{className:"value",children:aD(aj.financials?.total_revenue)}),(0,b.jsxs)("div",{className:"sub-value",children:[aj.transaction_counts?.revenue||0," revenue transactions"]})]}),(0,b.jsxs)(Q,{$type:"revenue",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(w.ShoppingCart,{size:16}),"Total Sales"]}),(0,b.jsx)("div",{className:"value",children:aD(aj.financials?.total_sales)}),(0,b.jsxs)("div",{className:"sub-value",children:[aj.transaction_counts?.sales||0," sales transactions"]})]}),(0,b.jsxs)(Q,{$type:"expense",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(s.ArrowDownRight,{size:16}),"Total Expenses"]}),(0,b.jsx)("div",{className:"value",children:aD(aj.financials?.total_expenses)}),(0,b.jsxs)("div",{className:"sub-value",children:[aj.transaction_counts?.expenses||0," expense transactions"]})]}),(0,b.jsxs)(Q,{$type:"profit",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(o.TrendingUp,{size:16}),"Net Profit"]}),(0,b.jsx)("div",{className:"value",children:aD(aj.financials?.profit)}),(0,b.jsxs)("div",{className:"sub-value",children:["Profit Margin: ",aB(aj.financials?.profit_margin).toFixed(2),"%"]})]}),(0,b.jsxs)(Q,{children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(t.FileText,{size:16}),"Total Transactions"]}),(0,b.jsx)("div",{className:"value",children:aj.transaction_counts?.total||0}),(0,b.jsxs)("div",{className:"sub-value",children:[aj.transaction_counts?.revenue||0," revenue + ",aj.transaction_counts?.sales||0," sales + ",aj.transaction_counts?.expenses||0," expenses"]})]})]}),(0,b.jsxs)(Z,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(Y,{children:"Top Revenue Categories"}),(0,b.jsxs)(R,{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Category"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Amount"})]})}),(0,b.jsx)("tbody",{children:aj.revenue_by_category&&Object.entries(aj.revenue_by_category).length>0?Object.entries(aj.revenue_by_category).sort(([,a],[,b])=>b-a).slice(0,5).map(([a,c])=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:aF(a)}),(0,b.jsx)("td",{style:{textAlign:"right"},children:aD(c)})]},a)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:2,style:{textAlign:"center",color:F},children:"No revenue data"})})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(Y,{children:"Top Sales Categories"}),(0,b.jsxs)(R,{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Category"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Amount"})]})}),(0,b.jsx)("tbody",{children:aj.sales_by_category&&Object.entries(aj.sales_by_category).length>0?Object.entries(aj.sales_by_category).sort(([,a],[,b])=>b-a).slice(0,5).map(([a,c])=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:aF(a)}),(0,b.jsx)("td",{style:{textAlign:"right"},children:aD(c)})]},a)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:2,style:{textAlign:"center",color:F},children:"No sales data"})})})]})]})]}),(0,b.jsxs)("div",{style:{marginTop:m.theme.spacing.xl},children:[(0,b.jsx)(Y,{children:"Top Expense Categories"}),(0,b.jsxs)(R,{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Category"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Amount"})]})}),(0,b.jsx)("tbody",{children:aj.expenses_by_category&&Object.entries(aj.expenses_by_category).length>0?Object.entries(aj.expenses_by_category).sort(([,a],[,b])=>b-a).slice(0,5).map(([a,c])=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:aF(a)}),(0,b.jsx)("td",{style:{textAlign:"right",color:"#dc2626",fontWeight:m.theme.typography.fontWeights.bold},children:aD(c)})]},a)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:2,style:{textAlign:"center",color:F},children:"No expense data"})})})]})]})]}):(0,b.jsxs)(W,{children:[(0,b.jsx)(u.BarChart3,{size:48}),(0,b.jsx)("h3",{children:"No summary data available"})]})]})}),(0,b.jsx)(M,{children:(0,b.jsxs)(N,{children:[(0,b.jsx)(O,{children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{children:[(0,b.jsx)(t.FileText,{}),"Income Statement (Profit & Loss)"]}),(0,b.jsxs)("p",{children:["Period: ",aE(af)," - ",aE(ah)]})]})}),al?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(P,{children:[(0,b.jsxs)(Q,{$type:"revenue",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(r.ArrowUpRight,{size:16}),"Total Revenue"]}),(0,b.jsx)("div",{className:"value",children:aD(al.revenue?.total||0)}),(0,b.jsx)("div",{className:"sub-value",children:"Includes sales revenue"})]}),(0,b.jsxs)(Q,{$type:"revenue",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(w.ShoppingCart,{size:16}),"Sales Revenue"]}),(0,b.jsx)("div",{className:"value",children:aD(al.sales?.total||0)})]}),(0,b.jsxs)(Q,{$type:"expense",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(s.ArrowDownRight,{size:16}),"Total Expenses"]}),(0,b.jsx)("div",{className:"value",children:aD(al.expenses?.total||0)})]}),(0,b.jsxs)(Q,{$type:"profit",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(o.TrendingUp,{size:16}),"Net Profit"]}),(0,b.jsx)("div",{className:"value",children:aD(al.profit||0)}),(0,b.jsxs)("div",{className:"sub-value",children:["Profit Margin: ",(al.profit_margin||0).toFixed(2),"%"]})]})]}),(0,b.jsxs)("div",{style:{marginTop:m.theme.spacing.xl},children:[(0,b.jsx)(Y,{children:"Revenue by Category"}),(0,b.jsxs)(R,{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Category"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Amount"})]})}),(0,b.jsx)("tbody",{children:al.revenue?.by_category&&Object.entries(al.revenue.by_category).length>0?Object.entries(al.revenue.by_category).sort(([,a],[,b])=>b-a).map(([a,c])=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:aF(a)}),(0,b.jsx)("td",{style:{textAlign:"right"},children:aD(c)})]},a)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:2,style:{textAlign:"center",color:F},children:"No revenue data for this period"})})})]})]}),al.sales?.by_category&&Object.entries(al.sales.by_category).length>0&&(0,b.jsxs)("div",{style:{marginTop:m.theme.spacing.xl},children:[(0,b.jsx)(Y,{children:"Sales by Category"}),(0,b.jsxs)(R,{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Category"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Amount"})]})}),(0,b.jsx)("tbody",{children:Object.entries(al.sales.by_category).sort(([,a],[,b])=>b-a).map(([a,c])=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:aF(a)}),(0,b.jsx)("td",{style:{textAlign:"right"},children:aD(c)})]},a))})]})]}),(0,b.jsxs)("div",{style:{marginTop:m.theme.spacing.xl},children:[(0,b.jsx)(Y,{children:"Expenses by Category"}),(0,b.jsxs)(R,{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Category"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Amount"})]})}),(0,b.jsx)("tbody",{children:al.expenses?.by_category&&Object.entries(al.expenses.by_category).length>0?Object.entries(al.expenses.by_category).sort(([,a],[,b])=>b-a).map(([a,c])=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:aF(a)}),(0,b.jsx)("td",{style:{textAlign:"right",color:"#dc2626",fontWeight:m.theme.typography.fontWeights.bold},children:aD(c)})]},a)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:2,style:{textAlign:"center",color:F},children:"No expense data for this period"})})})]})]})]}):(0,b.jsxs)(W,{children:[(0,b.jsx)(t.FileText,{size:48}),(0,b.jsx)("h3",{children:"No income statement data available"})]})]})}),(0,b.jsx)(M,{children:(0,b.jsxs)(N,{children:[(0,b.jsx)(O,{children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{children:[(0,b.jsx)(u.BarChart3,{}),"Cash Flow Statement"]}),(0,b.jsxs)("p",{children:["Period: ",aE(af)," - ",aE(ah)]})]})}),an?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(P,{children:[(0,b.jsxs)(Q,{$type:"revenue",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(r.ArrowUpRight,{size:16}),"Cash Inflow"]}),(0,b.jsx)("div",{className:"value",children:aD(an.summary?.total_inflow||0)}),(0,b.jsx)("div",{className:"sub-value",children:"Money coming in"})]}),(0,b.jsxs)(Q,{$type:"expense",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(s.ArrowDownRight,{size:16}),"Cash Outflow"]}),(0,b.jsx)("div",{className:"value",children:aD(an.summary?.total_outflow||0)}),(0,b.jsx)("div",{className:"sub-value",children:"Money going out"})]}),(0,b.jsxs)(Q,{$type:"profit",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(o.TrendingUp,{size:16}),"Net Cash Flow"]}),(0,b.jsx)("div",{className:"value",children:aD(an.summary?.net_cash_flow||0)}),(0,b.jsx)("div",{className:"sub-value",children:"Actual cash available"})]})]}),(0,b.jsxs)("div",{style:{marginTop:m.theme.spacing.xl},children:[(0,b.jsx)(Y,{children:"Daily Cash Flow"}),(0,b.jsxs)(S,{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Date"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Inflow"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Outflow"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Net"})]})}),(0,b.jsx)("tbody",{children:an.daily_cash_flow&&Object.entries(an.daily_cash_flow).length>0?Object.entries(an.daily_cash_flow).sort(([a],[b])=>b.localeCompare(a)).map(([a,c])=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:aE(a)}),(0,b.jsx)("td",{style:{textAlign:"right"},children:c.inflow>0?aD(c.inflow):""}),(0,b.jsx)("td",{style:{textAlign:"right"},children:c.outflow>0?aD(c.outflow):""}),(0,b.jsx)("td",{style:{textAlign:"right"},children:aD(c.net||0)})]},a)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,style:{textAlign:"center",color:F},children:"No cash flow data for this period"})})})]})]})]}):(0,b.jsxs)(W,{children:[(0,b.jsx)(u.BarChart3,{size:48}),(0,b.jsx)("h3",{children:"No cash flow data available"})]})]})}),(a?.role==="accountant"||a?.role==="finance_manager"||a?.role==="finance_admin"||a?.role==="admin"||a?.role==="super_admin"||a?.role==="manager")&&(0,b.jsx)(M,{children:(0,b.jsxs)(N,{children:[(0,b.jsx)(O,{children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{children:[(0,b.jsx)(w.ShoppingCart,{}),"Sales Summary Report"]}),(0,b.jsxs)("p",{children:["Period: ",aE(af)," - ",aE(ah),ar?.period_start&&ar?.period_end&&(0,b.jsxs)(b.Fragment,{children:["  Sales Period: ",aE(ar.period_start)," - ",aE(ar.period_end)]})]})]})}),ar?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(P,{children:[(0,b.jsxs)(Q,{$type:"revenue",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(w.ShoppingCart,{size:16}),"Total Sales"]}),(0,b.jsx)("div",{className:"value",children:ar.total_sales||0}),(0,b.jsx)("div",{className:"sub-value",children:"All sales transactions"})]}),(0,b.jsxs)(Q,{$type:"revenue",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(n.DollarSign,{size:16}),"Total Sales Revenue"]}),(0,b.jsx)("div",{className:"value",children:aD(ar.total_revenue||0)}),(0,b.jsx)("div",{className:"sub-value",children:"From posted sales only"})]}),(0,b.jsxs)(Q,{$type:"profit",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(o.TrendingUp,{size:16}),"Posted Sales"]}),(0,b.jsx)("div",{className:"value",children:ar.posted_sales||0}),(0,b.jsx)("div",{className:"sub-value",children:"Approved and posted"})]}),(0,b.jsxs)(Q,{$type:"expense",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(v.AlertCircle,{size:16}),"Pending Sales"]}),(0,b.jsx)("div",{className:"value",children:ar.pending_sales||0}),(0,b.jsx)("div",{className:"sub-value",children:"Awaiting approval"})]})]}),(0,b.jsxs)("div",{style:{marginTop:m.theme.spacing.xl},children:[(0,b.jsx)(Y,{children:"Sales Status Breakdown"}),(0,b.jsxs)(R,{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Status"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Count"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Percentage"})]})}),(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Posted (Approved)"}),(0,b.jsx)("td",{style:{textAlign:"right"},children:ar.posted_sales||0}),(0,b.jsxs)("td",{style:{textAlign:"right"},children:[ar.total_sales>0?((ar.posted_sales||0)/ar.total_sales*100).toFixed(1):0,"%"]})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Pending (Awaiting Approval)"}),(0,b.jsx)("td",{style:{textAlign:"right"},children:ar.pending_sales||0}),(0,b.jsxs)("td",{style:{textAlign:"right"},children:[ar.total_sales>0?((ar.pending_sales||0)/ar.total_sales*100).toFixed(1):0,"%"]})]}),(0,b.jsxs)("tr",{style:{fontWeight:m.theme.typography.fontWeights.bold,borderTop:`2px solid ${m.theme.colors.border}`},children:[(0,b.jsx)("td",{children:"Total"}),(0,b.jsx)("td",{style:{textAlign:"right"},children:ar.total_sales||0}),(0,b.jsx)("td",{style:{textAlign:"right"},children:"100%"})]})]})]})]})]}):(0,b.jsxs)(W,{children:[(0,b.jsx)(w.ShoppingCart,{size:48}),(0,b.jsx)("h3",{children:"No sales data available"}),(0,b.jsx)("p",{children:"Sales summary is only available to Accountant, Finance Admin, Admin, and Manager roles."})]})]})}),(a?.role==="finance_manager"||a?.role==="finance_admin"||a?.role==="admin"||a?.role==="super_admin"||a?.role==="manager")&&(0,b.jsx)(M,{children:(0,b.jsxs)(N,{children:[(0,b.jsx)(O,{children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{children:[(0,b.jsx)(x.Package,{}),"Inventory Summary"]}),(0,b.jsx)("p",{children:"Current inventory valuation and stock levels"})]})}),ap?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(P,{children:[(0,b.jsxs)(Q,{$type:"revenue",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(x.Package,{size:16}),"Total Items"]}),(0,b.jsx)("div",{className:"value",children:ap.total_items||0}),(0,b.jsx)("div",{className:"sub-value",children:"Active inventory items"})]}),(0,b.jsxs)(Q,{$type:"expense",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(n.DollarSign,{size:16}),"Total Cost Value"]}),(0,b.jsx)("div",{className:"value",children:aD(ap.total_cost_value||0)}),(0,b.jsx)("div",{className:"sub-value",children:"Investment in inventory"})]}),(0,b.jsxs)(Q,{$type:"revenue",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(o.TrendingUp,{size:16}),"Total Selling Value"]}),(0,b.jsx)("div",{className:"value",children:aD(ap.total_selling_value||0)}),(0,b.jsx)("div",{className:"sub-value",children:"Potential revenue if all sold"})]}),(0,b.jsxs)(Q,{$type:"profit",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(o.TrendingUp,{size:16}),"Potential Profit"]}),(0,b.jsx)("div",{className:"value",children:aD(ap.potential_profit||0)}),(0,b.jsx)("div",{className:"sub-value",children:"Profit if all inventory sold"})]}),void 0!==ap.total_quantity_in_stock&&(0,b.jsxs)(Q,{children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(x.Package,{size:16}),"Total Stock Quantity"]}),(0,b.jsx)("div",{className:"value",children:ap.total_quantity_in_stock.toLocaleString()}),(0,b.jsx)("div",{className:"sub-value",children:"Total units in stock"})]})]}),(0,b.jsxs)("div",{style:{marginTop:m.theme.spacing.xl},children:[(0,b.jsx)(Y,{children:"Inventory Valuation Analysis"}),(0,b.jsxs)(R,{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Metric"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Value"})]})}),(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Total Inventory Items"}),(0,b.jsx)("td",{style:{textAlign:"right"},children:ap.total_items||0})]}),void 0!==ap.total_quantity_in_stock&&(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Total Stock Quantity"}),(0,b.jsxs)("td",{style:{textAlign:"right"},children:[ap.total_quantity_in_stock.toLocaleString()," units"]})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Total Cost Value (Investment)"}),(0,b.jsx)("td",{style:{textAlign:"right"},children:aD(ap.total_cost_value||0)})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Total Selling Value (Potential Revenue)"}),(0,b.jsx)("td",{style:{textAlign:"right"},children:aD(ap.total_selling_value||0)})]}),(0,b.jsxs)("tr",{style:{fontWeight:m.theme.typography.fontWeights.bold,borderTop:`2px solid ${m.theme.colors.border}`},children:[(0,b.jsx)("td",{children:"Potential Profit"}),(0,b.jsx)("td",{style:{textAlign:"right",color:D},children:aD(ap.potential_profit||0)})]}),ap.total_cost_value>0&&(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Profit Margin (Potential)"}),(0,b.jsxs)("td",{style:{textAlign:"right"},children:[((ap.potential_profit||0)/ap.total_cost_value*100).toFixed(2),"%"]})]})]})]})]})]}):(0,b.jsxs)(W,{children:[(0,b.jsx)(x.Package,{size:48}),(0,b.jsx)("h3",{children:"No inventory data available"}),(0,b.jsx)("p",{children:"Inventory summary is only available to Finance Admin, Admin, and Manager roles."})]})]})}),(a?.role==="finance_manager"||a?.role==="finance_admin"||a?.role==="admin"||a?.role==="super_admin"||a?.role==="manager")&&(0,b.jsx)(M,{children:(0,b.jsxs)(N,{children:[(0,b.jsxs)(O,{children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{children:[(0,b.jsx)(z.Brain,{}),"AI-Powered Insights & Recommendations"]}),(0,b.jsx)("p",{children:"Get intelligent forecasts and actionable advice based on ML analysis"})]}),(0,b.jsx)("div",{style:{display:"flex",gap:m.theme.spacing.sm},children:(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:aH,disabled:ax,children:ax?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.Loader2,{size:14,style:{marginRight:m.theme.spacing.xs,animation:"spin 1s linear infinite"}}),"Loading..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.RefreshCw,{size:14,style:{marginRight:m.theme.spacing.xs}}),"Generate Insights"]})})})]}),av&&Object.keys(av).length>0?(0,b.jsx)(b.Fragment,{children:Object.entries(av).map(([a,c])=>{if(!c||!c.forecast)return null;let d=c.trend_analysis,e=c.advice||[],f=c.alerts||[];return(0,b.jsxs)("div",{style:{marginBottom:m.theme.spacing.xl},children:[(0,b.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:m.theme.spacing.md},children:(0,b.jsxs)(Y,{children:[aF(a)," Forecast & Insights",c.model_type&&"string"==typeof c.model_type&&(0,b.jsxs)("span",{style:{fontSize:m.theme.typography.fontSizes.sm,fontWeight:400,color:F,marginLeft:m.theme.spacing.sm},children:["(Model: ",c.model_type.toUpperCase(),")"]})]})}),d&&(0,b.jsxs)("div",{style:{background:m.theme.colors.backgroundSecondary,padding:m.theme.spacing.lg,borderRadius:m.theme.borderRadius.md,marginBottom:m.theme.spacing.md},children:[(0,b.jsx)("div",{style:{fontSize:m.theme.typography.fontSizes.sm,fontWeight:m.theme.typography.fontWeights.medium,color:F,marginBottom:m.theme.spacing.sm},children:"Trend Analysis"}),(0,b.jsxs)("div",{style:{display:"flex",gap:m.theme.spacing.md,flexWrap:"wrap"},children:[(0,b.jsxs)(aa,{$direction:d?.direction||"stable",children:[d?.direction==="increasing"?(0,b.jsx)(r.ArrowUpRight,{size:14}):d?.direction==="decreasing"?(0,b.jsx)(s.ArrowDownRight,{size:14}):(0,b.jsx)(o.TrendingUp,{size:14}),aF(d?.direction||"stable")," ",d?.percentage!==void 0&&null!==d.percentage&&`(${Math.abs(d.percentage).toFixed(1)}%)`]}),(0,b.jsxs)("span",{style:{color:F,fontSize:m.theme.typography.fontSizes.sm},children:[d?.average!==void 0&&`Avg: ${aD(d.average)}`,d?.average!==void 0&&(d?.max!==void 0||d?.min!==void 0)&&" | ",d?.max!==void 0&&`Max: ${aD(d.max)}`,d?.max!==void 0&&d?.min!==void 0&&" | ",d?.min!==void 0&&`Min: ${aD(d.min)}`]})]})]}),c.summary&&(0,b.jsx)("div",{style:{background:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:m.theme.borderRadius.md,padding:m.theme.spacing.md,marginBottom:m.theme.spacing.md},children:(0,b.jsxs)("div",{style:{display:"flex",gap:m.theme.spacing.sm,alignItems:"flex-start",color:"#1e40af",fontSize:m.theme.typography.fontSizes.sm,lineHeight:"1.6"},children:[(0,b.jsx)(B,{size:16,style:{marginTop:"2px",flexShrink:0}}),(0,b.jsx)("div",{children:c.summary||"No summary available"})]})}),f.length>0&&(0,b.jsxs)("div",{style:{marginBottom:m.theme.spacing.md},children:[(0,b.jsx)(Y,{style:{fontSize:m.theme.typography.fontSizes.md,marginBottom:m.theme.spacing.sm},children:"Alerts"}),f.map((a,c)=>a&&"object"==typeof a?(0,b.jsxs)(_,{$severity:a.severity||"low",children:[(0,b.jsx)(v.AlertCircle,{className:"alert-icon",size:18}),(0,b.jsx)("div",{className:"alert-message",children:a.message||"No message"})]},c):null)]}),e.length>0&&(0,b.jsxs)("div",{style:{marginBottom:m.theme.spacing.md},children:[(0,b.jsx)(Y,{style:{fontSize:m.theme.typography.fontSizes.md,marginBottom:m.theme.spacing.sm},children:"Recommendations"}),e.map((a,c)=>{if(!a||"object"!=typeof a)return null;let d="high"===a.priority?"high":"medium"===a.priority?"medium":"low";return(0,b.jsxs)($,{$priority:d,children:[(0,b.jsxs)("div",{className:"insight-header",children:[(0,b.jsx)(C.Target,{size:18}),(0,b.jsx)("h4",{children:a.title||"Recommendation"}),(0,b.jsx)(ab,{$priority:d,children:a.priority||"low"})]}),(0,b.jsx)("div",{className:"insight-message",children:a.message||"No message available"}),a.actions&&Array.isArray(a.actions)&&a.actions.length>0&&(0,b.jsxs)("div",{className:"insight-actions",children:[(0,b.jsx)("strong",{style:{fontSize:m.theme.typography.fontSizes.sm,color:E},children:"Recommended Actions:"}),(0,b.jsx)("ul",{children:a.actions.map((a,c)=>(0,b.jsx)("li",{children:"string"==typeof a?a:"Action item"},c))})]})]},c)})]}),c.forecast&&Array.isArray(c.forecast)&&c.forecast.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)(Y,{style:{fontSize:m.theme.typography.fontSizes.md,marginBottom:m.theme.spacing.sm},children:["Forecast Preview (",c.forecast.length," periods)"]}),(0,b.jsxs)(R,{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Period"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Forecasted Value"})]})}),(0,b.jsxs)("tbody",{children:[Array.isArray(c.forecast)&&c.forecast.slice(0,6).map((a,c)=>{if(!a||"object"!=typeof a)return null;let d=a.period||(a.date?aE(a.date):`Period ${c+1}`),e=void 0!==a.forecasted_value?a.forecasted_value:void 0!==a.value?a.value:0;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:d}),(0,b.jsx)("td",{style:{textAlign:"right",fontWeight:m.theme.typography.fontWeights.bold},children:aD(e)})]},c)}),Array.isArray(c.forecast)&&c.forecast.length>6&&(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:2,style:{textAlign:"center",color:F,fontStyle:"italic"},children:["... and ",c.forecast.length-6," more periods"]})})]})]})]})]},a)})}):(0,b.jsxs)(W,{children:[(0,b.jsx)(z.Brain,{size:48}),(0,b.jsx)("h3",{children:"No ML insights available"}),(0,b.jsx)("p",{children:'Click "Generate Insights" to get AI-powered forecasts and recommendations'}),(0,b.jsx)("div",{style:{marginTop:m.theme.spacing.lg,display:"flex",gap:m.theme.spacing.sm,flexWrap:"wrap",justifyContent:"center"},children:["expense","revenue","inventory"].map(a=>(0,b.jsx)("div",{style:{marginBottom:m.theme.spacing.sm},children:(0,b.jsx)(ac,{variant:"outline",onClick:()=>{let b={expense:["arima","linear_regression"],revenue:["xgboost","prophet"],inventory:["sarima","xgboost"]}[a]?.[0]||"arima";aG(a,b)},disabled:az===`${a}-arima`||az===`${a}-xgboost`||az===`${a}-sarima`||az===`${a}-linear_regression`||az===`${a}-prophet`,children:az?.startsWith(a)?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.Loader2,{size:14,style:{marginRight:m.theme.spacing.xs,animation:"spin 1s linear infinite"}}),"Generating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(A.Zap,{size:14,style:{marginRight:m.theme.spacing.xs}}),"Quick ",aF(a)," Forecast"]})})},a))})]})]})}),(a?.role==="finance_manager"||a?.role==="finance_admin"||a?.role==="admin"||a?.role==="super_admin"||a?.role==="manager")&&(0,b.jsx)(M,{children:(0,b.jsxs)(N,{children:[(0,b.jsx)(O,{children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{children:[(0,b.jsx)(y.LineChart,{}),"Forecast Report"]}),(0,b.jsx)("p",{children:"View and analyze all financial forecasts"})]})}),at&&at.length>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(P,{children:[(0,b.jsxs)(Q,{children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(y.LineChart,{size:16}),"Total Forecasts"]}),(0,b.jsx)("div",{className:"value",children:at.length}),(0,b.jsx)("div",{className:"sub-value",children:"Active forecasts"})]}),(0,b.jsxs)(Q,{$type:"revenue",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(o.TrendingUp,{size:16}),"Revenue Forecasts"]}),(0,b.jsx)("div",{className:"value",children:at.filter(a=>"revenue"===a.forecast_type).length}),(0,b.jsx)("div",{className:"sub-value",children:"Revenue forecasting models"})]}),(0,b.jsxs)(Q,{$type:"expense",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(s.ArrowDownRight,{size:16}),"Expense Forecasts"]}),(0,b.jsx)("div",{className:"value",children:at.filter(a=>"expense"===a.forecast_type).length}),(0,b.jsx)("div",{className:"sub-value",children:"Expense forecasting models"})]}),(0,b.jsxs)(Q,{$type:"profit",children:[(0,b.jsxs)("div",{className:"label",children:[(0,b.jsx)(u.BarChart3,{size:16}),"AI Models"]}),(0,b.jsx)("div",{className:"value",children:at.filter(a=>"arima"===a.method||"prophet"===a.method||"xgboost"===a.method||"lstm"===a.method||"linear_regression"===a.method||"sarima"===a.method).length}),(0,b.jsx)("div",{className:"sub-value",children:"Machine learning forecasts"})]})]}),(0,b.jsxs)("div",{style:{marginTop:m.theme.spacing.xl},children:[(0,b.jsx)(Y,{children:"All Forecasts"}),(0,b.jsxs)(R,{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Forecast Name"}),(0,b.jsx)("th",{children:"Type"}),(0,b.jsx)("th",{children:"Method"}),(0,b.jsx)("th",{children:"Period"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Total Forecasted"}),(0,b.jsx)("th",{children:"Data Points"}),(0,b.jsx)("th",{children:"Created"})]})}),(0,b.jsx)("tbody",{children:at.map(a=>{let c=a.forecast_data||[],d=c.reduce((a,b)=>a+(b.forecasted_value||0),0),e="arima"===a.method||"prophet"===a.method||"xgboost"===a.method||"lstm"===a.method||"linear_regression"===a.method||"sarima"===a.method;return(0,b.jsxs)("tr",{children:[(0,b.jsxs)("td",{children:[(0,b.jsx)("strong",{children:a.name}),a.description&&(0,b.jsx)("div",{style:{fontSize:m.theme.typography.fontSizes.xs,color:F,marginTop:m.theme.spacing.xs},children:a.description})]}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{style:{textTransform:"capitalize"},children:a.forecast_type})}),(0,b.jsx)("td",{children:(0,b.jsxs)("span",{style:{textTransform:"capitalize"},children:[a.method.replace(/_/g," "),e&&" (AI)"]})}),(0,b.jsxs)("td",{children:[aE(a.start_date)," - ",aE(a.end_date)]}),(0,b.jsx)("td",{style:{textAlign:"right",fontWeight:m.theme.typography.fontWeights.bold},children:aD(d)}),(0,b.jsx)("td",{children:c.length}),(0,b.jsx)("td",{children:aE(a.created_at)})]},a.id)})})]})]}),(0,b.jsxs)("div",{style:{marginTop:m.theme.spacing.xl},children:[(0,b.jsx)(Y,{children:"Forecast Summary by Type"}),(0,b.jsxs)(R,{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Forecast Type"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Count"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Total Forecasted Value"}),(0,b.jsx)("th",{style:{textAlign:"right"},children:"Average per Forecast"})]})}),(0,b.jsx)("tbody",{children:["revenue","expense","profit","inventory"].map(a=>{let c=at.filter(b=>b.forecast_type===a);if(0===c.length)return null;let d=c.reduce((a,b)=>a+(b.forecast_data||[]).reduce((a,b)=>a+(b.forecasted_value||0),0),0);return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{style:{textTransform:"capitalize",fontWeight:m.theme.typography.fontWeights.medium},children:a}),(0,b.jsx)("td",{style:{textAlign:"right"},children:c.length}),(0,b.jsx)("td",{style:{textAlign:"right",fontWeight:m.theme.typography.fontWeights.bold},children:aD(d)}),(0,b.jsx)("td",{style:{textAlign:"right"},children:aD(d/c.length)})]},a)}).filter(Boolean)})]})]})]}):(0,b.jsxs)(W,{children:[(0,b.jsx)(y.LineChart,{size:48}),(0,b.jsx)("h3",{children:"No forecasts available"}),(0,b.jsx)("p",{children:"Forecast reports are only available to Finance Admin, Admin, and Manager roles. Create forecasts to see them here."})]})]})})]})]})}):(0,b.jsx)(h.default,{children:(0,b.jsx)(I,{children:(0,b.jsxs)(W,{children:[(0,b.jsx)(t.FileText,{size:48}),(0,b.jsx)("h3",{children:"Please log in to view reports"})]})})})}a.s(["default",()=>ad],6490)}];
frontend/.next/server/chunks/ssr/app_report_ClientPage_tsx_3b9060b3._.js.map:{"version":3,"sources":["turbopack:///[project]/app/report/ClientPage.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/lightbulb.ts"],"sourcesContent":["'use client';\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport Layout from '@/components/layout';\r\nimport { apiClient } from '@/lib/api';\r\nimport { useAuth } from '@/lib/rbac/auth-context';\r\nimport useUserStore from '@/store/userStore';\r\nimport { toast } from 'sonner';\r\nimport { theme } from '@/components/common/theme';\r\nimport {\r\n  DollarSign,\r\n  TrendingUp,\r\n  RefreshCw,\r\n  Loader2,\r\n  ArrowUpRight,\r\n  ArrowDownRight,\r\n  FileText,\r\n  BarChart3,\r\n  AlertCircle,\r\n  ShoppingCart,\r\n  Package,\r\n  LineChart,\r\n  Brain,\r\n  Zap,\r\n  Lightbulb,\r\n  Target,\r\n  CheckCircle2\r\n} from 'lucide-react';\r\n\r\nconst PRIMARY_COLOR = theme.colors.primary || '#00AA00';\r\nconst TEXT_COLOR_DARK = '#111827';\r\nconst TEXT_COLOR_MUTED = theme.colors.textSecondary || '#666';\r\n\r\n// Type definitions for error handling\r\ntype ErrorWithDetails = {\r\n  code?: string;\r\n  message?: string;\r\n  response?: {\r\n    status: number;\r\n    data?: {\r\n      detail?: string;\r\n    };\r\n  };\r\n};\r\n\r\nconst CardShadow = `\r\n  0 2px 4px -1px rgba(0, 0, 0, 0.06),\r\n  0 1px 2px -1px rgba(0, 0, 0, 0.03),\r\n  inset 0 0 0 1px rgba(0, 0, 0, 0.02)\r\n`;\r\nconst CardShadowHover = `\r\n  0 8px 12px -2px rgba(0, 0, 0, 0.08),\r\n  0 4px 6px -2px rgba(0, 0, 0, 0.04),\r\n  inset 0 0 0 1px rgba(0, 0, 0, 0.03)\r\n`;\r\n\r\nconst PageContainer = styled.div`\r\n  flex: 1;\r\n  width: 100%;\r\n  max-width: 980px;\r\n  margin-left: auto;\r\n  margin-right: 0;\r\n  padding: ${theme.spacing.sm} ${theme.spacing.sm} ${theme.spacing.sm};\r\n`;\r\n\r\nconst HeaderContainer = styled.div`\r\n  background: linear-gradient(135deg, ${PRIMARY_COLOR} 0%, #008800 100%);\r\n  color: #ffffff;\r\n  padding: ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  border-radius: ${theme.borderRadius.md};\r\n  border-bottom: 3px solid rgba(255, 255, 255, 0.1);\r\n  \r\n  h1 {\r\n    font-size: clamp(24px, 3vw, 36px);\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    margin: 0 0 ${theme.spacing.xs};\r\n    color: #ffffff;\r\n  }\r\n  \r\n  p {\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n    opacity: 0.9;\r\n    margin: 0;\r\n    color: rgba(255, 255, 255, 0.95);\r\n  }\r\n`;\r\n\r\nconst DateFilterCard = styled.div`\r\n  background: ${theme.colors.background};\r\n  padding: ${theme.spacing.lg};\r\n  border-radius: ${theme.borderRadius.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  box-shadow: ${CardShadow};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  display: flex;\r\n  gap: ${theme.spacing.md};\r\n  align-items: flex-end;\r\n  flex-wrap: wrap;\r\n  transition: box-shadow ${theme.transitions.default};\r\n\r\n  &:hover {\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n`;\r\n\r\nconst DateInputGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: ${theme.spacing.sm};\r\n  flex: 1;\r\n  min-width: 200px;\r\n`;\r\n\r\nconst ReportSection = styled.div`\r\n  margin-bottom: ${theme.spacing.xl};\r\n`;\r\n\r\nconst ReportCard = styled.div`\r\n  background: ${theme.colors.background};\r\n  padding: ${theme.spacing.xl};\r\n  border-radius: ${theme.borderRadius.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  box-shadow: ${CardShadow};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  transition: box-shadow ${theme.transitions.default};\r\n\r\n  &:hover {\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n`;\r\n\r\nconst ReportHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: ${theme.spacing.lg};\r\n  padding-bottom: ${theme.spacing.md};\r\n  border-bottom: 2px solid ${theme.colors.border};\r\n  \r\n  h2 {\r\n    font-size: ${theme.typography.fontSizes.lg};\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    color: ${TEXT_COLOR_DARK};\r\n    display: flex;\r\n    align-items: center;\r\n    gap: ${theme.spacing.md};\r\n    margin: 0;\r\n    \r\n    svg {\r\n      width: 24px;\r\n      height: 24px;\r\n      color: ${PRIMARY_COLOR};\r\n    }\r\n  }\r\n  \r\n  p {\r\n    color: ${TEXT_COLOR_MUTED};\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    margin: ${theme.spacing.xs} 0 0;\r\n  }\r\n`;\r\n\r\nconst SummaryGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n  gap: ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.xl};\r\n`;\r\n\r\nconst SummaryCard = styled.div<{ $type?: 'revenue' | 'expense' | 'profit' | 'cash' }>`\r\n  background: ${(p) => {\r\n    if (p.$type === 'revenue') return '#f0fdf4';\r\n    if (p.$type === 'expense') return '#fef2f2';\r\n    if (p.$type === 'profit') return '#eff6ff';\r\n    return theme.colors.backgroundSecondary;\r\n  }};\r\n  border: 1px solid ${(p) => {\r\n    if (p.$type === 'revenue') return '#bbf7d0';\r\n    if (p.$type === 'expense') return '#fecaca';\r\n    if (p.$type === 'profit') return '#bfdbfe';\r\n    return theme.colors.border;\r\n  }};\r\n  padding: ${theme.spacing.lg};\r\n  border-radius: ${theme.borderRadius.md};\r\n  transition: transform ${theme.transitions.default}, box-shadow ${theme.transitions.default};\r\n  box-shadow: ${CardShadow};\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n  \r\n  .label {\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    color: ${TEXT_COLOR_MUTED};\r\n    margin-bottom: ${theme.spacing.sm};\r\n    display: flex;\r\n    align-items: center;\r\n    gap: ${theme.spacing.xs};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n  }\r\n  \r\n  .value {\r\n    font-size: clamp(20px, 4vw, 28px);\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    color: ${(p) => p.$type === 'expense' ? '#dc2626' : TEXT_COLOR_DARK};\r\n    margin-bottom: ${theme.spacing.xs};\r\n  }\r\n  \r\n  .sub-value {\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    color: ${TEXT_COLOR_MUTED};\r\n    margin-top: ${theme.spacing.xs};\r\n  }\r\n`;\r\n\r\nconst CategoryTable = styled.table`\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n  margin-top: ${theme.spacing.md};\r\n  \r\n  thead {\r\n    background: ${theme.colors.backgroundSecondary};\r\n    border-bottom: 2px solid ${theme.colors.border};\r\n    \r\n    th {\r\n      text-align: left;\r\n      padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n      font-weight: ${theme.typography.fontWeights.medium};\r\n      color: ${TEXT_COLOR_MUTED};\r\n      font-size: ${theme.typography.fontSizes.xs};\r\n      text-transform: uppercase;\r\n      letter-spacing: 0.05em;\r\n    }\r\n  }\r\n  \r\n  tbody {\r\n    tr {\r\n      border-bottom: 1px solid ${theme.colors.border};\r\n      transition: background-color ${theme.transitions.default};\r\n      \r\n      &:hover {\r\n        background: ${theme.colors.backgroundSecondary};\r\n      }\r\n      \r\n      &:last-child {\r\n        border-bottom: none;\r\n      }\r\n      \r\n      td {\r\n        padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n        color: ${TEXT_COLOR_MUTED};\r\n        font-size: ${theme.typography.fontSizes.sm};\r\n        \r\n        &:last-child {\r\n          font-weight: ${theme.typography.fontWeights.bold};\r\n          color: ${TEXT_COLOR_DARK};\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst CashFlowTable = styled.table`\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n  margin-top: ${theme.spacing.md};\r\n  \r\n  thead {\r\n    background: ${theme.colors.backgroundSecondary};\r\n    border-bottom: 2px solid ${theme.colors.border};\r\n    \r\n    th {\r\n      text-align: left;\r\n      padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n      font-weight: ${theme.typography.fontWeights.medium};\r\n      color: ${TEXT_COLOR_MUTED};\r\n      font-size: ${theme.typography.fontSizes.xs};\r\n      text-transform: uppercase;\r\n      letter-spacing: 0.05em;\r\n    }\r\n  }\r\n  \r\n  tbody {\r\n    tr {\r\n      border-bottom: 1px solid ${theme.colors.border};\r\n      transition: background-color ${theme.transitions.default};\r\n      \r\n      &:hover {\r\n        background: ${theme.colors.backgroundSecondary};\r\n      }\r\n      \r\n      &:last-child {\r\n        border-bottom: none;\r\n      }\r\n      \r\n      td {\r\n        padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n        color: ${TEXT_COLOR_MUTED};\r\n        font-size: ${theme.typography.fontSizes.sm};\r\n        \r\n        &:nth-child(2) {\r\n          color: #059669;\r\n          font-weight: ${theme.typography.fontWeights.medium};\r\n        }\r\n        \r\n        &:nth-child(3) {\r\n          color: #dc2626;\r\n          font-weight: ${theme.typography.fontWeights.medium};\r\n        }\r\n        \r\n        &:last-child {\r\n          font-weight: ${theme.typography.fontWeights.bold};\r\n          color: ${TEXT_COLOR_DARK};\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst LoadingContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 60vh;\r\n  gap: ${theme.spacing.md};\r\n  \r\n  p {\r\n    color: ${TEXT_COLOR_MUTED};\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst Spinner = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 3px solid ${theme.colors.border};\r\n  border-top-color: ${PRIMARY_COLOR};\r\n  border-radius: 50%;\r\n  animation: spin 0.8s linear infinite;\r\n  \r\n  @keyframes spin {\r\n    to { transform: rotate(360deg); }\r\n  }\r\n`;\r\n\r\nconst ErrorBanner = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: ${theme.spacing.md};\r\n  padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  background-color: rgba(239, 68, 68, 0.1);\r\n  border: 1px solid rgba(239, 68, 68, 0.3);\r\n  border-radius: ${theme.borderRadius.md};\r\n  color: #dc2626;\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n\r\n  svg {\r\n    flex-shrink: 0;\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  text-align: center;\r\n  padding: ${theme.spacing.xxl} ${theme.spacing.lg};\r\n  color: ${TEXT_COLOR_MUTED};\r\n  \r\n  svg {\r\n    width: 48px;\r\n    height: 48px;\r\n    margin: 0 auto ${theme.spacing.md};\r\n    opacity: 0.5;\r\n    color: ${TEXT_COLOR_MUTED};\r\n  }\r\n  \r\n  h3 {\r\n    font-size: ${theme.typography.fontSizes.lg};\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    margin: 0 0 ${theme.spacing.sm};\r\n    color: ${TEXT_COLOR_DARK};\r\n  }\r\n`;\r\n\r\nconst ButtonRow = styled.div`\r\n  display: flex;\r\n  gap: ${theme.spacing.md};\r\n  margin-top: ${theme.spacing.md};\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst SectionTitle = styled.h3`\r\n  font-size: ${theme.typography.fontSizes.lg};\r\n  font-weight: ${theme.typography.fontWeights.bold};\r\n  margin: 0 0 ${theme.spacing.md};\r\n  color: ${TEXT_COLOR_DARK};\r\n`;\r\n\r\nconst TwoColumnGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: ${theme.spacing.xl};\r\n  margin-top: ${theme.spacing.xl};\r\n\r\n  @media (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n    gap: ${theme.spacing.lg};\r\n  }\r\n`;\r\n\r\nconst InsightCard = styled.div<{ $priority?: 'high' | 'medium' | 'low' }>`\r\n  background: ${(p) => {\r\n    if (p.$priority === 'high') return '#fef2f2';\r\n    if (p.$priority === 'medium') return '#fffbeb';\r\n    return '#f0fdf4';\r\n  }};\r\n  border: 1px solid ${(p) => {\r\n    if (p.$priority === 'high') return '#fecaca';\r\n    if (p.$priority === 'medium') return '#fde68a';\r\n    return '#bbf7d0';\r\n  }};\r\n  border-left: 4px solid ${(p) => {\r\n    if (p.$priority === 'high') return '#dc2626';\r\n    if (p.$priority === 'medium') return '#d97706';\r\n    return PRIMARY_COLOR;\r\n  }};\r\n  border-radius: ${theme.borderRadius.md};\r\n  padding: ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.md};\r\n  \r\n  .insight-header {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: ${theme.spacing.sm};\r\n    margin-bottom: ${theme.spacing.sm};\r\n    \r\n    h4 {\r\n      font-size: ${theme.typography.fontSizes.md};\r\n      font-weight: ${theme.typography.fontWeights.bold};\r\n      color: ${TEXT_COLOR_DARK};\r\n      margin: 0;\r\n    }\r\n    \r\n  }\r\n  \r\n  .insight-message {\r\n    color: ${TEXT_COLOR_DARK};\r\n    margin-bottom: ${theme.spacing.sm};\r\n    line-height: 1.6;\r\n  }\r\n  \r\n  .insight-actions {\r\n    margin-top: ${theme.spacing.md};\r\n    padding-top: ${theme.spacing.md};\r\n    border-top: 1px solid ${theme.colors.border};\r\n    \r\n    ul {\r\n      margin: 0;\r\n      padding-left: ${theme.spacing.lg};\r\n      color: ${TEXT_COLOR_MUTED};\r\n      font-size: ${theme.typography.fontSizes.sm};\r\n    }\r\n  }\r\n`;\r\n\r\nconst AlertCard = styled.div<{ $severity?: 'high' | 'medium' | 'low' }>`\r\n  background: ${(p) => {\r\n    if (p.$severity === 'high') return '#fef2f2';\r\n    if (p.$severity === 'medium') return '#fffbeb';\r\n    return '#eff6ff';\r\n  }};\r\n  border: 1px solid ${(p) => {\r\n    if (p.$severity === 'high') return '#fecaca';\r\n    if (p.$severity === 'medium') return '#fde68a';\r\n    return '#bfdbfe';\r\n  }};\r\n  border-radius: ${theme.borderRadius.md};\r\n  padding: ${theme.spacing.md};\r\n  margin-bottom: ${theme.spacing.sm};\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: ${theme.spacing.sm};\r\n  \r\n  .alert-icon {\r\n    color: ${(p) => {\r\n      if (p.$severity === 'high') return '#dc2626';\r\n      if (p.$severity === 'medium') return '#d97706';\r\n      return '#2563eb';\r\n    }};\r\n    flex-shrink: 0;\r\n    margin-top: 2px;\r\n  }\r\n  \r\n  .alert-message {\r\n    color: ${TEXT_COLOR_DARK};\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    line-height: 1.5;\r\n  }\r\n`;\r\n\r\nconst TrendBadge = styled.span<{ $direction?: 'increasing' | 'decreasing' | 'stable' }>`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: ${theme.spacing.xs};\r\n  padding: 6px 12px;\r\n  border-radius: ${theme.borderRadius.sm};\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  background: ${(p) => {\r\n    if (p.$direction === 'increasing') return '#d1fae5';\r\n    if (p.$direction === 'decreasing') return '#fee2e2';\r\n    return '#f3f4f6';\r\n  }};\r\n  color: ${(p) => {\r\n    if (p.$direction === 'increasing') return '#065f46';\r\n    if (p.$direction === 'decreasing') return '#991b1b';\r\n    return TEXT_COLOR_MUTED;\r\n  }};\r\n`;\r\n\r\nconst PriorityBadge = styled.span<{ $priority?: 'high' | 'medium' | 'low' }>`\r\n  font-size: ${theme.typography.fontSizes.xs};\r\n  padding: 4px 8px;\r\n  border-radius: ${theme.borderRadius.sm};\r\n  text-transform: uppercase;\r\n  font-weight: ${theme.typography.fontWeights.bold};\r\n  background: ${(p) => {\r\n    if (p.$priority === 'high') return '#dc2626';\r\n    if (p.$priority === 'medium') return '#d97706';\r\n    return PRIMARY_COLOR;\r\n  }};\r\n  color: white;\r\n`;\r\n\r\nconst QuickForecastButton = styled(Button)`\r\n  margin-top: ${theme.spacing.md};\r\n  width: 100%;\r\n`;\r\n\r\ninterface IncomeStatement {\r\n  period: { start_date?: string; end_date?: string };\r\n  revenue: {\r\n    total: number;\r\n    by_category: Record<string, number>;\r\n  };\r\n  sales: {\r\n    total: number;\r\n    by_category?: Record<string, number>;\r\n  };\r\n  expenses: {\r\n    total: number;\r\n    by_category: Record<string, number>;\r\n  };\r\n  profit: number;\r\n  profit_margin: number;\r\n}\r\n\r\ninterface CashFlow {\r\n  period: { start_date?: string; end_date?: string };\r\n  summary: {\r\n    total_inflow: number;\r\n    total_outflow: number;\r\n    net_cash_flow: number;\r\n  };\r\n  daily_cash_flow: Record<string, { inflow: number; outflow: number; net: number }>;\r\n}\r\n\r\ninterface FinancialSummary {\r\n  period: { start_date?: string; end_date?: string };\r\n  financials: {\r\n    total_revenue: number;\r\n    total_sales: number;\r\n    total_expenses: number;\r\n    profit: number;\r\n    profit_margin: number;\r\n  };\r\n  revenue_by_category: Record<string, number>;\r\n  sales_by_category?: Record<string, number>;\r\n  expenses_by_category: Record<string, number>;\r\n  transaction_counts: {\r\n    revenue: number;\r\n    sales: number;\r\n    expenses: number;\r\n    total: number;\r\n  };\r\n  generated_at: string;\r\n}\r\n\r\ninterface InventorySummary {\r\n  total_items: number;\r\n  total_cost_value: number;\r\n  total_selling_value: number;\r\n  potential_profit: number;\r\n  total_quantity_in_stock?: number;\r\n}\r\n\r\ninterface SalesSummary {\r\n  total_sales: number;\r\n  total_revenue: number;\r\n  pending_sales: number;\r\n  posted_sales: number;\r\n  period_start?: string;\r\n  period_end?: string;\r\n}\r\n\r\ninterface ForecastDataPoint {\r\n  period?: string;\r\n  date?: string;\r\n  forecasted_value?: number;\r\n  method?: string;\r\n}\r\n\r\ninterface Forecast {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  forecast_type: string;\r\n  period_type: string;\r\n  start_date: string;\r\n  end_date: string;\r\n  method: string;\r\n  method_params?: Record<string, unknown>;\r\n  forecast_data?: ForecastDataPoint[];\r\n  created_at: string;\r\n}\r\n\r\ninterface MLInsight {\r\n  metric: string;\r\n  forecast?: any[];\r\n  advice?: Array<{\r\n    priority: string;\r\n    title: string;\r\n    message: string;\r\n    actions: string[];\r\n  }>;\r\n  alerts?: Array<{\r\n    severity: string;\r\n    message: string;\r\n  }>;\r\n  summary?: string;\r\n  trend_analysis?: {\r\n    direction: string;\r\n    percentage: number;\r\n    average: number;\r\n    max: number;\r\n    min: number;\r\n  };\r\n}\r\n\r\ninterface ForecastWithAdvice {\r\n  metric: string;\r\n  model_type: string;\r\n  forecast: ForecastDataPoint[];\r\n  advice: Array<{\r\n    priority: string;\r\n    title: string;\r\n    message: string;\r\n    actions: string[];\r\n  }>;\r\n  alerts: Array<{\r\n    severity: string;\r\n    message: string;\r\n  }>;\r\n  summary: string;\r\n  trend_analysis: {\r\n    direction: string;\r\n    percentage: number;\r\n    average: number;\r\n    max: number;\r\n    min: number;\r\n  };\r\n}\r\n\r\nexport default function ReportPage() {\r\n  const { user } = useAuth();\r\n  const storeUser = useUserStore((state) => state.user);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  \r\n  const [startDate, setStartDate] = useState<string>(() => {\r\n    const date = new Date();\r\n    date.setFullYear(date.getFullYear() - 1);\r\n    date.setDate(1);\r\n    return date.toISOString().split('T')[0];\r\n  });\r\n  const [endDate, setEndDate] = useState<string>(() => {\r\n    const tomorrow = new Date();\r\n    tomorrow.setDate(tomorrow.getDate() + 1);\r\n    return tomorrow.toISOString().split('T')[0];\r\n  });\r\n  \r\n  const [financialSummary, setFinancialSummary] = useState<FinancialSummary | null>(null);\r\n  const [incomeStatement, setIncomeStatement] = useState<IncomeStatement | null>(null);\r\n  const [cashFlow, setCashFlow] = useState<CashFlow | null>(null);\r\n  const [inventorySummary, setInventorySummary] = useState<InventorySummary | null>(null);\r\n  const [salesSummary, setSalesSummary] = useState<SalesSummary | null>(null);\r\n  const [forecasts, setForecasts] = useState<Forecast[]>([]);\r\n  const [mlInsights, setMlInsights] = useState<any>(null);\r\n  const [loadingMLInsights, setLoadingMLInsights] = useState(false);\r\n  const [generatingForecast, setGeneratingForecast] = useState<string | null>(null);\r\n\r\n  // Helper function to safely convert values to numbers, handling NaN, null, undefined\r\n  const safeNumber = (value: unknown): number => {\r\n    if (value === null || value === undefined || value === '') {\r\n      return 0;\r\n    }\r\n    const num = Number(value);\r\n    return isNaN(num) ? 0 : num;\r\n  };\r\n\r\n  const loadReports = useCallback(async (useDateFilter: boolean = true) => {\r\n    if (!user) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const userRole = user?.role?.toLowerCase();\r\n      const isFinanceAdmin = userRole === 'finance_manager' || userRole === 'finance_admin';\r\n      const isAccountant = userRole === 'accountant';\r\n      const isEmployee = userRole === 'employee';\r\n\r\n      // Get accessible user IDs based on role\r\n      // Admin/Super Admin: See all (no filtering)\r\n      // Finance Admin: See their own + subordinates (ONLY accountants and employees, NOT other Finance Admins)\r\n      // Accountant: See their own + their Finance Admin's team (ONLY accountants and employees, NOT other Finance Admins)\r\n      // Employee: See only their own\r\n      let accessibleUserIds: number[] | null = null;\r\n      const isAdmin = userRole === 'admin' || userRole === 'super_admin';\r\n      \r\n      if (isAdmin) {\r\n        // Admin can see all - no filtering needed\r\n        accessibleUserIds = null;\r\n      } else if (isFinanceAdmin && user?.id) {\r\n        try {\r\n          // Finance Admin: Get their own subordinates ONLY (accountants and employees)\r\n          // Exclude other Finance Admins, Managers, and their subordinates\r\n          const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n          const subordinatesRes = await apiClient.getSubordinates(userId);\r\n          const subordinates = subordinatesRes?.data || [];\r\n          \r\n          // Filter subordinates to ONLY include accountants and employees (exclude other Finance Admins/Managers)\r\n          const validSubordinateIds = subordinates\r\n            .map((sub: { id?: number | string; role?: string }) => {\r\n              const subId = typeof sub.id === 'string' ? parseInt(sub.id, 10) : Number(sub.id);\r\n              const subRole = (sub.role || '').toLowerCase();\r\n              \r\n              // Only include accountants and employees, exclude Finance Admins and Managers\r\n              if (!Number.isNaN(subId) && (subRole === 'accountant' || subRole === 'employee')) {\r\n                return subId;\r\n              }\r\n              return undefined;\r\n            })\r\n            .filter((id): id is number => id !== undefined);\r\n          \r\n          // Include the finance admin themselves + their valid subordinates only\r\n          accessibleUserIds = [userId, ...validSubordinateIds];\r\n          \r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.log('Finance Admin - Accessible User IDs for Reports:', {\r\n              userId: userId,\r\n              subordinatesCount: subordinates.length,\r\n              validSubordinateIds: validSubordinateIds,\r\n              accessibleUserIds: accessibleUserIds\r\n            });\r\n          }\r\n        } catch (err: unknown) {\r\n          console.warn('Failed to fetch subordinates, using only finance admin ID:', err);\r\n          const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n          accessibleUserIds = [userId];\r\n        }\r\n      } else if (isAccountant && user?.id) {\r\n        // Accountant: Get their Finance Admin's (manager's) subordinates\r\n        const accountantId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n        let managerId: number | null = null;\r\n        \r\n        // Try to get managerId from storeUser first\r\n        const managerIdStr = storeUser?.managerId;\r\n        if (managerIdStr) {\r\n          managerId = typeof managerIdStr === 'string' ? parseInt(managerIdStr, 10) : Number(managerIdStr);\r\n        } else {\r\n          // If not in storeUser, try to fetch current user profile from API\r\n          try {\r\n            const currentUserRes = await apiClient.getCurrentUser();\r\n            const currentUserData = currentUserRes?.data;\r\n            if (currentUserData?.manager_id !== undefined && currentUserData?.manager_id !== null) {\r\n              managerId = typeof currentUserData.manager_id === 'string' \r\n                ? parseInt(currentUserData.manager_id, 10) \r\n                : Number(currentUserData.manager_id);\r\n            }\r\n          } catch (err) {\r\n            console.warn('Failed to fetch current user profile for manager_id:', err);\r\n          }\r\n        }\r\n        \r\n        if (managerId) {\r\n          try {\r\n            const financeAdminId = managerId;\r\n            \r\n            // Get all subordinates of the Finance Admin\r\n            const subordinatesRes = await apiClient.getSubordinates(financeAdminId);\r\n            const subordinates = subordinatesRes?.data || [];\r\n            \r\n            // Filter subordinates to ONLY include accountants and employees (exclude other Finance Admins/Managers)\r\n            const validSubordinateIds = subordinates\r\n              .map((sub: { id?: number | string; role?: string }) => {\r\n                const subId = typeof sub.id === 'string' ? parseInt(sub.id, 10) : Number(sub.id);\r\n                const subRole = (sub.role || '').toLowerCase();\r\n                \r\n                // Only include accountants and employees, exclude Finance Admins and Managers\r\n                if (!Number.isNaN(subId) && (subRole === 'accountant' || subRole === 'employee')) {\r\n                  return subId;\r\n                }\r\n                return undefined;\r\n              })\r\n              .filter((id): id is number => id !== undefined);\r\n            \r\n            // Include the Finance Admin themselves and their valid subordinates only\r\n            accessibleUserIds = [financeAdminId, ...validSubordinateIds];\r\n            \r\n            if (process.env.NODE_ENV === 'development') {\r\n              console.log('Accountant - Accessible User IDs for Reports (from Finance Admin):', {\r\n                accountantId: accountantId,\r\n                financeAdminId: financeAdminId,\r\n                subordinatesCount: subordinates.length,\r\n                validSubordinateIds: validSubordinateIds,\r\n                accessibleUserIds: accessibleUserIds\r\n              });\r\n            }\r\n          } catch (err) {\r\n            console.error('Failed to fetch Finance Admin subordinates for accountant:', err);\r\n            // Fallback: if we can't get subordinates, at least try to show data from the Finance Admin\r\n            accessibleUserIds = [managerId];\r\n          }\r\n        } else {\r\n          // Accountant has no manager assigned - fallback to just themselves\r\n          console.warn('Accountant has no manager (Finance Admin) assigned - using only accountant ID');\r\n          accessibleUserIds = [accountantId];\r\n        }\r\n      } else if (isEmployee && user?.id) {\r\n        // Employee: Can only see their own data\r\n        const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n        accessibleUserIds = [userId];\r\n      }\r\n\r\n      const dateParams = useDateFilter ? { startDate, endDate } : { startDate: undefined, endDate: undefined };\r\n      \r\n      // Fetch sales data for the period (for detailed breakdowns)\r\n      let salesData: unknown[] = [];\r\n      try {\r\n        const salesResponse = await apiClient.getSales({\r\n          status: 'posted', // Only include posted sales in reports\r\n          limit: 1000, // Backend maximum is 1000\r\n          start_date: dateParams.startDate ? new Date(dateParams.startDate + 'T00:00:00').toISOString() : undefined,\r\n          end_date: dateParams.endDate ? new Date(dateParams.endDate + 'T23:59:59').toISOString() : undefined,\r\n        });\r\n        const salesArray = Array.isArray(salesResponse?.data) \r\n          ? salesResponse.data \r\n          : (salesResponse?.data && typeof salesResponse.data === 'object' && 'data' in salesResponse.data \r\n            ? (salesResponse.data as { data?: unknown[] }).data || [] \r\n            : []);\r\n        salesData = salesArray || [];\r\n\r\n        // Apply role-based filtering to sales data\r\n        // Admin/Super Admin: See all (no filtering)\r\n        // Finance Admin: Filter to only their team's sales (themselves + subordinates who are accountants/employees)\r\n        // Accountant: Filter to only their Finance Admin's team sales (Finance Admin + subordinates who are accountants/employees)\r\n        // Employee: Filter to only their own sales\r\n        if (!isAdmin && accessibleUserIds && accessibleUserIds.length > 0) {\r\n          // Finance Admin, Accountant, or Employee: filter based on accessibleUserIds\r\n          salesData = salesData.filter((s: unknown) => {\r\n            const sale = s as { sold_by_id?: unknown; soldBy?: unknown; sold_by?: unknown; created_by_id?: unknown; createdBy?: unknown };\r\n            const soldById = sale.sold_by_id || sale.soldBy || sale.sold_by || sale.created_by_id || sale.createdBy;\r\n            if (!soldById) return false;\r\n            const soldByIdNum = typeof soldById === 'string' ? parseInt(soldById, 10) : (typeof soldById === 'number' ? soldById : NaN);\r\n            return !isNaN(soldByIdNum) && accessibleUserIds!.includes(soldByIdNum);\r\n          });\r\n        }\r\n        // Admin/Super Admin sees all - no filtering needed\r\n      } catch (err: unknown) {\r\n        console.warn('Failed to fetch detailed sales data for reports:', err);\r\n        // Continue without sales data - we'll use sales summary API instead\r\n      }\r\n      \r\n      // Check if user can view inventory summary (Finance Admin, Admin, Manager)\r\n      const canViewInventory = user?.role === 'finance_manager' || \r\n                               user?.role === 'finance_admin' || \r\n                               user?.role === 'admin' || \r\n                               user?.role === 'super_admin' ||\r\n                               user?.role === 'manager';\r\n      \r\n      // Check if user can view sales summary (Accountant, Finance Admin, Admin, Manager)\r\n      const canViewSalesSummary = user?.role === 'accountant' ||\r\n                                  user?.role === 'finance_manager' || \r\n                                  user?.role === 'finance_admin' || \r\n                                  user?.role === 'admin' || \r\n                                  user?.role === 'super_admin' ||\r\n                                  user?.role === 'manager';\r\n      \r\n      // Check if user can view forecasts (Admin, Finance Admin, Manager)\r\n      const canViewForecasts = user?.role === 'finance_manager' || \r\n                               user?.role === 'finance_admin' || \r\n                               user?.role === 'admin' || \r\n                               user?.role === 'super_admin' ||\r\n                               user?.role === 'manager';\r\n      \r\n      // Note: Backend APIs (getFinancialSummary, getIncomeStatement, getCashFlow) should already filter\r\n      // data by user role. The frontend trusts these responses. Sales data is filtered above.\r\n      const [summaryResult, incomeResult, cashFlowResult, inventoryResult, salesSummaryResult, forecastsResult] = await Promise.allSettled([\r\n        apiClient.getFinancialSummary(dateParams.startDate, dateParams.endDate),\r\n        apiClient.getIncomeStatement(dateParams.startDate, dateParams.endDate),\r\n        apiClient.getCashFlow(dateParams.startDate, dateParams.endDate),\r\n        canViewInventory ? apiClient.getInventorySummary().catch((err: unknown) => {\r\n          // Silently handle 403 errors (expected for non-finance admins)\r\n          const error = err as ErrorWithDetails;\r\n          if (error.response?.status === 403) {\r\n            return { data: null };\r\n          }\r\n          throw err;\r\n        }) : Promise.resolve({ data: null }),\r\n        canViewSalesSummary ? apiClient.getSalesSummary({\r\n          start_date: dateParams.startDate ? new Date(dateParams.startDate + 'T00:00:00').toISOString() : undefined,\r\n          end_date: dateParams.endDate ? new Date(dateParams.endDate + 'T23:59:59').toISOString() : undefined,\r\n        }).catch((err: unknown) => {\r\n          // Silently handle 403 errors (expected for non-authorized users)\r\n          const error = err as ErrorWithDetails;\r\n          if (error.response?.status === 403) {\r\n            return { data: null };\r\n          }\r\n          throw err;\r\n        }) : Promise.resolve({ data: null }),\r\n        canViewForecasts ? apiClient.getForecasts({ limit: 100 }).catch((err: unknown) => {\r\n          // Silently handle 403 errors (expected for non-authorized users)\r\n          const error = err as ErrorWithDetails;\r\n          if (error.response?.status === 403) {\r\n            return { data: [] };\r\n          }\r\n          throw err;\r\n        }) : Promise.resolve({ data: [] }),\r\n      ]);\r\n      \r\n      // Filter to only include POSTED sales for revenue/profit calculations\r\n      // This ensures revenue and net profit are only calculated from approved sales\r\n      const postedSalesData = salesData.filter((s: unknown) => {\r\n        const sale = s as { status?: string };\r\n        return sale.status === 'posted' || sale.status === 'POSTED' || sale.status?.toLowerCase() === 'posted';\r\n      });\r\n      \r\n      // Calculate sales totals from individual sales - ONLY from POSTED (approved) sales\r\n      // This is a fallback if sales summary API is not available\r\n      const totalSalesFromData = postedSalesData.reduce((sum: number, s: unknown) => {\r\n        const sale = s as { total_sale?: unknown };\r\n        return sum + safeNumber(sale.total_sale);\r\n      }, 0);\r\n      const salesByCategory: Record<string, number> = {};\r\n      postedSalesData.forEach((s: unknown) => {\r\n        const sale = s as { category?: string; total_sale?: unknown; item?: { category?: string } };\r\n        const category = sale.item?.category || sale.category || 'Sales';\r\n        salesByCategory[category] = (salesByCategory[category] || 0) + safeNumber(sale.total_sale);\r\n      });\r\n\r\n      if (summaryResult.status === 'fulfilled') {\r\n        const summaryData = summaryResult.value.data || summaryResult.value;\r\n        if (summaryData && (summaryData.financials || summaryData.revenue_by_category || summaryData.expenses_by_category)) {\r\n          // Initial calculation with individual sales data (will be updated if sales summary is available)\r\n          const baseRevenue = safeNumber(summaryData.financials?.total_revenue);\r\n          const baseExpenses = safeNumber(summaryData.financials?.total_expenses);\r\n          const calculatedRevenue = baseRevenue + totalSalesFromData;\r\n          const calculatedProfit = calculatedRevenue - baseExpenses;\r\n          const calculatedProfitMargin = calculatedRevenue > 0 \r\n            ? (calculatedProfit / calculatedRevenue) * 100\r\n            : 0;\r\n          \r\n          const enhancedSummary = {\r\n            ...summaryData,\r\n            financials: {\r\n              ...summaryData.financials,\r\n              total_sales: safeNumber(totalSalesFromData),\r\n              total_revenue: calculatedRevenue,\r\n              total_expenses: baseExpenses,\r\n              profit: calculatedProfit,\r\n              profit_margin: calculatedProfitMargin,\r\n            },\r\n            sales_by_category: salesByCategory,\r\n            transaction_counts: {\r\n              ...summaryData.transaction_counts,\r\n              sales: postedSalesData.length, // Only count POSTED sales\r\n              total: (summaryData.transaction_counts?.total || 0) + postedSalesData.length,\r\n            },\r\n          };\r\n          \r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.log('Financial Summary loaded (initial):', {\r\n              base_revenue: baseRevenue,\r\n              sales_from_data: totalSalesFromData,\r\n              total_revenue: enhancedSummary.financials?.total_revenue,\r\n              total_sales: enhancedSummary.financials?.total_sales,\r\n              total_expenses: enhancedSummary.financials?.total_expenses,\r\n              revenue_categories: Object.keys(enhancedSummary.revenue_by_category || {}).length,\r\n              sales_categories: Object.keys(enhancedSummary.sales_by_category || {}).length,\r\n              expense_categories: Object.keys(enhancedSummary.expenses_by_category || {}).length,\r\n            });\r\n          }\r\n          setFinancialSummary(enhancedSummary);\r\n        } else {\r\n          console.warn('Invalid summary data structure:', summaryData);\r\n          setFinancialSummary(null);\r\n        }\r\n      } else {\r\n        // Failed to load financial summary, try to use income statement data if available\r\n        if (incomeResult.status === 'fulfilled') {\r\n          const incomeData = incomeResult.value.data as { revenue?: { by_category?: Record<string, number>; total?: number }; expenses?: { by_category?: Record<string, number>; total?: number } };\r\n          const revenueCategories = Object.keys(incomeData.revenue?.by_category || {}).length;\r\n          const expenseCategories = Object.keys(incomeData.expenses?.by_category || {}).length;\r\n          const revenueObj = incomeData.revenue && typeof incomeData.revenue === 'object' ? incomeData.revenue as { total?: number } : {};\r\n          const expensesObj = incomeData.expenses && typeof incomeData.expenses === 'object' ? incomeData.expenses as { total?: number } : {};\r\n          const baseRevenue = safeNumber(revenueObj.total);\r\n          const baseExpenses = safeNumber(expensesObj.total);\r\n          const calculatedRevenue = baseRevenue + totalSalesFromData;\r\n          const calculatedProfit = calculatedRevenue - baseExpenses;\r\n          const calculatedProfitMargin = calculatedRevenue > 0\r\n            ? (calculatedProfit / calculatedRevenue) * 100\r\n            : 0;\r\n          \r\n          setFinancialSummary({\r\n            period: { start_date: startDate, end_date: endDate },\r\n            financials: {\r\n              total_revenue: calculatedRevenue,\r\n              total_sales: safeNumber(totalSalesFromData),\r\n              total_expenses: baseExpenses,\r\n              profit: calculatedProfit,\r\n              profit_margin: calculatedProfitMargin,\r\n            },\r\n            revenue_by_category: (incomeData.revenue?.by_category as Record<string, number>) || {},\r\n            sales_by_category: salesByCategory,\r\n            expenses_by_category: (incomeData.expenses?.by_category as Record<string, number>) || {},\r\n            transaction_counts: {\r\n              revenue: revenueCategories > 0 ? revenueCategories : 0,\r\n              sales: postedSalesData.length, // Only count POSTED sales\r\n              expenses: expenseCategories > 0 ? expenseCategories : 0,\r\n              total: revenueCategories + expenseCategories + postedSalesData.length,\r\n            },\r\n            generated_at: new Date().toISOString(),\r\n          });\r\n        } else {\r\n          setFinancialSummary(null);\r\n        }\r\n      }\r\n      \r\n      if (incomeResult.status === 'fulfilled') {\r\n        const incomeData = incomeResult.value.data || incomeResult.value;\r\n        if (incomeData && (incomeData.revenue || incomeData.expenses)) {\r\n          // Enhance income statement with sales data\r\n          const baseRevenue = safeNumber(incomeData.revenue && typeof incomeData.revenue === 'object' && incomeData.revenue !== null && 'total' in incomeData.revenue ? (incomeData.revenue as { total: number }).total : 0);\r\n          const baseExpenses = safeNumber(incomeData.expenses && typeof incomeData.expenses === 'object' && incomeData.expenses !== null && 'total' in incomeData.expenses ? (incomeData.expenses as { total: number }).total : 0);\r\n          const calculatedRevenue = baseRevenue + totalSalesFromData;\r\n          const calculatedProfit = calculatedRevenue - baseExpenses;\r\n          const calculatedProfitMargin = calculatedRevenue > 0\r\n            ? (calculatedProfit / calculatedRevenue) * 100\r\n            : 0;\r\n          \r\n          const enhancedIncome = {\r\n            ...incomeData,\r\n            sales: {\r\n              total: safeNumber(totalSalesFromData),\r\n              by_category: salesByCategory,\r\n            },\r\n            revenue: {\r\n              by_category: (incomeData.revenue && typeof incomeData.revenue === 'object' && 'by_category' in incomeData.revenue ? incomeData.revenue.by_category : undefined) || {},\r\n              total: calculatedRevenue,\r\n            },\r\n            profit: calculatedProfit,\r\n            profit_margin: calculatedProfitMargin,\r\n          };\r\n          setIncomeStatement(enhancedIncome as IncomeStatement);\r\n        } else {\r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.warn('Invalid income statement data structure:', incomeData);\r\n          }\r\n          setIncomeStatement(null);\r\n        }\r\n      } else {\r\n        console.error('Failed to load income statement:', incomeResult.reason);\r\n        setIncomeStatement(null);\r\n      }\r\n      \r\n      if (cashFlowResult.status === 'fulfilled') {\r\n        const cashFlowData = cashFlowResult.value.data || cashFlowResult.value;\r\n        if (cashFlowData && (cashFlowData.summary || cashFlowData.daily_cash_flow)) {\r\n          // Enhance cash flow with sales data - ONLY from POSTED (approved) sales\r\n          const salesByDay: Record<string, { inflow: number; outflow: number; net: number }> = {};\r\n          postedSalesData.forEach((sale: unknown) => {\r\n            const saleData = sale as { created_at?: string; total_sale?: unknown };\r\n            const saleDate = saleData.created_at ? new Date(saleData.created_at).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n            if (!salesByDay[saleDate]) {\r\n              salesByDay[saleDate] = { inflow: 0, outflow: 0, net: 0 };\r\n            }\r\n            const saleAmount = safeNumber(saleData.total_sale);\r\n            salesByDay[saleDate].inflow += saleAmount;\r\n            salesByDay[saleDate].net += saleAmount;\r\n          });\r\n\r\n          // Merge sales into daily cash flow\r\n          const enhancedDailyFlow = { ...cashFlowData.daily_cash_flow };\r\n          Object.entries(salesByDay).forEach(([date, flow]) => {\r\n            if (enhancedDailyFlow[date]) {\r\n              enhancedDailyFlow[date].inflow += flow.inflow;\r\n              enhancedDailyFlow[date].net += flow.net;\r\n            } else {\r\n              enhancedDailyFlow[date] = flow;\r\n            }\r\n          });\r\n\r\n          const baseInflow = safeNumber(cashFlowData.summary?.total_inflow);\r\n          const baseNetFlow = safeNumber(cashFlowData.summary?.net_cash_flow);\r\n          \r\n          // Use sales revenue from summary result if available, otherwise use calculated totalSalesFromData\r\n          // Check salesSummaryResult to get the sales revenue value\r\n          let salesRevenueForCashFlow = totalSalesFromData;\r\n          if (salesSummaryResult.status === 'fulfilled') {\r\n            const salesSummaryData = salesSummaryResult.value.data || salesSummaryResult.value;\r\n            if (salesSummaryData && typeof salesSummaryData === 'object' && 'total_revenue' in salesSummaryData) {\r\n              salesRevenueForCashFlow = safeNumber((salesSummaryData as SalesSummary).total_revenue);\r\n            }\r\n          }\r\n          \r\n          const enhancedCashFlow = {\r\n            ...cashFlowData,\r\n            summary: {\r\n              ...cashFlowData.summary,\r\n              total_inflow: baseInflow + salesRevenueForCashFlow,\r\n              net_cash_flow: baseNetFlow + salesRevenueForCashFlow,\r\n            },\r\n            daily_cash_flow: enhancedDailyFlow,\r\n          };\r\n          setCashFlow(enhancedCashFlow);\r\n        } else {\r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.warn('Invalid cash flow data structure:', cashFlowData);\r\n          }\r\n          setCashFlow(null);\r\n        }\r\n      } else {\r\n        console.error('Failed to load cash flow:', cashFlowResult.reason);\r\n        setCashFlow(null);\r\n      }\r\n      \r\n      // Handle inventory summary\r\n      if (inventoryResult.status === 'fulfilled') {\r\n        const inventoryData = inventoryResult.value.data || inventoryResult.value;\r\n        if (inventoryData && typeof inventoryData === 'object' && \r\n            ('total_items' in inventoryData || 'total_selling_value' in inventoryData)) {\r\n          setInventorySummary(inventoryData as InventorySummary);\r\n        } else {\r\n          setInventorySummary(null);\r\n        }\r\n      } else {\r\n        // Only log error if it's not a 403 (permission denied)\r\n        if (inventoryResult.reason?.response?.status !== 403) {\r\n          console.warn('Failed to load inventory summary:', inventoryResult.reason);\r\n        }\r\n        setInventorySummary(null);\r\n      }\r\n      \r\n      // Handle sales summary and integrate with financial data\r\n      // Sales summary API provides more accurate aggregated data from the backend\r\n      if (salesSummaryResult.status === 'fulfilled') {\r\n        const salesData = salesSummaryResult.value.data || salesSummaryResult.value;\r\n        if (salesData && typeof salesData === 'object' && \r\n            ('total_sales' in salesData || 'total_revenue' in salesData)) {\r\n          const salesSummaryData = salesData as SalesSummary;\r\n          setSalesSummary(salesSummaryData);\r\n          \r\n          // Always use sales summary revenue when available (more accurate than calculating from individual sales)\r\n          // This ensures we use the backend's aggregated data which only includes POSTED sales\r\n          // Update financial summary with accurate sales data from summary API\r\n          if (summaryResult.status === 'fulfilled') {\r\n            const summaryData = summaryResult.value.data || summaryResult.value;\r\n            if (summaryData && (summaryData.financials || summaryData.revenue_by_category || summaryData.expenses_by_category)) {\r\n              // Use sales summary revenue instead of calculated totalSalesFromData\r\n              // Sales summary is more accurate as it's aggregated by the backend\r\n              const baseRevenue = safeNumber(summaryData.financials?.total_revenue);\r\n              const baseExpenses = safeNumber(summaryData.financials?.total_expenses);\r\n              const salesRevenue = safeNumber(salesSummaryData.total_revenue);\r\n              \r\n              // Total revenue = base revenue (from revenue entries) + sales revenue (from posted sales)\r\n              const calculatedRevenue = baseRevenue + salesRevenue;\r\n              const calculatedProfit = calculatedRevenue - baseExpenses;\r\n              const calculatedProfitMargin = calculatedRevenue > 0 \r\n                ? (calculatedProfit / calculatedRevenue) * 100\r\n                : 0;\r\n              \r\n              const enhancedSummary = {\r\n                ...summaryData,\r\n                financials: {\r\n                  ...summaryData.financials,\r\n                  total_sales: salesRevenue, // Use sales revenue from summary API\r\n                  total_revenue: calculatedRevenue, // Base revenue + sales revenue\r\n                  total_expenses: baseExpenses,\r\n                  profit: calculatedProfit,\r\n                  profit_margin: calculatedProfitMargin,\r\n                },\r\n                sales_by_category: salesByCategory, // Keep category breakdown from individual sales\r\n                transaction_counts: {\r\n                  ...summaryData.transaction_counts,\r\n                  sales: salesSummaryData.posted_sales || postedSalesData.length,\r\n                  total: (summaryData.transaction_counts?.total || 0) + (salesSummaryData.posted_sales || postedSalesData.length),\r\n                },\r\n              };\r\n              \r\n              if (process.env.NODE_ENV === 'development') {\r\n                console.log('Financial Summary updated with Sales Summary:', {\r\n                  base_revenue: baseRevenue,\r\n                  sales_revenue_from_summary: salesRevenue,\r\n                  total_revenue_calculated: calculatedRevenue,\r\n                  total_sales: enhancedSummary.financials?.total_sales,\r\n                  total_expenses: enhancedSummary.financials?.total_expenses,\r\n                  profit: enhancedSummary.financials?.profit,\r\n                  profit_margin: enhancedSummary.financials?.profit_margin,\r\n                });\r\n              }\r\n              \r\n              setFinancialSummary(enhancedSummary);\r\n            }\r\n          }\r\n        } else {\r\n          setSalesSummary(null);\r\n        }\r\n      } else {\r\n        // Only log error if it's not a 403 (permission denied)\r\n        if (salesSummaryResult.reason?.response?.status !== 403) {\r\n          console.warn('Failed to load sales summary:', salesSummaryResult.reason);\r\n        }\r\n        setSalesSummary(null);\r\n      }\r\n      \r\n      // Process forecasts result\r\n      if (forecastsResult.status === 'fulfilled') {\r\n        const forecastsData = forecastsResult.value?.data || forecastsResult.value || [];\r\n        const forecastsArray = Array.isArray(forecastsData) ? forecastsData : [];\r\n        // Parse forecast data if it's a string\r\n        const parsedForecasts = forecastsArray.map((f: unknown) => {\r\n          const forecast = f as Forecast;\r\n          if (typeof forecast.forecast_data === 'string') {\r\n            try {\r\n              forecast.forecast_data = JSON.parse(forecast.forecast_data) as ForecastDataPoint[];\r\n            } catch {\r\n              forecast.forecast_data = [];\r\n            }\r\n          }\r\n          if (typeof forecast.method_params === 'string') {\r\n            try {\r\n              forecast.method_params = JSON.parse(forecast.method_params) as Record<string, unknown>;\r\n            } catch {\r\n              forecast.method_params = {};\r\n            }\r\n          }\r\n          return forecast;\r\n        });\r\n        setForecasts(parsedForecasts);\r\n      } else {\r\n        // Only log error if it's not a 403 (permission denied)\r\n        if (forecastsResult.reason?.response?.status !== 403) {\r\n          console.warn('Failed to load forecasts:', forecastsResult.reason);\r\n        }\r\n        setForecasts([]);\r\n      }\r\n      \r\n      if (summaryResult.status === 'rejected' && incomeResult.status === 'rejected' && cashFlowResult.status === 'rejected') {\r\n        const firstError = summaryResult.reason || incomeResult.reason || cashFlowResult.reason;\r\n        let errorMsg = 'Failed to load reports';\r\n        if (firstError?.response?.data?.detail) {\r\n          const detail = firstError.response.data.detail;\r\n          if (typeof detail === 'string') {\r\n            errorMsg = detail;\r\n          } else if (Array.isArray(detail)) {\r\n            errorMsg = detail.map((e: unknown) => {\r\n              if (typeof e === 'string') return e;\r\n              const errorDetail = e as { msg?: string };\r\n              return errorDetail.msg || JSON.stringify(e);\r\n            }).join(', ');\r\n          }\r\n        } else if (firstError?.message) {\r\n          errorMsg = firstError.message;\r\n        }\r\n        setError(errorMsg);\r\n        toast.error(errorMsg);\r\n        setFinancialSummary(null);\r\n        setIncomeStatement(null);\r\n        setCashFlow(null);\r\n      }\r\n      \r\n    } catch (err: unknown) {\r\n      const error = err as ErrorWithDetails;\r\n      let errorMessage = 'Failed to load reports';\r\n\r\n      if (error.response?.data?.detail) {\r\n        const detail = error.response.data.detail;\r\n        \r\n        if (Array.isArray(detail)) {\r\n          errorMessage = detail.map((e: unknown) => {\r\n            if (typeof e === 'string') return e;\r\n            const errorDetail = e as { msg?: string; loc?: string[] };\r\n            if (errorDetail.msg) return `${errorDetail.loc?.join('.') || 'Field'}: ${errorDetail.msg}`;\r\n            return JSON.stringify(e);\r\n          }).join(', ');\r\n        }\r\n        else if (typeof detail === 'object' && detail && 'msg' in detail) {\r\n          const detailObj = detail as { msg?: string; loc?: string[] };\r\n          errorMessage = `${detailObj.loc?.join('.') || 'Field'}: ${detailObj.msg}`;\r\n        }\r\n        else if (typeof detail === 'string') {\r\n          errorMessage = detail;\r\n        }\r\n        else {\r\n          errorMessage = JSON.stringify(detail);\r\n        }\r\n      } else if ((err as ErrorWithDetails).message) {\r\n        errorMessage = (err as ErrorWithDetails).message!;\r\n      }\r\n      \r\n      setError(errorMessage);\r\n      toast.error(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user, storeUser?.managerId, startDate, endDate]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const timer = setTimeout(() => {\r\n        loadReports(true);\r\n      }, 100);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [user, loadReports]);\r\n\r\n  useEffect(() => {\r\n    if (user && startDate && endDate) {\r\n      const timer = setTimeout(() => {\r\n        loadReports(true);\r\n      }, 300);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [startDate, endDate, loadReports, user]);\r\n\r\n  const formatCurrency = (amount: number | null | undefined): string => {\r\n    const safeAmount = safeNumber(amount);\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2,\r\n    }).format(safeAmount);\r\n  };\r\n\r\n  const formatDate = (dateString?: string): string => {\r\n    if (!dateString) return '';\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n    });\r\n  };\r\n\r\n  const capitalize = (str: string | null | undefined): string => {\r\n    if (!str || typeof str !== 'string') return '';\r\n    return str.charAt(0).toUpperCase() + str.slice(1).replace(/_/g, ' ');\r\n  };\r\n\r\n  // Generate ML forecast with advice\r\n  const generateMLForecast = async (metric: 'expense' | 'revenue' | 'inventory', modelType: string) => {\r\n    setGeneratingForecast(`${metric}-${modelType}`);\r\n    try {\r\n      const response = await apiClient.generateForecastWithAdvice(metric, modelType as any, 12);\r\n      const responseData = (response as any)?.data || response;\r\n      \r\n      if (responseData?.status === 'success') {\r\n        // Update ML insights state\r\n        setMlInsights((prev: any) => ({\r\n          ...prev,\r\n          [metric]: {\r\n            ...responseData,\r\n            model_type: modelType,\r\n            generated_at: new Date().toISOString()\r\n          }\r\n        }));\r\n        toast.success(`${capitalize(metric)} forecast with AI advice generated successfully!`);\r\n      }\r\n    } catch (error: any) {\r\n      const errorMessage = error?.response?.data?.detail || error?.message || 'Failed to generate forecast';\r\n      toast.error(errorMessage);\r\n    } finally {\r\n      setGeneratingForecast(null);\r\n    }\r\n  };\r\n\r\n  // Load ML insights for all metrics\r\n  const loadMLInsights = async () => {\r\n    if (!user || (user?.role !== 'admin' && user?.role !== 'super_admin' && \r\n                  user?.role !== 'finance_admin' && user?.role !== 'finance_manager' && \r\n                  user?.role !== 'manager')) {\r\n      return;\r\n    }\r\n\r\n    setLoadingMLInsights(true);\r\n    try {\r\n      // Try to generate forecasts with advice for all metrics using best available models\r\n      const metrics = ['expense', 'revenue', 'inventory'] as const;\r\n      const insights: Record<string, any> = {};\r\n      \r\n      // Try common models for each metric\r\n      const modelMap = {\r\n        expense: ['arima', 'linear_regression'],\r\n        revenue: ['xgboost', 'prophet'],\r\n        inventory: ['sarima', 'xgboost']\r\n      };\r\n\r\n      for (const metric of metrics) {\r\n        const models = modelMap[metric as keyof typeof modelMap];\r\n        for (const modelType of models) {\r\n          try {\r\n            const response = await apiClient.generateForecastWithAdvice(metric, modelType as any, 12);\r\n            const responseData = (response as any)?.data || response;\r\n            \r\n            if (responseData?.status === 'success') {\r\n              insights[metric] = {\r\n                ...responseData,\r\n                model_type: modelType,\r\n                generated_at: new Date().toISOString()\r\n              };\r\n              break; // Use first successful model\r\n            }\r\n          } catch (e) {\r\n            // Try next model\r\n            continue;\r\n          }\r\n        }\r\n      }\r\n      \r\n      setMlInsights(insights);\r\n    } catch (error) {\r\n      console.error('Failed to load ML insights:', error);\r\n      // Don't show error toast as this is optional enhancement\r\n    } finally {\r\n      setLoadingMLInsights(false);\r\n    }\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <Layout>\r\n        <PageContainer>\r\n          <EmptyState>\r\n            <FileText size={48} />\r\n            <h3>Please log in to view reports</h3>\r\n          </EmptyState>\r\n        </PageContainer>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <PageContainer>\r\n        <HeaderContainer>\r\n          <h1>Financial Reports</h1>\r\n          <p>Income Statement and Cash Flow Analysis</p>\r\n        </HeaderContainer>\r\n\r\n        <DateFilterCard>\r\n          <DateInputGroup>\r\n            <Label htmlFor=\"startDate\">Start Date</Label>\r\n            <Input\r\n              id=\"startDate\"\r\n              type=\"date\"\r\n              value={startDate}\r\n              onChange={(e) => setStartDate(e.target.value)}\r\n            />\r\n          </DateInputGroup>\r\n          <DateInputGroup>\r\n            <Label htmlFor=\"endDate\">End Date</Label>\r\n            <Input\r\n              id=\"endDate\"\r\n              type=\"date\"\r\n              value={endDate}\r\n              onChange={(e) => setEndDate(e.target.value)}\r\n            />\r\n          </DateInputGroup>\r\n          <ButtonRow>\r\n            <Button \r\n              onClick={() => {\r\n                const oneYearAgo = new Date();\r\n                oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);\r\n                oneYearAgo.setDate(1);\r\n                const tomorrow = new Date();\r\n                tomorrow.setDate(tomorrow.getDate() + 1);\r\n                setStartDate(oneYearAgo.toISOString().split('T')[0]);\r\n                setEndDate(tomorrow.toISOString().split('T')[0]);\r\n                loadReports(true);\r\n              }}\r\n              variant=\"outline\"\r\n              disabled={loading}\r\n            >\r\n              Show All Data (1 Year)\r\n            </Button>\r\n            <Button \r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                loadReports(false);\r\n              }}\r\n              variant=\"outline\"\r\n              disabled={loading}\r\n            >\r\n              Load Without Date Filter\r\n            </Button>\r\n            <Button onClick={() => loadReports(true)} disabled={loading}>\r\n              {loading ? (\r\n                <>\r\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                  Loading...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n                  Refresh\r\n                </>\r\n              )}\r\n            </Button>\r\n          </ButtonRow>\r\n        </DateFilterCard>\r\n\r\n        {error && (\r\n          <ErrorBanner>\r\n            <AlertCircle />\r\n            <span>{error}</span>\r\n          </ErrorBanner>\r\n        )}\r\n\r\n        {loading ? (\r\n          <LoadingContainer>\r\n            <Spinner />\r\n            <p>Loading financial reports...</p>\r\n          </LoadingContainer>\r\n        ) : (\r\n          <>\r\n            <ReportSection>\r\n              <ReportCard>\r\n                <ReportHeader>\r\n                  <div>\r\n                    <h2>\r\n                      <BarChart3 />\r\n                      Financial Summary Report\r\n                    </h2>\r\n                    <p>\r\n                      Period: {formatDate(startDate)} - {formatDate(endDate)}\r\n                      {financialSummary?.generated_at && (\r\n                        <>  Generated: {formatDate(financialSummary.generated_at)}</>\r\n                      )}\r\n                    </p>\r\n                  </div>\r\n                </ReportHeader>\r\n\r\n                {financialSummary ? (\r\n                  <>\r\n                    <SummaryGrid>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ArrowUpRight size={16} />\r\n                          Total Revenue\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(financialSummary.financials?.total_revenue)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          {financialSummary.transaction_counts?.revenue || 0} revenue transactions\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ShoppingCart size={16} />\r\n                          Total Sales\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(financialSummary.financials?.total_sales)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          {financialSummary.transaction_counts?.sales || 0} sales transactions\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"expense\">\r\n                        <div className=\"label\">\r\n                          <ArrowDownRight size={16} />\r\n                          Total Expenses\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(financialSummary.financials?.total_expenses)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          {financialSummary.transaction_counts?.expenses || 0} expense transactions\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"profit\">\r\n                        <div className=\"label\">\r\n                          <TrendingUp size={16} />\r\n                          Net Profit\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(financialSummary.financials?.profit)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          Profit Margin: {safeNumber(financialSummary.financials?.profit_margin).toFixed(2)}%\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard>\r\n                        <div className=\"label\">\r\n                          <FileText size={16} />\r\n                          Total Transactions\r\n                        </div>\r\n                        <div className=\"value\">{financialSummary.transaction_counts?.total || 0}</div>\r\n                        <div className=\"sub-value\">\r\n                          {financialSummary.transaction_counts?.revenue || 0} revenue + {financialSummary.transaction_counts?.sales || 0} sales + {financialSummary.transaction_counts?.expenses || 0} expenses\r\n                        </div>\r\n                      </SummaryCard>\r\n                    </SummaryGrid>\r\n\r\n                    <TwoColumnGrid>\r\n                      <div>\r\n                        <SectionTitle>Top Revenue Categories</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Category</th>\r\n                              <th style={{ textAlign: 'right' }}>Amount</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {financialSummary.revenue_by_category && Object.entries(financialSummary.revenue_by_category).length > 0 ? (\r\n                              Object.entries(financialSummary.revenue_by_category)\r\n                                .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                                .slice(0, 5)\r\n                                .map(([category, amount]) => (\r\n                                  <tr key={category}>\r\n                                    <td>{capitalize(category)}</td>\r\n                                    <td style={{ textAlign: 'right' }}>{formatCurrency(amount as number)}</td>\r\n                                  </tr>\r\n                                ))\r\n                            ) : (\r\n                              <tr>\r\n                                <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                  No revenue data\r\n                                </td>\r\n                              </tr>\r\n                            )}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n\r\n                      <div>\r\n                        <SectionTitle>Top Sales Categories</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Category</th>\r\n                              <th style={{ textAlign: 'right' }}>Amount</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {financialSummary.sales_by_category && Object.entries(financialSummary.sales_by_category).length > 0 ? (\r\n                              Object.entries(financialSummary.sales_by_category)\r\n                                .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                                .slice(0, 5)\r\n                                .map(([category, amount]) => (\r\n                                  <tr key={category}>\r\n                                    <td>{capitalize(category)}</td>\r\n                                    <td style={{ textAlign: 'right' }}>{formatCurrency(amount as number)}</td>\r\n                                  </tr>\r\n                                ))\r\n                            ) : (\r\n                              <tr>\r\n                                <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                  No sales data\r\n                                </td>\r\n                              </tr>\r\n                            )}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    </TwoColumnGrid>\r\n\r\n                    <div style={{ marginTop: theme.spacing.xl }}>\r\n                      <SectionTitle>Top Expense Categories</SectionTitle>\r\n                      <CategoryTable>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Category</th>\r\n                            <th style={{ textAlign: 'right' }}>Amount</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {financialSummary.expenses_by_category && Object.entries(financialSummary.expenses_by_category).length > 0 ? (\r\n                            Object.entries(financialSummary.expenses_by_category)\r\n                              .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                              .slice(0, 5)\r\n                              .map(([category, amount]) => (\r\n                                <tr key={category}>\r\n                                  <td>{capitalize(category)}</td>\r\n                                  <td style={{ textAlign: 'right', color: '#dc2626', fontWeight: theme.typography.fontWeights.bold }}>{formatCurrency(amount as number)}</td>\r\n                                </tr>\r\n                              ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                No expense data\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </CategoryTable>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <EmptyState>\r\n                    <BarChart3 size={48} />\r\n                    <h3>No summary data available</h3>\r\n                  </EmptyState>\r\n                )}\r\n              </ReportCard>\r\n            </ReportSection>\r\n\r\n            <ReportSection>\r\n              <ReportCard>\r\n                <ReportHeader>\r\n                  <div>\r\n                    <h2>\r\n                      <FileText />\r\n                      Income Statement (Profit & Loss)\r\n                    </h2>\r\n                    <p>\r\n                      Period: {formatDate(startDate)} - {formatDate(endDate)}\r\n                    </p>\r\n                  </div>\r\n                </ReportHeader>\r\n\r\n                {incomeStatement ? (\r\n                  <>\r\n                    <SummaryGrid>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ArrowUpRight size={16} />\r\n                          Total Revenue\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(incomeStatement.revenue?.total || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          Includes sales revenue\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ShoppingCart size={16} />\r\n                          Sales Revenue\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(incomeStatement.sales?.total || 0)}\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"expense\">\r\n                        <div className=\"label\">\r\n                          <ArrowDownRight size={16} />\r\n                          Total Expenses\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(incomeStatement.expenses?.total || 0)}\r\n                        </div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"profit\">\r\n                        <div className=\"label\">\r\n                          <TrendingUp size={16} />\r\n                          Net Profit\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(incomeStatement.profit || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">\r\n                          Profit Margin: {(incomeStatement.profit_margin || 0).toFixed(2)}%\r\n                        </div>\r\n                      </SummaryCard>\r\n                    </SummaryGrid>\r\n\r\n                    <div style={{ marginTop: theme.spacing.xl }}>\r\n                      <SectionTitle>Revenue by Category</SectionTitle>\r\n                      <CategoryTable>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Category</th>\r\n                            <th style={{ textAlign: 'right' }}>Amount</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {incomeStatement.revenue?.by_category && Object.entries(incomeStatement.revenue.by_category).length > 0 ? (\r\n                            Object.entries(incomeStatement.revenue.by_category)\r\n                              .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                              .map(([category, amount]) => (\r\n                                <tr key={category}>\r\n                                  <td>{capitalize(category)}</td>\r\n                                  <td style={{ textAlign: 'right' }}>{formatCurrency(amount as number)}</td>\r\n                                </tr>\r\n                              ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                No revenue data for this period\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </CategoryTable>\r\n                    </div>\r\n\r\n                    {incomeStatement.sales?.by_category && Object.entries(incomeStatement.sales.by_category).length > 0 && (\r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>Sales by Category</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Category</th>\r\n                              <th style={{ textAlign: 'right' }}>Amount</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {Object.entries(incomeStatement.sales.by_category)\r\n                              .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                              .map(([category, amount]) => (\r\n                                <tr key={category}>\r\n                                  <td>{capitalize(category)}</td>\r\n                                  <td style={{ textAlign: 'right' }}>{formatCurrency(amount as number)}</td>\r\n                                </tr>\r\n                              ))}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    )}\r\n\r\n                    <div style={{ marginTop: theme.spacing.xl }}>\r\n                      <SectionTitle>Expenses by Category</SectionTitle>\r\n                      <CategoryTable>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Category</th>\r\n                            <th style={{ textAlign: 'right' }}>Amount</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {incomeStatement.expenses?.by_category && Object.entries(incomeStatement.expenses.by_category).length > 0 ? (\r\n                            Object.entries(incomeStatement.expenses.by_category)\r\n                              .sort(([, a], [, b]) => (b as number) - (a as number))\r\n                              .map(([category, amount]) => (\r\n                                <tr key={category}>\r\n                                  <td>{capitalize(category)}</td>\r\n                                  <td style={{ textAlign: 'right', color: '#dc2626', fontWeight: theme.typography.fontWeights.bold }}>{formatCurrency(amount as number)}</td>\r\n                                </tr>\r\n                              ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                No expense data for this period\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </CategoryTable>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <EmptyState>\r\n                    <FileText size={48} />\r\n                    <h3>No income statement data available</h3>\r\n                  </EmptyState>\r\n                )}\r\n              </ReportCard>\r\n            </ReportSection>\r\n\r\n            <ReportSection>\r\n              <ReportCard>\r\n                <ReportHeader>\r\n                  <div>\r\n                    <h2>\r\n                      <BarChart3 />\r\n                      Cash Flow Statement\r\n                    </h2>\r\n                    <p>\r\n                      Period: {formatDate(startDate)} - {formatDate(endDate)}\r\n                    </p>\r\n                  </div>\r\n                </ReportHeader>\r\n\r\n                {cashFlow ? (\r\n                  <>\r\n                    <SummaryGrid>\r\n                      <SummaryCard $type=\"revenue\">\r\n                        <div className=\"label\">\r\n                          <ArrowUpRight size={16} />\r\n                          Cash Inflow\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(cashFlow.summary?.total_inflow || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">Money coming in</div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"expense\">\r\n                        <div className=\"label\">\r\n                          <ArrowDownRight size={16} />\r\n                          Cash Outflow\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(cashFlow.summary?.total_outflow || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">Money going out</div>\r\n                      </SummaryCard>\r\n                      <SummaryCard $type=\"profit\">\r\n                        <div className=\"label\">\r\n                          <TrendingUp size={16} />\r\n                          Net Cash Flow\r\n                        </div>\r\n                        <div className=\"value\">\r\n                          {formatCurrency(cashFlow.summary?.net_cash_flow || 0)}\r\n                        </div>\r\n                        <div className=\"sub-value\">Actual cash available</div>\r\n                      </SummaryCard>\r\n                    </SummaryGrid>\r\n\r\n                    <div style={{ marginTop: theme.spacing.xl }}>\r\n                      <SectionTitle>Daily Cash Flow</SectionTitle>\r\n                      <CashFlowTable>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Date</th>\r\n                            <th style={{ textAlign: 'right' }}>Inflow</th>\r\n                            <th style={{ textAlign: 'right' }}>Outflow</th>\r\n                            <th style={{ textAlign: 'right' }}>Net</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {cashFlow.daily_cash_flow && Object.entries(cashFlow.daily_cash_flow).length > 0 ? (\r\n                            Object.entries(cashFlow.daily_cash_flow)\r\n                              .sort(([dateA], [dateB]) => dateB.localeCompare(dateA))\r\n                              .map(([date, flow]: [string, { inflow: number; outflow: number; net: number }]) => (\r\n                                <tr key={date}>\r\n                                  <td>{formatDate(date)}</td>\r\n                                  <td style={{ textAlign: 'right' }}>\r\n                                    {flow.inflow > 0 ? formatCurrency(flow.inflow) : ''}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right' }}>\r\n                                    {flow.outflow > 0 ? formatCurrency(flow.outflow) : ''}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right' }}>\r\n                                    {formatCurrency(flow.net || 0)}\r\n                                  </td>\r\n                                </tr>\r\n                              ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan={4} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED }}>\r\n                                No cash flow data for this period\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </CashFlowTable>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <EmptyState>\r\n                    <BarChart3 size={48} />\r\n                    <h3>No cash flow data available</h3>\r\n                  </EmptyState>\r\n                )}\r\n              </ReportCard>\r\n            </ReportSection>\r\n\r\n            {/* Sales Summary Section - For Accountant, Finance Admin, Admin, and Manager */}\r\n            {(user?.role === 'accountant' || user?.role === 'finance_manager' || user?.role === 'finance_admin' || user?.role === 'admin' || user?.role === 'super_admin' || user?.role === 'manager') && (\r\n              <ReportSection>\r\n                <ReportCard>\r\n                  <ReportHeader>\r\n                    <div>\r\n                      <h2>\r\n                        <ShoppingCart />\r\n                        Sales Summary Report\r\n                      </h2>\r\n                      <p>\r\n                        Period: {formatDate(startDate)} - {formatDate(endDate)}\r\n                        {salesSummary?.period_start && salesSummary?.period_end && (\r\n                          <>  Sales Period: {formatDate(salesSummary.period_start)} - {formatDate(salesSummary.period_end)}</>\r\n                        )}\r\n                      </p>\r\n                    </div>\r\n                  </ReportHeader>\r\n\r\n                  {salesSummary ? (\r\n                    <>\r\n                      <SummaryGrid>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <ShoppingCart size={16} />\r\n                            Total Sales\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {salesSummary.total_sales || 0}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            All sales transactions\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <DollarSign size={16} />\r\n                            Total Sales Revenue\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {formatCurrency(salesSummary.total_revenue || 0)}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            From posted sales only\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"profit\">\r\n                          <div className=\"label\">\r\n                            <TrendingUp size={16} />\r\n                            Posted Sales\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {salesSummary.posted_sales || 0}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Approved and posted\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"expense\">\r\n                          <div className=\"label\">\r\n                            <AlertCircle size={16} />\r\n                            Pending Sales\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {salesSummary.pending_sales || 0}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Awaiting approval\r\n                          </div>\r\n                        </SummaryCard>\r\n                      </SummaryGrid>\r\n                      \r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>Sales Status Breakdown</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Status</th>\r\n                              <th style={{ textAlign: 'right' }}>Count</th>\r\n                              <th style={{ textAlign: 'right' }}>Percentage</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <tr>\r\n                              <td>Posted (Approved)</td>\r\n                              <td style={{ textAlign: 'right' }}>{salesSummary.posted_sales || 0}</td>\r\n                              <td style={{ textAlign: 'right' }}>\r\n                                {salesSummary.total_sales > 0 \r\n                                  ? ((salesSummary.posted_sales || 0) / salesSummary.total_sales * 100).toFixed(1)\r\n                                  : 0}%\r\n                              </td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td>Pending (Awaiting Approval)</td>\r\n                              <td style={{ textAlign: 'right' }}>{salesSummary.pending_sales || 0}</td>\r\n                              <td style={{ textAlign: 'right' }}>\r\n                                {salesSummary.total_sales > 0 \r\n                                  ? ((salesSummary.pending_sales || 0) / salesSummary.total_sales * 100).toFixed(1)\r\n                                  : 0}%\r\n                              </td>\r\n                            </tr>\r\n                            <tr style={{ fontWeight: theme.typography.fontWeights.bold, borderTop: `2px solid ${theme.colors.border}` }}>\r\n                              <td>Total</td>\r\n                              <td style={{ textAlign: 'right' }}>{salesSummary.total_sales || 0}</td>\r\n                              <td style={{ textAlign: 'right' }}>100%</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState>\r\n                      <ShoppingCart size={48} />\r\n                      <h3>No sales data available</h3>\r\n                      <p>Sales summary is only available to Accountant, Finance Admin, Admin, and Manager roles.</p>\r\n                    </EmptyState>\r\n                  )}\r\n                </ReportCard>\r\n              </ReportSection>\r\n            )}\r\n\r\n            {/* Inventory Summary Section - For Finance Admin, Admin, and Manager */}\r\n            {(user?.role === 'finance_manager' || user?.role === 'finance_admin' || user?.role === 'admin' || user?.role === 'super_admin' || user?.role === 'manager') && (\r\n              <ReportSection>\r\n                <ReportCard>\r\n                  <ReportHeader>\r\n                    <div>\r\n                      <h2>\r\n                        <Package />\r\n                        Inventory Summary\r\n                      </h2>\r\n                      <p>Current inventory valuation and stock levels</p>\r\n                    </div>\r\n                  </ReportHeader>\r\n\r\n                  {inventorySummary ? (\r\n                    <>\r\n                      <SummaryGrid>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <Package size={16} />\r\n                            Total Items\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {inventorySummary.total_items || 0}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Active inventory items\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"expense\">\r\n                          <div className=\"label\">\r\n                            <DollarSign size={16} />\r\n                            Total Cost Value\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {formatCurrency(inventorySummary.total_cost_value || 0)}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Investment in inventory\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <TrendingUp size={16} />\r\n                            Total Selling Value\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {formatCurrency(inventorySummary.total_selling_value || 0)}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Potential revenue if all sold\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"profit\">\r\n                          <div className=\"label\">\r\n                            <TrendingUp size={16} />\r\n                            Potential Profit\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {formatCurrency(inventorySummary.potential_profit || 0)}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Profit if all inventory sold\r\n                          </div>\r\n                        </SummaryCard>\r\n                        {inventorySummary.total_quantity_in_stock !== undefined && (\r\n                          <SummaryCard>\r\n                            <div className=\"label\">\r\n                              <Package size={16} />\r\n                              Total Stock Quantity\r\n                            </div>\r\n                            <div className=\"value\">\r\n                              {inventorySummary.total_quantity_in_stock.toLocaleString()}\r\n                            </div>\r\n                            <div className=\"sub-value\">\r\n                              Total units in stock\r\n                            </div>\r\n                          </SummaryCard>\r\n                        )}\r\n                      </SummaryGrid>\r\n                      \r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>Inventory Valuation Analysis</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Metric</th>\r\n                              <th style={{ textAlign: 'right' }}>Value</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <tr>\r\n                              <td>Total Inventory Items</td>\r\n                              <td style={{ textAlign: 'right' }}>{inventorySummary.total_items || 0}</td>\r\n                            </tr>\r\n                            {inventorySummary.total_quantity_in_stock !== undefined && (\r\n                              <tr>\r\n                                <td>Total Stock Quantity</td>\r\n                                <td style={{ textAlign: 'right' }}>{inventorySummary.total_quantity_in_stock.toLocaleString()} units</td>\r\n                              </tr>\r\n                            )}\r\n                            <tr>\r\n                              <td>Total Cost Value (Investment)</td>\r\n                              <td style={{ textAlign: 'right' }}>{formatCurrency(inventorySummary.total_cost_value || 0)}</td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td>Total Selling Value (Potential Revenue)</td>\r\n                              <td style={{ textAlign: 'right' }}>{formatCurrency(inventorySummary.total_selling_value || 0)}</td>\r\n                            </tr>\r\n                            <tr style={{ fontWeight: theme.typography.fontWeights.bold, borderTop: `2px solid ${theme.colors.border}` }}>\r\n                              <td>Potential Profit</td>\r\n                              <td style={{ textAlign: 'right', color: PRIMARY_COLOR }}>\r\n                                {formatCurrency(inventorySummary.potential_profit || 0)}\r\n                              </td>\r\n                            </tr>\r\n                            {inventorySummary.total_cost_value > 0 && (\r\n                              <tr>\r\n                                <td>Profit Margin (Potential)</td>\r\n                                <td style={{ textAlign: 'right' }}>\r\n                                  {((inventorySummary.potential_profit || 0) / inventorySummary.total_cost_value * 100).toFixed(2)}%\r\n                                </td>\r\n                              </tr>\r\n                            )}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState>\r\n                      <Package size={48} />\r\n                      <h3>No inventory data available</h3>\r\n                      <p>Inventory summary is only available to Finance Admin, Admin, and Manager roles.</p>\r\n                    </EmptyState>\r\n                  )}\r\n                </ReportCard>\r\n              </ReportSection>\r\n            )}\r\n\r\n            {/* ML AI Insights Section - For Admin, Finance Admin, and Manager */}\r\n            {(user?.role === 'finance_manager' || user?.role === 'finance_admin' || user?.role === 'admin' || user?.role === 'super_admin' || user?.role === 'manager') && (\r\n              <ReportSection>\r\n                <ReportCard>\r\n                  <ReportHeader>\r\n                    <div>\r\n                      <h2>\r\n                        <Brain />\r\n                        AI-Powered Insights & Recommendations\r\n                      </h2>\r\n                      <p>\r\n                        Get intelligent forecasts and actionable advice based on ML analysis\r\n                      </p>\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: theme.spacing.sm }}>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={loadMLInsights}\r\n                        disabled={loadingMLInsights}\r\n                      >\r\n                        {loadingMLInsights ? (\r\n                          <>\r\n                            <Loader2 size={14} style={{ marginRight: theme.spacing.xs, animation: 'spin 1s linear infinite' }} />\r\n                            Loading...\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <RefreshCw size={14} style={{ marginRight: theme.spacing.xs }} />\r\n                            Generate Insights\r\n                          </>\r\n                        )}\r\n                      </Button>\r\n                    </div>\r\n                  </ReportHeader>\r\n\r\n                  {mlInsights && Object.keys(mlInsights).length > 0 ? (\r\n                    <>\r\n                      {Object.entries(mlInsights).map(([metric, insight]: [string, any]) => {\r\n                        if (!insight || !insight.forecast) return null;\r\n                        \r\n                        const trend = insight.trend_analysis;\r\n                        const advice = insight.advice || [];\r\n                        const alerts = insight.alerts || [];\r\n                        \r\n                        return (\r\n                          <div key={metric} style={{ marginBottom: theme.spacing.xl }}>\r\n                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: theme.spacing.md }}>\r\n                              <SectionTitle>\r\n                                {capitalize(metric)} Forecast & Insights\r\n                                {insight.model_type && typeof insight.model_type === 'string' && (\r\n                                  <span style={{ \r\n                                    fontSize: theme.typography.fontSizes.sm, \r\n                                    fontWeight: 400,\r\n                                    color: TEXT_COLOR_MUTED,\r\n                                    marginLeft: theme.spacing.sm\r\n                                  }}>\r\n                                    (Model: {insight.model_type.toUpperCase()})\r\n                                  </span>\r\n                                )}\r\n                              </SectionTitle>\r\n                            </div>\r\n\r\n                            {/* Trend Analysis */}\r\n                            {trend && (\r\n                              <div style={{ \r\n                                background: theme.colors.backgroundSecondary, \r\n                                padding: theme.spacing.lg, \r\n                                borderRadius: theme.borderRadius.md,\r\n                                marginBottom: theme.spacing.md\r\n                              }}>\r\n                                <div style={{ \r\n                                  fontSize: theme.typography.fontSizes.sm, \r\n                                  fontWeight: theme.typography.fontWeights.medium,\r\n                                  color: TEXT_COLOR_MUTED,\r\n                                  marginBottom: theme.spacing.sm\r\n                                }}>\r\n                                  Trend Analysis\r\n                                </div>\r\n                                <div style={{ display: 'flex', gap: theme.spacing.md, flexWrap: 'wrap' }}>\r\n                                  <TrendBadge $direction={(trend?.direction || 'stable') as any}>\r\n                                    {trend?.direction === 'increasing' ? <ArrowUpRight size={14} /> : \r\n                                     trend?.direction === 'decreasing' ? <ArrowDownRight size={14} /> : \r\n                                     <TrendingUp size={14} />}\r\n                                    {capitalize(trend?.direction || 'stable')} {trend?.percentage !== undefined && trend.percentage !== null && `(${Math.abs(trend.percentage).toFixed(1)}%)`}\r\n                                  </TrendBadge>\r\n                                  <span style={{ color: TEXT_COLOR_MUTED, fontSize: theme.typography.fontSizes.sm }}>\r\n                                    {trend?.average !== undefined && `Avg: ${formatCurrency(trend.average)}`}\r\n                                    {trend?.average !== undefined && (trend?.max !== undefined || trend?.min !== undefined) && ' | '}\r\n                                    {trend?.max !== undefined && `Max: ${formatCurrency(trend.max)}`}\r\n                                    {(trend?.max !== undefined && trend?.min !== undefined) && ' | '}\r\n                                    {trend?.min !== undefined && `Min: ${formatCurrency(trend.min)}`}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Summary */}\r\n                            {insight.summary && (\r\n                              <div style={{\r\n                                background: '#eff6ff',\r\n                                border: '1px solid #bfdbfe',\r\n                                borderRadius: theme.borderRadius.md,\r\n                                padding: theme.spacing.md,\r\n                                marginBottom: theme.spacing.md\r\n                              }}>\r\n                                <div style={{ \r\n                                  display: 'flex', \r\n                                  gap: theme.spacing.sm, \r\n                                  alignItems: 'flex-start',\r\n                                  color: '#1e40af',\r\n                                  fontSize: theme.typography.fontSizes.sm,\r\n                                  lineHeight: '1.6'\r\n                                }}>\r\n                                  <Lightbulb size={16} style={{ marginTop: '2px', flexShrink: 0 }} />\r\n                                  <div>{insight.summary || 'No summary available'}</div>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Alerts */}\r\n                            {alerts.length > 0 && (\r\n                              <div style={{ marginBottom: theme.spacing.md }}>\r\n                                <SectionTitle style={{ fontSize: theme.typography.fontSizes.md, marginBottom: theme.spacing.sm }}>\r\n                                  Alerts\r\n                                </SectionTitle>\r\n                                {alerts.map((alert: any, index: number) => {\r\n                                  if (!alert || typeof alert !== 'object') return null;\r\n                                  return (\r\n                                    <AlertCard key={index} $severity={alert.severity || 'low'}>\r\n                                      <AlertCircle className=\"alert-icon\" size={18} />\r\n                                      <div className=\"alert-message\">{alert.message || 'No message'}</div>\r\n                                    </AlertCard>\r\n                                  );\r\n                                })}\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Recommendations */}\r\n                            {advice.length > 0 && (\r\n                              <div style={{ marginBottom: theme.spacing.md }}>\r\n                                <SectionTitle style={{ fontSize: theme.typography.fontSizes.md, marginBottom: theme.spacing.sm }}>\r\n                                  Recommendations\r\n                                </SectionTitle>\r\n                                {advice.map((rec: any, index: number) => {\r\n                                  if (!rec || typeof rec !== 'object') return null;\r\n                                  const priority = rec.priority === 'high' ? 'high' : rec.priority === 'medium' ? 'medium' : 'low';\r\n                                  return (\r\n                                    <InsightCard \r\n                                      key={index} \r\n                                      $priority={priority}\r\n                                    >\r\n                                      <div className=\"insight-header\">\r\n                                        <Target size={18} />\r\n                                        <h4>{rec.title || 'Recommendation'}</h4>\r\n                                        <PriorityBadge $priority={priority}>\r\n                                          {rec.priority || 'low'}\r\n                                        </PriorityBadge>\r\n                                      </div>\r\n                                      <div className=\"insight-message\">{rec.message || 'No message available'}</div>\r\n                                      {rec.actions && Array.isArray(rec.actions) && rec.actions.length > 0 && (\r\n                                        <div className=\"insight-actions\">\r\n                                          <strong style={{ fontSize: theme.typography.fontSizes.sm, color: TEXT_COLOR_DARK }}>\r\n                                            Recommended Actions:\r\n                                          </strong>\r\n                                          <ul>\r\n                                            {rec.actions.map((action: any, actionIndex: number) => (\r\n                                              <li key={actionIndex}>{typeof action === 'string' ? action : 'Action item'}</li>\r\n                                            ))}\r\n                                          </ul>\r\n                                        </div>\r\n                                      )}\r\n                                    </InsightCard>\r\n                                  );\r\n                                })}\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Forecast Preview */}\r\n                            {insight.forecast && Array.isArray(insight.forecast) && insight.forecast.length > 0 && (\r\n                              <div>\r\n                                <SectionTitle style={{ fontSize: theme.typography.fontSizes.md, marginBottom: theme.spacing.sm }}>\r\n                                  Forecast Preview ({insight.forecast.length} periods)\r\n                                </SectionTitle>\r\n                                <CategoryTable>\r\n                                  <thead>\r\n                                    <tr>\r\n                                      <th>Period</th>\r\n                                      <th style={{ textAlign: 'right' }}>Forecasted Value</th>\r\n                                    </tr>\r\n                                  </thead>\r\n                                  <tbody>\r\n                                    {Array.isArray(insight.forecast) && insight.forecast.slice(0, 6).map((point: any, index: number) => {\r\n                                      if (!point || typeof point !== 'object') return null;\r\n                                      const period = point.period || (point.date ? formatDate(point.date) : `Period ${index + 1}`);\r\n                                      const value = point.forecasted_value !== undefined ? point.forecasted_value : (point.value !== undefined ? point.value : 0);\r\n                                      return (\r\n                                        <tr key={index}>\r\n                                          <td>{period}</td>\r\n                                          <td style={{ textAlign: 'right', fontWeight: theme.typography.fontWeights.bold }}>\r\n                                            {formatCurrency(value)}\r\n                                          </td>\r\n                                        </tr>\r\n                                      );\r\n                                    })}\r\n                                    {Array.isArray(insight.forecast) && insight.forecast.length > 6 && (\r\n                                      <tr>\r\n                                        <td colSpan={2} style={{ textAlign: 'center', color: TEXT_COLOR_MUTED, fontStyle: 'italic' }}>\r\n                                          ... and {insight.forecast.length - 6} more periods\r\n                                        </td>\r\n                                      </tr>\r\n                                    )}\r\n                                  </tbody>\r\n                                </CategoryTable>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState>\r\n                      <Brain size={48} />\r\n                      <h3>No ML insights available</h3>\r\n                      <p>Click \"Generate Insights\" to get AI-powered forecasts and recommendations</p>\r\n                      <div style={{ marginTop: theme.spacing.lg, display: 'flex', gap: theme.spacing.sm, flexWrap: 'wrap', justifyContent: 'center' }}>\r\n                        {(['expense', 'revenue', 'inventory'] as const).map((metric) => (\r\n                          <div key={metric} style={{ marginBottom: theme.spacing.sm }}>\r\n                            <QuickForecastButton\r\n                              variant=\"outline\"\r\n                              onClick={() => {\r\n                                const modelMap: Record<string, string[]> = {\r\n                                  expense: ['arima', 'linear_regression'],\r\n                                  revenue: ['xgboost', 'prophet'],\r\n                                  inventory: ['sarima', 'xgboost']\r\n                                };\r\n                                const modelType = modelMap[metric]?.[0] || 'arima';\r\n                                generateMLForecast(metric, modelType);\r\n                              }}\r\n                              disabled={generatingForecast === `${metric}-arima` || generatingForecast === `${metric}-xgboost` || generatingForecast === `${metric}-sarima` || generatingForecast === `${metric}-linear_regression` || generatingForecast === `${metric}-prophet`}\r\n                            >\r\n                              {generatingForecast?.startsWith(metric) ? (\r\n                                <>\r\n                                  <Loader2 size={14} style={{ marginRight: theme.spacing.xs, animation: 'spin 1s linear infinite' }} />\r\n                                  Generating...\r\n                                </>\r\n                              ) : (\r\n                                <>\r\n                                  <Zap size={14} style={{ marginRight: theme.spacing.xs }} />\r\n                                  Quick {capitalize(metric)} Forecast\r\n                                </>\r\n                              )}\r\n                            </QuickForecastButton>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </EmptyState>\r\n                  )}\r\n                </ReportCard>\r\n              </ReportSection>\r\n            )}\r\n\r\n            {/* Forecast Report Section - For Admin, Finance Admin, and Manager */}\r\n            {(user?.role === 'finance_manager' || user?.role === 'finance_admin' || user?.role === 'admin' || user?.role === 'super_admin' || user?.role === 'manager') && (\r\n              <ReportSection>\r\n                <ReportCard>\r\n                  <ReportHeader>\r\n                    <div>\r\n                      <h2>\r\n                        <LineChart />\r\n                        Forecast Report\r\n                      </h2>\r\n                      <p>\r\n                        View and analyze all financial forecasts\r\n                      </p>\r\n                    </div>\r\n                  </ReportHeader>\r\n\r\n                  {forecasts && forecasts.length > 0 ? (\r\n                    <>\r\n                      <SummaryGrid>\r\n                        <SummaryCard>\r\n                          <div className=\"label\">\r\n                            <LineChart size={16} />\r\n                            Total Forecasts\r\n                          </div>\r\n                          <div className=\"value\">{forecasts.length}</div>\r\n                          <div className=\"sub-value\">\r\n                            Active forecasts\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"revenue\">\r\n                          <div className=\"label\">\r\n                            <TrendingUp size={16} />\r\n                            Revenue Forecasts\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {forecasts.filter(f => f.forecast_type === 'revenue').length}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Revenue forecasting models\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"expense\">\r\n                          <div className=\"label\">\r\n                            <ArrowDownRight size={16} />\r\n                            Expense Forecasts\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {forecasts.filter(f => f.forecast_type === 'expense').length}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Expense forecasting models\r\n                          </div>\r\n                        </SummaryCard>\r\n                        <SummaryCard $type=\"profit\">\r\n                          <div className=\"label\">\r\n                            <BarChart3 size={16} />\r\n                            AI Models\r\n                          </div>\r\n                          <div className=\"value\">\r\n                            {forecasts.filter(f => \r\n                              f.method === 'arima' || \r\n                              f.method === 'prophet' || \r\n                              f.method === 'xgboost' || \r\n                              f.method === 'lstm' || \r\n                              f.method === 'linear_regression' || \r\n                              f.method === 'sarima'\r\n                            ).length}\r\n                          </div>\r\n                          <div className=\"sub-value\">\r\n                            Machine learning forecasts\r\n                          </div>\r\n                        </SummaryCard>\r\n                      </SummaryGrid>\r\n\r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>All Forecasts</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Forecast Name</th>\r\n                              <th>Type</th>\r\n                              <th>Method</th>\r\n                              <th>Period</th>\r\n                              <th style={{ textAlign: 'right' }}>Total Forecasted</th>\r\n                              <th>Data Points</th>\r\n                              <th>Created</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {forecasts.map((forecast) => {\r\n                              const forecastData = forecast.forecast_data || [];\r\n                              const totalForecasted = forecastData.reduce((sum, point) => sum + (point.forecasted_value || 0), 0);\r\n                              const isAIModel = forecast.method === 'arima' || \r\n                                               forecast.method === 'prophet' || \r\n                                               forecast.method === 'xgboost' || \r\n                                               forecast.method === 'lstm' || \r\n                                               forecast.method === 'linear_regression' || \r\n                                               forecast.method === 'sarima';\r\n                              \r\n                              return (\r\n                                <tr key={forecast.id}>\r\n                                  <td>\r\n                                    <strong>{forecast.name}</strong>\r\n                                    {forecast.description && (\r\n                                      <div style={{ fontSize: theme.typography.fontSizes.xs, color: TEXT_COLOR_MUTED, marginTop: theme.spacing.xs }}>\r\n                                        {forecast.description}\r\n                                      </div>\r\n                                    )}\r\n                                  </td>\r\n                                  <td>\r\n                                    <span style={{ textTransform: 'capitalize' }}>\r\n                                      {forecast.forecast_type}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td>\r\n                                    <span style={{ textTransform: 'capitalize' }}>\r\n                                      {forecast.method.replace(/_/g, ' ')}\r\n                                      {isAIModel && ' (AI)'}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td>\r\n                                    {formatDate(forecast.start_date)} - {formatDate(forecast.end_date)}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right', fontWeight: theme.typography.fontWeights.bold }}>\r\n                                    {formatCurrency(totalForecasted)}\r\n                                  </td>\r\n                                  <td>{forecastData.length}</td>\r\n                                  <td>{formatDate(forecast.created_at)}</td>\r\n                                </tr>\r\n                              );\r\n                            })}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n\r\n                      <div style={{ marginTop: theme.spacing.xl }}>\r\n                        <SectionTitle>Forecast Summary by Type</SectionTitle>\r\n                        <CategoryTable>\r\n                          <thead>\r\n                            <tr>\r\n                              <th>Forecast Type</th>\r\n                              <th style={{ textAlign: 'right' }}>Count</th>\r\n                              <th style={{ textAlign: 'right' }}>Total Forecasted Value</th>\r\n                              <th style={{ textAlign: 'right' }}>Average per Forecast</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {['revenue', 'expense', 'profit', 'inventory'].map((type) => {\r\n                              const typeForecasts = forecasts.filter(f => f.forecast_type === type);\r\n                              if (typeForecasts.length === 0) return null;\r\n                              \r\n                              const totalValue = typeForecasts.reduce((sum, f) => {\r\n                                const data = f.forecast_data || [];\r\n                                return sum + data.reduce((s, p) => s + (p.forecasted_value || 0), 0);\r\n                              }, 0);\r\n                              \r\n                              return (\r\n                                <tr key={type}>\r\n                                  <td style={{ textTransform: 'capitalize', fontWeight: theme.typography.fontWeights.medium }}>\r\n                                    {type}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right' }}>{typeForecasts.length}</td>\r\n                                  <td style={{ textAlign: 'right', fontWeight: theme.typography.fontWeights.bold }}>\r\n                                    {formatCurrency(totalValue)}\r\n                                  </td>\r\n                                  <td style={{ textAlign: 'right' }}>\r\n                                    {formatCurrency(totalValue / typeForecasts.length)}\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            }).filter(Boolean)}\r\n                          </tbody>\r\n                        </CategoryTable>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <EmptyState>\r\n                      <LineChart size={48} />\r\n                      <h3>No forecasts available</h3>\r\n                      <p>Forecast reports are only available to Finance Admin, Admin, and Manager roles. Create forecasts to see them here.</p>\r\n                    </EmptyState>\r\n                  )}\r\n                </ReportCard>\r\n              </ReportSection>\r\n            )}\r\n          </>\r\n        )}\r\n      </PageContainer>\r\n    </Layout>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5',\n      key: '1gvzjb',\n    },\n  ],\n  ['path', { d: 'M9 18h6', key: 'x1upvd' }],\n  ['path', { d: 'M10 22h4', key: 'ceow96' }],\n];\n\n/**\n * @component @name Lightbulb\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMTRjLjItMSAuNy0xLjcgMS41LTIuNSAxLS45IDEuNS0yLjIgMS41LTMuNUE2IDYgMCAwIDAgNiA4YzAgMSAuMiAyLjIgMS41IDMuNS43LjcgMS4zIDEuNSAxLjUgMi41IiAvPgogIDxwYXRoIGQ9Ik05IDE4aDYiIC8+CiAgPHBhdGggZD0iTTEwIDIyaDQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/lightbulb\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Lightbulb = createLucideIcon('lightbulb', __iconNode);\n\nexport default Lightbulb;\n"],"names":[],"mappings":"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","ignoreList":[1]}
frontend/.next/server/chunks/ssr/app_transaction_list_ClientPage_tsx_13c1668b._.js:`,Z=a=>{if("number"==typeof a)return a;if("string"==typeof a){let b=parseInt(a,10);return Number.isNaN(b)?void 0:b}},$=a=>"string"==typeof a?a:void 0,_=a=>a&&"object"==typeof a?a:{};function aa(){let{user:a}=(0,s.useAuth)(),d=(0,t.default)(a=>a.user),[r,u]=(0,c.useState)([]),[v,w]=(0,c.useState)(!0),[x,y]=(0,c.useState)(null),[aa,ab]=(0,c.useState)(""),[ac,ad]=(0,c.useState)("all"),[ae,af]=(0,c.useState)("all"),[ag,ah]=(0,c.useState)({totalRevenue:0,totalSales:0,totalExpenses:0,totalInventory:0,netAmount:0,totalTransactions:0}),[ai,aj]=(0,c.useState)(!1),ak=(0,c.useCallback)(async()=>{if(a){aj(!0);try{let b=a?.role?.toLowerCase();if("admin"!==b&&"super_admin"!==b&&"finance_admin"!==b&&"finance_manager"!==b&&"manager"!==b&&"accountant"!==b)return void aj(!1);let[c,d,e]=await Promise.allSettled([o.default.getFinancialSummary().catch(()=>({data:null})),o.default.getSalesSummary().catch(()=>({data:null})),o.default.getInventorySummary().catch(()=>({data:null}))]),f=0,g=0;if("fulfilled"===c.status){let a=c.value?.data;a?.financials&&(f=Number(a.financials.total_revenue||0),g=Number(a.financials.total_expenses||0))}let h=0;if("fulfilled"===d.status){let a=d.value?.data;a&&"object"==typeof a&&"total_revenue"in a&&(h=Number(a.total_revenue||0))}let i=0;if("fulfilled"===e.status){let a=e.value?.data;a&&"object"==typeof a&&"total_cost_value"in a&&(i=Number(a.total_cost_value||0))}let j=f+h-g-i;ah(a=>({...a,totalRevenue:f,totalSales:h,totalExpenses:g,totalInventory:i,netAmount:j}))}catch(a){console.warn("Failed to load summary from backend:",a)}finally{aj(!1)}}},[a,d?.managerId]),al=(0,c.useCallback)(async()=>{if(!a)return void w(!1);w(!0),y(null);try{let b=a?.role?.toLowerCase(),c="admin"===b||"super_admin"===b,e=null;if(c)e=null;else if(("finance_manager"===b||"finance_admin"===b)&&a?.id)try{let b="string"==typeof a.id?parseInt(a.id,10):a.id,c=await o.default.getSubordinates(b),d=(c?.data||[]).map(a=>{let b="string"==typeof a.id?parseInt(a.id,10):Number(a.id),c=(a.role||"").toLowerCase();if(!Number.isNaN(b)&&("accountant"===c||"employee"===c))return b}).filter(a=>void 0!==a);e=[b,...d]}catch(b){console.warn("Failed to fetch subordinates, using only finance admin ID:",b),e=["string"==typeof a.id?parseInt(a.id,10):a.id]}else if("accountant"===b&&a?.id){let b="string"==typeof a.id?parseInt(a.id,10):a.id,c=null,f=d?.managerId;if(f)c="string"==typeof f?parseInt(f,10):Number(f);else try{let a=await o.default.getCurrentUser(),b=a?.data;b?.manager_id!==void 0&&b?.manager_id!==null&&(c="string"==typeof b.manager_id?parseInt(b.manager_id,10):Number(b.manager_id))}catch(a){console.warn("Failed to fetch current user profile for manager_id:",a)}if(c)try{let a=c,b=await o.default.getSubordinates(a),d=(b?.data||[]).map(a=>{let b="string"==typeof a.id?parseInt(a.id,10):Number(a.id),c=(a.role||"").toLowerCase();if(!Number.isNaN(b)&&("accountant"===c||"employee"===c))return b}).filter(a=>void 0!==a);e=[a,...d]}catch(a){console.error("Failed to fetch Finance Admin subordinates for accountant:",a),e=[c]}else console.warn("Accountant has no manager (Finance Admin) assigned - using only accountant ID"),e=[b]}else"employee"===b&&a?.id&&(e=["string"==typeof a.id?parseInt(a.id,10):a.id]);let[f,g,h]=await Promise.all([o.default.getTransactions().catch(()=>({data:[]})),o.default.getSales({limit:1e3}).catch(()=>({data:[]})),o.default.getInventoryItems({limit:1e3}).catch(()=>({data:[]}))]),i=f.data||[],j=g?.data||[],k=(Array.isArray(j)?j:_(j).data||[]).map(a=>{let b=_(a),c=Z(b.id)??0,d=Z(b.sold_by_id??b.soldBy??b.sold_by),e=Z(b.created_by_id??b.createdBy??b.created_by);return{id:`sale-${c}`,transaction_type:"sale",title:$(b.item_name)||`Sale #${c}`,description:$(b.customer_name)?`Customer: ${b.customer_name}`:$(b.notes)||`Receipt: ${$(b.receipt_number)||`#${c}`}`,category:_(b.item).category||"Sales",amount:"number"==typeof b.total_sale?b.total_sale:0,date:$(b.created_at)||$(b.date),is_approved:"posted"===b.status,created_at:$(b.created_at),status:$(b.status)||"pending",item_name:$(b.item_name),quantity_sold:Z(b.quantity_sold),receipt_number:$(b.receipt_number),customer_name:$(b.customer_name),soldById:d,createdById:e}}),l=h?.data||[],m=(Array.isArray(l)?l:_(l).data||[]).map(a=>{let b=_(a),c=Z(b.id)??0,d=Z(b.quantity)??0,e=("number"==typeof b.total_cost?b.total_cost:"number"==typeof b.buying_price?b.buying_price:0)*d,f=Z(b.created_by_id??b.createdBy??b.created_by);return{id:`inventory-${c}`,transaction_type:"inventory",title:$(b.item_name)||`Inventory Item #${c}`,description:$(b.description)||`SKU: ${$(b.sku)||"N/A"}`,category:$(b.category)||"Inventory",amount:e,date:$(b.created_at)||$(b.date),is_approved:!1!==b.is_active,created_at:$(b.created_at),status:!1===b.is_active?"inactive":"active",item_name:$(b.item_name),quantity:d,sku:$(b.sku),buying_price:"number"==typeof b.buying_price?b.buying_price:void 0,total_cost:"number"==typeof b.total_cost?b.total_cost:void 0,createdById:f}});!c&&e&&e.length>0&&(i=i.filter(a=>{let b=Z(a.created_by_id??a.createdBy??a.created_by);return void 0!==b&&e.includes(b)}),k=k.filter(a=>{let b=Z(a.soldById??a.createdById);return void 0!==b&&e.includes(b)}),m=m.filter(a=>{let b=Z(a.createdById);return void 0!==b&&e.includes(b)}));let n=[...(i||[]).map(a=>({id:a.id?.toString()||"",transaction_type:a.transaction_type,title:"string"==typeof a.title?a.title:"Transaction",description:"string"==typeof a.description?a.description:void 0,category:"string"==typeof a.category?a.category:"N/A",amount:"number"==typeof a.amount?a.amount:0,date:$(a.date)||$(a.created_at),is_approved:!!a.is_approved,created_at:$(a.created_at),status:a.status||"pending",item_name:$(a.item_name),quantity:"number"==typeof a.quantity?a.quantity:void 0,quantity_sold:"number"==typeof a.quantity_sold?a.quantity_sold:void 0,receipt_number:$(a.receipt_number),customer_name:$(a.customer_name),sku:$(a.sku),buying_price:"number"==typeof a.buying_price?a.buying_price:void 0,total_cost:"number"==typeof a.total_cost?a.total_cost:void 0,createdById:Z(a.created_by_id),soldById:Z(a.sold_by_id)})),...k,...m].sort((a,b)=>{let c=new Date(a.date||a.created_at||0).getTime();return new Date(b.date||b.created_at||0).getTime()-c});u(n),ah(a=>({...a,totalTransactions:n.length}))}catch(b){let a="Failed to load transactions";if("object"==typeof b&&null!==b&&"response"in b){let c=b.response,d=c?.data?.detail;"string"==typeof d?a=d:Array.isArray(d)?a=d.map(a=>a.msg||JSON.stringify(a)).join(", "):d&&"object"==typeof d&&"msg"in d&&(a=d.msg||a)}else b instanceof Error&&(a=b.message);y(a),p.toast.error(a)}finally{w(!1)}},[a,d?.managerId]);(0,c.useEffect)(()=>{a&&al()},[a,al]),(0,c.useEffect)(()=>{a&&!v&&ak()},[a,v,ak]);let am=r.filter(a=>{let b=a.title.toLowerCase().includes(aa.toLowerCase())||a.description?.toLowerCase().includes(aa.toLowerCase())||a.source?.toLowerCase().includes(aa.toLowerCase())||a.vendor?.toLowerCase().includes(aa.toLowerCase())||a.item_name?.toLowerCase().includes(aa.toLowerCase())||a.receipt_number?.toLowerCase().includes(aa.toLowerCase())||a.customer_name?.toLowerCase().includes(aa.toLowerCase())||a.sku?.toLowerCase().includes(aa.toLowerCase()),c="all"===ac||a.transaction_type===ac,d=!1;return d="all"===ae||("approved"===ae?a.is_approved||"posted"===a.status||"active"===a.status:"pending"===ae?!a.is_approved&&"posted"!==a.status&&"cancelled"!==a.status&&"active"!==a.status:"posted"===ae?"posted"===a.status:"active"===ae?"active"===a.status:"inactive"===ae?"inactive"===a.status:a.status===ae),b&&c&&d}),an=am.filter(a=>"revenue"===a.transaction_type).reduce((a,b)=>a+Math.abs(b.amount),0),ao=am.filter(a=>"sale"===a.transaction_type).reduce((a,b)=>a+Math.abs(b.amount),0),ap=am.filter(a=>"expense"===a.transaction_type).reduce((a,b)=>a+Math.abs(b.amount),0),aq=am.filter(a=>"inventory"===a.transaction_type).reduce((a,b)=>a+Math.abs(b.amount),0),ar=am.length,as=!ai&&ag.totalRevenue>0?ag.totalRevenue:an,at=!ai&&ag.totalSales>0?ag.totalSales:ao,au=!ai&&ag.totalExpenses>0?ag.totalExpenses:ap,av=!ai&&ag.totalInventory>0?ag.totalInventory:aq,aw=!ai&&(ag.totalRevenue>0||ag.totalSales>0||ag.totalExpenses>0)?ag.netAmount:an+ao-ap-aq;return v?(0,b.jsx)(n.default,{children:(0,b.jsx)(z,{children:(0,b.jsx)(A,{children:(0,b.jsxs)(W,{children:[(0,b.jsx)(X,{}),(0,b.jsx)("p",{children:"Loading transactions..."})]})})})}):(0,b.jsx)(n.default,{children:(0,b.jsx)(z,{children:(0,b.jsxs)(A,{children:[(0,b.jsxs)(B,{children:[(0,b.jsx)("h1",{children:"Transactions"}),(0,b.jsx)("p",{children:"View all revenue and expense transactions"})]}),x&&(0,b.jsxs)(C,{children:[(0,b.jsx)(g.AlertCircle,{}),(0,b.jsx)("span",{children:x})]}),(0,b.jsxs)(D,{children:[(0,b.jsxs)(F,{$type:"revenue",children:[(0,b.jsxs)("div",{className:"label",children:["Total Revenue",ai&&(0,b.jsx)("span",{style:{fontSize:"10px",marginLeft:"4px",opacity:.7},children:"(Loading...)"})]}),(0,b.jsx)("div",{className:"value",children:(0,q.formatCurrency)(as)})]}),(0,b.jsxs)(F,{$type:"revenue",children:[(0,b.jsxs)("div",{className:"label",children:["Total Sales",ai&&(0,b.jsx)("span",{style:{fontSize:"10px",marginLeft:"4px",opacity:.7},children:"(Loading...)"})]}),(0,b.jsx)("div",{className:"value",children:(0,q.formatCurrency)(at)})]}),(0,b.jsxs)(F,{$type:"expense",children:[(0,b.jsxs)("div",{className:"label",children:["Total Expenses",ai&&(0,b.jsx)("span",{style:{fontSize:"10px",marginLeft:"4px",opacity:.7},children:"(Loading...)"})]}),(0,b.jsx)("div",{className:"value",children:(0,q.formatCurrency)(au)})]})]}),(0,b.jsxs)(E,{children:[(0,b.jsxs)(F,{$type:"expense",children:[(0,b.jsxs)("div",{className:"label",children:["Total Inventory Cost",ai&&(0,b.jsx)("span",{style:{fontSize:"10px",marginLeft:"4px",opacity:.7},children:"(Loading...)"})]}),(0,b.jsx)("div",{className:"value",children:(0,q.formatCurrency)(av)})]}),(0,b.jsxs)(F,{$type:"net",children:[(0,b.jsxs)("div",{className:"label",children:["Net Amount",ai&&(0,b.jsx)("span",{style:{fontSize:"10px",marginLeft:"4px",opacity:.7},children:"(Loading...)"})]}),(0,b.jsx)("div",{className:"value",style:{color:aw>=0?"#16a34a":"#dc2626"},children:(0,q.formatCurrency)(aw)})]}),(0,b.jsxs)(F,{$type:"total",children:[(0,b.jsx)("div",{className:"label",children:"Total Transactions"}),(0,b.jsx)("div",{className:"value",children:ar})]})]}),(0,b.jsx)(G,{children:(0,b.jsxs)(H,{children:[(0,b.jsxs)(I,{children:[(0,b.jsx)(j.Search,{}),(0,b.jsx)(J,{type:"text",placeholder:"Search transactions...",value:aa,onChange:a=>ab(a.target.value)})]}),(0,b.jsxs)(K,{value:ac,onChange:a=>ad(a.target.value),children:[(0,b.jsx)("option",{value:"all",children:"All Types"}),(0,b.jsx)("option",{value:"revenue",children:"Revenue"}),(0,b.jsx)("option",{value:"expense",children:"Expense"}),(0,b.jsx)("option",{value:"sale",children:"Sales"}),(0,b.jsx)("option",{value:"inventory",children:"Inventory"})]}),(0,b.jsxs)(K,{value:ae,onChange:a=>af(a.target.value),children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"approved",children:"Approved"}),(0,b.jsx)("option",{value:"posted",children:"Posted"}),(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"inactive",children:"Inactive"}),(0,b.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]})}),(0,b.jsx)(L,{children:0===am.length?(0,b.jsxs)(M,{children:[(0,b.jsx)(k.TrendingUp,{}),(0,b.jsx)("h3",{children:"No transactions found"}),(0,b.jsx)("p",{children:"Try adjusting your filters or create a new transaction."})]}):(0,b.jsx)("div",{style:{overflowX:"auto"},children:(0,b.jsxs)(N,{children:[(0,b.jsx)(O,{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Type"}),(0,b.jsx)("th",{children:"Title"}),(0,b.jsx)("th",{children:"Category"}),(0,b.jsx)("th",{children:"Amount"}),(0,b.jsx)("th",{children:"Date"}),(0,b.jsx)("th",{children:"Status"}),(0,b.jsx)("th",{children:"Actions"})]})}),(0,b.jsx)(P,{children:am.map(a=>{let c=a.id.split("-")[1],d="expense"===a.transaction_type,g="sale"===a.transaction_type;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{style:{whiteSpace:"nowrap"},children:(0,b.jsxs)(Q,{$type:a.transaction_type,children:[d?(0,b.jsx)(i.ArrowDownRight,{size:12}):g?(0,b.jsx)(l.ShoppingCart,{size:12}):"inventory"===a.transaction_type?(0,b.jsx)(m.Package,{size:12}):(0,b.jsx)(h.ArrowUpRight,{size:12}),"revenue"===a.transaction_type?"Revenue":"expense"===a.transaction_type?"Expense":"sale"===a.transaction_type?"Sale":"Inventory"]})}),(0,b.jsx)("td",{children:(0,b.jsx)(Y,{children:a.title})}),(0,b.jsx)("td",{style:{whiteSpace:"nowrap"},children:(0,b.jsx)(S,{children:a.category||"N/A"})}),(0,b.jsxs)(R,{$isExpense:d||"inventory"===a.transaction_type,style:{whiteSpace:"nowrap"},children:[d||"inventory"===a.transaction_type?"-":"+",(0,q.formatCurrency)(Math.abs(a.amount))]}),(0,b.jsx)("td",{style:{whiteSpace:"nowrap"},children:(0,q.formatDate)(a.date||a.created_at||"")}),(0,b.jsxs)("td",{style:{whiteSpace:"nowrap"},children:[(0,b.jsx)(T,{$approved:!!a.is_approved,$status:a.status,children:"posted"===a.status?"Posted":"cancelled"===a.status?"Cancelled":"active"===a.status?"Active":"inactive"===a.status?"Inactive":a.is_approved?"Approved":"Pending"}),a.is_recurring&&(0,b.jsx)(U,{children:"Recurring"})]}),(0,b.jsx)("td",{style:{whiteSpace:"nowrap"},children:(0,b.jsx)(V,{children:g?(0,b.jsx)(f.default,{href:`/sales/accounting?sale_id=${c}`,children:(0,b.jsx)(e.Button,{size:"sm",variant:"secondary",children:"View"})}):"inventory"===a.transaction_type?(0,b.jsx)(f.default,{href:`/inventory/manage?item_id=${c}`,children:(0,b.jsx)(e.Button,{size:"sm",variant:"secondary",children:"View"})}):(0,b.jsx)(f.default,{href:d?`/expenses/edit/${c}`:`/revenue/edit/${c}`,children:(0,b.jsx)(e.Button,{size:"sm",variant:"secondary",children:"View"})})})})]},a.id)})})]})})})]})})})}a.s(["default",()=>aa])}];
frontend/.next/server/chunks/ssr/app_transaction_list_ClientPage_tsx_13c1668b._.js.map:{"version":3,"sources":["turbopack:///[project]/app/transaction/list/ClientPage.tsx"],"sourcesContent":["'use client';\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Button } from '@/components/ui/button';\r\nimport Link from 'next/link';\r\nimport {\r\n  AlertCircle, ArrowUpRight, ArrowDownRight,\r\n  Search, TrendingUp, ShoppingCart, Package\r\n} from 'lucide-react';\r\nimport Layout from '@/components/layout';\r\nimport apiClient from '@/lib/api';\r\nimport { toast } from 'sonner';\r\nimport { formatCurrency, formatDate } from '@/lib/utils';\r\nimport { theme } from '@/components/common/theme';\r\nimport { useAuth } from '@/lib/rbac/auth-context';\r\nimport useUserStore from '@/store/userStore';\r\n\r\nconst PRIMARY_COLOR = theme.colors.primary || '#00AA00';\r\nconst TEXT_COLOR_DARK = '#111827';\r\nconst TEXT_COLOR_MUTED = theme.colors.textSecondary || '#666';\r\n\r\nconst CardShadow = `\r\n  0 2px 4px -1px rgba(0, 0, 0, 0.06),\r\n  0 1px 2px -1px rgba(0, 0, 0, 0.03),\r\n  inset 0 0 0 1px rgba(0, 0, 0, 0.02)\r\n`;\r\nconst CardShadowHover = `\r\n  0 8px 12px -2px rgba(0, 0, 0, 0.08),\r\n  0 4px 6px -2px rgba(0, 0, 0, 0.04),\r\n  inset 0 0 0 1px rgba(0, 0, 0, 0.03)\r\n`;\r\n\r\nconst PageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n`;\r\n\r\nconst ContentContainer = styled.div`\r\n  flex: 1;\r\n  width: 100%;\r\n  max-width: 980px;\r\n  margin-left: auto;\r\n  margin-right: 0;\r\n  padding: ${theme.spacing.sm} ${theme.spacing.sm} ${theme.spacing.sm};\r\n`;\r\n\r\nconst HeaderContainer = styled.div`\r\n  background: linear-gradient(135deg, ${PRIMARY_COLOR} 0%, #008800 100%);\r\n  color: #ffffff;\r\n  padding: ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  border-radius: ${theme.borderRadius.md};\r\n  border-bottom: 3px solid rgba(255, 255, 255, 0.1);\r\n  \r\n  h1 {\r\n    font-size: clamp(24px, 3vw, 36px);\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    margin: 0 0 ${theme.spacing.xs};\r\n    color: #ffffff;\r\n  }\r\n  \r\n  p {\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n    opacity: 0.9;\r\n    margin: 0;\r\n    color: rgba(255, 255, 255, 0.95);\r\n  }\r\n`;\r\n\r\nconst ErrorBanner = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: ${theme.spacing.md};\r\n  padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  background-color: rgba(239, 68, 68, 0.1);\r\n  border: 1px solid rgba(239, 68, 68, 0.3);\r\n  border-radius: ${theme.borderRadius.md};\r\n  color: #dc2626;\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n\r\n  svg {\r\n    flex-shrink: 0;\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n`;\r\n\r\nconst SummaryGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: ${theme.spacing.md};\r\n  margin-bottom: ${theme.spacing.lg};\r\n`;\r\n\r\nconst BottomSummaryGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: ${theme.spacing.md};\r\n  margin-bottom: ${theme.spacing.lg};\r\n\r\n  @media (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;\r\n\r\nconst SummaryCard = styled.div<{ $type?: 'revenue' | 'expense' | 'net' | 'total' | 'inventory' }>`\r\n  background: ${theme.colors.background};\r\n  border: 1px solid ${theme.colors.border};\r\n  padding: ${theme.spacing.lg};\r\n  border-radius: ${theme.borderRadius.md};\r\n  box-shadow: ${CardShadow};\r\n  transition: transform ${theme.transitions.default}, box-shadow ${theme.transitions.default};\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n\r\n  .label {\r\n    font-size: ${theme.typography.fontSizes.sm};\r\n    color: ${TEXT_COLOR_MUTED};\r\n    margin-bottom: ${theme.spacing.sm};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n  }\r\n\r\n  .value {\r\n    font-size: clamp(20px, 3vw, 24px);\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    color: ${props => {\r\n      if (props.$type === 'revenue') return '#16a34a';\r\n      if (props.$type === 'expense') return '#dc2626';\r\n      if (props.$type === 'net') return TEXT_COLOR_DARK;\r\n      return TEXT_COLOR_DARK;\r\n    }};\r\n  }\r\n`;\r\n\r\nconst FiltersContainer = styled.div`\r\n  background: ${theme.colors.background};\r\n  border-radius: ${theme.borderRadius.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n  margin-bottom: ${theme.spacing.lg};\r\n  box-shadow: ${CardShadow};\r\n  transition: box-shadow ${theme.transitions.default};\r\n\r\n  &:hover {\r\n    box-shadow: ${CardShadowHover};\r\n  }\r\n`;\r\n\r\nconst FiltersGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr 1fr;\r\n  gap: ${theme.spacing.sm};\r\n  \r\n  @media (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n    gap: ${theme.spacing.sm};\r\n  }\r\n`;\r\n\r\nconst SearchContainer = styled.div`\r\n  position: relative;\r\n  grid-column: span 1;\r\n\r\n  svg {\r\n    position: absolute;\r\n    left: ${theme.spacing.md};\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    width: 18px;\r\n    height: 18px;\r\n    color: ${TEXT_COLOR_MUTED};\r\n    pointer-events: none;\r\n  }\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  width: 70%;\r\n  padding: ${theme.spacing.sm} ${theme.spacing.md} ${theme.spacing.sm} 40px;\r\n  border: 1px solid ${theme.colors.border};\r\n  border-radius: ${theme.borderRadius.md};\r\n  background: ${theme.colors.background};\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n  color: ${TEXT_COLOR_DARK};\r\n  transition: all ${theme.transitions.default};\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: ${PRIMARY_COLOR};\r\n    box-shadow: 0 0 0 3px ${PRIMARY_COLOR}15;\r\n  }\r\n\r\n  &::placeholder {\r\n    color: ${TEXT_COLOR_MUTED};\r\n    opacity: 0.6;\r\n  }\r\n`;\r\n\r\nconst Select = styled.select`\r\n  width: 100%;\r\n  padding: ${theme.spacing.sm} ${theme.spacing.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  border-radius: ${theme.borderRadius.md};\r\n  background: ${theme.colors.background};\r\n  color: ${TEXT_COLOR_DARK};\r\n  font-size: ${theme.typography.fontSizes.sm};\r\n  cursor: pointer;\r\n  transition: all ${theme.transitions.default};\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: ${PRIMARY_COLOR};\r\n    box-shadow: 0 0 0 3px ${PRIMARY_COLOR}15;\r\n  }\r\n`;\r\n\r\nconst TableContainer = styled.div`\r\n  background: ${theme.colors.background};\r\n  border-radius: ${theme.borderRadius.md};\r\n  border: 1px solid ${theme.colors.border};\r\n  box-shadow: ${CardShadow};\r\n  overflow: hidden;\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  padding: ${theme.spacing.xxl};\r\n  text-align: center;\r\n  color: ${TEXT_COLOR_MUTED};\r\n\r\n  svg {\r\n    width: 48px;\r\n    height: 48px;\r\n    margin: 0 auto ${theme.spacing.md};\r\n    opacity: 0.5;\r\n  }\r\n\r\n  h3 {\r\n    font-size: ${theme.typography.fontSizes.lg};\r\n    font-weight: ${theme.typography.fontWeights.bold};\r\n    margin: 0 0 ${theme.spacing.sm};\r\n    color: ${TEXT_COLOR_DARK};\r\n  }\r\n\r\n  p {\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst Table = styled.table`\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n`;\r\n\r\nconst TableHeader = styled.thead`\r\n  background: ${theme.colors.backgroundSecondary};\r\n  border-bottom: 2px solid ${theme.colors.border};\r\n  \r\n  th {\r\n    text-align: left;\r\n    padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n    font-weight: ${theme.typography.fontWeights.medium};\r\n    color: ${TEXT_COLOR_MUTED};\r\n    font-size: ${theme.typography.fontSizes.xs};\r\n    text-transform: uppercase;\r\n    letter-spacing: 0.05em;\r\n  }\r\n`;\r\n\r\nconst TableBody = styled.tbody`\r\n  tr {\r\n    border-bottom: 1px solid ${theme.colors.border};\r\n    transition: background-color ${theme.transitions.default};\r\n    \r\n    &:hover {\r\n      background-color: ${theme.colors.backgroundSecondary};\r\n    }\r\n    \r\n    &:last-child {\r\n      border-bottom: none;\r\n    }\r\n    \r\n    td {\r\n      padding: ${theme.spacing.md} ${theme.spacing.lg};\r\n      color: ${TEXT_COLOR_DARK};\r\n      font-size: ${theme.typography.fontSizes.sm};\r\n    }\r\n  }\r\n`;\r\n\r\nconst TypeBadge = styled.span<{ $type: 'revenue' | 'expense' | 'sale' | 'inventory' }>`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: ${theme.spacing.xs};\r\n  padding: ${theme.spacing.xs} ${theme.spacing.sm};\r\n  border-radius: ${theme.borderRadius.sm};\r\n  font-size: ${theme.typography.fontSizes.xs};\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  background: ${props => {\r\n    if (props.$type === 'revenue') return 'rgba(16, 185, 129, 0.12)';\r\n    if (props.$type === 'expense') return 'rgba(239, 68, 68, 0.12)';\r\n    if (props.$type === 'sale') return 'rgba(59, 130, 246, 0.12)';\r\n    if (props.$type === 'inventory') return 'rgba(168, 85, 247, 0.12)';\r\n    return 'rgba(107, 114, 128, 0.12)';\r\n  }};\r\n  color: ${props => {\r\n    if (props.$type === 'revenue') return '#065f46';\r\n    if (props.$type === 'expense') return '#991b1b';\r\n    if (props.$type === 'sale') return '#1e40af';\r\n    if (props.$type === 'inventory') return '#6b21a8';\r\n    return '#374151';\r\n  }};\r\n`;\r\n\r\nconst AmountCell = styled.td<{ $isExpense: boolean }>`\r\n  font-weight: ${theme.typography.fontWeights.bold};\r\n  color: ${props => props.$isExpense ? '#dc2626' : '#16a34a'} !important;\r\n`;\r\n\r\nconst CategoryBadge = styled.span`\r\n  padding: ${theme.spacing.xs} ${theme.spacing.sm};\r\n  border-radius: ${theme.borderRadius.sm};\r\n  font-size: ${theme.typography.fontSizes.xs};\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  background: rgba(59, 130, 246, 0.12);\r\n  color: #1e40af;\r\n`;\r\n\r\nconst StatusBadge = styled.span<{ $approved: boolean; $status?: string }>`\r\n  padding: ${theme.spacing.xs} ${theme.spacing.sm};\r\n  border-radius: ${theme.borderRadius.sm};\r\n  font-size: ${theme.typography.fontSizes.xs};\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  background: ${props => {\r\n    if (props.$status === 'posted') return 'rgba(16, 185, 129, 0.12)';\r\n    if (props.$status === 'cancelled') return 'rgba(239, 68, 68, 0.12)';\r\n    if (props.$approved) return 'rgba(16, 185, 129, 0.12)';\r\n    return 'rgba(251, 191, 36, 0.12)';\r\n  }};\r\n  color: ${props => {\r\n    if (props.$status === 'posted') return '#065f46';\r\n    if (props.$status === 'cancelled') return '#991b1b';\r\n    if (props.$approved) return '#065f46';\r\n    return '#92400e';\r\n  }};\r\n  margin-right: ${theme.spacing.sm};\r\n`;\r\n\r\nconst RecurringBadge = styled.span`\r\n  padding: ${theme.spacing.xs} ${theme.spacing.sm};\r\n  border-radius: ${theme.borderRadius.sm};\r\n  font-size: ${theme.typography.fontSizes.xs};\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  background: rgba(59, 130, 246, 0.12);\r\n  color: #1e40af;\r\n`;\r\n\r\nconst ActionButtons = styled.div`\r\n  display: flex;\r\n  gap: ${theme.spacing.sm};\r\n  align-items: center;\r\n`;\r\n\r\nconst LoadingContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 60vh;\r\n  gap: ${theme.spacing.md};\r\n  \r\n  p {\r\n    color: ${TEXT_COLOR_MUTED};\r\n    font-size: ${theme.typography.fontSizes.md};\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst Spinner = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 3px solid ${theme.colors.border};\r\n  border-top-color: ${PRIMARY_COLOR};\r\n  border-radius: 50%;\r\n  animation: spin 0.8s linear infinite;\r\n  \r\n  @keyframes spin {\r\n    to { transform: rotate(360deg); }\r\n  }\r\n`;\r\n\r\nconst TransactionTitle = styled.div`\r\n  font-weight: ${theme.typography.fontWeights.medium};\r\n  color: ${TEXT_COLOR_DARK};\r\n`;\r\n\r\ninterface Transaction {\r\n  id: string;\r\n  transaction_type: 'revenue' | 'expense' | 'sale' | 'inventory';\r\n  title: string;\r\n  description?: string | null;\r\n  category: string;\r\n  amount: number;\r\n  date: string;\r\n  is_approved: boolean;\r\n  is_recurring?: boolean;\r\n  recurring_frequency?: string | null;\r\n  source?: string | null;\r\n  vendor?: string | null;\r\n  created_at: string;\r\n  status?: 'pending' | 'posted' | 'cancelled' | 'active' | 'inactive';\r\n  item_name?: string;\r\n  quantity_sold?: number;\r\n  quantity?: number;\r\n  receipt_number?: string;\r\n  customer_name?: string;\r\n  sku?: string;\r\n  buying_price?: number;\r\n  total_cost?: number;\r\n  created_by_id?: number;\r\n  sold_by_id?: number;\r\n}\r\n\r\ntype TransactionItem = Partial<Transaction> & {\r\n  id: string;\r\n  transaction_type: 'revenue' | 'expense' | 'sale' | 'inventory';\r\n  title: string;\r\n  category?: string;\r\n  amount: number;\r\n  date?: string;\r\n  is_approved?: boolean;\r\n  created_at?: string;\r\n  status?: string;\r\n  createdById?: number;\r\n  soldById?: number;\r\n  quantity?: number;\r\n  item_name?: string;\r\n};\r\n\r\nconst toNumber = (value: unknown): number | undefined => {\r\n  if (typeof value === 'number') return value;\r\n  if (typeof value === 'string') {\r\n    const parsed = parseInt(value, 10);\r\n    return Number.isNaN(parsed) ? undefined : parsed;\r\n  }\r\n  return undefined;\r\n};\r\n\r\nconst toString = (value: unknown): string | undefined =>\r\n  typeof value === 'string' ? value : undefined;\r\n\r\nconst toRecord = (value: unknown): Record<string, unknown> =>\r\n  value && typeof value === 'object' ? (value as Record<string, unknown>) : {};\r\n\r\ninterface TransactionSummary {\r\n  totalRevenue: number;\r\n  totalSales: number;\r\n  totalExpenses: number;\r\n  totalInventory: number;\r\n  netAmount: number;\r\n  totalTransactions: number;\r\n}\r\n\r\nexport default function TransactionListPage() {\r\n  const { user } = useAuth();\r\n  const storeUser = useUserStore((state) => state.user);\r\n  const [transactions, setTransactions] = useState<TransactionItem[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [typeFilter, setTypeFilter] = useState<string>('all');\r\n  const [statusFilter, setStatusFilter] = useState<string>('all');\r\n  const [summary, setSummary] = useState<TransactionSummary>({\r\n    totalRevenue: 0,\r\n    totalSales: 0,\r\n    totalExpenses: 0,\r\n    totalInventory: 0,\r\n    netAmount: 0,\r\n    totalTransactions: 0,\r\n  });\r\n  const [loadingSummary, setLoadingSummary] = useState(false);\r\n  // Load summary data from backend\r\n  const loadSummary = useCallback(async () => {\r\n    if (!user) return;\r\n\r\n    setLoadingSummary(true);\r\n    try {\r\n      const userRole = user?.role?.toLowerCase();\r\n      const canViewFinancials = userRole === 'admin' || userRole === 'super_admin' || \r\n                                 userRole === 'finance_admin' || userRole === 'finance_manager' ||\r\n                                 userRole === 'manager' || userRole === 'accountant';\r\n      \r\n      if (!canViewFinancials) {\r\n        setLoadingSummary(false);\r\n        return;\r\n      }\r\n\r\n      // Fetch all summary data from backend in parallel\r\n      const [financialSummaryResult, salesSummaryResult, inventorySummaryResult] = await Promise.allSettled([\r\n        apiClient.getFinancialSummary().catch(() => ({ data: null })),\r\n        apiClient.getSalesSummary().catch(() => ({ data: null })),\r\n        apiClient.getInventorySummary().catch(() => ({ data: null })),\r\n      ]);\r\n\r\n      // Extract financial summary\r\n      let totalRevenue = 0;\r\n      let totalExpenses = 0;\r\n      if (financialSummaryResult.status === 'fulfilled') {\r\n        const financialData = financialSummaryResult.value?.data;\r\n        if (financialData?.financials) {\r\n          totalRevenue = Number(financialData.financials.total_revenue || 0);\r\n          totalExpenses = Number(financialData.financials.total_expenses || 0);\r\n        }\r\n      }\r\n\r\n      // Extract sales summary\r\n      let totalSales = 0;\r\n      if (salesSummaryResult.status === 'fulfilled') {\r\n        const salesData = salesSummaryResult.value?.data;\r\n        if (salesData && typeof salesData === 'object' && 'total_revenue' in salesData) {\r\n          totalSales = Number((salesData as { total_revenue?: number }).total_revenue || 0);\r\n        }\r\n      }\r\n\r\n      // Extract inventory summary\r\n      let totalInventory = 0;\r\n      if (inventorySummaryResult.status === 'fulfilled') {\r\n        const inventoryData = inventorySummaryResult.value?.data;\r\n        if (inventoryData && typeof inventoryData === 'object' && 'total_cost_value' in inventoryData) {\r\n          totalInventory = Number((inventoryData as { total_cost_value?: number }).total_cost_value || 0);\r\n        }\r\n      }\r\n\r\n      const netAmount = totalRevenue + totalSales - totalExpenses - totalInventory;\r\n\r\n      // Update summary - transaction count will be updated separately\r\n      setSummary(prev => ({\r\n        ...prev,\r\n        totalRevenue,\r\n        totalSales,\r\n        totalExpenses,\r\n        totalInventory,\r\n        netAmount,\r\n      }));\r\n    } catch (err) {\r\n      console.warn('Failed to load summary from backend:', err);\r\n      // Don't show error, just use local calculations as fallback\r\n    } finally {\r\n      setLoadingSummary(false);\r\n    }\r\n  }, [user, storeUser?.managerId]);\r\n\r\n  const loadTransactions = useCallback(async () => {\r\n    if (!user) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const userRole = user?.role?.toLowerCase();\r\n      const isFinanceAdmin = userRole === 'finance_manager' || userRole === 'finance_admin';\r\n      const isAccountant = userRole === 'accountant';\r\n      const isEmployee = userRole === 'employee';\r\n      const isAdmin = userRole === 'admin' || userRole === 'super_admin';\r\n\r\n      // Get accessible user IDs based on role\r\n      // Admin/Super Admin: See all (no filtering)\r\n      // Finance Admin: See their own + subordinates (ONLY accountants and employees, NOT other Finance Admins)\r\n      // Accountant: See their own + their Finance Admin's team (ONLY accountants and employees, NOT other Finance Admins)\r\n      // Employee: See only their own\r\n      let userIds: number[] | null = null;\r\n      \r\n      if (isAdmin) {\r\n        // Admin can see all - no filtering needed\r\n        userIds = null;\r\n      } else if (isFinanceAdmin && user?.id) {\r\n        try {\r\n          // Finance Admin: Get their own subordinates ONLY (accountants and employees)\r\n          // Exclude other Finance Admins, Managers, and their subordinates\r\n          const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n          const subordinatesRes = await apiClient.getSubordinates(userId);\r\n          const subordinates = subordinatesRes?.data || [];\r\n          \r\n          // Filter subordinates to ONLY include accountants and employees (exclude other Finance Admins/Managers)\r\n          const validSubordinateIds = subordinates\r\n            .map((sub: { id?: number | string; role?: string }) => {\r\n              const subId = typeof sub.id === 'string' ? parseInt(sub.id, 10) : Number(sub.id);\r\n              const subRole = (sub.role || '').toLowerCase();\r\n              \r\n              // Only include accountants and employees, exclude Finance Admins and Managers\r\n              if (!Number.isNaN(subId) && (subRole === 'accountant' || subRole === 'employee')) {\r\n                return subId;\r\n              }\r\n              return undefined;\r\n            })\r\n            .filter((id): id is number => id !== undefined);\r\n          \r\n          // Include the finance admin themselves + their valid subordinates only\r\n          userIds = [userId, ...validSubordinateIds];\r\n          \r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.log('Finance Admin - Accessible User IDs for Transactions:', {\r\n              userId: userId,\r\n              subordinatesCount: subordinates.length,\r\n              validSubordinateIds: validSubordinateIds,\r\n              userIds: userIds\r\n            });\r\n          }\r\n        } catch (err) {\r\n          console.warn('Failed to fetch subordinates, using only finance admin ID:', err);\r\n          const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n          userIds = [userId];\r\n        }\r\n      } else if (isAccountant && user?.id) {\r\n        // Accountant: Get their Finance Admin's (manager's) subordinates\r\n        const accountantId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n        let managerId: number | null = null;\r\n        \r\n        // Try to get managerId from storeUser first\r\n        const managerIdStr = storeUser?.managerId;\r\n        if (managerIdStr) {\r\n          managerId = typeof managerIdStr === 'string' ? parseInt(managerIdStr, 10) : Number(managerIdStr);\r\n        } else {\r\n          // If not in storeUser, try to fetch current user profile from API\r\n          try {\r\n            const currentUserRes = await apiClient.getCurrentUser();\r\n            const currentUserData = currentUserRes?.data;\r\n            if (currentUserData?.manager_id !== undefined && currentUserData?.manager_id !== null) {\r\n              managerId = typeof currentUserData.manager_id === 'string' \r\n                ? parseInt(currentUserData.manager_id, 10) \r\n                : Number(currentUserData.manager_id);\r\n            }\r\n          } catch (err) {\r\n            console.warn('Failed to fetch current user profile for manager_id:', err);\r\n          }\r\n        }\r\n        \r\n        if (managerId) {\r\n          try {\r\n            const financeAdminId = managerId;\r\n            \r\n            // Get all subordinates of the Finance Admin\r\n            const subordinatesRes = await apiClient.getSubordinates(financeAdminId);\r\n            const subordinates = subordinatesRes?.data || [];\r\n            \r\n            // Filter subordinates to ONLY include accountants and employees (exclude other Finance Admins/Managers)\r\n            const validSubordinateIds = subordinates\r\n              .map((sub: { id?: number | string; role?: string }) => {\r\n                const subId = typeof sub.id === 'string' ? parseInt(sub.id, 10) : Number(sub.id);\r\n                const subRole = (sub.role || '').toLowerCase();\r\n                \r\n                // Only include accountants and employees, exclude Finance Admins and Managers\r\n                if (!Number.isNaN(subId) && (subRole === 'accountant' || subRole === 'employee')) {\r\n                  return subId;\r\n                }\r\n                return undefined;\r\n              })\r\n              .filter((id): id is number => id !== undefined);\r\n            \r\n            // Include the Finance Admin themselves and their valid subordinates only\r\n            userIds = [financeAdminId, ...validSubordinateIds];\r\n            \r\n            if (process.env.NODE_ENV === 'development') {\r\n              console.log('Accountant - Accessible User IDs for Transactions (from Finance Admin):', {\r\n                accountantId: accountantId,\r\n                financeAdminId: financeAdminId,\r\n                subordinatesCount: subordinates.length,\r\n                validSubordinateIds: validSubordinateIds,\r\n                userIds: userIds\r\n              });\r\n            }\r\n          } catch (err) {\r\n            console.error('Failed to fetch Finance Admin subordinates for accountant:', err);\r\n            // Fallback: if we can't get subordinates, at least try to show data from the Finance Admin\r\n            userIds = [managerId];\r\n          }\r\n        } else {\r\n          // Accountant has no manager assigned - fallback to just themselves\r\n          console.warn('Accountant has no manager (Finance Admin) assigned - using only accountant ID');\r\n          userIds = [accountantId];\r\n        }\r\n      } else if (isEmployee && user?.id) {\r\n        // Employee: Can only see their own data\r\n        const userId = typeof user.id === 'string' ? parseInt(user.id, 10) : user.id;\r\n        userIds = [userId];\r\n      }\r\n\r\n      // Fetch revenues, expenses, sales, and inventory items\r\n      // Backend should already filter for most roles, but we'll apply additional filtering for Finance Admin\r\n      const [transactionsResponse, salesResponse, inventoryResponse] = await Promise.all([\r\n        apiClient.getTransactions().catch(() => ({ data: [] })),\r\n        apiClient.getSales({ limit: 1000 }).catch(() => ({ data: [] })),\r\n        apiClient.getInventoryItems({ limit: 1000 }).catch(() => ({ data: [] })),\r\n      ]);\r\n\r\n      let transactions = transactionsResponse.data || [];\r\n      \r\n      // Transform sales to transaction format\r\n      const salesDataRaw = salesResponse?.data || [];\r\n      const salesArray = Array.isArray(salesDataRaw) ? salesDataRaw : (toRecord(salesDataRaw).data as unknown[]) || [];\r\n      let salesTransactions = salesArray.map((saleRaw): TransactionItem => {\r\n        const sale = toRecord(saleRaw);\r\n        const saleId = toNumber(sale.id) ?? 0;\r\n        const soldById = toNumber(sale.sold_by_id ?? sale.soldBy ?? sale.sold_by);\r\n        const createdById = toNumber(sale.created_by_id ?? sale.createdBy ?? sale.created_by);\r\n        return {\r\n          id: `sale-${saleId}`,\r\n          transaction_type: 'sale',\r\n          title: toString(sale.item_name) || `Sale #${saleId}`,\r\n          description: toString(sale.customer_name)\r\n            ? `Customer: ${sale.customer_name as string}`\r\n            : toString(sale.notes) || `Receipt: ${toString(sale.receipt_number) || `#${saleId}`}`,\r\n          category: toRecord(sale.item).category as string || 'Sales',\r\n          amount: typeof sale.total_sale === 'number' ? sale.total_sale : 0,\r\n          date: toString(sale.created_at) || toString(sale.date),\r\n          is_approved: sale.status === 'posted',\r\n          created_at: toString(sale.created_at),\r\n          status: (toString(sale.status) as Transaction['status']) || 'pending',\r\n          item_name: toString(sale.item_name),\r\n          quantity_sold: toNumber(sale.quantity_sold),\r\n          receipt_number: toString(sale.receipt_number),\r\n          customer_name: toString(sale.customer_name),\r\n          soldById,\r\n          createdById,\r\n        };\r\n      });\r\n\r\n      // Transform inventory items to transaction format (treating creation as expense)\r\n      const inventoryRaw = inventoryResponse?.data || [];\r\n      const inventoryArray = Array.isArray(inventoryRaw) ? inventoryRaw : (toRecord(inventoryRaw).data as unknown[]) || [];\r\n      let inventoryTransactions = inventoryArray.map((itemRaw): TransactionItem => {\r\n        const item = toRecord(itemRaw);\r\n        const itemId = toNumber(item.id) ?? 0;\r\n        const quantity = toNumber(item.quantity) ?? 0;\r\n        const totalCost =\r\n          (typeof item.total_cost === 'number' ? item.total_cost : typeof item.buying_price === 'number' ? item.buying_price : 0) *\r\n          quantity;\r\n        const createdById = toNumber(item.created_by_id ?? item.createdBy ?? item.created_by);\r\n        return {\r\n          id: `inventory-${itemId}`,\r\n          transaction_type: 'inventory',\r\n          title: toString(item.item_name) || `Inventory Item #${itemId}`,\r\n          description: toString(item.description) || `SKU: ${toString(item.sku) || 'N/A'}`,\r\n          category: toString(item.category) || 'Inventory',\r\n          amount: totalCost,\r\n          date: toString(item.created_at) || toString(item.date),\r\n          is_approved: item.is_active !== false,\r\n          created_at: toString(item.created_at),\r\n          status: (item.is_active === false ? 'inactive' : 'active') as Transaction['status'],\r\n          item_name: toString(item.item_name),\r\n          quantity,\r\n          sku: toString(item.sku),\r\n          buying_price: typeof item.buying_price === 'number' ? item.buying_price : undefined,\r\n          total_cost: typeof item.total_cost === 'number' ? item.total_cost : undefined,\r\n          createdById,\r\n        };\r\n      });\r\n\r\n      // Apply role-based filtering\r\n      // Admin/Super Admin: See all (no filtering)\r\n      // Finance Admin: Filter to only their team's transactions (themselves + subordinates who are accountants/employees)\r\n      // Accountant: Filter to only their Finance Admin's team transactions (Finance Admin + subordinates who are accountants/employees)\r\n      // Employee: Filter to only their own transactions\r\n      if (!isAdmin && userIds && userIds.length > 0) {\r\n        // Finance Admin, Accountant, or Employee: filter based on userIds\r\n        // Filter transactions by accessible user IDs\r\n        transactions = transactions.filter((t) => {\r\n          const createdById = toNumber(\r\n            (t as { created_by_id?: unknown; createdBy?: unknown; created_by?: unknown }).created_by_id ??\r\n            (t as { createdBy?: unknown }).createdBy ??\r\n            (t as { created_by?: unknown }).created_by\r\n          );\r\n          return createdById !== undefined && userIds.includes(createdById);\r\n        });\r\n\r\n        // Filter sales by accessible user IDs\r\n        salesTransactions = salesTransactions.filter((s) => {\r\n          const soldById = toNumber((s as { soldById?: unknown; createdById?: unknown }).soldById ?? (s as { createdById?: unknown }).createdById);\r\n          return soldById !== undefined && userIds.includes(soldById);\r\n        });\r\n\r\n        // Filter inventory by accessible user IDs\r\n        inventoryTransactions = inventoryTransactions.filter((i) => {\r\n          const createdById = toNumber((i as { createdById?: unknown }).createdById);\r\n          return createdById !== undefined && userIds.includes(createdById);\r\n        });\r\n      }\r\n      // Admin/Super Admin sees all - no filtering needed\r\n\r\n      // Combine all transactions and sort by date\r\n      const normalizedExisting: TransactionItem[] = (transactions || []).map((t) => ({\r\n        id: t.id?.toString() || '',\r\n        transaction_type: t.transaction_type,\r\n        title: typeof t.title === 'string' ? t.title : 'Transaction',\r\n        description: typeof t.description === 'string' ? t.description : undefined,\r\n        category: typeof t.category === 'string' ? t.category : 'N/A',\r\n        amount: typeof t.amount === 'number' ? t.amount : 0,\r\n        date: toString(t.date) || toString(t.created_at),\r\n        is_approved: Boolean(t.is_approved),\r\n        created_at: toString(t.created_at),\r\n        status: (t.status as Transaction['status']) || 'pending',\r\n        item_name: toString((t as { item_name?: unknown }).item_name),\r\n        quantity: typeof t.quantity === 'number' ? t.quantity : undefined,\r\n        quantity_sold: typeof t.quantity_sold === 'number' ? t.quantity_sold : undefined,\r\n        receipt_number: toString(t.receipt_number),\r\n        customer_name: toString(t.customer_name),\r\n        sku: toString(t.sku),\r\n        buying_price: typeof t.buying_price === 'number' ? t.buying_price : undefined,\r\n        total_cost: typeof t.total_cost === 'number' ? t.total_cost : undefined,\r\n        createdById: toNumber((t as { created_by_id?: unknown }).created_by_id),\r\n        soldById: toNumber((t as { sold_by_id?: unknown }).sold_by_id),\r\n      }));\r\n\r\n      const allTransactions = [...normalizedExisting, ...salesTransactions, ...inventoryTransactions].sort((a, b) => {\r\n        const dateA = new Date(a.date || a.created_at || 0).getTime();\r\n        const dateB = new Date(b.date || b.created_at || 0).getTime();\r\n        return dateB - dateA; // Most recent first\r\n      });\r\n\r\n      setTransactions(allTransactions);\r\n      \r\n      // Update summary with transaction count after loading\r\n      // Note: Financial totals (revenue, expenses, sales, inventory) are loaded separately via loadSummary()\r\n      setSummary(prev => ({\r\n        ...prev,\r\n        totalTransactions: allTransactions.length,\r\n      }));\r\n    } catch (err: unknown) {\r\n      let errorMessage = 'Failed to load transactions';\r\n      \r\n      if (typeof err === 'object' && err !== null && 'response' in err) {\r\n        const response = (err as { response?: { data?: { detail?: unknown } } }).response;\r\n        const detail = response?.data?.detail;\r\n        if (typeof detail === 'string') {\r\n          errorMessage = detail;\r\n        } else if (Array.isArray(detail)) {\r\n          errorMessage = detail.map((e) => (e as { msg?: string }).msg || JSON.stringify(e)).join(', ');\r\n        } else if (detail && typeof detail === 'object' && 'msg' in (detail as Record<string, unknown>)) {\r\n          errorMessage = (detail as { msg?: string }).msg || errorMessage;\r\n        }\r\n      } else if (err instanceof Error) {\r\n        errorMessage = err.message;\r\n      }\r\n      \r\n      setError(errorMessage);\r\n      toast.error(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user, storeUser?.managerId]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      loadTransactions();\r\n    }\r\n  }, [user, loadTransactions]);\r\n\r\n  useEffect(() => {\r\n    if (user && !loading) {\r\n      loadSummary();\r\n    }\r\n  }, [user, loading, loadSummary]);\r\n\r\n  const filteredTransactions = transactions.filter(transaction => {\r\n    const matchesSearch = \r\n      transaction.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.description?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.source?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.vendor?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.item_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.receipt_number?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.customer_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      transaction.sku?.toLowerCase().includes(searchTerm.toLowerCase());\r\n    \r\n    const matchesType = typeFilter === 'all' || transaction.transaction_type === typeFilter;\r\n    \r\n    // Handle status filter - include sales and inventory status\r\n    let matchesStatus = false;\r\n    if (statusFilter === 'all') {\r\n      matchesStatus = true;\r\n    } else if (statusFilter === 'approved') {\r\n      matchesStatus = transaction.is_approved || transaction.status === 'posted' || transaction.status === 'active';\r\n    } else if (statusFilter === 'pending') {\r\n      matchesStatus = !transaction.is_approved && transaction.status !== 'posted' && transaction.status !== 'cancelled' && transaction.status !== 'active';\r\n    } else if (statusFilter === 'posted') {\r\n      matchesStatus = transaction.status === 'posted';\r\n    } else if (statusFilter === 'active') {\r\n      matchesStatus = transaction.status === 'active';\r\n    } else if (statusFilter === 'inactive') {\r\n      matchesStatus = transaction.status === 'inactive';\r\n    } else {\r\n      matchesStatus = transaction.status === statusFilter;\r\n    }\r\n    \r\n    return matchesSearch && matchesType && matchesStatus;\r\n  });\r\n\r\n  // Use backend summary if available, otherwise fallback to local calculations\r\n  const localTotalRevenue = filteredTransactions\r\n    .filter(t => t.transaction_type === 'revenue')\r\n    .reduce((sum, t) => sum + Math.abs(t.amount), 0);\r\n  \r\n  const localTotalSales = filteredTransactions\r\n    .filter(t => t.transaction_type === 'sale')\r\n    .reduce((sum, t) => sum + Math.abs(t.amount), 0);\r\n  \r\n  const localTotalExpenses = filteredTransactions\r\n    .filter(t => t.transaction_type === 'expense')\r\n    .reduce((sum, t) => sum + Math.abs(t.amount), 0);\r\n  \r\n  const localTotalInventory = filteredTransactions\r\n    .filter(t => t.transaction_type === 'inventory')\r\n    .reduce((sum, t) => sum + Math.abs(t.amount), 0);\r\n  \r\n  const localNetAmount = localTotalRevenue + localTotalSales - localTotalExpenses - localTotalInventory;\r\n  const localTotalTransactions = filteredTransactions.length;\r\n\r\n  // Use backend data if available and not loading, otherwise use local calculations\r\n  const totalRevenue = !loadingSummary && summary.totalRevenue > 0 ? summary.totalRevenue : localTotalRevenue;\r\n  const totalSales = !loadingSummary && summary.totalSales > 0 ? summary.totalSales : localTotalSales;\r\n  const totalExpenses = !loadingSummary && summary.totalExpenses > 0 ? summary.totalExpenses : localTotalExpenses;\r\n  const totalInventory = !loadingSummary && summary.totalInventory > 0 ? summary.totalInventory : localTotalInventory;\r\n  const netAmount = !loadingSummary && (summary.totalRevenue > 0 || summary.totalSales > 0 || summary.totalExpenses > 0) \r\n    ? summary.netAmount \r\n    : localNetAmount;\r\n  const totalTransactionsCount = localTotalTransactions;\r\n\r\n  if (loading) {\r\n    return (\r\n      <Layout>\r\n        <PageContainer>\r\n          <ContentContainer>\r\n            <LoadingContainer>\r\n              <Spinner />\r\n              <p>Loading transactions...</p>\r\n            </LoadingContainer>\r\n          </ContentContainer>\r\n        </PageContainer>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <PageContainer>\r\n        <ContentContainer>\r\n          <HeaderContainer>\r\n            <h1>Transactions</h1>\r\n            <p>View all revenue and expense transactions</p>\r\n          </HeaderContainer>\r\n\r\n          {error && (\r\n            <ErrorBanner>\r\n              <AlertCircle />\r\n              <span>{error}</span>\r\n            </ErrorBanner>\r\n          )}\r\n\r\n          <SummaryGrid>\r\n            <SummaryCard $type=\"revenue\">\r\n              <div className=\"label\">\r\n                Total Revenue\r\n                {loadingSummary && <span style={{ fontSize: '10px', marginLeft: '4px', opacity: 0.7 }}>(Loading...)</span>}\r\n              </div>\r\n              <div className=\"value\">{formatCurrency(totalRevenue)}</div>\r\n            </SummaryCard>\r\n            <SummaryCard $type=\"revenue\">\r\n              <div className=\"label\">\r\n                Total Sales\r\n                {loadingSummary && <span style={{ fontSize: '10px', marginLeft: '4px', opacity: 0.7 }}>(Loading...)</span>}\r\n              </div>\r\n              <div className=\"value\">{formatCurrency(totalSales)}</div>\r\n            </SummaryCard>\r\n            <SummaryCard $type=\"expense\">\r\n              <div className=\"label\">\r\n                Total Expenses\r\n                {loadingSummary && <span style={{ fontSize: '10px', marginLeft: '4px', opacity: 0.7 }}>(Loading...)</span>}\r\n              </div>\r\n              <div className=\"value\">{formatCurrency(totalExpenses)}</div>\r\n            </SummaryCard>\r\n          </SummaryGrid>\r\n\r\n          <BottomSummaryGrid>\r\n            <SummaryCard $type=\"expense\">\r\n              <div className=\"label\">\r\n                Total Inventory Cost\r\n                {loadingSummary && <span style={{ fontSize: '10px', marginLeft: '4px', opacity: 0.7 }}>(Loading...)</span>}\r\n              </div>\r\n              <div className=\"value\">{formatCurrency(totalInventory)}</div>\r\n            </SummaryCard>\r\n            <SummaryCard $type=\"net\">\r\n              <div className=\"label\">\r\n                Net Amount\r\n                {loadingSummary && <span style={{ fontSize: '10px', marginLeft: '4px', opacity: 0.7 }}>(Loading...)</span>}\r\n              </div>\r\n              <div className=\"value\" style={{ color: netAmount >= 0 ? '#16a34a' : '#dc2626' }}>\r\n                {formatCurrency(netAmount)}\r\n              </div>\r\n            </SummaryCard>\r\n            <SummaryCard $type=\"total\">\r\n              <div className=\"label\">Total Transactions</div>\r\n              <div className=\"value\">{totalTransactionsCount}</div>\r\n            </SummaryCard>\r\n          </BottomSummaryGrid>\r\n\r\n          <FiltersContainer>\r\n            <FiltersGrid>\r\n              <SearchContainer>\r\n                <Search />\r\n                <SearchInput\r\n                  type=\"text\"\r\n                  placeholder=\"Search transactions...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n              </SearchContainer>\r\n              \r\n              <Select value={typeFilter} onChange={(e) => setTypeFilter(e.target.value)}>\r\n                <option value=\"all\">All Types</option>\r\n                <option value=\"revenue\">Revenue</option>\r\n                <option value=\"expense\">Expense</option>\r\n                <option value=\"sale\">Sales</option>\r\n                <option value=\"inventory\">Inventory</option>\r\n              </Select>\r\n              \r\n              <Select value={statusFilter} onChange={(e) => setStatusFilter(e.target.value)}>\r\n                <option value=\"all\">All Status</option>\r\n                <option value=\"approved\">Approved</option>\r\n                <option value=\"posted\">Posted</option>\r\n                <option value=\"active\">Active</option>\r\n                <option value=\"pending\">Pending</option>\r\n                <option value=\"inactive\">Inactive</option>\r\n                <option value=\"cancelled\">Cancelled</option>\r\n              </Select>\r\n            </FiltersGrid>\r\n          </FiltersContainer>\r\n\r\n          <TableContainer>\r\n            {filteredTransactions.length === 0 ? (\r\n              <EmptyState>\r\n                <TrendingUp />\r\n                <h3>No transactions found</h3>\r\n                <p>Try adjusting your filters or create a new transaction.</p>\r\n              </EmptyState>\r\n            ) : (\r\n              <div style={{ overflowX: 'auto' }}>\r\n                <Table>\r\n                  <TableHeader>\r\n                    <tr>\r\n                      <th>Type</th>\r\n                      <th>Title</th>\r\n                      <th>Category</th>\r\n                      <th>Amount</th>\r\n                      <th>Date</th>\r\n                      <th>Status</th>\r\n                      <th>Actions</th>\r\n                    </tr>\r\n                  </TableHeader>\r\n                  <TableBody>\r\n                    {filteredTransactions.map((transaction) => {\r\n                      const originalId = transaction.id.split('-')[1];\r\n                      const isExpense = transaction.transaction_type === 'expense';\r\n                        const isSale = transaction.transaction_type === 'sale';\r\n                      \r\n                      return (\r\n                        <tr key={transaction.id}>\r\n                          <td style={{ whiteSpace: 'nowrap' }}>\r\n                            <TypeBadge $type={transaction.transaction_type}>\r\n                              {isExpense ? (\r\n                                <ArrowDownRight size={12} />\r\n                              ) : isSale ? (\r\n                                <ShoppingCart size={12} />\r\n                              ) : transaction.transaction_type === 'inventory' ? (\r\n                                <Package size={12} />\r\n                              ) : (\r\n                                <ArrowUpRight size={12} />\r\n                              )}\r\n                              {transaction.transaction_type === 'revenue' \r\n                                ? 'Revenue' \r\n                                : transaction.transaction_type === 'expense' \r\n                                ? 'Expense' \r\n                                : transaction.transaction_type === 'sale'\r\n                                ? 'Sale'\r\n                                : 'Inventory'}\r\n                            </TypeBadge>\r\n                          </td>\r\n                          <td>\r\n                            <TransactionTitle>{transaction.title}</TransactionTitle>\r\n                          </td>\r\n                          <td style={{ whiteSpace: 'nowrap' }}>\r\n                            <CategoryBadge>{transaction.category || 'N/A'}</CategoryBadge>\r\n                          </td>\r\n                          <AmountCell $isExpense={isExpense || transaction.transaction_type === 'inventory'} style={{ whiteSpace: 'nowrap' }}>\r\n                            {isExpense || transaction.transaction_type === 'inventory' ? '-' : '+'}{formatCurrency(Math.abs(transaction.amount))}\r\n                          </AmountCell>\r\n                          <td style={{ whiteSpace: 'nowrap' }}>{formatDate(transaction.date || transaction.created_at || '')}</td>\r\n                          <td style={{ whiteSpace: 'nowrap' }}>\r\n                            <StatusBadge \r\n                              $approved={Boolean(transaction.is_approved)} \r\n                              $status={transaction.status}\r\n                            >\r\n                              {transaction.status === 'posted' \r\n                                ? 'Posted' \r\n                                : transaction.status === 'cancelled'\r\n                                ? 'Cancelled'\r\n                                : transaction.status === 'active'\r\n                                ? 'Active'\r\n                                : transaction.status === 'inactive'\r\n                                ? 'Inactive'\r\n                                : transaction.is_approved \r\n                                ? 'Approved' \r\n                                : 'Pending'}\r\n                            </StatusBadge>\r\n                            {transaction.is_recurring && (\r\n                              <RecurringBadge>Recurring</RecurringBadge>\r\n                            )}\r\n                          </td>\r\n                          <td style={{ whiteSpace: 'nowrap' }}>\r\n                            <ActionButtons>\r\n                              {isSale ? (\r\n                                <Link href={`/sales/accounting?sale_id=${originalId}`}>\r\n                                  <Button size=\"sm\" variant=\"secondary\">\r\n                                    View\r\n                                  </Button>\r\n                                </Link>\r\n                              ) : transaction.transaction_type === 'inventory' ? (\r\n                                <Link href={`/inventory/manage?item_id=${originalId}`}>\r\n                                  <Button size=\"sm\" variant=\"secondary\">\r\n                                    View\r\n                                  </Button>\r\n                                </Link>\r\n                              ) : (\r\n                                <Link href={isExpense ? `/expenses/edit/${originalId}` : `/revenue/edit/${originalId}`}>\r\n                                  <Button size=\"sm\" variant=\"secondary\">\r\n                                    View\r\n                                  </Button>\r\n                                </Link>\r\n                              )}\r\n                            </ActionButtons>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </TableBody>\r\n                </Table>\r\n              </div>\r\n            )}\r\n          </TableContainer>\r\n        </ContentContainer>\r\n      </PageContainer>\r\n    </Layout>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}
frontend/.next/server/chunks/ssr/[root-of-the-server]__f6abac01._.js:`,this.headers=aY.encode(e+"\r\n"),this.contentLength=d?b.byteLength:b.size,this.size=this.headers.byteLength+this.contentLength+2,this.name=a,this.value=b}async *encode(){yield this.headers;let{value:a}=this;R.isTypedArray(a)?yield a:yield*aW(a),yield aZ}static escapeName(a){return String(a).replace(/[\r\n"]/g,a=>({"\r":"%0D","\n":"%0A",'"':"%22"})[a])}}var a_=aQ;class a0 extends a_.default.Transform{__transform(a,b,c){this.push(a),c()}_transform(a,b,c){if(0!==a.length&&(this._transform=this.__transform,120!==a[0])){let a=Buffer.alloc(2);a[0]=120,a[1]=156,this.push(a,b)}this.__transform(a,b,c)}}let a1=function(a,b){let c,d=Array(a=a||10),e=Array(a),f=0,g=0;return b=void 0!==b?b:1e3,function(h){let i=Date.now(),j=e[g];c||(c=i),d[f]=h,e[f]=i;let k=g,l=0;for(;k!==f;)l+=d[k++],k%=a;if((f=(f+1)%a)===g&&(g=(g+1)%a),i-c<b)return;let m=j&&i-j;return m?Math.round(1e3*l/m):void 0}},a2=function(a,b){let c,d,e=0,f=1e3/b,g=(b,f=Date.now())=>{e=f,c=null,d&&(clearTimeout(d),d=null),a(...b)};return[(...a)=>{let b=Date.now(),h=b-e;h>=f?g(a,b):(c=a,d||(d=setTimeout(()=>{d=null,g(c)},f-h)))},()=>c&&g(c)]},a3=(a,b,c=3)=>{let d=0,e=a1(50,250);return a2(c=>{let f=c.loaded,g=c.lengthComputable?c.total:void 0,h=f-d,i=e(h);d=f,a({loaded:f,total:g,progress:g?f/g:void 0,bytes:h,rate:i||void 0,estimated:i&&g&&f<=g?(g-f)/i:void 0,event:c,lengthComputable:null!=g,[b?"download":"upload"]:!0})},c)},a4=(a,b)=>{let c=null!=a;return[d=>b[0]({lengthComputable:c,total:a,loaded:d}),b[1]]},a5=a=>(...b)=>R.asap(()=>a(...b)),a6={flush:aM.default.constants.Z_SYNC_FLUSH,finishFlush:aM.default.constants.Z_SYNC_FLUSH},a7={flush:aM.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:aM.default.constants.BROTLI_OPERATION_FLUSH},a8=R.isFunction(aM.default.createBrotliDecompress),{http:a9,https:ba}=aL.default,bb=/https:?/,bc=as.protocols.map(a=>a+":"),bd=(a,[b,c])=>(a.on("end",c).on("error",c),b),be=new class{constructor(){this.sessions=Object.create(null)}getSession(a,b){let c;b=Object.assign({sessionTimeout:1e3},b);let d=this.sessions[a];if(d){let a=d.length;for(let c=0;c<a;c++){let[a,e]=d[c];if(!a.destroyed&&!a.closed&&aK.default.isDeepStrictEqual(e,b))return a}}let e=aJ.default.connect(a,b),f=()=>{if(c)return;c=!0;let b=d,f=b.length,g=f;for(;g--;)if(b[g][0]===e)return void(1===f?delete this.sessions[a]:b.splice(g,1))},g=e.request,{sessionTimeout:h}=b;if(null!=h){let a,b=0;e.request=function(){let c=g.apply(this,arguments);return b++,a&&(clearTimeout(a),a=null),c.once("close",()=>{--b||(a=setTimeout(()=>{a=null,f()},h))}),c}}e.once("close",f);let i=[e,b];return d?d.push(i):d=this.sessions[a]=[i],e}};function bf(a,b){a.beforeRedirects.proxy&&a.beforeRedirects.proxy(a),a.beforeRedirects.config&&a.beforeRedirects.config(a,b)}let bg="undefined"!=typeof process&&"process"===R.kindOf(process),bh=(a,b)=>(({address:a,family:b})=>{if(!R.isString(a))throw TypeError("address must be a string");return{address:a,family:b||(0>a.indexOf(".")?6:4)}})(R.isObject(a)?a:{address:a,family:b}),bi={request(a,b){let c=a.protocol+"//"+a.hostname+":"+(a.port||80),{http2Options:d,headers:e}=a,f=be.getSession(c,d),{HTTP2_HEADER_SCHEME:g,HTTP2_HEADER_METHOD:h,HTTP2_HEADER_PATH:i,HTTP2_HEADER_STATUS:j}=aJ.default.constants,k={[g]:a.protocol.replace(":",""),[h]:a.method,[i]:a.path};R.forEach(e,(a,b)=>{":"!==b.charAt(0)&&(k[b]=a)});let l=f.request(k);return l.once("response",a=>{let c=(a=Object.assign({},a))[j];delete a[j],l.headers=a,l.statusCode=+c,b(l)}),l}},bj=bg&&function(a){let b;return b=async function(b,c,d){let e,f,g,h,i,j,k,{data:l,lookup:m,family:n,httpVersion:o=1,http2Options:p}=a,{responseType:q,responseEncoding:r}=a,s=a.method.toUpperCase(),t=!1;if(Number.isNaN(o*=1))throw TypeError(`Invalid protocol version: '${a.httpVersion}' is not a number`);if(1!==o&&2!==o)throw TypeError(`Unsupported protocol version '${o}'`);let u=2===o;if(m){let a,b,c=(a=m,b=a=>R.isArray(a)?a:[a],R.isAsyncFn(a)?function(...c){let d=c.pop();a.apply(this,c).then(a=>{try{b?d(null,...b(a)):d(null,a)}catch(a){d(a)}},d)}:a);m=(a,b,d)=>{c(a,b,(a,c,e)=>{if(a)return d(a);let f=R.isArray(c)?c.map(a=>bh(a)):[bh(c,e)];b.all?d(a,f):d(a,f[0].address,f[0].family)})}}let v=new aU.EventEmitter;function w(b){try{v.emit("abort",!b||b.type?new aD(null,a,i):b)}catch(a){console.warn("emit error",a)}}v.once("abort",c);let x=()=>{a.cancelToken&&a.cancelToken.unsubscribe(w),a.signal&&a.signal.removeEventListener("abort",w),v.removeAllListeners()};(a.cancelToken||a.signal)&&(a.cancelToken&&a.cancelToken.subscribe(w),a.signal&&(a.signal.aborted?w():a.signal.addEventListener("abort",w))),d((a,b)=>{if(h=!0,b){t=!0,x();return}let{data:c}=a;if(c instanceof aQ.default.Readable||c instanceof aQ.default.Duplex){let a=aQ.default.finished(c,()=>{a(),x()})}else x()});let y=aF(a.baseURL,a.url,a.allowAbsoluteUrls),z=new URL(y,as.hasBrowserEnv?as.origin:void 0),A=z.protocol||bc[0];if("data:"===A){let d;if(a.maxContentLength>-1&&function(a){if(!a||"string"!=typeof a||!a.startsWith("data:"))return 0;let b=a.indexOf(",");if(b<0)return 0;let c=a.slice(5,b),d=a.slice(b+1);if(/;base64/i.test(c)){let a=d.length,b=d.length;for(let c=0;c<b;c++)if(37===d.charCodeAt(c)&&c+2<b){let b=d.charCodeAt(c+1),e=d.charCodeAt(c+2);(b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102)&&(e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102)&&(a-=2,c+=2)}let c=0,e=b-1,f=a=>a>=2&&37===d.charCodeAt(a-2)&&51===d.charCodeAt(a-1)&&(68===d.charCodeAt(a)||100===d.charCodeAt(a));e>=0&&(61===d.charCodeAt(e)?(c++,e--):f(e)&&(c++,e-=3)),1===c&&e>=0&&(61===d.charCodeAt(e)?c++:f(e)&&c++);let g=3*Math.floor(a/4)-(c||0);return g>0?g:0}return Buffer.byteLength(d,"utf8")}(String(a.url||y||""))>a.maxContentLength)return c(new S("maxContentLength size of "+a.maxContentLength+" exceeded",S.ERR_BAD_RESPONSE,a));if("GET"!==s)return aE(b,c,{status:405,statusText:"method not allowed",headers:{},config:a});try{d=function(a,b,c){let d=c&&c.Blob||as.classes.Blob,e=aO(a);if(void 0===b&&d&&(b=!0),"data"===e){a=e.length?a.slice(e.length+1):a;let c=aP.exec(a);if(!c)throw new S("Invalid URL",S.ERR_INVALID_URL);let f=c[1],g=c[2],h=c[3],i=Buffer.from(decodeURIComponent(h),g?"base64":"utf8");if(b){if(!d)throw new S("Blob is not supported",S.ERR_NOT_SUPPORT);return new d([i],{type:f})}return i}throw new S("Unsupported protocol "+e,S.ERR_NOT_SUPPORT)}(a.url,"blob"===q,{Blob:a.env&&a.env.Blob})}catch(b){throw S.from(b,S.ERR_BAD_REQUEST,a)}return"text"===q?(d=d.toString(r),r&&"utf8"!==r||(d=R.stripBOM(d))):"stream"===q&&(d=aQ.default.Readable.from(d)),aE(b,c,{data:d,status:200,statusText:"OK",headers:new aA,config:a})}if(-1===bc.indexOf(A))return c(new S("Unsupported protocol "+A,S.ERR_BAD_REQUEST,a));let B=aA.from(a.headers).normalize();B.set("User-Agent","axios/"+aN,!1);let{onUploadProgress:C,onDownloadProgress:D}=a,E=a.maxRate;if(R.isSpecCompliantForm(l)){let a=B.getContentType(/boundary=([-_\w\d]{10,70})/i);l=((a,b,c)=>{let{tag:d="form-data-boundary",size:e=25,boundary:f=d+"-"+as.generateString(e,aX)}=c||{};if(!R.isFormData(a))throw TypeError("FormData instance required");if(f.length<1||f.length>70)throw Error("boundary must be 10-70 characters long");let g=aY.encode("--"+f+"\r\n"),h=aY.encode("--"+f+"--\r\n"),i=h.byteLength,j=Array.from(a.entries()).map(([a,b])=>{let c=new a$(a,b);return i+=c.size,c});i+=g.byteLength*j.length;let k={"Content-Type":`multipart/form-data; boundary=${f}`};return Number.isFinite(i=R.toFiniteNumber(i))&&(k["Content-Length"]=i),b&&b(k),aQ.Readable.from(async function*(){for(let a of j)yield g,yield*a.encode();yield h}())})(l,a=>{B.set(a)},{tag:`axios-${aN}-boundary`,boundary:a&&a[1]||void 0})}else if(R.isFormData(l)&&R.isFunction(l.getHeaders)){if(B.set(l.getHeaders()),!B.hasContentLength())try{let a=await aK.default.promisify(l.getLength).call(l);Number.isFinite(a)&&a>=0&&B.setContentLength(a)}catch(a){}}else if(R.isBlob(l)||R.isFile(l))l.size&&B.setContentType(l.type||"application/octet-stream"),B.setContentLength(l.size||0),l=aQ.default.Readable.from(aW(l));else if(l&&!R.isStream(l)){if(Buffer.isBuffer(l));else if(R.isArrayBuffer(l))l=Buffer.from(new Uint8Array(l));else{if(!R.isString(l))return c(new S("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",S.ERR_BAD_REQUEST,a));l=Buffer.from(l,"utf-8")}if(B.setContentLength(l.length,!1),a.maxBodyLength>-1&&l.length>a.maxBodyLength)return c(new S("Request body larger than maxBodyLength limit",S.ERR_BAD_REQUEST,a))}let F=R.toFiniteNumber(B.getContentLength());R.isArray(E)?(e=E[0],f=E[1]):e=f=E,l&&(C||e)&&(R.isStream(l)||(l=aQ.default.Readable.from(l,{objectMode:!1})),l=aQ.default.pipeline([l,new aT({maxRate:R.toFiniteNumber(e)})],R.noop),C&&l.on("progress",bd(l,a4(F,a3(a5(C),!1,3))))),a.auth&&(g=(a.auth.username||"")+":"+(a.auth.password||"")),!g&&z.username&&(g=z.username+":"+z.password),g&&B.delete("authorization");try{j=ad(z.pathname+z.search,a.params,a.paramsSerializer).replace(/^\?/,"")}catch(d){let b=Error(d.message);return b.config=a,b.url=a.url,b.exists=!0,c(b)}B.set("Accept-Encoding","gzip, compress, deflate"+(a8?", br":""),!1);let G={path:j,method:s,headers:B.toJSON(),agents:{http:a.httpAgent,https:a.httpsAgent},auth:g,protocol:A,family:n,beforeRedirect:bf,beforeRedirects:{},http2Options:p};R.isUndefined(m)||(G.lookup=m),a.socketPath?G.socketPath=a.socketPath:(G.hostname=z.hostname.startsWith("[")?z.hostname.slice(1,-1):z.hostname,G.port=z.port,function a(b,c,d){let e=c;if(!e&&!1!==e){let a=aG.default.getProxyForUrl(d);a&&(e=new URL(a))}if(e){if(e.username&&(e.auth=(e.username||"")+":"+(e.password||"")),e.auth){(e.auth.username||e.auth.password)&&(e.auth=(e.auth.username||"")+":"+(e.auth.password||""));let a=Buffer.from(e.auth,"utf8").toString("base64");b.headers["Proxy-Authorization"]="Basic "+a}b.headers.host=b.hostname+(b.port?":"+b.port:"");let a=e.hostname||e.host;b.hostname=a,b.host=a,b.port=e.port,b.path=d,e.protocol&&(b.protocol=e.protocol.includes(":")?e.protocol:`${e.protocol}:`)}b.beforeRedirects.proxy=function(b){a(b,c,b.href)}}(G,a.proxy,A+"//"+z.hostname+(z.port?":"+z.port:"")+G.path));let H=bb.test(G.protocol);if(G.agent=H?a.httpsAgent:a.httpAgent,u?k=bi:a.transport?k=a.transport:0===a.maxRedirects?k=H?aI.default:aH.default:(a.maxRedirects&&(G.maxRedirects=a.maxRedirects),a.beforeRedirect&&(G.beforeRedirects.config=a.beforeRedirect),k=H?ba:a9),a.maxBodyLength>-1?G.maxBodyLength=a.maxBodyLength:G.maxBodyLength=1/0,a.insecureHTTPParser&&(G.insecureHTTPParser=a.insecureHTTPParser),i=k.request(G,function(d){if(i.destroyed)return;let e=[d],g=R.toFiniteNumber(d.headers["content-length"]);if(D||f){let a=new aT({maxRate:R.toFiniteNumber(f)});D&&a.on("progress",bd(a,a4(g,a3(a5(D),!0,3)))),e.push(a)}let h=d,j=d.req||i;if(!1!==a.decompress&&d.headers["content-encoding"])switch(("HEAD"===s||204===d.statusCode)&&delete d.headers["content-encoding"],(d.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":e.push(aM.default.createUnzip(a6)),delete d.headers["content-encoding"];break;case"deflate":e.push(new a0),e.push(aM.default.createUnzip(a6)),delete d.headers["content-encoding"];break;case"br":a8&&(e.push(aM.default.createBrotliDecompress(a7)),delete d.headers["content-encoding"])}h=e.length>1?aQ.default.pipeline(e,R.noop):e[0];let k={status:d.statusCode,statusText:d.statusMessage,headers:new aA(d.headers),config:a,request:j};if("stream"===q)k.data=h,aE(b,c,k);else{let d=[],e=0;h.on("data",function(b){d.push(b),e+=b.length,a.maxContentLength>-1&&e>a.maxContentLength&&(t=!0,h.destroy(),w(new S("maxContentLength size of "+a.maxContentLength+" exceeded",S.ERR_BAD_RESPONSE,a,j)))}),h.on("aborted",function(){if(t)return;let b=new S("stream has been aborted",S.ERR_BAD_RESPONSE,a,j);h.destroy(b),c(b)}),h.on("error",function(b){i.destroyed||c(S.from(b,null,a,j))}),h.on("end",function(){try{let a=1===d.length?d[0]:Buffer.concat(d);"arraybuffer"!==q&&(a=a.toString(r),r&&"utf8"!==r||(a=R.stripBOM(a))),k.data=a}catch(b){return c(S.from(b,null,a,k.request,k))}aE(b,c,k)})}v.once("abort",a=>{h.destroyed||(h.emit("error",a),h.destroy())})}),v.once("abort",a=>{i.close?i.close():i.destroy(a)}),i.on("error",function(b){c(S.from(b,null,a,i))}),i.on("socket",function(a){a.setKeepAlive(!0,6e4)}),a.timeout){let b=parseInt(a.timeout,10);if(Number.isNaN(b))return void w(new S("error trying to parse `config.timeout` to int",S.ERR_BAD_OPTION_VALUE,a,i));i.setTimeout(b,function(){if(h)return;let b=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded",c=a.transitional||af;a.timeoutErrorMessage&&(b=a.timeoutErrorMessage),w(new S(b,c.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,a,i))})}else i.setTimeout(0);if(R.isStream(l)){let b=!1,c=!1;l.on("end",()=>{b=!0}),l.once("error",a=>{c=!0,i.destroy(a)}),l.on("close",()=>{b||c||w(new aD("Request stream has been aborted",a,i))}),l.pipe(i)}else l&&i.write(l),i.end()},new Promise((a,c)=>{let d,e,f=(a,b)=>{!e&&(e=!0,d&&d(a,b))},g=a=>{f(a,!0),c(a)};b(b=>{f(b),a(b)},g,a=>d=a).catch(g)})},bk=as.hasStandardBrowserEnv?(d=new URL(as.origin),e=as.navigator&&/(msie|trident)/i.test(as.navigator.userAgent),a=>(a=new URL(a,as.origin),d.protocol===a.protocol&&d.host===a.host&&(e||d.port===a.port))):()=>!0,bl=as.hasStandardBrowserEnv?{write(a,b,c,d,e,f,g){if("undefined"==typeof document)return;let h=[`${a}=${encodeURIComponent(b)}`];R.isNumber(c)&&h.push(`expires=${new Date(c).toUTCString()}`),R.isString(d)&&h.push(`path=${d}`),R.isString(e)&&h.push(`domain=${e}`),!0===f&&h.push("secure"),R.isString(g)&&h.push(`SameSite=${g}`),document.cookie=h.join("; ")},read(a){if("undefined"==typeof document)return null;let b=document.cookie.match(RegExp("(?:^|; )"+a+"=([^;]*)"));return b?decodeURIComponent(b[1]):null},remove(a){this.write(a,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}},bm=a=>a instanceof aA?{...a}:a;function bn(a,b){b=b||{};let c={};function d(a,b,c,d){return R.isPlainObject(a)&&R.isPlainObject(b)?R.merge.call({caseless:d},a,b):R.isPlainObject(b)?R.merge({},b):R.isArray(b)?b.slice():b}function e(a,b,c,e){return R.isUndefined(b)?R.isUndefined(a)?void 0:d(void 0,a,c,e):d(a,b,c,e)}function f(a,b){if(!R.isUndefined(b))return d(void 0,b)}function g(a,b){return R.isUndefined(b)?R.isUndefined(a)?void 0:d(void 0,a):d(void 0,b)}function h(c,e,f){return f in b?d(c,e):f in a?d(void 0,c):void 0}let i={url:f,method:f,data:f,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:h,headers:(a,b,c)=>e(bm(a),bm(b),c,!0)};return R.forEach(Object.keys({...a,...b}),function(d){let f=i[d]||e,g=f(a[d],b[d],d);R.isUndefined(g)&&f!==h||(c[d]=g)}),c}let bo=a=>{let b=bn({},a),{data:c,withXSRFToken:d,xsrfHeaderName:e,xsrfCookieName:f,headers:g,auth:h}=b;if(b.headers=g=aA.from(g),b.url=ad(aF(b.baseURL,b.url,b.allowAbsoluteUrls),a.params,a.paramsSerializer),h&&g.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),R.isFormData(c)){if(as.hasStandardBrowserEnv||as.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if(R.isFunction(c.getHeaders)){let a=c.getHeaders(),b=["content-type","content-length"];Object.entries(a).forEach(([a,c])=>{b.includes(a.toLowerCase())&&g.set(a,c)})}}if(as.hasStandardBrowserEnv&&(d&&R.isFunction(d)&&(d=d(b)),d||!1!==d&&bk(b.url))){let a=e&&f&&bl.read(f);a&&g.set(e,a)}return b},bp="undefined"!=typeof XMLHttpRequest&&function(a){return new Promise(function(b,c){let d,e,f,g,h,i=bo(a),j=i.data,k=aA.from(i.headers).normalize(),{responseType:l,onUploadProgress:m,onDownloadProgress:n}=i;function o(){g&&g(),h&&h(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let p=new XMLHttpRequest;function q(){if(!p)return;let d=aA.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());aE(function(a){b(a),o()},function(a){c(a),o()},{data:l&&"text"!==l&&"json"!==l?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:d,config:a,request:p}),p=null}p.open(i.method.toUpperCase(),i.url,!0),p.timeout=i.timeout,"onloadend"in p?p.onloadend=q:p.onreadystatechange=function(){!p||4!==p.readyState||(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(q)},p.onabort=function(){p&&(c(new S("Request aborted",S.ECONNABORTED,a,p)),p=null)},p.onerror=function(b){let d=new S(b&&b.message?b.message:"Network Error",S.ERR_NETWORK,a,p);d.event=b||null,c(d),p=null},p.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",d=i.transitional||af;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),c(new S(b,d.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,a,p)),p=null},void 0===j&&k.setContentType(null),"setRequestHeader"in p&&R.forEach(k.toJSON(),function(a,b){p.setRequestHeader(b,a)}),R.isUndefined(i.withCredentials)||(p.withCredentials=!!i.withCredentials),l&&"json"!==l&&(p.responseType=i.responseType),n&&([f,h]=a3(n,!0),p.addEventListener("progress",f)),m&&p.upload&&([e,g]=a3(m),p.upload.addEventListener("progress",e),p.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=b=>{p&&(c(!b||b.type?new aD(null,a,p):b),p.abort(),p=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));let r=aO(i.url);r&&-1===as.protocols.indexOf(r)?c(new S("Unsupported protocol "+r+":",S.ERR_BAD_REQUEST,a)):p.send(j||null)})},bq=function*(a,b){let c,d=a.byteLength;if(!b||d<b)return void(yield a);let e=0;for(;e<d;)c=e+b,yield a.slice(e,c),e=c},br=async function*(a,b){for await(let c of bs(a))yield*bq(c,b)},bs=async function*(a){if(a[Symbol.asyncIterator])return void(yield*a);let b=a.getReader();try{for(;;){let{done:a,value:c}=await b.read();if(a)break;yield c}}finally{await b.cancel()}},bt=(a,b,c,d)=>{let e,f=br(a,b),g=0,h=a=>{!e&&(e=!0,d&&d(a))};return new ReadableStream({async pull(a){try{let{done:b,value:d}=await f.next();if(b){h(),a.close();return}let e=d.byteLength;if(c){let a=g+=e;c(a)}a.enqueue(new Uint8Array(d))}catch(a){throw h(a),a}},cancel:a=>(h(a),f.return())},{highWaterMark:2})},{isFunction:bu}=R,bv=(({Request:a,Response:b})=>({Request:a,Response:b}))(R.global),{ReadableStream:bw,TextEncoder:bx}=R.global,by=(a,...b)=>{try{return!!a(...b)}catch(a){return!1}},bz=a=>{let b,{fetch:c,Request:d,Response:e}=a=R.merge.call({skipUndefined:!0},bv,a),f=c?bu(c):"function"==typeof fetch,g=bu(d),h=bu(e);if(!f)return!1;let i=f&&bu(bw),j=f&&("function"==typeof bx?(b=new bx,a=>b.encode(a)):async a=>new Uint8Array(await new d(a).arrayBuffer())),k=g&&i&&by(()=>{let a=!1,b=new d(as.origin,{body:new bw,method:"POST",get duplex(){return a=!0,"half"}}).headers.has("Content-Type");return a&&!b}),l=h&&i&&by(()=>R.isReadableStream(new e("").body)),m={stream:l&&(a=>a.body)};f&&["text","arrayBuffer","blob","formData","stream"].forEach(a=>{m[a]||(m[a]=(b,c)=>{let d=b&&b[a];if(d)return d.call(b);throw new S(`Response type '${a}' is not supported`,S.ERR_NOT_SUPPORT,c)})});let n=async a=>{if(null==a)return 0;if(R.isBlob(a))return a.size;if(R.isSpecCompliantForm(a)){let b=new d(as.origin,{method:"POST",body:a});return(await b.arrayBuffer()).byteLength}return R.isArrayBufferView(a)||R.isArrayBuffer(a)?a.byteLength:(R.isURLSearchParams(a)&&(a+=""),R.isString(a))?(await j(a)).byteLength:void 0},o=async(a,b)=>{let c=R.toFiniteNumber(a.getContentLength());return null==c?n(b):c};return async a=>{let b,{url:f,method:h,data:i,signal:j,cancelToken:n,timeout:p,onDownloadProgress:q,onUploadProgress:r,responseType:s,headers:t,withCredentials:u="same-origin",fetchOptions:v}=bo(a),w=c||fetch;s=s?(s+"").toLowerCase():"text";let x=((a,b)=>{let{length:c}=a=a?a.filter(Boolean):[];if(b||c){let c,d=new AbortController,e=function(a){if(!c){c=!0,g();let b=a instanceof Error?a:this.reason;d.abort(b instanceof S?b:new aD(b instanceof Error?b.message:b))}},f=b&&setTimeout(()=>{f=null,e(new S(`timeout ${b} of ms exceeded`,S.ETIMEDOUT))},b),g=()=>{a&&(f&&clearTimeout(f),f=null,a.forEach(a=>{a.unsubscribe?a.unsubscribe(e):a.removeEventListener("abort",e)}),a=null)};a.forEach(a=>a.addEventListener("abort",e));let{signal:h}=d;return h.unsubscribe=()=>R.asap(g),h}})([j,n&&n.toAbortSignal()],p),y=null,z=x&&x.unsubscribe&&(()=>{x.unsubscribe()});try{if(r&&k&&"get"!==h&&"head"!==h&&0!==(b=await o(t,i))){let a,c=new d(f,{method:"POST",body:i,duplex:"half"});if(R.isFormData(i)&&(a=c.headers.get("content-type"))&&t.setContentType(a),c.body){let[a,d]=a4(b,a3(a5(r)));i=bt(c.body,65536,a,d)}}R.isString(u)||(u=u?"include":"omit");let c=g&&"credentials"in d.prototype,j={...v,signal:x,method:h.toUpperCase(),headers:t.normalize().toJSON(),body:i,duplex:"half",credentials:c?u:void 0};y=g&&new d(f,j);let n=await (g?w(y,v):w(f,j)),p=l&&("stream"===s||"response"===s);if(l&&(q||p&&z)){let a={};["status","statusText","headers"].forEach(b=>{a[b]=n[b]});let b=R.toFiniteNumber(n.headers.get("content-length")),[c,d]=q&&a4(b,a3(a5(q),!0))||[];n=new e(bt(n.body,65536,c,()=>{d&&d(),z&&z()}),a)}s=s||"text";let A=await m[R.findKey(m,s)||"text"](n,a);return!p&&z&&z(),await new Promise((b,c)=>{aE(b,c,{data:A,headers:aA.from(n.headers),status:n.status,statusText:n.statusText,config:a,request:y})})}catch(b){if(z&&z(),b&&"TypeError"===b.name&&/Load failed|fetch/i.test(b.message))throw Object.assign(new S("Network Error",S.ERR_NETWORK,a,y),{cause:b.cause||b});throw S.from(b,b&&b.code,a,y)}}},bA=new Map,bB=a=>{let b=a&&a.env||{},{fetch:c,Request:d,Response:e}=b,f=[d,e,c],g=f.length,h,i,j=bA;for(;g--;)h=f[g],void 0===(i=j.get(h))&&j.set(h,i=g?new Map:bz(b)),j=i;return i};bB();let bC={http:bj,xhr:bp,fetch:{get:bB}};R.forEach(bC,(a,b)=>{if(a){try{Object.defineProperty(a,"name",{value:b})}catch(a){}Object.defineProperty(a,"adapterName",{value:b})}});let bD=a=>`- ${a}`,bE=a=>R.isFunction(a)||null===a||!1===a,bF=function(a,b){let c,d,{length:e}=a=R.isArray(a)?a:[a],f={};for(let g=0;g<e;g++){let e;if(d=c=a[g],!bE(c)&&void 0===(d=bC[(e=String(c)).toLowerCase()]))throw new S(`Unknown adapter '${e}'`);if(d&&(R.isFunction(d)||(d=d.get(b))))break;f[e||"#"+g]=d}if(!d){let a=Object.entries(f).map(([a,b])=>`adapter ${a} `+(!1===b?"is not supported by the environment":"is not available in the build"));throw new S("There is no suitable adapter to dispatch the request "+(e?a.length>1?"since :\n"+a.map(bD).join("\n"):" "+bD(a[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return d};function bG(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new aD(null,a)}function bH(a){return bG(a),a.headers=aA.from(a.headers),a.data=aB.call(a,a.transformRequest),-1!==["post","put","patch"].indexOf(a.method)&&a.headers.setContentType("application/x-www-form-urlencoded",!1),bF(a.adapter||au.adapter,a)(a).then(function(b){return bG(a),b.data=aB.call(a,a.transformResponse,b),b.headers=aA.from(b.headers),b},function(b){return!aC(b)&&(bG(a),b&&b.response&&(b.response.data=aB.call(a,a.transformResponse,b.response),b.response.headers=aA.from(b.response.headers))),Promise.reject(b)})}let bI={};["object","boolean","number","function","string","symbol"].forEach((a,b)=>{bI[a]=function(c){return typeof c===a||"a"+(b<1?"n ":" ")+a}});let bJ={};bI.transitional=function(a,b,c){function d(a,b){return"[Axios v"+aN+"] Transitional option '"+a+"'"+b+(c?". "+c:"")}return(c,e,f)=>{if(!1===a)throw new S(d(e," has been removed"+(b?" in "+b:"")),S.ERR_DEPRECATED);return b&&!bJ[e]&&(bJ[e]=!0,console.warn(d(e," has been deprecated since v"+b+" and will be removed in the near future"))),!a||a(c,e,f)}},bI.spelling=function(a){return(b,c)=>(console.warn(`${c} is likely a misspelling of ${a}`),!0)};let bK=function(a,b,c){if("object"!=typeof a)throw new S("options must be an object",S.ERR_BAD_OPTION_VALUE);let d=Object.keys(a),e=d.length;for(;e-- >0;){let f=d[e],g=b[f];if(g){let b=a[f],c=void 0===b||g(b,f,a);if(!0!==c)throw new S("option "+f+" must be "+c,S.ERR_BAD_OPTION_VALUE);continue}if(!0!==c)throw new S("Unknown option "+f,S.ERR_BAD_OPTION)}};class bL{constructor(a){this.defaults=a||{},this.interceptors={request:new ae,response:new ae}}async request(a,b){try{return await this._request(a,b)}catch(a){if(a instanceof Error){let b={};Error.captureStackTrace?Error.captureStackTrace(b):b=Error();let c=b.stack?b.stack.replace(/^.+\n/,""):"";try{a.stack?c&&!String(a.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(a.stack+="\n"+c):a.stack=c}catch(a){}}throw a}}_request(a,b){let c,d;"string"==typeof a?(b=b||{}).url=a:b=a||{};let{transitional:e,paramsSerializer:f,headers:g}=b=bn(this.defaults,b);void 0!==e&&bK(e,{silentJSONParsing:bI.transitional(bI.boolean),forcedJSONParsing:bI.transitional(bI.boolean),clarifyTimeoutError:bI.transitional(bI.boolean)},!1),null!=f&&(R.isFunction(f)?b.paramsSerializer={serialize:f}:bK(f,{encode:bI.function,serialize:bI.function},!0)),void 0!==b.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?b.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:b.allowAbsoluteUrls=!0),bK(b,{baseUrl:bI.spelling("baseURL"),withXsrfToken:bI.spelling("withXSRFToken")},!0),b.method=(b.method||this.defaults.method||"get").toLowerCase();let h=g&&R.merge(g.common,g[b.method]);g&&R.forEach(["delete","get","head","post","put","patch","common"],a=>{delete g[a]}),b.headers=aA.concat(h,g);let i=[],j=!0;this.interceptors.request.forEach(function(a){("function"!=typeof a.runWhen||!1!==a.runWhen(b))&&(j=j&&a.synchronous,i.unshift(a.fulfilled,a.rejected))});let k=[];this.interceptors.response.forEach(function(a){k.push(a.fulfilled,a.rejected)});let l=0;if(!j){let a=[bH.bind(this),void 0];for(a.unshift(...i),a.push(...k),d=a.length,c=Promise.resolve(b);l<d;)c=c.then(a[l++],a[l++]);return c}d=i.length;let m=b;for(;l<d;){let a=i[l++],b=i[l++];try{m=a(m)}catch(a){b.call(this,a);break}}try{c=bH.call(this,m)}catch(a){return Promise.reject(a)}for(l=0,d=k.length;l<d;)c=c.then(k[l++],k[l++]);return c}getUri(a){return ad(aF((a=bn(this.defaults,a)).baseURL,a.url,a.allowAbsoluteUrls),a.params,a.paramsSerializer)}}R.forEach(["delete","get","head","options"],function(a){bL.prototype[a]=function(b,c){return this.request(bn(c||{},{method:a,url:b,data:(c||{}).data}))}}),R.forEach(["post","put","patch"],function(a){function b(b){return function(c,d,e){return this.request(bn(e||{},{method:a,headers:b?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}bL.prototype[a]=b(),bL.prototype[a+"Form"]=b(!0)});class bM{constructor(a){let b;if("function"!=typeof a)throw TypeError("executor must be a function.");this.promise=new Promise(function(a){b=a});const c=this;this.promise.then(a=>{if(!c._listeners)return;let b=c._listeners.length;for(;b-- >0;)c._listeners[b](a);c._listeners=null}),this.promise.then=a=>{let b,d=new Promise(a=>{c.subscribe(a),b=a}).then(a);return d.cancel=function(){c.unsubscribe(b)},d},a(function(a,d,e){c.reason||(c.reason=new aD(a,d,e),b(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){this.reason?a(this.reason):this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;let b=this._listeners.indexOf(a);-1!==b&&this._listeners.splice(b,1)}toAbortSignal(){let a=new AbortController,b=b=>{a.abort(b)};return this.subscribe(b),a.signal.unsubscribe=()=>this.unsubscribe(b),a.signal}static source(){let a;return{token:new bM(function(b){a=b}),cancel:a}}}let bN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(bN).forEach(([a,b])=>{bN[b]=a});let bO=function a(b){let c=new bL(b),d=f(bL.prototype.request,c);return R.extend(d,bL.prototype,c,{allOwnKeys:!0}),R.extend(d,c,null,{allOwnKeys:!0}),d.create=function(c){return a(bn(b,c))},d}(au);bO.Axios=bL,bO.CanceledError=aD,bO.CancelToken=bM,bO.isCancel=aC,bO.VERSION=aN,bO.toFormData=$,bO.AxiosError=S,bO.Cancel=bO.CanceledError,bO.all=function(a){return Promise.all(a)},bO.spread=function(a){return function(b){return a.apply(null,b)}},bO.isAxiosError=function(a){return R.isObject(a)&&!0===a.isAxiosError},bO.mergeConfig=bn,bO.AxiosHeaders=aA,bO.formToJSON=a=>at(R.isHTMLForm(a)?new FormData(a):a),bO.getAdapter=bF,bO.HttpStatusCode=bN,bO.default=bO;let bP=(process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api/v1").replace(/\/$/,""),bQ=new class{client;constructor(){this.client=bO.create({baseURL:bP,timeout:3e5,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.client.interceptors.request.use(a=>a,a=>Promise.reject(a)),this.client.interceptors.response.use(a=>a,async a=>{let b=a.config;if(b?.url,a.response?.status!==401||b?._retry||(b._retry=!0),a.response?.status===403){let b=a.config?.url||"",c=a.response?.data?.detail||"Insufficient permissions";b.includes("/inventory/summary")||b.includes("/sales/summary")||b.includes("/sales/summary/overview")||b.includes("/sales/journal-entries")||b.includes("/backup"),b.includes("/users/")&&!b.includes("/users/me")&&(a.response.data={...a.response.data,detail:c,message:`You don't have permission to access this user. ${c}`})}if(a.response?.status===404&&a.config?.url,!a.response){let b=a.config?.url||"";b.includes("/notifications/unread/count")||b.includes("/dashboard/recent-activity")||b.includes("/health")||a.message}return Promise.reject(a)})}normalizeResponse(a){return a?"object"==typeof a&&null!==a&&"data"in a?a:{data:a}:{data:null}}extractErrorMessage(a){if(a&&"object"==typeof a){if("response"in a)return a.response?.data?.detail||a.response?.data?.message||a.response?.data?.error||"An error occurred";if("message"in a)return a.message}return a instanceof Error?a.message:"An unknown error occurred"}async get(a,b){let c=await this.client.get(a,b);return this.normalizeResponse(c.data)}async post(a,b,c){let d=await this.client.post(a,b,c);return this.normalizeResponse(d.data)}async put(a,b,c){let d=await this.client.put(a,b,c);return this.normalizeResponse(d.data)}async delete(a,b,c){let d=await this.client.delete(a,{...c,data:b});return this.normalizeResponse(d.data)}async login(a,b){let c=await this.client.post("/auth/login-json",{username:a,password:b}),d=this.normalizeResponse(c.data);if(d.data?.access_token&&d.data?.user);else throw Error("Invalid login response: missing access token or user data");return d}async register(a){return this.post("/auth/register",a)}async logout(){await this.post("/auth/logout")}async refreshToken(){throw Error("Token refresh is client only")}async generateOTP(){return this.post("/auth/generate-otp")}async verifyOTP(a){return this.post("/auth/verify-otp",{otp_code:a})}async requestOTP(a){return this.post("/auth/request-otp",{email:a})}async resetPassword(a,b,c){return this.post("/auth/reset-password",{email:a,code:b,newPassword:c})}async getCurrentUser(){return this.get("/users/me")}async updateCurrentUser(a){return this.put("/users/me",a)}async changePassword(a,b){return this.post("/users/me/change-password",{current_password:a,new_password:b})}async getUsers(){try{let a=await this.get("/users/");if(Array.isArray(a.data))return a;return{...a,data:[]}}catch(a){if(a.response?.status===403)return{data:[]};throw a}}async getUser(a){try{return await this.get(`/users/${a}`)}catch(b){if(b.response?.status===403){let c=b.response.data?.detail||"Insufficient permissions",d=Error(`Cannot access user ${a}: ${c}`);throw d.response=b.response,d}if(b.response?.status===404){let c=Error(`User ${a} not found`);throw c.response=b.response,c}throw b}}async getSubordinates(a){return this.get(`/users/${a}/subordinates`)}async createUser(a){try{return await this.post("/users",a)}catch(a){if(a.response?.status===403){let b=a.response.data?.detail||"Insufficient permissions",c=Error(`Cannot create user: ${b}. You may not have permission to create users with this role.`);throw c.response=a.response,c}if(a.response?.status===400){let b=a.response.data?.detail||"Invalid user data",c=Error(`Failed to create user: ${b}`);throw c.response=a.response,c}throw a}}async createSubordinate(a){return this.post("/users/subordinates",a)}async updateUser(a,b){return this.put(`/users/${a}`,b)}async deleteUser(a,b){return this.post(`/users/${a}/delete`,{password:b})}async activateUser(a,b){return this.post(`/users/${a}/activate`,{password:b})}async deactivateUser(a,b){return this.post(`/users/${a}/deactivate`,{password:b})}async getUserPermissions(a){return this.get(`/users/${a}/permissions`)}async updateUserPermissions(a,b){return this.put(`/users/${a}/permissions`,{permissions:b})}async getRevenues(a){let b={...a,limit:1e4,skip:0},c=await this.get("/revenue",{params:b}),d=Array.isArray(c.data)?c.data:[];return{...c,data:d}}async getRevenue(a){return this.get(`/revenue/${a}`)}async createRevenue(a){return this.post("/revenue",a)}async updateRevenue(a,b){return this.put(`/revenue/${a}`,b)}async deleteRevenue(a,b){return this.post(`/revenue/${a}/delete`,{password:b})}async getExpenses(a){let b={...a,limit:1e4,skip:0},c=await this.get("/expenses",{params:b}),d=Array.isArray(c.data)?c.data:[];return{...c,data:d}}async getExpense(a){return this.get(`/expenses/${a}`)}async createExpense(a){return this.post("/expenses",a)}async updateExpense(a,b){return this.put(`/expenses/${a}`,b)}async deleteExpense(a,b){return this.post(`/expenses/${a}/delete`,{password:b})}async getTransactions(){try{let[a,b]=await Promise.all([this.getRevenues(),this.getExpenses()]),c=(a.data||[]).map(a=>({...a,transaction_type:"revenue",id:`revenue-${a.id}`})),d=(b.data||[]).map(a=>({...a,transaction_type:"expense",id:`expense-${a.id}`,amount:-Math.abs(Number(a.amount??0))}));return{data:[...c,...d].sort((a,b)=>{let c=new Date(a.date||a.created_at||0).getTime();return new Date(b.date||b.created_at||0).getTime()-c})}}catch(a){throw a}}async getDashboardOverview(){return this.get("/dashboard/overview")}async getDashboardKPIs(a="month"){return this.get("/dashboard/kpis",{params:{period:a}})}async getDashboardRecentActivity(a=10){return this.get("/dashboard/recent-activity",{params:{limit:a}})}async getAdvancedKPIs(a){return this.get("/analytics/kpis",{params:a})}async getTrendAnalysis(a){return this.get("/analytics/trends",{params:a})}async getTimeSeriesData(a){return this.get("/analytics/time-series",{params:a})}async getCategoryBreakdown(a){return this.get("/analytics/category-breakdown",{params:a})}async getAnalyticsOverview(a){return this.get("/analytics/overview",{params:a})}async getReports(a){return this.get("/reports",{params:a})}async getReport(a){return this.get(`/reports/${a}`)}async createReport(a){return this.post("/reports",a)}async updateReport(a,b){return this.put(`/reports/${a}`,b)}async deleteReport(a){return this.delete(`/reports/${a}`)}async downloadReport(a){return this.post(`/reports/${a}/download`)}async regenerateReport(a){return this.post(`/reports/${a}/regenerate`)}async getAvailableReportTypes(){return this.get("/reports/types/available")}async getIncomeStatement(a,b){let c={};a&&(c.start_date=new Date(a+"T00:00:00").toISOString()),b&&(c.end_date=new Date(b+"T23:59:59").toISOString());let[d,e]=await Promise.all([this.getRevenues(),this.getExpenses()]),f=d.data||[],g=e.data||[];if(a&&b){let c=new Date(a+"T00:00:00").getTime(),d=new Date(b+"T23:59:59").getTime();f=f.filter(a=>{let b=a.date||a.created_at;if(!b)return!0;try{let a=new Date(b).getTime();return a>=c&&a<=d}catch{return!0}}),g=g.filter(a=>{let b=a.date||a.created_at;if(!b)return!0;try{let a=new Date(b).getTime();return a>=c&&a<=d}catch{return!0}})}let h=f.filter(a=>!0===a.is_approved||"true"===a.is_approved||!0===a.approved),i=g.filter(a=>!0===a.is_approved||"true"===a.is_approved||!0===a.approved),j=h.reduce((a,b)=>a+Number(b.amount||0),0),k=i.reduce((a,b)=>a+Number(b.amount||0),0),l=j-k,m={};h.forEach(a=>{let b=a.category&&"object"==typeof a.category&&"value"in a.category?a.category.value:a.category,c="string"==typeof b?b:"other";m[c]=(m[c]||0)+Number(a.amount||0)});let n={};return i.forEach(a=>{let b=a.category&&"object"==typeof a.category&&"value"in a.category?a.category.value:a.category,c="string"==typeof b?b:"other";n[c]=(n[c]||0)+Number(a.amount||0)}),{data:{period:{start_date:a,end_date:b},revenue:{total:j,by_category:m},expenses:{total:k,by_category:n},profit:l,profit_margin:j>0?l/j*100:0}}}async getCashFlow(a,b){let c={};a&&(c.start_date=new Date(a+"T00:00:00").toISOString()),b&&(c.end_date=new Date(b+"T23:59:59").toISOString());let[d,e]=await Promise.all([this.getRevenues(),this.getExpenses()]),f=d.data||[],g=e.data||[];if(a&&b){let c=new Date(a+"T00:00:00").getTime(),d=new Date(b+"T23:59:59").getTime();f=f.filter(a=>{let b=a.date||a.created_at;if(!b)return!0;try{let a=new Date(b).getTime();return a>=c&&a<=d}catch{return!0}}),g=g.filter(a=>{let b=a.date||a.created_at;if(!b)return!0;try{let a=new Date(b).getTime();return a>=c&&a<=d}catch{return!0}})}let h=f.filter(a=>!0===a.is_approved||"true"===a.is_approved||!0===a.approved),i=g.filter(a=>!0===a.is_approved||"true"===a.is_approved||!0===a.approved),j={};h.forEach(a=>{let b=a.date||a.created_at,c=b?new Date(b).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];j[c]||(j[c]={inflow:0,outflow:0,net:0});let d=Number(a.amount||0);j[c].inflow+=d,j[c].net+=d}),i.forEach(a=>{let b=a.date||a.created_at,c=b?new Date(b).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];j[c]||(j[c]={inflow:0,outflow:0,net:0});let d=Number(a.amount||0);j[c].outflow+=d,j[c].net-=d});let k=Object.values(j).reduce((a,b)=>a+b.inflow,0),l=Object.values(j).reduce((a,b)=>a+b.outflow,0);return{data:{period:{start_date:a,end_date:b},summary:{total_inflow:k,total_outflow:l,net_cash_flow:k-l},daily_cash_flow:j}}}async getFinancialSummary(a,b){let[c,d]=await Promise.all([this.getRevenues(),this.getExpenses()]),e=c.data||[],f=d.data||[];if(a&&b){let c=new Date(a+"T00:00:00").getTime(),d=new Date(b+"T23:59:59").getTime();e=e.filter(a=>{let b=a.date||a.created_at;if(!b)return!0;try{let a=new Date(b).getTime();return a>=c&&a<=d}catch{return!0}}),f=f.filter(a=>{let b=a.date||a.created_at;if(!b)return!0;try{let a=new Date(b).getTime();return a>=c&&a<=d}catch{return!0}})}let g=e.filter(a=>!0===a.is_approved||"true"===a.is_approved||!0===a.approved),h=f.filter(a=>!0===a.is_approved||"true"===a.is_approved||!0===a.approved),i=g.reduce((a,b)=>a+Number(b.amount||0),0),j=h.reduce((a,b)=>a+Number(b.amount||0),0),k=i-j,l={},m=a=>{if("string"==typeof a)return a||"other";if(a&&"object"==typeof a&&"value"in a){let b=a.value;return"string"==typeof b?b:String(b??"other")}return String(a??"other")};g.forEach(a=>{let b=m(a.category);l[b]=(l[b]||0)+Number(a.amount||0)});let n={};h.forEach(a=>{let b=m(a.category);n[b]=(n[b]||0)+Number(a.amount||0)});let o=g.length,p=h.length;return{data:{period:{start_date:a,end_date:b},financials:{total_revenue:i,total_expenses:j,profit:k,profit_margin:i>0?k/i*100:0},revenue_by_category:l,expenses_by_category:n,transaction_counts:{revenue:o,expenses:p,total:o+p},generated_at:new Date().toISOString()}}}async getApprovals(){return this.get("/approvals")}async getApproval(a){return this.get(`/approvals/${a}`)}async getApprovalComments(a){return this.get(`/approvals/${a}/comments`)}async createApprovalComment(a,b){return this.post(`/approvals/${a}/comments`,{comment:b})}async approveItem(a,b){return"revenue"===b?this.post(`/revenue/${a}/approve`):this.post(`/expenses/${a}/approve`)}async rejectItem(a,b,c,d){return"revenue"===b?this.post(`/revenue/${a}/reject`,{reason:c||"No reason provided",password:d}):this.post(`/expenses/${a}/reject`,{reason:c||"No reason provided",password:d})}async approveWorkflow(a){return this.post(`/approvals/${a}/approve`)}async rejectWorkflow(a,b,c){return this.post(`/approvals/${a}/reject`,{rejection_reason:b,password:c})}async getNotifications(a){return this.get("/notifications",{params:{unread_only:a}})}async getNotification(a){return this.get(`/notifications/${a}`)}async markNotificationAsRead(a){return this.post(`/notifications/${a}/mark-read`)}async markAllNotificationsAsRead(){return this.post("/notifications/mark-all-read")}async deleteNotification(a){return this.delete(`/notifications/${a}`)}async getUnreadCount(){return this.get("/notifications/unread/count")}async getNotificationPreferences(){return this.get("/notifications/preferences")}async updateNotificationPreferences(a){return this.put("/notifications/preferences",a)}async getAdminSystemStats(){return this.get("/admin/system/stats")}async getSystemSettings(){return this.get("/admin/settings")}async getSystemHealth(){return this.get("/admin/health")}async getHierarchy(){return this.get("/admin/hierarchy")}async getRoles(){return this.get("/admin/roles")}async getPermissions(){return this.get("/admin/permissions")}async createRole(a){let b={...a,permissions:a.permissions?.map(a=>a.trim()).filter(Boolean)};return this.post("/admin/roles",b)}async updateRole(a,b){let c={...b,permissions:b.permissions?.map(a=>a.trim()).filter(Boolean)};return this.put(`/admin/roles/${a}`,c)}async deleteRole(a){return this.delete(`/admin/roles/${a}`)}async createBackup(a=!1){let b=await this.client.post("/admin/backup/create",null,{params:{include_files:a}});return this.normalizeResponse(b.data)}async listBackups(){return this.get("/admin/backup/list")}async restoreBackup(a){let b=await this.client.post("/admin/backup/restore",null,{params:{backup_name:a}});return this.normalizeResponse(b.data)}async deleteBackup(a,b){return this.post(`/admin/backup/${encodeURIComponent(a)}/delete`,{password:b})}async getVerificationHistory(){return this.get("/users/me/verification-history")}async get2FAStatus(){return this.get("/users/me/2fa/status")}async setup2FA(){return this.post("/users/me/2fa/setup")}async verify2FA(a){return this.post("/users/me/2fa/verify",{code:a})}async disable2FA(a){return this.post("/users/me/2fa/disable",{current_password:a})}async getIPRestrictionStatus(){return this.get("/users/me/ip-restriction")}async updateIPRestriction(a){return this.put("/users/me/ip-restriction",{enabled:a})}async addAllowedIP(a){return this.post("/users/me/ip-restriction/allowed-ips",{ip_address:a})}async removeAllowedIP(a){return this.delete(`/users/me/ip-restriction/allowed-ips/${encodeURIComponent(a)}`)}async triggerBackup(a=!1){return this.post("/admin/backup/create",void 0,{params:{include_files:a}})}async getDepartments(){return this.get("/departments")}async getDepartment(a){let b=encodeURIComponent(String(a));return this.get(`/departments/${b}`)}async createDepartment(a){return this.post("/departments",a)}async updateDepartment(a,b){let c=encodeURIComponent(String(a));return this.put(`/departments/${c}`,b)}async deleteDepartment(a,b){let c=encodeURIComponent(String(a));return this.post(`/departments/${c}/delete`,{password:b})}async getProjects(a){return this.get("/projects",{params:a})}async getProject(a){return this.get(`/projects/${a}`)}async createProject(a){return this.post("/projects",a)}async updateProject(a,b){return this.put(`/projects/${a}`,b)}async deleteProject(a,b){return this.post(`/projects/${a}/delete`,{password:b})}async getAuditLogs(a){let b={};return a&&(void 0!==a.skip&&(b.skip=a.skip),void 0!==a.limit&&(b.limit=a.limit),void 0!==a.user_id&&(b.user_id=a.user_id),a.action&&(b.action=a.action),a.resource_type&&(b.resource_type=a.resource_type),a.start_date&&(b.start_date=new Date(a.start_date+"T00:00:00").toISOString()),a.end_date&&(b.end_date=new Date(a.end_date+"T23:59:59").toISOString())),this.get("/admin/audit/logs",{params:b})}async getBudgets(a){return this.get("/budgeting/budgets",{params:a})}async getBudget(a){return this.get(`/budgeting/budgets/${a}`)}async createBudget(a){return this.post("/budgeting/budgets",a)}async createBudgetFromTemplate(a,b){let c={template_name:a};return b.name&&(c.name=b.name),b.start_date&&(c.start_date=b.start_date),b.end_date&&(c.end_date=b.end_date),b.department&&(c.department=b.department),b.project&&(c.project=b.project),this.post("/budgeting/budgets/from-template",{},{params:c})}async updateBudget(a,b){return this.put(`/budgeting/budgets/${a}`,b)}async deleteBudget(a,b){return this.post(`/budgeting/budgets/${a}/delete`,{password:b})}async validateBudget(a){return this.post(`/budgeting/budgets/${a}/validate`)}async getBudgetItems(a){return this.get(`/budgeting/budgets/${a}/items`)}async createBudgetItem(a,b){return this.post(`/budgeting/budgets/${a}/items`,b)}async updateBudgetItem(a,b,c){return this.put(`/budgeting/budgets/${a}/items/${b}`,c)}async deleteBudgetItem(a,b,c){return this.post(`/budgeting/budgets/${a}/items/${b}/delete`,{password:c})}async getScenarios(a){return this.get(`/budgeting/budgets/${a}/scenarios`)}async createScenario(a,b){return this.post(`/budgeting/budgets/${a}/scenarios`,b)}async compareScenarios(a,b){return this.post(`/budgeting/budgets/${a}/scenarios/compare`,{scenario_ids:b})}async deleteScenario(a,b,c){return this.post(`/budgeting/budgets/${a}/scenarios/${b}/delete`,{password:c})}async getForecasts(a){let b={skip:a?.skip!==void 0&&a.skip>=0?a.skip:0,limit:a?.limit!==void 0&&a.limit>=1&&a.limit<=1e3?a.limit:100};return this.get("/budgeting/forecasts",{params:b})}async createForecast(a){return this.post("/budgeting/forecasts",a)}async getForecast(a){return this.get(`/budgeting/forecasts/${a}`)}async updateForecast(a,b){return this.put(`/budgeting/forecasts/${a}`,b)}async deleteForecast(a,b){return this.post(`/budgeting/forecasts/${a}/delete`,{password:b})}async trainAllModels(a,b){return this.request({method:"POST",url:"/budgeting/ml/train/all",params:{start_date:a,end_date:b}})}async trainExpensesArima(a,b,c="1,1,1"){return this.request({method:"POST",url:"/budgeting/ml/train/expenses/arima",params:{start_date:a,end_date:b,order:c},timeout:12e4})}async trainExpensesProphet(a,b){return this.request({method:"POST",url:"/budgeting/ml/train/expenses/prophet",params:{start_date:a,end_date:b},timeout:18e4})}async trainExpensesLinearRegression(a,b){return this.request({method:"POST",url:"/budgeting/ml/train/expenses/linear-regression",params:{start_date:a,end_date:b},timeout:12e4})}async trainRevenueProphet(a,b){return this.request({method:"POST",url:"/budgeting/ml/train/revenue/prophet",params:{start_date:a,end_date:b},timeout:18e4})}async trainRevenueXGBoost(a,b){return this.request({method:"POST",url:"/budgeting/ml/train/revenue/xgboost",params:{start_date:a,end_date:b},timeout:18e4})}async trainRevenueLSTM(a,b,c=50,d=32){return this.request({method:"POST",url:"/budgeting/ml/train/revenue/lstm",params:{start_date:a,end_date:b,epochs:c,batch_size:d},timeout:3e5})}async trainInventorySARIMA(a,b,c="1,1,1",d="1,1,1,12"){return this.request({method:"POST",url:"/budgeting/ml/train/inventory/sarima",params:{start_date:a,end_date:b,order:c,seasonal_order:d},timeout:18e4})}async trainInventoryXGBoost(a,b){return this.request({method:"POST",url:"/budgeting/ml/train/inventory/xgboost",params:{start_date:a,end_date:b},timeout:18e4})}async trainInventoryLSTM(a,b,c=50,d=32){return this.request({method:"POST",url:"/budgeting/ml/train/inventory/lstm",params:{start_date:a,end_date:b,epochs:c,batch_size:d},timeout:3e5})}async getAutoLearnStatus(){return this.request({method:"GET",url:"/budgeting/ml/auto-learn/status"})}async triggerAutoLearn(a){return this.request({method:"POST",url:`/budgeting/ml/auto-learn/trigger/${a}`,timeout:3e5})}async getTrainedModels(a){return this.request({method:"GET",url:"/budgeting/ml/models",params:a?{metric:a}:{}})}async getSchedulerStatus(){return this.request({method:"GET",url:"/budgeting/ml/scheduler/status"})}async generateForecastWithAdvice(a,b,c=12){return this.request({method:"POST",url:"/budgeting/ml/forecast/with-advice",params:{metric:a,model_type:b,periods:c},timeout:12e4})}async calculateVariance(a,b,c){return this.post(`/budgeting/budgets/${a}/variance`,{},{params:{period_start:b,period_end:c}})}async getVarianceHistory(a,b){return this.get(`/budgeting/budgets/${a}/variance`,{params:b})}async getVarianceSummary(a){return this.get(`/budgeting/budgets/${a}/variance/summary`)}async createInventoryItem(a){return this.post("/inventory/items",a)}async getInventoryItems(a){return this.get("/inventory/items",{params:a})}async getInventoryItem(a){return this.get(`/inventory/items/${a}`)}async updateInventoryItem(a,b){return this.put(`/inventory/items/${a}`,b)}async deleteInventoryItem(a,b){return this.post(`/inventory/items/${a}/delete`,{password:b})}async activateInventoryItem(a,b){return this.post(`/inventory/items/${a}/activate`,{password:b})}async deactivateInventoryItem(a,b){return this.post(`/inventory/items/${a}/deactivate`,{password:b})}async getInventoryAuditLogs(a,b){return this.get(`/inventory/items/${a}/audit`,{params:b})}async getLowStockItems(a){return this.get("/inventory/items/low-stock/list",{params:{threshold:a}})}async getInventorySummary(){return this.get("/inventory/summary")}async createSale(a){return this.post("/sales/",a)}async getSales(a){let b=a?.limit;void 0!==b&&b>1e3&&(console.warn(`getSales: Limit ${b} exceeds backend maximum of 1000. Capping to 1000.`),b=1e3);let c=a?{...a,limit:b}:void 0;return this.get("/sales",{params:c})}async getSale(a){return this.get(`/sales/${a}`)}async postSale(a,b){return this.post(`/sales/${a}/post`,b)}async cancelSale(a){return this.post(`/sales/${a}/cancel`,{})}async getSalesSummary(a){return this.get("/sales/summary/overview",{params:a})}async getReceipt(a){return this.get(`/sales/receipt/${a}`)}async getJournalEntries(a){return this.get("/sales/journal-entries/list",{params:a})}async submitContact(a){let b=process.env.NEXT_PUBLIC_CONTACT_ENDPOINT||"/contact";return this.post(b,a)}async request(a){let b=await this.client.request(a);return this.normalizeResponse(b.data)}};a.s(["apiClient",0,bQ,"default",0,bQ],53250)}];
frontend/.next/server/chunks/ssr/[root-of-the-server]__f6abac01._.js.map:{"version":3,"sources":["turbopack:///[project]/node_modules/delayed-stream/lib/delayed_stream.js","turbopack:///[project]/node_modules/combined-stream/lib/combined_stream.js","turbopack:///[project]/node_modules/mime-db/db.json","turbopack:///[project]/node_modules/mime-db/index.js","turbopack:///[project]/node_modules/mime-types/index.js","turbopack:///[project]/node_modules/asynckit/lib/defer.js","turbopack:///[project]/node_modules/asynckit/lib/async.js","turbopack:///[project]/node_modules/asynckit/lib/abort.js","turbopack:///[project]/node_modules/asynckit/lib/iterate.js","turbopack:///[project]/node_modules/asynckit/lib/state.js","turbopack:///[project]/node_modules/asynckit/lib/terminator.js","turbopack:///[project]/node_modules/asynckit/parallel.js","turbopack:///[project]/node_modules/asynckit/serialOrdered.js","turbopack:///[project]/node_modules/asynckit/serial.js","turbopack:///[project]/node_modules/asynckit/index.js","turbopack:///[project]/node_modules/es-object-atoms/index.js","turbopack:///[project]/node_modules/es-errors/index.js","turbopack:///[project]/node_modules/es-errors/eval.js","turbopack:///[project]/node_modules/es-errors/range.js","turbopack:///[project]/node_modules/es-errors/ref.js","turbopack:///[project]/node_modules/es-errors/syntax.js","turbopack:///[project]/node_modules/es-errors/type.js","turbopack:///[project]/node_modules/es-errors/uri.js","turbopack:///[project]/node_modules/math-intrinsics/abs.js","turbopack:///[project]/node_modules/math-intrinsics/floor.js","turbopack:///[project]/node_modules/math-intrinsics/max.js","turbopack:///[project]/node_modules/math-intrinsics/min.js","turbopack:///[project]/node_modules/math-intrinsics/pow.js","turbopack:///[project]/node_modules/math-intrinsics/round.js","turbopack:///[project]/node_modules/math-intrinsics/isNaN.js","turbopack:///[project]/node_modules/math-intrinsics/sign.js","turbopack:///[project]/node_modules/gopd/gOPD.js","turbopack:///[project]/node_modules/gopd/index.js","turbopack:///[project]/node_modules/es-define-property/index.js","turbopack:///[project]/node_modules/has-symbols/shams.js","turbopack:///[project]/node_modules/has-symbols/index.js","turbopack:///[project]/node_modules/get-proto/Reflect.getPrototypeOf.js","turbopack:///[project]/node_modules/get-proto/Object.getPrototypeOf.js","turbopack:///[project]/node_modules/function-bind/implementation.js","turbopack:///[project]/node_modules/function-bind/index.js","turbopack:///[project]/node_modules/call-bind-apply-helpers/functionCall.js","turbopack:///[project]/node_modules/call-bind-apply-helpers/functionApply.js","turbopack:///[project]/node_modules/call-bind-apply-helpers/reflectApply.js","turbopack:///[project]/node_modules/call-bind-apply-helpers/actualApply.js","turbopack:///[project]/node_modules/call-bind-apply-helpers/index.js","turbopack:///[project]/node_modules/dunder-proto/get.js","turbopack:///[project]/node_modules/get-proto/index.js","turbopack:///[project]/node_modules/hasown/index.js","turbopack:///[project]/node_modules/get-intrinsic/index.js","turbopack:///[project]/node_modules/has-tostringtag/shams.js","turbopack:///[project]/node_modules/es-set-tostringtag/index.js","turbopack:///[project]/node_modules/form-data/lib/populate.js","turbopack:///[project]/node_modules/form-data/lib/form_data.js","turbopack:///[project]/node_modules/proxy-from-env/index.js","turbopack:///[project]/node_modules/ms/index.js","turbopack:///[project]/node_modules/debug/src/common.js","turbopack:///[project]/node_modules/has-flag/index.js","turbopack:///[project]/node_modules/supports-color/index.js","turbopack:///[project]/node_modules/debug/src/node.js","turbopack:///[project]/node_modules/debug/src/browser.js","turbopack:///[project]/node_modules/debug/src/index.js","turbopack:///[project]/node_modules/follow-redirects/debug.js","turbopack:///[project]/node_modules/follow-redirects/index.js","turbopack:///[project]/node_modules/axios/lib/helpers/bind.js","turbopack:///[project]/node_modules/axios/lib/utils.js","turbopack:///[project]/node_modules/axios/lib/core/AxiosError.js","turbopack:///[project]/node_modules/axios/lib/platform/node/classes/FormData.js","turbopack:///[project]/node_modules/axios/lib/helpers/toFormData.js","turbopack:///[project]/node_modules/axios/lib/helpers/AxiosURLSearchParams.js","turbopack:///[project]/node_modules/axios/lib/helpers/buildURL.js","turbopack:///[project]/node_modules/axios/lib/core/InterceptorManager.js","turbopack:///[project]/node_modules/axios/lib/defaults/transitional.js","turbopack:///[project]/node_modules/axios/lib/platform/node/index.js","turbopack:///[project]/node_modules/axios/lib/platform/node/classes/URLSearchParams.js","turbopack:///[project]/node_modules/axios/lib/platform/common/utils.js","turbopack:///[project]/node_modules/axios/lib/platform/index.js","turbopack:///[project]/node_modules/axios/lib/helpers/toURLEncodedForm.js","turbopack:///[project]/node_modules/axios/lib/helpers/formDataToJSON.js","turbopack:///[project]/node_modules/axios/lib/defaults/index.js","turbopack:///[project]/node_modules/axios/lib/helpers/parseHeaders.js","turbopack:///[project]/node_modules/axios/lib/core/AxiosHeaders.js","turbopack:///[project]/node_modules/axios/lib/core/transformData.js","turbopack:///[project]/node_modules/axios/lib/cancel/isCancel.js","turbopack:///[project]/node_modules/axios/lib/cancel/CanceledError.js","turbopack:///[project]/node_modules/axios/lib/core/settle.js","turbopack:///[project]/node_modules/axios/lib/helpers/isAbsoluteURL.js","turbopack:///[project]/node_modules/axios/lib/helpers/combineURLs.js","turbopack:///[project]/node_modules/axios/lib/core/buildFullPath.js","turbopack:///[project]/node_modules/axios/lib/adapters/http.js","turbopack:///[project]/node_modules/axios/lib/env/data.js","turbopack:///[project]/node_modules/axios/lib/helpers/parseProtocol.js","turbopack:///[project]/node_modules/axios/lib/helpers/fromDataURI.js","turbopack:///[project]/node_modules/axios/lib/helpers/AxiosTransformStream.js","turbopack:///[project]/node_modules/axios/lib/helpers/readBlob.js","turbopack:///[project]/node_modules/axios/lib/helpers/formDataToStream.js","turbopack:///[project]/node_modules/axios/lib/helpers/ZlibHeaderTransformStream.js","turbopack:///[project]/node_modules/axios/lib/helpers/callbackify.js","turbopack:///[project]/node_modules/axios/lib/helpers/speedometer.js","turbopack:///[project]/node_modules/axios/lib/helpers/throttle.js","turbopack:///[project]/node_modules/axios/lib/helpers/progressEventReducer.js","turbopack:///[project]/node_modules/axios/lib/helpers/estimateDataURLDecodedBytes.js","turbopack:///[project]/node_modules/axios/lib/helpers/isURLSameOrigin.js","turbopack:///[project]/node_modules/axios/lib/helpers/cookies.js","turbopack:///[project]/node_modules/axios/lib/core/mergeConfig.js","turbopack:///[project]/node_modules/axios/lib/helpers/resolveConfig.js","turbopack:///[project]/node_modules/axios/lib/adapters/xhr.js","turbopack:///[project]/node_modules/axios/lib/helpers/composeSignals.js","turbopack:///[project]/node_modules/axios/lib/helpers/trackStream.js","turbopack:///[project]/node_modules/axios/lib/adapters/fetch.js","turbopack:///[project]/node_modules/axios/lib/adapters/adapters.js","turbopack:///[project]/node_modules/axios/lib/core/dispatchRequest.js","turbopack:///[project]/node_modules/axios/lib/helpers/validator.js","turbopack:///[project]/node_modules/axios/lib/core/Axios.js","turbopack:///[project]/node_modules/axios/lib/cancel/CancelToken.js","turbopack:///[project]/node_modules/axios/lib/helpers/spread.js","turbopack:///[project]/node_modules/axios/lib/helpers/isAxiosError.js","turbopack:///[project]/node_modules/axios/lib/helpers/HttpStatusCode.js","turbopack:///[project]/node_modules/axios/lib/axios.js","turbopack:///[project]/lib/api.ts"],"sourcesContent":["var Stream = require('stream').Stream;\nvar util = require('util');\n\nmodule.exports = DelayedStream;\nfunction DelayedStream() {\n  this.source = null;\n  this.dataSize = 0;\n  this.maxDataSize = 1024 * 1024;\n  this.pauseStream = true;\n\n  this._maxDataSizeExceeded = false;\n  this._released = false;\n  this._bufferedEvents = [];\n}\nutil.inherits(DelayedStream, Stream);\n\nDelayedStream.create = function(source, options) {\n  var delayedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    delayedStream[option] = options[option];\n  }\n\n  delayedStream.source = source;\n\n  var realEmit = source.emit;\n  source.emit = function() {\n    delayedStream._handleEmit(arguments);\n    return realEmit.apply(source, arguments);\n  };\n\n  source.on('error', function() {});\n  if (delayedStream.pauseStream) {\n    source.pause();\n  }\n\n  return delayedStream;\n};\n\nObject.defineProperty(DelayedStream.prototype, 'readable', {\n  configurable: true,\n  enumerable: true,\n  get: function() {\n    return this.source.readable;\n  }\n});\n\nDelayedStream.prototype.setEncoding = function() {\n  return this.source.setEncoding.apply(this.source, arguments);\n};\n\nDelayedStream.prototype.resume = function() {\n  if (!this._released) {\n    this.release();\n  }\n\n  this.source.resume();\n};\n\nDelayedStream.prototype.pause = function() {\n  this.source.pause();\n};\n\nDelayedStream.prototype.release = function() {\n  this._released = true;\n\n  this._bufferedEvents.forEach(function(args) {\n    this.emit.apply(this, args);\n  }.bind(this));\n  this._bufferedEvents = [];\n};\n\nDelayedStream.prototype.pipe = function() {\n  var r = Stream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return r;\n};\n\nDelayedStream.prototype._handleEmit = function(args) {\n  if (this._released) {\n    this.emit.apply(this, args);\n    return;\n  }\n\n  if (args[0] === 'data') {\n    this.dataSize += args[1].length;\n    this._checkIfMaxDataSizeExceeded();\n  }\n\n  this._bufferedEvents.push(args);\n};\n\nDelayedStream.prototype._checkIfMaxDataSizeExceeded = function() {\n  if (this._maxDataSizeExceeded) {\n    return;\n  }\n\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  this._maxDataSizeExceeded = true;\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.'\n  this.emit('error', new Error(message));\n};\n","var util = require('util');\nvar Stream = require('stream').Stream;\nvar DelayedStream = require('delayed-stream');\n\nmodule.exports = CombinedStream;\nfunction CombinedStream() {\n  this.writable = false;\n  this.readable = true;\n  this.dataSize = 0;\n  this.maxDataSize = 2 * 1024 * 1024;\n  this.pauseStreams = true;\n\n  this._released = false;\n  this._streams = [];\n  this._currentStream = null;\n  this._insideLoop = false;\n  this._pendingNext = false;\n}\nutil.inherits(CombinedStream, Stream);\n\nCombinedStream.create = function(options) {\n  var combinedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    combinedStream[option] = options[option];\n  }\n\n  return combinedStream;\n};\n\nCombinedStream.isStreamLike = function(stream) {\n  return (typeof stream !== 'function')\n    && (typeof stream !== 'string')\n    && (typeof stream !== 'boolean')\n    && (typeof stream !== 'number')\n    && (!Buffer.isBuffer(stream));\n};\n\nCombinedStream.prototype.append = function(stream) {\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n\n  if (isStreamLike) {\n    if (!(stream instanceof DelayedStream)) {\n      var newStream = DelayedStream.create(stream, {\n        maxDataSize: Infinity,\n        pauseStream: this.pauseStreams,\n      });\n      stream.on('data', this._checkDataSize.bind(this));\n      stream = newStream;\n    }\n\n    this._handleErrors(stream);\n\n    if (this.pauseStreams) {\n      stream.pause();\n    }\n  }\n\n  this._streams.push(stream);\n  return this;\n};\n\nCombinedStream.prototype.pipe = function(dest, options) {\n  Stream.prototype.pipe.call(this, dest, options);\n  this.resume();\n  return dest;\n};\n\nCombinedStream.prototype._getNext = function() {\n  this._currentStream = null;\n\n  if (this._insideLoop) {\n    this._pendingNext = true;\n    return; // defer call\n  }\n\n  this._insideLoop = true;\n  try {\n    do {\n      this._pendingNext = false;\n      this._realGetNext();\n    } while (this._pendingNext);\n  } finally {\n    this._insideLoop = false;\n  }\n};\n\nCombinedStream.prototype._realGetNext = function() {\n  var stream = this._streams.shift();\n\n\n  if (typeof stream == 'undefined') {\n    this.end();\n    return;\n  }\n\n  if (typeof stream !== 'function') {\n    this._pipeNext(stream);\n    return;\n  }\n\n  var getStream = stream;\n  getStream(function(stream) {\n    var isStreamLike = CombinedStream.isStreamLike(stream);\n    if (isStreamLike) {\n      stream.on('data', this._checkDataSize.bind(this));\n      this._handleErrors(stream);\n    }\n\n    this._pipeNext(stream);\n  }.bind(this));\n};\n\nCombinedStream.prototype._pipeNext = function(stream) {\n  this._currentStream = stream;\n\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n  if (isStreamLike) {\n    stream.on('end', this._getNext.bind(this));\n    stream.pipe(this, {end: false});\n    return;\n  }\n\n  var value = stream;\n  this.write(value);\n  this._getNext();\n};\n\nCombinedStream.prototype._handleErrors = function(stream) {\n  var self = this;\n  stream.on('error', function(err) {\n    self._emitError(err);\n  });\n};\n\nCombinedStream.prototype.write = function(data) {\n  this.emit('data', data);\n};\n\nCombinedStream.prototype.pause = function() {\n  if (!this.pauseStreams) {\n    return;\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.pause) == 'function') this._currentStream.pause();\n  this.emit('pause');\n};\n\nCombinedStream.prototype.resume = function() {\n  if (!this._released) {\n    this._released = true;\n    this.writable = true;\n    this._getNext();\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.resume) == 'function') this._currentStream.resume();\n  this.emit('resume');\n};\n\nCombinedStream.prototype.end = function() {\n  this._reset();\n  this.emit('end');\n};\n\nCombinedStream.prototype.destroy = function() {\n  this._reset();\n  this.emit('close');\n};\n\nCombinedStream.prototype._reset = function() {\n  this.writable = false;\n  this._streams = [];\n  this._currentStream = null;\n};\n\nCombinedStream.prototype._checkDataSize = function() {\n  this._updateDataSize();\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.';\n  this._emitError(new Error(message));\n};\n\nCombinedStream.prototype._updateDataSize = function() {\n  this.dataSize = 0;\n\n  var self = this;\n  this._streams.forEach(function(stream) {\n    if (!stream.dataSize) {\n      return;\n    }\n\n    self.dataSize += stream.dataSize;\n  });\n\n  if (this._currentStream && this._currentStream.dataSize) {\n    this.dataSize += this._currentStream.dataSize;\n  }\n};\n\nCombinedStream.prototype._emitError = function(err) {\n  this._reset();\n  this.emit('error', err);\n};\n","{\"application/1d-interleaved-parityfec\":{\"source\":\"iana\"},\"application/3gpdash-qoe-report+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/3gpp-ims+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/3gpphal+json\":{\"source\":\"iana\",\"compressible\":true},\"application/3gpphalforms+json\":{\"source\":\"iana\",\"compressible\":true},\"application/a2l\":{\"source\":\"iana\"},\"application/ace+cbor\":{\"source\":\"iana\"},\"application/activemessage\":{\"source\":\"iana\"},\"application/activity+json\":{\"source\":\"iana\",\"compressible\":true},\"application/alto-costmap+json\":{\"source\":\"iana\",\"compressible\":true},\"application/alto-costmapfilter+json\":{\"source\":\"iana\",\"compressible\":true},\"application/alto-directory+json\":{\"source\":\"iana\",\"compressible\":true},\"application/alto-endpointcost+json\":{\"source\":\"iana\",\"compressible\":true},\"application/alto-endpointcostparams+json\":{\"source\":\"iana\",\"compressible\":true},\"application/alto-endpointprop+json\":{\"source\":\"iana\",\"compressible\":true},\"application/alto-endpointpropparams+json\":{\"source\":\"iana\",\"compressible\":true},\"application/alto-error+json\":{\"source\":\"iana\",\"compressible\":true},\"application/alto-networkmap+json\":{\"source\":\"iana\",\"compressible\":true},\"application/alto-networkmapfilter+json\":{\"source\":\"iana\",\"compressible\":true},\"application/alto-updatestreamcontrol+json\":{\"source\":\"iana\",\"compressible\":true},\"application/alto-updatestreamparams+json\":{\"source\":\"iana\",\"compressible\":true},\"application/aml\":{\"source\":\"iana\"},\"application/andrew-inset\":{\"source\":\"iana\",\"extensions\":[\"ez\"]},\"application/applefile\":{\"source\":\"iana\"},\"application/applixware\":{\"source\":\"apache\",\"extensions\":[\"aw\"]},\"application/at+jwt\":{\"source\":\"iana\"},\"application/atf\":{\"source\":\"iana\"},\"application/atfx\":{\"source\":\"iana\"},\"application/atom+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"atom\"]},\"application/atomcat+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"atomcat\"]},\"application/atomdeleted+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"atomdeleted\"]},\"application/atomicmail\":{\"source\":\"iana\"},\"application/atomsvc+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"atomsvc\"]},\"application/atsc-dwd+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"dwd\"]},\"application/atsc-dynamic-event-message\":{\"source\":\"iana\"},\"application/atsc-held+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"held\"]},\"application/atsc-rdt+json\":{\"source\":\"iana\",\"compressible\":true},\"application/atsc-rsat+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"rsat\"]},\"application/atxml\":{\"source\":\"iana\"},\"application/auth-policy+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/bacnet-xdd+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/batch-smtp\":{\"source\":\"iana\"},\"application/bdoc\":{\"compressible\":false,\"extensions\":[\"bdoc\"]},\"application/beep+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/calendar+json\":{\"source\":\"iana\",\"compressible\":true},\"application/calendar+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xcs\"]},\"application/call-completion\":{\"source\":\"iana\"},\"application/cals-1840\":{\"source\":\"iana\"},\"application/captive+json\":{\"source\":\"iana\",\"compressible\":true},\"application/cbor\":{\"source\":\"iana\"},\"application/cbor-seq\":{\"source\":\"iana\"},\"application/cccex\":{\"source\":\"iana\"},\"application/ccmp+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/ccxml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"ccxml\"]},\"application/cdfx+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"cdfx\"]},\"application/cdmi-capability\":{\"source\":\"iana\",\"extensions\":[\"cdmia\"]},\"application/cdmi-container\":{\"source\":\"iana\",\"extensions\":[\"cdmic\"]},\"application/cdmi-domain\":{\"source\":\"iana\",\"extensions\":[\"cdmid\"]},\"application/cdmi-object\":{\"source\":\"iana\",\"extensions\":[\"cdmio\"]},\"application/cdmi-queue\":{\"source\":\"iana\",\"extensions\":[\"cdmiq\"]},\"application/cdni\":{\"source\":\"iana\"},\"application/cea\":{\"source\":\"iana\"},\"application/cea-2018+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/cellml+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/cfw\":{\"source\":\"iana\"},\"application/city+json\":{\"source\":\"iana\",\"compressible\":true},\"application/clr\":{\"source\":\"iana\"},\"application/clue+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/clue_info+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/cms\":{\"source\":\"iana\"},\"application/cnrp+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/coap-group+json\":{\"source\":\"iana\",\"compressible\":true},\"application/coap-payload\":{\"source\":\"iana\"},\"application/commonground\":{\"source\":\"iana\"},\"application/conference-info+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/cose\":{\"source\":\"iana\"},\"application/cose-key\":{\"source\":\"iana\"},\"application/cose-key-set\":{\"source\":\"iana\"},\"application/cpl+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"cpl\"]},\"application/csrattrs\":{\"source\":\"iana\"},\"application/csta+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/cstadata+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/csvm+json\":{\"source\":\"iana\",\"compressible\":true},\"application/cu-seeme\":{\"source\":\"apache\",\"extensions\":[\"cu\"]},\"application/cwt\":{\"source\":\"iana\"},\"application/cybercash\":{\"source\":\"iana\"},\"application/dart\":{\"compressible\":true},\"application/dash+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"mpd\"]},\"application/dash-patch+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"mpp\"]},\"application/dashdelta\":{\"source\":\"iana\"},\"application/davmount+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"davmount\"]},\"application/dca-rft\":{\"source\":\"iana\"},\"application/dcd\":{\"source\":\"iana\"},\"application/dec-dx\":{\"source\":\"iana\"},\"application/dialog-info+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/dicom\":{\"source\":\"iana\"},\"application/dicom+json\":{\"source\":\"iana\",\"compressible\":true},\"application/dicom+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/dii\":{\"source\":\"iana\"},\"application/dit\":{\"source\":\"iana\"},\"application/dns\":{\"source\":\"iana\"},\"application/dns+json\":{\"source\":\"iana\",\"compressible\":true},\"application/dns-message\":{\"source\":\"iana\"},\"application/docbook+xml\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"dbk\"]},\"application/dots+cbor\":{\"source\":\"iana\"},\"application/dskpp+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/dssc+der\":{\"source\":\"iana\",\"extensions\":[\"dssc\"]},\"application/dssc+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xdssc\"]},\"application/dvcs\":{\"source\":\"iana\"},\"application/ecmascript\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"es\",\"ecma\"]},\"application/edi-consent\":{\"source\":\"iana\"},\"application/edi-x12\":{\"source\":\"iana\",\"compressible\":false},\"application/edifact\":{\"source\":\"iana\",\"compressible\":false},\"application/efi\":{\"source\":\"iana\"},\"application/elm+json\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/elm+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/emergencycalldata.cap+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/emergencycalldata.comment+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/emergencycalldata.control+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/emergencycalldata.deviceinfo+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/emergencycalldata.ecall.msd\":{\"source\":\"iana\"},\"application/emergencycalldata.providerinfo+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/emergencycalldata.serviceinfo+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/emergencycalldata.subscriberinfo+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/emergencycalldata.veds+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/emma+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"emma\"]},\"application/emotionml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"emotionml\"]},\"application/encaprtp\":{\"source\":\"iana\"},\"application/epp+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/epub+zip\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"epub\"]},\"application/eshop\":{\"source\":\"iana\"},\"application/exi\":{\"source\":\"iana\",\"extensions\":[\"exi\"]},\"application/expect-ct-report+json\":{\"source\":\"iana\",\"compressible\":true},\"application/express\":{\"source\":\"iana\",\"extensions\":[\"exp\"]},\"application/fastinfoset\":{\"source\":\"iana\"},\"application/fastsoap\":{\"source\":\"iana\"},\"application/fdt+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"fdt\"]},\"application/fhir+json\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/fhir+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/fido.trusted-apps+json\":{\"compressible\":true},\"application/fits\":{\"source\":\"iana\"},\"application/flexfec\":{\"source\":\"iana\"},\"application/font-sfnt\":{\"source\":\"iana\"},\"application/font-tdpfr\":{\"source\":\"iana\",\"extensions\":[\"pfr\"]},\"application/font-woff\":{\"source\":\"iana\",\"compressible\":false},\"application/framework-attributes+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/geo+json\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"geojson\"]},\"application/geo+json-seq\":{\"source\":\"iana\"},\"application/geopackage+sqlite3\":{\"source\":\"iana\"},\"application/geoxacml+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/gltf-buffer\":{\"source\":\"iana\"},\"application/gml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"gml\"]},\"application/gpx+xml\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"gpx\"]},\"application/gxf\":{\"source\":\"apache\",\"extensions\":[\"gxf\"]},\"application/gzip\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"gz\"]},\"application/h224\":{\"source\":\"iana\"},\"application/held+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/hjson\":{\"extensions\":[\"hjson\"]},\"application/http\":{\"source\":\"iana\"},\"application/hyperstudio\":{\"source\":\"iana\",\"extensions\":[\"stk\"]},\"application/ibe-key-request+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/ibe-pkg-reply+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/ibe-pp-data\":{\"source\":\"iana\"},\"application/iges\":{\"source\":\"iana\"},\"application/im-iscomposing+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/index\":{\"source\":\"iana\"},\"application/index.cmd\":{\"source\":\"iana\"},\"application/index.obj\":{\"source\":\"iana\"},\"application/index.response\":{\"source\":\"iana\"},\"application/index.vnd\":{\"source\":\"iana\"},\"application/inkml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"ink\",\"inkml\"]},\"application/iotp\":{\"source\":\"iana\"},\"application/ipfix\":{\"source\":\"iana\",\"extensions\":[\"ipfix\"]},\"application/ipp\":{\"source\":\"iana\"},\"application/isup\":{\"source\":\"iana\"},\"application/its+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"its\"]},\"application/java-archive\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"jar\",\"war\",\"ear\"]},\"application/java-serialized-object\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"ser\"]},\"application/java-vm\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"class\"]},\"application/javascript\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true,\"extensions\":[\"js\",\"mjs\"]},\"application/jf2feed+json\":{\"source\":\"iana\",\"compressible\":true},\"application/jose\":{\"source\":\"iana\"},\"application/jose+json\":{\"source\":\"iana\",\"compressible\":true},\"application/jrd+json\":{\"source\":\"iana\",\"compressible\":true},\"application/jscalendar+json\":{\"source\":\"iana\",\"compressible\":true},\"application/json\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true,\"extensions\":[\"json\",\"map\"]},\"application/json-patch+json\":{\"source\":\"iana\",\"compressible\":true},\"application/json-seq\":{\"source\":\"iana\"},\"application/json5\":{\"extensions\":[\"json5\"]},\"application/jsonml+json\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"jsonml\"]},\"application/jwk+json\":{\"source\":\"iana\",\"compressible\":true},\"application/jwk-set+json\":{\"source\":\"iana\",\"compressible\":true},\"application/jwt\":{\"source\":\"iana\"},\"application/kpml-request+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/kpml-response+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/ld+json\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"jsonld\"]},\"application/lgr+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"lgr\"]},\"application/link-format\":{\"source\":\"iana\"},\"application/load-control+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/lost+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"lostxml\"]},\"application/lostsync+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/lpf+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/lxf\":{\"source\":\"iana\"},\"application/mac-binhex40\":{\"source\":\"iana\",\"extensions\":[\"hqx\"]},\"application/mac-compactpro\":{\"source\":\"apache\",\"extensions\":[\"cpt\"]},\"application/macwriteii\":{\"source\":\"iana\"},\"application/mads+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"mads\"]},\"application/manifest+json\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true,\"extensions\":[\"webmanifest\"]},\"application/marc\":{\"source\":\"iana\",\"extensions\":[\"mrc\"]},\"application/marcxml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"mrcx\"]},\"application/mathematica\":{\"source\":\"iana\",\"extensions\":[\"ma\",\"nb\",\"mb\"]},\"application/mathml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"mathml\"]},\"application/mathml-content+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/mathml-presentation+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/mbms-associated-procedure-description+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/mbms-deregister+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/mbms-envelope+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/mbms-msk+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/mbms-msk-response+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/mbms-protection-description+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/mbms-reception-report+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/mbms-register+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/mbms-register-response+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/mbms-schedule+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/mbms-user-service-description+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/mbox\":{\"source\":\"iana\",\"extensions\":[\"mbox\"]},\"application/media-policy-dataset+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"mpf\"]},\"application/media_control+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/mediaservercontrol+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"mscml\"]},\"application/merge-patch+json\":{\"source\":\"iana\",\"compressible\":true},\"application/metalink+xml\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"metalink\"]},\"application/metalink4+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"meta4\"]},\"application/mets+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"mets\"]},\"application/mf4\":{\"source\":\"iana\"},\"application/mikey\":{\"source\":\"iana\"},\"application/mipc\":{\"source\":\"iana\"},\"application/missing-blocks+cbor-seq\":{\"source\":\"iana\"},\"application/mmt-aei+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"maei\"]},\"application/mmt-usd+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"musd\"]},\"application/mods+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"mods\"]},\"application/moss-keys\":{\"source\":\"iana\"},\"application/moss-signature\":{\"source\":\"iana\"},\"application/mosskey-data\":{\"source\":\"iana\"},\"application/mosskey-request\":{\"source\":\"iana\"},\"application/mp21\":{\"source\":\"iana\",\"extensions\":[\"m21\",\"mp21\"]},\"application/mp4\":{\"source\":\"iana\",\"extensions\":[\"mp4s\",\"m4p\"]},\"application/mpeg4-generic\":{\"source\":\"iana\"},\"application/mpeg4-iod\":{\"source\":\"iana\"},\"application/mpeg4-iod-xmt\":{\"source\":\"iana\"},\"application/mrb-consumer+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/mrb-publish+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/msc-ivr+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/msc-mixer+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/msword\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"doc\",\"dot\"]},\"application/mud+json\":{\"source\":\"iana\",\"compressible\":true},\"application/multipart-core\":{\"source\":\"iana\"},\"application/mxf\":{\"source\":\"iana\",\"extensions\":[\"mxf\"]},\"application/n-quads\":{\"source\":\"iana\",\"extensions\":[\"nq\"]},\"application/n-triples\":{\"source\":\"iana\",\"extensions\":[\"nt\"]},\"application/nasdata\":{\"source\":\"iana\"},\"application/news-checkgroups\":{\"source\":\"iana\",\"charset\":\"US-ASCII\"},\"application/news-groupinfo\":{\"source\":\"iana\",\"charset\":\"US-ASCII\"},\"application/news-transmission\":{\"source\":\"iana\"},\"application/nlsml+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/node\":{\"source\":\"iana\",\"extensions\":[\"cjs\"]},\"application/nss\":{\"source\":\"iana\"},\"application/oauth-authz-req+jwt\":{\"source\":\"iana\"},\"application/oblivious-dns-message\":{\"source\":\"iana\"},\"application/ocsp-request\":{\"source\":\"iana\"},\"application/ocsp-response\":{\"source\":\"iana\"},\"application/octet-stream\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"bin\",\"dms\",\"lrf\",\"mar\",\"so\",\"dist\",\"distz\",\"pkg\",\"bpk\",\"dump\",\"elc\",\"deploy\",\"exe\",\"dll\",\"deb\",\"dmg\",\"iso\",\"img\",\"msi\",\"msp\",\"msm\",\"buffer\"]},\"application/oda\":{\"source\":\"iana\",\"extensions\":[\"oda\"]},\"application/odm+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/odx\":{\"source\":\"iana\"},\"application/oebps-package+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"opf\"]},\"application/ogg\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"ogx\"]},\"application/omdoc+xml\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"omdoc\"]},\"application/onenote\":{\"source\":\"apache\",\"extensions\":[\"onetoc\",\"onetoc2\",\"onetmp\",\"onepkg\"]},\"application/opc-nodeset+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/oscore\":{\"source\":\"iana\"},\"application/oxps\":{\"source\":\"iana\",\"extensions\":[\"oxps\"]},\"application/p21\":{\"source\":\"iana\"},\"application/p21+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/p2p-overlay+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"relo\"]},\"application/parityfec\":{\"source\":\"iana\"},\"application/passport\":{\"source\":\"iana\"},\"application/patch-ops-error+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xer\"]},\"application/pdf\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"pdf\"]},\"application/pdx\":{\"source\":\"iana\"},\"application/pem-certificate-chain\":{\"source\":\"iana\"},\"application/pgp-encrypted\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"pgp\"]},\"application/pgp-keys\":{\"source\":\"iana\",\"extensions\":[\"asc\"]},\"application/pgp-signature\":{\"source\":\"iana\",\"extensions\":[\"asc\",\"sig\"]},\"application/pics-rules\":{\"source\":\"apache\",\"extensions\":[\"prf\"]},\"application/pidf+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/pidf-diff+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/pkcs10\":{\"source\":\"iana\",\"extensions\":[\"p10\"]},\"application/pkcs12\":{\"source\":\"iana\"},\"application/pkcs7-mime\":{\"source\":\"iana\",\"extensions\":[\"p7m\",\"p7c\"]},\"application/pkcs7-signature\":{\"source\":\"iana\",\"extensions\":[\"p7s\"]},\"application/pkcs8\":{\"source\":\"iana\",\"extensions\":[\"p8\"]},\"application/pkcs8-encrypted\":{\"source\":\"iana\"},\"application/pkix-attr-cert\":{\"source\":\"iana\",\"extensions\":[\"ac\"]},\"application/pkix-cert\":{\"source\":\"iana\",\"extensions\":[\"cer\"]},\"application/pkix-crl\":{\"source\":\"iana\",\"extensions\":[\"crl\"]},\"application/pkix-pkipath\":{\"source\":\"iana\",\"extensions\":[\"pkipath\"]},\"application/pkixcmp\":{\"source\":\"iana\",\"extensions\":[\"pki\"]},\"application/pls+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"pls\"]},\"application/poc-settings+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/postscript\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"ai\",\"eps\",\"ps\"]},\"application/ppsp-tracker+json\":{\"source\":\"iana\",\"compressible\":true},\"application/problem+json\":{\"source\":\"iana\",\"compressible\":true},\"application/problem+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/provenance+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"provx\"]},\"application/prs.alvestrand.titrax-sheet\":{\"source\":\"iana\"},\"application/prs.cww\":{\"source\":\"iana\",\"extensions\":[\"cww\"]},\"application/prs.cyn\":{\"source\":\"iana\",\"charset\":\"7-BIT\"},\"application/prs.hpub+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/prs.nprend\":{\"source\":\"iana\"},\"application/prs.plucker\":{\"source\":\"iana\"},\"application/prs.rdf-xml-crypt\":{\"source\":\"iana\"},\"application/prs.xsf+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/pskc+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"pskcxml\"]},\"application/pvd+json\":{\"source\":\"iana\",\"compressible\":true},\"application/qsig\":{\"source\":\"iana\"},\"application/raml+yaml\":{\"compressible\":true,\"extensions\":[\"raml\"]},\"application/raptorfec\":{\"source\":\"iana\"},\"application/rdap+json\":{\"source\":\"iana\",\"compressible\":true},\"application/rdf+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"rdf\",\"owl\"]},\"application/reginfo+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"rif\"]},\"application/relax-ng-compact-syntax\":{\"source\":\"iana\",\"extensions\":[\"rnc\"]},\"application/remote-printing\":{\"source\":\"iana\"},\"application/reputon+json\":{\"source\":\"iana\",\"compressible\":true},\"application/resource-lists+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"rl\"]},\"application/resource-lists-diff+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"rld\"]},\"application/rfc+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/riscos\":{\"source\":\"iana\"},\"application/rlmi+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/rls-services+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"rs\"]},\"application/route-apd+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"rapd\"]},\"application/route-s-tsid+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"sls\"]},\"application/route-usd+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"rusd\"]},\"application/rpki-ghostbusters\":{\"source\":\"iana\",\"extensions\":[\"gbr\"]},\"application/rpki-manifest\":{\"source\":\"iana\",\"extensions\":[\"mft\"]},\"application/rpki-publication\":{\"source\":\"iana\"},\"application/rpki-roa\":{\"source\":\"iana\",\"extensions\":[\"roa\"]},\"application/rpki-updown\":{\"source\":\"iana\"},\"application/rsd+xml\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"rsd\"]},\"application/rss+xml\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"rss\"]},\"application/rtf\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"rtf\"]},\"application/rtploopback\":{\"source\":\"iana\"},\"application/rtx\":{\"source\":\"iana\"},\"application/samlassertion+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/samlmetadata+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/sarif+json\":{\"source\":\"iana\",\"compressible\":true},\"application/sarif-external-properties+json\":{\"source\":\"iana\",\"compressible\":true},\"application/sbe\":{\"source\":\"iana\"},\"application/sbml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"sbml\"]},\"application/scaip+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/scim+json\":{\"source\":\"iana\",\"compressible\":true},\"application/scvp-cv-request\":{\"source\":\"iana\",\"extensions\":[\"scq\"]},\"application/scvp-cv-response\":{\"source\":\"iana\",\"extensions\":[\"scs\"]},\"application/scvp-vp-request\":{\"source\":\"iana\",\"extensions\":[\"spq\"]},\"application/scvp-vp-response\":{\"source\":\"iana\",\"extensions\":[\"spp\"]},\"application/sdp\":{\"source\":\"iana\",\"extensions\":[\"sdp\"]},\"application/secevent+jwt\":{\"source\":\"iana\"},\"application/senml+cbor\":{\"source\":\"iana\"},\"application/senml+json\":{\"source\":\"iana\",\"compressible\":true},\"application/senml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"senmlx\"]},\"application/senml-etch+cbor\":{\"source\":\"iana\"},\"application/senml-etch+json\":{\"source\":\"iana\",\"compressible\":true},\"application/senml-exi\":{\"source\":\"iana\"},\"application/sensml+cbor\":{\"source\":\"iana\"},\"application/sensml+json\":{\"source\":\"iana\",\"compressible\":true},\"application/sensml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"sensmlx\"]},\"application/sensml-exi\":{\"source\":\"iana\"},\"application/sep+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/sep-exi\":{\"source\":\"iana\"},\"application/session-info\":{\"source\":\"iana\"},\"application/set-payment\":{\"source\":\"iana\"},\"application/set-payment-initiation\":{\"source\":\"iana\",\"extensions\":[\"setpay\"]},\"application/set-registration\":{\"source\":\"iana\"},\"application/set-registration-initiation\":{\"source\":\"iana\",\"extensions\":[\"setreg\"]},\"application/sgml\":{\"source\":\"iana\"},\"application/sgml-open-catalog\":{\"source\":\"iana\"},\"application/shf+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"shf\"]},\"application/sieve\":{\"source\":\"iana\",\"extensions\":[\"siv\",\"sieve\"]},\"application/simple-filter+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/simple-message-summary\":{\"source\":\"iana\"},\"application/simplesymbolcontainer\":{\"source\":\"iana\"},\"application/sipc\":{\"source\":\"iana\"},\"application/slate\":{\"source\":\"iana\"},\"application/smil\":{\"source\":\"iana\"},\"application/smil+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"smi\",\"smil\"]},\"application/smpte336m\":{\"source\":\"iana\"},\"application/soap+fastinfoset\":{\"source\":\"iana\"},\"application/soap+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/sparql-query\":{\"source\":\"iana\",\"extensions\":[\"rq\"]},\"application/sparql-results+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"srx\"]},\"application/spdx+json\":{\"source\":\"iana\",\"compressible\":true},\"application/spirits-event+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/sql\":{\"source\":\"iana\"},\"application/srgs\":{\"source\":\"iana\",\"extensions\":[\"gram\"]},\"application/srgs+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"grxml\"]},\"application/sru+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"sru\"]},\"application/ssdl+xml\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"ssdl\"]},\"application/ssml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"ssml\"]},\"application/stix+json\":{\"source\":\"iana\",\"compressible\":true},\"application/swid+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"swidtag\"]},\"application/tamp-apex-update\":{\"source\":\"iana\"},\"application/tamp-apex-update-confirm\":{\"source\":\"iana\"},\"application/tamp-community-update\":{\"source\":\"iana\"},\"application/tamp-community-update-confirm\":{\"source\":\"iana\"},\"application/tamp-error\":{\"source\":\"iana\"},\"application/tamp-sequence-adjust\":{\"source\":\"iana\"},\"application/tamp-sequence-adjust-confirm\":{\"source\":\"iana\"},\"application/tamp-status-query\":{\"source\":\"iana\"},\"application/tamp-status-response\":{\"source\":\"iana\"},\"application/tamp-update\":{\"source\":\"iana\"},\"application/tamp-update-confirm\":{\"source\":\"iana\"},\"application/tar\":{\"compressible\":true},\"application/taxii+json\":{\"source\":\"iana\",\"compressible\":true},\"application/td+json\":{\"source\":\"iana\",\"compressible\":true},\"application/tei+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"tei\",\"teicorpus\"]},\"application/tetra_isi\":{\"source\":\"iana\"},\"application/thraud+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"tfi\"]},\"application/timestamp-query\":{\"source\":\"iana\"},\"application/timestamp-reply\":{\"source\":\"iana\"},\"application/timestamped-data\":{\"source\":\"iana\",\"extensions\":[\"tsd\"]},\"application/tlsrpt+gzip\":{\"source\":\"iana\"},\"application/tlsrpt+json\":{\"source\":\"iana\",\"compressible\":true},\"application/tnauthlist\":{\"source\":\"iana\"},\"application/token-introspection+jwt\":{\"source\":\"iana\"},\"application/toml\":{\"compressible\":true,\"extensions\":[\"toml\"]},\"application/trickle-ice-sdpfrag\":{\"source\":\"iana\"},\"application/trig\":{\"source\":\"iana\",\"extensions\":[\"trig\"]},\"application/ttml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"ttml\"]},\"application/tve-trigger\":{\"source\":\"iana\"},\"application/tzif\":{\"source\":\"iana\"},\"application/tzif-leap\":{\"source\":\"iana\"},\"application/ubjson\":{\"compressible\":false,\"extensions\":[\"ubj\"]},\"application/ulpfec\":{\"source\":\"iana\"},\"application/urc-grpsheet+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/urc-ressheet+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"rsheet\"]},\"application/urc-targetdesc+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"td\"]},\"application/urc-uisocketdesc+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vcard+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vcard+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vemmi\":{\"source\":\"iana\"},\"application/vividence.scriptfile\":{\"source\":\"apache\"},\"application/vnd.1000minds.decision-model+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"1km\"]},\"application/vnd.3gpp-prose+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp-prose-pc3ch+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp-v2x-local-service-information\":{\"source\":\"iana\"},\"application/vnd.3gpp.5gnas\":{\"source\":\"iana\"},\"application/vnd.3gpp.access-transfer-events+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.bsf+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.gmop+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.gtpc\":{\"source\":\"iana\"},\"application/vnd.3gpp.interworking-data\":{\"source\":\"iana\"},\"application/vnd.3gpp.lpp\":{\"source\":\"iana\"},\"application/vnd.3gpp.mc-signalling-ear\":{\"source\":\"iana\"},\"application/vnd.3gpp.mcdata-affiliation-command+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcdata-info+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcdata-payload\":{\"source\":\"iana\"},\"application/vnd.3gpp.mcdata-service-config+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcdata-signalling\":{\"source\":\"iana\"},\"application/vnd.3gpp.mcdata-ue-config+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcdata-user-profile+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcptt-affiliation-command+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcptt-floor-request+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcptt-info+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcptt-location-info+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcptt-mbms-usage-info+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcptt-service-config+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcptt-signed+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcptt-ue-config+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcptt-ue-init-config+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcptt-user-profile+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcvideo-affiliation-command+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcvideo-affiliation-info+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcvideo-info+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcvideo-location-info+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcvideo-mbms-usage-info+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcvideo-service-config+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcvideo-transmission-request+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcvideo-ue-config+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mcvideo-user-profile+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.mid-call+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.ngap\":{\"source\":\"iana\"},\"application/vnd.3gpp.pfcp\":{\"source\":\"iana\"},\"application/vnd.3gpp.pic-bw-large\":{\"source\":\"iana\",\"extensions\":[\"plb\"]},\"application/vnd.3gpp.pic-bw-small\":{\"source\":\"iana\",\"extensions\":[\"psb\"]},\"application/vnd.3gpp.pic-bw-var\":{\"source\":\"iana\",\"extensions\":[\"pvb\"]},\"application/vnd.3gpp.s1ap\":{\"source\":\"iana\"},\"application/vnd.3gpp.sms\":{\"source\":\"iana\"},\"application/vnd.3gpp.sms+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.srvcc-ext+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.srvcc-info+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.state-and-event-info+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp.ussd+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp2.bcmcsinfo+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.3gpp2.sms\":{\"source\":\"iana\"},\"application/vnd.3gpp2.tcap\":{\"source\":\"iana\",\"extensions\":[\"tcap\"]},\"application/vnd.3lightssoftware.imagescal\":{\"source\":\"iana\"},\"application/vnd.3m.post-it-notes\":{\"source\":\"iana\",\"extensions\":[\"pwn\"]},\"application/vnd.accpac.simply.aso\":{\"source\":\"iana\",\"extensions\":[\"aso\"]},\"application/vnd.accpac.simply.imp\":{\"source\":\"iana\",\"extensions\":[\"imp\"]},\"application/vnd.acucobol\":{\"source\":\"iana\",\"extensions\":[\"acu\"]},\"application/vnd.acucorp\":{\"source\":\"iana\",\"extensions\":[\"atc\",\"acutc\"]},\"application/vnd.adobe.air-application-installer-package+zip\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"air\"]},\"application/vnd.adobe.flash.movie\":{\"source\":\"iana\"},\"application/vnd.adobe.formscentral.fcdt\":{\"source\":\"iana\",\"extensions\":[\"fcdt\"]},\"application/vnd.adobe.fxp\":{\"source\":\"iana\",\"extensions\":[\"fxp\",\"fxpl\"]},\"application/vnd.adobe.partial-upload\":{\"source\":\"iana\"},\"application/vnd.adobe.xdp+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xdp\"]},\"application/vnd.adobe.xfdf\":{\"source\":\"iana\",\"extensions\":[\"xfdf\"]},\"application/vnd.aether.imp\":{\"source\":\"iana\"},\"application/vnd.afpc.afplinedata\":{\"source\":\"iana\"},\"application/vnd.afpc.afplinedata-pagedef\":{\"source\":\"iana\"},\"application/vnd.afpc.cmoca-cmresource\":{\"source\":\"iana\"},\"application/vnd.afpc.foca-charset\":{\"source\":\"iana\"},\"application/vnd.afpc.foca-codedfont\":{\"source\":\"iana\"},\"application/vnd.afpc.foca-codepage\":{\"source\":\"iana\"},\"application/vnd.afpc.modca\":{\"source\":\"iana\"},\"application/vnd.afpc.modca-cmtable\":{\"source\":\"iana\"},\"application/vnd.afpc.modca-formdef\":{\"source\":\"iana\"},\"application/vnd.afpc.modca-mediummap\":{\"source\":\"iana\"},\"application/vnd.afpc.modca-objectcontainer\":{\"source\":\"iana\"},\"application/vnd.afpc.modca-overlay\":{\"source\":\"iana\"},\"application/vnd.afpc.modca-pagesegment\":{\"source\":\"iana\"},\"application/vnd.age\":{\"source\":\"iana\",\"extensions\":[\"age\"]},\"application/vnd.ah-barcode\":{\"source\":\"iana\"},\"application/vnd.ahead.space\":{\"source\":\"iana\",\"extensions\":[\"ahead\"]},\"application/vnd.airzip.filesecure.azf\":{\"source\":\"iana\",\"extensions\":[\"azf\"]},\"application/vnd.airzip.filesecure.azs\":{\"source\":\"iana\",\"extensions\":[\"azs\"]},\"application/vnd.amadeus+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.amazon.ebook\":{\"source\":\"apache\",\"extensions\":[\"azw\"]},\"application/vnd.amazon.mobi8-ebook\":{\"source\":\"iana\"},\"application/vnd.americandynamics.acc\":{\"source\":\"iana\",\"extensions\":[\"acc\"]},\"application/vnd.amiga.ami\":{\"source\":\"iana\",\"extensions\":[\"ami\"]},\"application/vnd.amundsen.maze+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.android.ota\":{\"source\":\"iana\"},\"application/vnd.android.package-archive\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"apk\"]},\"application/vnd.anki\":{\"source\":\"iana\"},\"application/vnd.anser-web-certificate-issue-initiation\":{\"source\":\"iana\",\"extensions\":[\"cii\"]},\"application/vnd.anser-web-funds-transfer-initiation\":{\"source\":\"apache\",\"extensions\":[\"fti\"]},\"application/vnd.antix.game-component\":{\"source\":\"iana\",\"extensions\":[\"atx\"]},\"application/vnd.apache.arrow.file\":{\"source\":\"iana\"},\"application/vnd.apache.arrow.stream\":{\"source\":\"iana\"},\"application/vnd.apache.thrift.binary\":{\"source\":\"iana\"},\"application/vnd.apache.thrift.compact\":{\"source\":\"iana\"},\"application/vnd.apache.thrift.json\":{\"source\":\"iana\"},\"application/vnd.api+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.aplextor.warrp+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.apothekende.reservation+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.apple.installer+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"mpkg\"]},\"application/vnd.apple.keynote\":{\"source\":\"iana\",\"extensions\":[\"key\"]},\"application/vnd.apple.mpegurl\":{\"source\":\"iana\",\"extensions\":[\"m3u8\"]},\"application/vnd.apple.numbers\":{\"source\":\"iana\",\"extensions\":[\"numbers\"]},\"application/vnd.apple.pages\":{\"source\":\"iana\",\"extensions\":[\"pages\"]},\"application/vnd.apple.pkpass\":{\"compressible\":false,\"extensions\":[\"pkpass\"]},\"application/vnd.arastra.swi\":{\"source\":\"iana\"},\"application/vnd.aristanetworks.swi\":{\"source\":\"iana\",\"extensions\":[\"swi\"]},\"application/vnd.artisan+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.artsquare\":{\"source\":\"iana\"},\"application/vnd.astraea-software.iota\":{\"source\":\"iana\",\"extensions\":[\"iota\"]},\"application/vnd.audiograph\":{\"source\":\"iana\",\"extensions\":[\"aep\"]},\"application/vnd.autopackage\":{\"source\":\"iana\"},\"application/vnd.avalon+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.avistar+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.balsamiq.bmml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"bmml\"]},\"application/vnd.balsamiq.bmpr\":{\"source\":\"iana\"},\"application/vnd.banana-accounting\":{\"source\":\"iana\"},\"application/vnd.bbf.usp.error\":{\"source\":\"iana\"},\"application/vnd.bbf.usp.msg\":{\"source\":\"iana\"},\"application/vnd.bbf.usp.msg+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.bekitzur-stech+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.bint.med-content\":{\"source\":\"iana\"},\"application/vnd.biopax.rdf+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.blink-idb-value-wrapper\":{\"source\":\"iana\"},\"application/vnd.blueice.multipass\":{\"source\":\"iana\",\"extensions\":[\"mpm\"]},\"application/vnd.bluetooth.ep.oob\":{\"source\":\"iana\"},\"application/vnd.bluetooth.le.oob\":{\"source\":\"iana\"},\"application/vnd.bmi\":{\"source\":\"iana\",\"extensions\":[\"bmi\"]},\"application/vnd.bpf\":{\"source\":\"iana\"},\"application/vnd.bpf3\":{\"source\":\"iana\"},\"application/vnd.businessobjects\":{\"source\":\"iana\",\"extensions\":[\"rep\"]},\"application/vnd.byu.uapi+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.cab-jscript\":{\"source\":\"iana\"},\"application/vnd.canon-cpdl\":{\"source\":\"iana\"},\"application/vnd.canon-lips\":{\"source\":\"iana\"},\"application/vnd.capasystems-pg+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.cendio.thinlinc.clientconf\":{\"source\":\"iana\"},\"application/vnd.century-systems.tcp_stream\":{\"source\":\"iana\"},\"application/vnd.chemdraw+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"cdxml\"]},\"application/vnd.chess-pgn\":{\"source\":\"iana\"},\"application/vnd.chipnuts.karaoke-mmd\":{\"source\":\"iana\",\"extensions\":[\"mmd\"]},\"application/vnd.ciedi\":{\"source\":\"iana\"},\"application/vnd.cinderella\":{\"source\":\"iana\",\"extensions\":[\"cdy\"]},\"application/vnd.cirpack.isdn-ext\":{\"source\":\"iana\"},\"application/vnd.citationstyles.style+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"csl\"]},\"application/vnd.claymore\":{\"source\":\"iana\",\"extensions\":[\"cla\"]},\"application/vnd.cloanto.rp9\":{\"source\":\"iana\",\"extensions\":[\"rp9\"]},\"application/vnd.clonk.c4group\":{\"source\":\"iana\",\"extensions\":[\"c4g\",\"c4d\",\"c4f\",\"c4p\",\"c4u\"]},\"application/vnd.cluetrust.cartomobile-config\":{\"source\":\"iana\",\"extensions\":[\"c11amc\"]},\"application/vnd.cluetrust.cartomobile-config-pkg\":{\"source\":\"iana\",\"extensions\":[\"c11amz\"]},\"application/vnd.coffeescript\":{\"source\":\"iana\"},\"application/vnd.collabio.xodocuments.document\":{\"source\":\"iana\"},\"application/vnd.collabio.xodocuments.document-template\":{\"source\":\"iana\"},\"application/vnd.collabio.xodocuments.presentation\":{\"source\":\"iana\"},\"application/vnd.collabio.xodocuments.presentation-template\":{\"source\":\"iana\"},\"application/vnd.collabio.xodocuments.spreadsheet\":{\"source\":\"iana\"},\"application/vnd.collabio.xodocuments.spreadsheet-template\":{\"source\":\"iana\"},\"application/vnd.collection+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.collection.doc+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.collection.next+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.comicbook+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/vnd.comicbook-rar\":{\"source\":\"iana\"},\"application/vnd.commerce-battelle\":{\"source\":\"iana\"},\"application/vnd.commonspace\":{\"source\":\"iana\",\"extensions\":[\"csp\"]},\"application/vnd.contact.cmsg\":{\"source\":\"iana\",\"extensions\":[\"cdbcmsg\"]},\"application/vnd.coreos.ignition+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.cosmocaller\":{\"source\":\"iana\",\"extensions\":[\"cmc\"]},\"application/vnd.crick.clicker\":{\"source\":\"iana\",\"extensions\":[\"clkx\"]},\"application/vnd.crick.clicker.keyboard\":{\"source\":\"iana\",\"extensions\":[\"clkk\"]},\"application/vnd.crick.clicker.palette\":{\"source\":\"iana\",\"extensions\":[\"clkp\"]},\"application/vnd.crick.clicker.template\":{\"source\":\"iana\",\"extensions\":[\"clkt\"]},\"application/vnd.crick.clicker.wordbank\":{\"source\":\"iana\",\"extensions\":[\"clkw\"]},\"application/vnd.criticaltools.wbs+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"wbs\"]},\"application/vnd.cryptii.pipe+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.crypto-shade-file\":{\"source\":\"iana\"},\"application/vnd.cryptomator.encrypted\":{\"source\":\"iana\"},\"application/vnd.cryptomator.vault\":{\"source\":\"iana\"},\"application/vnd.ctc-posml\":{\"source\":\"iana\",\"extensions\":[\"pml\"]},\"application/vnd.ctct.ws+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.cups-pdf\":{\"source\":\"iana\"},\"application/vnd.cups-postscript\":{\"source\":\"iana\"},\"application/vnd.cups-ppd\":{\"source\":\"iana\",\"extensions\":[\"ppd\"]},\"application/vnd.cups-raster\":{\"source\":\"iana\"},\"application/vnd.cups-raw\":{\"source\":\"iana\"},\"application/vnd.curl\":{\"source\":\"iana\"},\"application/vnd.curl.car\":{\"source\":\"apache\",\"extensions\":[\"car\"]},\"application/vnd.curl.pcurl\":{\"source\":\"apache\",\"extensions\":[\"pcurl\"]},\"application/vnd.cyan.dean.root+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.cybank\":{\"source\":\"iana\"},\"application/vnd.cyclonedx+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.cyclonedx+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.d2l.coursepackage1p0+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/vnd.d3m-dataset\":{\"source\":\"iana\"},\"application/vnd.d3m-problem\":{\"source\":\"iana\"},\"application/vnd.dart\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"dart\"]},\"application/vnd.data-vision.rdz\":{\"source\":\"iana\",\"extensions\":[\"rdz\"]},\"application/vnd.datapackage+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.dataresource+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.dbf\":{\"source\":\"iana\",\"extensions\":[\"dbf\"]},\"application/vnd.debian.binary-package\":{\"source\":\"iana\"},\"application/vnd.dece.data\":{\"source\":\"iana\",\"extensions\":[\"uvf\",\"uvvf\",\"uvd\",\"uvvd\"]},\"application/vnd.dece.ttml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"uvt\",\"uvvt\"]},\"application/vnd.dece.unspecified\":{\"source\":\"iana\",\"extensions\":[\"uvx\",\"uvvx\"]},\"application/vnd.dece.zip\":{\"source\":\"iana\",\"extensions\":[\"uvz\",\"uvvz\"]},\"application/vnd.denovo.fcselayout-link\":{\"source\":\"iana\",\"extensions\":[\"fe_launch\"]},\"application/vnd.desmume.movie\":{\"source\":\"iana\"},\"application/vnd.dir-bi.plate-dl-nosuffix\":{\"source\":\"iana\"},\"application/vnd.dm.delegation+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.dna\":{\"source\":\"iana\",\"extensions\":[\"dna\"]},\"application/vnd.document+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.dolby.mlp\":{\"source\":\"apache\",\"extensions\":[\"mlp\"]},\"application/vnd.dolby.mobile.1\":{\"source\":\"iana\"},\"application/vnd.dolby.mobile.2\":{\"source\":\"iana\"},\"application/vnd.doremir.scorecloud-binary-document\":{\"source\":\"iana\"},\"application/vnd.dpgraph\":{\"source\":\"iana\",\"extensions\":[\"dpg\"]},\"application/vnd.dreamfactory\":{\"source\":\"iana\",\"extensions\":[\"dfac\"]},\"application/vnd.drive+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.ds-keypoint\":{\"source\":\"apache\",\"extensions\":[\"kpxx\"]},\"application/vnd.dtg.local\":{\"source\":\"iana\"},\"application/vnd.dtg.local.flash\":{\"source\":\"iana\"},\"application/vnd.dtg.local.html\":{\"source\":\"iana\"},\"application/vnd.dvb.ait\":{\"source\":\"iana\",\"extensions\":[\"ait\"]},\"application/vnd.dvb.dvbisl+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.dvb.dvbj\":{\"source\":\"iana\"},\"application/vnd.dvb.esgcontainer\":{\"source\":\"iana\"},\"application/vnd.dvb.ipdcdftnotifaccess\":{\"source\":\"iana\"},\"application/vnd.dvb.ipdcesgaccess\":{\"source\":\"iana\"},\"application/vnd.dvb.ipdcesgaccess2\":{\"source\":\"iana\"},\"application/vnd.dvb.ipdcesgpdd\":{\"source\":\"iana\"},\"application/vnd.dvb.ipdcroaming\":{\"source\":\"iana\"},\"application/vnd.dvb.iptv.alfec-base\":{\"source\":\"iana\"},\"application/vnd.dvb.iptv.alfec-enhancement\":{\"source\":\"iana\"},\"application/vnd.dvb.notif-aggregate-root+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.dvb.notif-container+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.dvb.notif-generic+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.dvb.notif-ia-msglist+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.dvb.notif-ia-registration-request+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.dvb.notif-ia-registration-response+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.dvb.notif-init+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.dvb.pfr\":{\"source\":\"iana\"},\"application/vnd.dvb.service\":{\"source\":\"iana\",\"extensions\":[\"svc\"]},\"application/vnd.dxr\":{\"source\":\"iana\"},\"application/vnd.dynageo\":{\"source\":\"iana\",\"extensions\":[\"geo\"]},\"application/vnd.dzr\":{\"source\":\"iana\"},\"application/vnd.easykaraoke.cdgdownload\":{\"source\":\"iana\"},\"application/vnd.ecdis-update\":{\"source\":\"iana\"},\"application/vnd.ecip.rlp\":{\"source\":\"iana\"},\"application/vnd.eclipse.ditto+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.ecowin.chart\":{\"source\":\"iana\",\"extensions\":[\"mag\"]},\"application/vnd.ecowin.filerequest\":{\"source\":\"iana\"},\"application/vnd.ecowin.fileupdate\":{\"source\":\"iana\"},\"application/vnd.ecowin.series\":{\"source\":\"iana\"},\"application/vnd.ecowin.seriesrequest\":{\"source\":\"iana\"},\"application/vnd.ecowin.seriesupdate\":{\"source\":\"iana\"},\"application/vnd.efi.img\":{\"source\":\"iana\"},\"application/vnd.efi.iso\":{\"source\":\"iana\"},\"application/vnd.emclient.accessrequest+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.enliven\":{\"source\":\"iana\",\"extensions\":[\"nml\"]},\"application/vnd.enphase.envoy\":{\"source\":\"iana\"},\"application/vnd.eprints.data+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.epson.esf\":{\"source\":\"iana\",\"extensions\":[\"esf\"]},\"application/vnd.epson.msf\":{\"source\":\"iana\",\"extensions\":[\"msf\"]},\"application/vnd.epson.quickanime\":{\"source\":\"iana\",\"extensions\":[\"qam\"]},\"application/vnd.epson.salt\":{\"source\":\"iana\",\"extensions\":[\"slt\"]},\"application/vnd.epson.ssf\":{\"source\":\"iana\",\"extensions\":[\"ssf\"]},\"application/vnd.ericsson.quickcall\":{\"source\":\"iana\"},\"application/vnd.espass-espass+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/vnd.eszigno3+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"es3\",\"et3\"]},\"application/vnd.etsi.aoc+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.asic-e+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/vnd.etsi.asic-s+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/vnd.etsi.cug+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.iptvcommand+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.iptvdiscovery+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.iptvprofile+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.iptvsad-bc+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.iptvsad-cod+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.iptvsad-npvr+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.iptvservice+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.iptvsync+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.iptvueprofile+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.mcid+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.mheg5\":{\"source\":\"iana\"},\"application/vnd.etsi.overload-control-policy-dataset+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.pstn+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.sci+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.simservs+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.timestamp-token\":{\"source\":\"iana\"},\"application/vnd.etsi.tsl+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.etsi.tsl.der\":{\"source\":\"iana\"},\"application/vnd.eu.kasparian.car+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.eudora.data\":{\"source\":\"iana\"},\"application/vnd.evolv.ecig.profile\":{\"source\":\"iana\"},\"application/vnd.evolv.ecig.settings\":{\"source\":\"iana\"},\"application/vnd.evolv.ecig.theme\":{\"source\":\"iana\"},\"application/vnd.exstream-empower+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/vnd.exstream-package\":{\"source\":\"iana\"},\"application/vnd.ezpix-album\":{\"source\":\"iana\",\"extensions\":[\"ez2\"]},\"application/vnd.ezpix-package\":{\"source\":\"iana\",\"extensions\":[\"ez3\"]},\"application/vnd.f-secure.mobile\":{\"source\":\"iana\"},\"application/vnd.familysearch.gedcom+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/vnd.fastcopy-disk-image\":{\"source\":\"iana\"},\"application/vnd.fdf\":{\"source\":\"iana\",\"extensions\":[\"fdf\"]},\"application/vnd.fdsn.mseed\":{\"source\":\"iana\",\"extensions\":[\"mseed\"]},\"application/vnd.fdsn.seed\":{\"source\":\"iana\",\"extensions\":[\"seed\",\"dataless\"]},\"application/vnd.ffsns\":{\"source\":\"iana\"},\"application/vnd.ficlab.flb+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/vnd.filmit.zfc\":{\"source\":\"iana\"},\"application/vnd.fints\":{\"source\":\"iana\"},\"application/vnd.firemonkeys.cloudcell\":{\"source\":\"iana\"},\"application/vnd.flographit\":{\"source\":\"iana\",\"extensions\":[\"gph\"]},\"application/vnd.fluxtime.clip\":{\"source\":\"iana\",\"extensions\":[\"ftc\"]},\"application/vnd.font-fontforge-sfd\":{\"source\":\"iana\"},\"application/vnd.framemaker\":{\"source\":\"iana\",\"extensions\":[\"fm\",\"frame\",\"maker\",\"book\"]},\"application/vnd.frogans.fnc\":{\"source\":\"iana\",\"extensions\":[\"fnc\"]},\"application/vnd.frogans.ltf\":{\"source\":\"iana\",\"extensions\":[\"ltf\"]},\"application/vnd.fsc.weblaunch\":{\"source\":\"iana\",\"extensions\":[\"fsc\"]},\"application/vnd.fujifilm.fb.docuworks\":{\"source\":\"iana\"},\"application/vnd.fujifilm.fb.docuworks.binder\":{\"source\":\"iana\"},\"application/vnd.fujifilm.fb.docuworks.container\":{\"source\":\"iana\"},\"application/vnd.fujifilm.fb.jfi+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.fujitsu.oasys\":{\"source\":\"iana\",\"extensions\":[\"oas\"]},\"application/vnd.fujitsu.oasys2\":{\"source\":\"iana\",\"extensions\":[\"oa2\"]},\"application/vnd.fujitsu.oasys3\":{\"source\":\"iana\",\"extensions\":[\"oa3\"]},\"application/vnd.fujitsu.oasysgp\":{\"source\":\"iana\",\"extensions\":[\"fg5\"]},\"application/vnd.fujitsu.oasysprs\":{\"source\":\"iana\",\"extensions\":[\"bh2\"]},\"application/vnd.fujixerox.art-ex\":{\"source\":\"iana\"},\"application/vnd.fujixerox.art4\":{\"source\":\"iana\"},\"application/vnd.fujixerox.ddd\":{\"source\":\"iana\",\"extensions\":[\"ddd\"]},\"application/vnd.fujixerox.docuworks\":{\"source\":\"iana\",\"extensions\":[\"xdw\"]},\"application/vnd.fujixerox.docuworks.binder\":{\"source\":\"iana\",\"extensions\":[\"xbd\"]},\"application/vnd.fujixerox.docuworks.container\":{\"source\":\"iana\"},\"application/vnd.fujixerox.hbpl\":{\"source\":\"iana\"},\"application/vnd.fut-misnet\":{\"source\":\"iana\"},\"application/vnd.futoin+cbor\":{\"source\":\"iana\"},\"application/vnd.futoin+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.fuzzysheet\":{\"source\":\"iana\",\"extensions\":[\"fzs\"]},\"application/vnd.genomatix.tuxedo\":{\"source\":\"iana\",\"extensions\":[\"txd\"]},\"application/vnd.gentics.grd+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.geo+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.geocube+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.geogebra.file\":{\"source\":\"iana\",\"extensions\":[\"ggb\"]},\"application/vnd.geogebra.slides\":{\"source\":\"iana\"},\"application/vnd.geogebra.tool\":{\"source\":\"iana\",\"extensions\":[\"ggt\"]},\"application/vnd.geometry-explorer\":{\"source\":\"iana\",\"extensions\":[\"gex\",\"gre\"]},\"application/vnd.geonext\":{\"source\":\"iana\",\"extensions\":[\"gxt\"]},\"application/vnd.geoplan\":{\"source\":\"iana\",\"extensions\":[\"g2w\"]},\"application/vnd.geospace\":{\"source\":\"iana\",\"extensions\":[\"g3w\"]},\"application/vnd.gerber\":{\"source\":\"iana\"},\"application/vnd.globalplatform.card-content-mgt\":{\"source\":\"iana\"},\"application/vnd.globalplatform.card-content-mgt-response\":{\"source\":\"iana\"},\"application/vnd.gmx\":{\"source\":\"iana\",\"extensions\":[\"gmx\"]},\"application/vnd.google-apps.document\":{\"compressible\":false,\"extensions\":[\"gdoc\"]},\"application/vnd.google-apps.presentation\":{\"compressible\":false,\"extensions\":[\"gslides\"]},\"application/vnd.google-apps.spreadsheet\":{\"compressible\":false,\"extensions\":[\"gsheet\"]},\"application/vnd.google-earth.kml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"kml\"]},\"application/vnd.google-earth.kmz\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"kmz\"]},\"application/vnd.gov.sk.e-form+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.gov.sk.e-form+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/vnd.gov.sk.xmldatacontainer+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.grafeq\":{\"source\":\"iana\",\"extensions\":[\"gqf\",\"gqs\"]},\"application/vnd.gridmp\":{\"source\":\"iana\"},\"application/vnd.groove-account\":{\"source\":\"iana\",\"extensions\":[\"gac\"]},\"application/vnd.groove-help\":{\"source\":\"iana\",\"extensions\":[\"ghf\"]},\"application/vnd.groove-identity-message\":{\"source\":\"iana\",\"extensions\":[\"gim\"]},\"application/vnd.groove-injector\":{\"source\":\"iana\",\"extensions\":[\"grv\"]},\"application/vnd.groove-tool-message\":{\"source\":\"iana\",\"extensions\":[\"gtm\"]},\"application/vnd.groove-tool-template\":{\"source\":\"iana\",\"extensions\":[\"tpl\"]},\"application/vnd.groove-vcard\":{\"source\":\"iana\",\"extensions\":[\"vcg\"]},\"application/vnd.hal+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.hal+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"hal\"]},\"application/vnd.handheld-entertainment+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"zmm\"]},\"application/vnd.hbci\":{\"source\":\"iana\",\"extensions\":[\"hbci\"]},\"application/vnd.hc+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.hcl-bireports\":{\"source\":\"iana\"},\"application/vnd.hdt\":{\"source\":\"iana\"},\"application/vnd.heroku+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.hhe.lesson-player\":{\"source\":\"iana\",\"extensions\":[\"les\"]},\"application/vnd.hl7cda+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/vnd.hl7v2+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/vnd.hp-hpgl\":{\"source\":\"iana\",\"extensions\":[\"hpgl\"]},\"application/vnd.hp-hpid\":{\"source\":\"iana\",\"extensions\":[\"hpid\"]},\"application/vnd.hp-hps\":{\"source\":\"iana\",\"extensions\":[\"hps\"]},\"application/vnd.hp-jlyt\":{\"source\":\"iana\",\"extensions\":[\"jlt\"]},\"application/vnd.hp-pcl\":{\"source\":\"iana\",\"extensions\":[\"pcl\"]},\"application/vnd.hp-pclxl\":{\"source\":\"iana\",\"extensions\":[\"pclxl\"]},\"application/vnd.httphone\":{\"source\":\"iana\"},\"application/vnd.hydrostatix.sof-data\":{\"source\":\"iana\",\"extensions\":[\"sfd-hdstx\"]},\"application/vnd.hyper+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.hyper-item+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.hyperdrive+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.hzn-3d-crossword\":{\"source\":\"iana\"},\"application/vnd.ibm.afplinedata\":{\"source\":\"iana\"},\"application/vnd.ibm.electronic-media\":{\"source\":\"iana\"},\"application/vnd.ibm.minipay\":{\"source\":\"iana\",\"extensions\":[\"mpy\"]},\"application/vnd.ibm.modcap\":{\"source\":\"iana\",\"extensions\":[\"afp\",\"listafp\",\"list3820\"]},\"application/vnd.ibm.rights-management\":{\"source\":\"iana\",\"extensions\":[\"irm\"]},\"application/vnd.ibm.secure-container\":{\"source\":\"iana\",\"extensions\":[\"sc\"]},\"application/vnd.iccprofile\":{\"source\":\"iana\",\"extensions\":[\"icc\",\"icm\"]},\"application/vnd.ieee.1905\":{\"source\":\"iana\"},\"application/vnd.igloader\":{\"source\":\"iana\",\"extensions\":[\"igl\"]},\"application/vnd.imagemeter.folder+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/vnd.imagemeter.image+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/vnd.immervision-ivp\":{\"source\":\"iana\",\"extensions\":[\"ivp\"]},\"application/vnd.immervision-ivu\":{\"source\":\"iana\",\"extensions\":[\"ivu\"]},\"application/vnd.ims.imsccv1p1\":{\"source\":\"iana\"},\"application/vnd.ims.imsccv1p2\":{\"source\":\"iana\"},\"application/vnd.ims.imsccv1p3\":{\"source\":\"iana\"},\"application/vnd.ims.lis.v2.result+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.ims.lti.v2.toolconsumerprofile+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.ims.lti.v2.toolproxy+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.ims.lti.v2.toolproxy.id+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.ims.lti.v2.toolsettings+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.ims.lti.v2.toolsettings.simple+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.informedcontrol.rms+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.informix-visionary\":{\"source\":\"iana\"},\"application/vnd.infotech.project\":{\"source\":\"iana\"},\"application/vnd.infotech.project+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.innopath.wamp.notification\":{\"source\":\"iana\"},\"application/vnd.insors.igm\":{\"source\":\"iana\",\"extensions\":[\"igm\"]},\"application/vnd.intercon.formnet\":{\"source\":\"iana\",\"extensions\":[\"xpw\",\"xpx\"]},\"application/vnd.intergeo\":{\"source\":\"iana\",\"extensions\":[\"i2g\"]},\"application/vnd.intertrust.digibox\":{\"source\":\"iana\"},\"application/vnd.intertrust.nncp\":{\"source\":\"iana\"},\"application/vnd.intu.qbo\":{\"source\":\"iana\",\"extensions\":[\"qbo\"]},\"application/vnd.intu.qfx\":{\"source\":\"iana\",\"extensions\":[\"qfx\"]},\"application/vnd.iptc.g2.catalogitem+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.iptc.g2.conceptitem+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.iptc.g2.knowledgeitem+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.iptc.g2.newsitem+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.iptc.g2.newsmessage+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.iptc.g2.packageitem+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.iptc.g2.planningitem+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.ipunplugged.rcprofile\":{\"source\":\"iana\",\"extensions\":[\"rcprofile\"]},\"application/vnd.irepository.package+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"irp\"]},\"application/vnd.is-xpr\":{\"source\":\"iana\",\"extensions\":[\"xpr\"]},\"application/vnd.isac.fcs\":{\"source\":\"iana\",\"extensions\":[\"fcs\"]},\"application/vnd.iso11783-10+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/vnd.jam\":{\"source\":\"iana\",\"extensions\":[\"jam\"]},\"application/vnd.japannet-directory-service\":{\"source\":\"iana\"},\"application/vnd.japannet-jpnstore-wakeup\":{\"source\":\"iana\"},\"application/vnd.japannet-payment-wakeup\":{\"source\":\"iana\"},\"application/vnd.japannet-registration\":{\"source\":\"iana\"},\"application/vnd.japannet-registration-wakeup\":{\"source\":\"iana\"},\"application/vnd.japannet-setstore-wakeup\":{\"source\":\"iana\"},\"application/vnd.japannet-verification\":{\"source\":\"iana\"},\"application/vnd.japannet-verification-wakeup\":{\"source\":\"iana\"},\"application/vnd.jcp.javame.midlet-rms\":{\"source\":\"iana\",\"extensions\":[\"rms\"]},\"application/vnd.jisp\":{\"source\":\"iana\",\"extensions\":[\"jisp\"]},\"application/vnd.joost.joda-archive\":{\"source\":\"iana\",\"extensions\":[\"joda\"]},\"application/vnd.jsk.isdn-ngn\":{\"source\":\"iana\"},\"application/vnd.kahootz\":{\"source\":\"iana\",\"extensions\":[\"ktz\",\"ktr\"]},\"application/vnd.kde.karbon\":{\"source\":\"iana\",\"extensions\":[\"karbon\"]},\"application/vnd.kde.kchart\":{\"source\":\"iana\",\"extensions\":[\"chrt\"]},\"application/vnd.kde.kformula\":{\"source\":\"iana\",\"extensions\":[\"kfo\"]},\"application/vnd.kde.kivio\":{\"source\":\"iana\",\"extensions\":[\"flw\"]},\"application/vnd.kde.kontour\":{\"source\":\"iana\",\"extensions\":[\"kon\"]},\"application/vnd.kde.kpresenter\":{\"source\":\"iana\",\"extensions\":[\"kpr\",\"kpt\"]},\"application/vnd.kde.kspread\":{\"source\":\"iana\",\"extensions\":[\"ksp\"]},\"application/vnd.kde.kword\":{\"source\":\"iana\",\"extensions\":[\"kwd\",\"kwt\"]},\"application/vnd.kenameaapp\":{\"source\":\"iana\",\"extensions\":[\"htke\"]},\"application/vnd.kidspiration\":{\"source\":\"iana\",\"extensions\":[\"kia\"]},\"application/vnd.kinar\":{\"source\":\"iana\",\"extensions\":[\"kne\",\"knp\"]},\"application/vnd.koan\":{\"source\":\"iana\",\"extensions\":[\"skp\",\"skd\",\"skt\",\"skm\"]},\"application/vnd.kodak-descriptor\":{\"source\":\"iana\",\"extensions\":[\"sse\"]},\"application/vnd.las\":{\"source\":\"iana\"},\"application/vnd.las.las+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.las.las+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"lasxml\"]},\"application/vnd.laszip\":{\"source\":\"iana\"},\"application/vnd.leap+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.liberty-request+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.llamagraphics.life-balance.desktop\":{\"source\":\"iana\",\"extensions\":[\"lbd\"]},\"application/vnd.llamagraphics.life-balance.exchange+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"lbe\"]},\"application/vnd.logipipe.circuit+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/vnd.loom\":{\"source\":\"iana\"},\"application/vnd.lotus-1-2-3\":{\"source\":\"iana\",\"extensions\":[\"123\"]},\"application/vnd.lotus-approach\":{\"source\":\"iana\",\"extensions\":[\"apr\"]},\"application/vnd.lotus-freelance\":{\"source\":\"iana\",\"extensions\":[\"pre\"]},\"application/vnd.lotus-notes\":{\"source\":\"iana\",\"extensions\":[\"nsf\"]},\"application/vnd.lotus-organizer\":{\"source\":\"iana\",\"extensions\":[\"org\"]},\"application/vnd.lotus-screencam\":{\"source\":\"iana\",\"extensions\":[\"scm\"]},\"application/vnd.lotus-wordpro\":{\"source\":\"iana\",\"extensions\":[\"lwp\"]},\"application/vnd.macports.portpkg\":{\"source\":\"iana\",\"extensions\":[\"portpkg\"]},\"application/vnd.mapbox-vector-tile\":{\"source\":\"iana\",\"extensions\":[\"mvt\"]},\"application/vnd.marlin.drm.actiontoken+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.marlin.drm.conftoken+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.marlin.drm.license+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.marlin.drm.mdcf\":{\"source\":\"iana\"},\"application/vnd.mason+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.maxar.archive.3tz+zip\":{\"source\":\"iana\",\"compressible\":false},\"application/vnd.maxmind.maxmind-db\":{\"source\":\"iana\"},\"application/vnd.mcd\":{\"source\":\"iana\",\"extensions\":[\"mcd\"]},\"application/vnd.medcalcdata\":{\"source\":\"iana\",\"extensions\":[\"mc1\"]},\"application/vnd.mediastation.cdkey\":{\"source\":\"iana\",\"extensions\":[\"cdkey\"]},\"application/vnd.meridian-slingshot\":{\"source\":\"iana\"},\"application/vnd.mfer\":{\"source\":\"iana\",\"extensions\":[\"mwf\"]},\"application/vnd.mfmp\":{\"source\":\"iana\",\"extensions\":[\"mfm\"]},\"application/vnd.micro+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.micrografx.flo\":{\"source\":\"iana\",\"extensions\":[\"flo\"]},\"application/vnd.micrografx.igx\":{\"source\":\"iana\",\"extensions\":[\"igx\"]},\"application/vnd.microsoft.portable-executable\":{\"source\":\"iana\"},\"application/vnd.microsoft.windows.thumbnail-cache\":{\"source\":\"iana\"},\"application/vnd.miele+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.mif\":{\"source\":\"iana\",\"extensions\":[\"mif\"]},\"application/vnd.minisoft-hp3000-save\":{\"source\":\"iana\"},\"application/vnd.mitsubishi.misty-guard.trustweb\":{\"source\":\"iana\"},\"application/vnd.mobius.daf\":{\"source\":\"iana\",\"extensions\":[\"daf\"]},\"application/vnd.mobius.dis\":{\"source\":\"iana\",\"extensions\":[\"dis\"]},\"application/vnd.mobius.mbk\":{\"source\":\"iana\",\"extensions\":[\"mbk\"]},\"application/vnd.mobius.mqy\":{\"source\":\"iana\",\"extensions\":[\"mqy\"]},\"application/vnd.mobius.msl\":{\"source\":\"iana\",\"extensions\":[\"msl\"]},\"application/vnd.mobius.plc\":{\"source\":\"iana\",\"extensions\":[\"plc\"]},\"application/vnd.mobius.txf\":{\"source\":\"iana\",\"extensions\":[\"txf\"]},\"application/vnd.mophun.application\":{\"source\":\"iana\",\"extensions\":[\"mpn\"]},\"application/vnd.mophun.certificate\":{\"source\":\"iana\",\"extensions\":[\"mpc\"]},\"application/vnd.motorola.flexsuite\":{\"source\":\"iana\"},\"application/vnd.motorola.flexsuite.adsi\":{\"source\":\"iana\"},\"application/vnd.motorola.flexsuite.fis\":{\"source\":\"iana\"},\"application/vnd.motorola.flexsuite.gotap\":{\"source\":\"iana\"},\"application/vnd.motorola.flexsuite.kmr\":{\"source\":\"iana\"},\"application/vnd.motorola.flexsuite.ttc\":{\"source\":\"iana\"},\"application/vnd.motorola.flexsuite.wem\":{\"source\":\"iana\"},\"application/vnd.motorola.iprm\":{\"source\":\"iana\"},\"application/vnd.mozilla.xul+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xul\"]},\"application/vnd.ms-3mfdocument\":{\"source\":\"iana\"},\"application/vnd.ms-artgalry\":{\"source\":\"iana\",\"extensions\":[\"cil\"]},\"application/vnd.ms-asf\":{\"source\":\"iana\"},\"application/vnd.ms-cab-compressed\":{\"source\":\"iana\",\"extensions\":[\"cab\"]},\"application/vnd.ms-color.iccprofile\":{\"source\":\"apache\"},\"application/vnd.ms-excel\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"xls\",\"xlm\",\"xla\",\"xlc\",\"xlt\",\"xlw\"]},\"application/vnd.ms-excel.addin.macroenabled.12\":{\"source\":\"iana\",\"extensions\":[\"xlam\"]},\"application/vnd.ms-excel.sheet.binary.macroenabled.12\":{\"source\":\"iana\",\"extensions\":[\"xlsb\"]},\"application/vnd.ms-excel.sheet.macroenabled.12\":{\"source\":\"iana\",\"extensions\":[\"xlsm\"]},\"application/vnd.ms-excel.template.macroenabled.12\":{\"source\":\"iana\",\"extensions\":[\"xltm\"]},\"application/vnd.ms-fontobject\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"eot\"]},\"application/vnd.ms-htmlhelp\":{\"source\":\"iana\",\"extensions\":[\"chm\"]},\"application/vnd.ms-ims\":{\"source\":\"iana\",\"extensions\":[\"ims\"]},\"application/vnd.ms-lrm\":{\"source\":\"iana\",\"extensions\":[\"lrm\"]},\"application/vnd.ms-office.activex+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.ms-officetheme\":{\"source\":\"iana\",\"extensions\":[\"thmx\"]},\"application/vnd.ms-opentype\":{\"source\":\"apache\",\"compressible\":true},\"application/vnd.ms-outlook\":{\"compressible\":false,\"extensions\":[\"msg\"]},\"application/vnd.ms-package.obfuscated-opentype\":{\"source\":\"apache\"},\"application/vnd.ms-pki.seccat\":{\"source\":\"apache\",\"extensions\":[\"cat\"]},\"application/vnd.ms-pki.stl\":{\"source\":\"apache\",\"extensions\":[\"stl\"]},\"application/vnd.ms-playready.initiator+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.ms-powerpoint\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"ppt\",\"pps\",\"pot\"]},\"application/vnd.ms-powerpoint.addin.macroenabled.12\":{\"source\":\"iana\",\"extensions\":[\"ppam\"]},\"application/vnd.ms-powerpoint.presentation.macroenabled.12\":{\"source\":\"iana\",\"extensions\":[\"pptm\"]},\"application/vnd.ms-powerpoint.slide.macroenabled.12\":{\"source\":\"iana\",\"extensions\":[\"sldm\"]},\"application/vnd.ms-powerpoint.slideshow.macroenabled.12\":{\"source\":\"iana\",\"extensions\":[\"ppsm\"]},\"application/vnd.ms-powerpoint.template.macroenabled.12\":{\"source\":\"iana\",\"extensions\":[\"potm\"]},\"application/vnd.ms-printdevicecapabilities+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.ms-printing.printticket+xml\":{\"source\":\"apache\",\"compressible\":true},\"application/vnd.ms-printschematicket+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.ms-project\":{\"source\":\"iana\",\"extensions\":[\"mpp\",\"mpt\"]},\"application/vnd.ms-tnef\":{\"source\":\"iana\"},\"application/vnd.ms-windows.devicepairing\":{\"source\":\"iana\"},\"application/vnd.ms-windows.nwprinting.oob\":{\"source\":\"iana\"},\"application/vnd.ms-windows.printerpairing\":{\"source\":\"iana\"},\"application/vnd.ms-windows.wsd.oob\":{\"source\":\"iana\"},\"application/vnd.ms-wmdrm.lic-chlg-req\":{\"source\":\"iana\"},\"application/vnd.ms-wmdrm.lic-resp\":{\"source\":\"iana\"},\"application/vnd.ms-wmdrm.meter-chlg-req\":{\"source\":\"iana\"},\"application/vnd.ms-wmdrm.meter-resp\":{\"source\":\"iana\"},\"application/vnd.ms-word.document.macroenabled.12\":{\"source\":\"iana\",\"extensions\":[\"docm\"]},\"application/vnd.ms-word.template.macroenabled.12\":{\"source\":\"iana\",\"extensions\":[\"dotm\"]},\"application/vnd.ms-works\":{\"source\":\"iana\",\"extensions\":[\"wps\",\"wks\",\"wcm\",\"wdb\"]},\"application/vnd.ms-wpl\":{\"source\":\"iana\",\"extensions\":[\"wpl\"]},\"application/vnd.ms-xpsdocument\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"xps\"]},\"application/vnd.msa-disk-image\":{\"source\":\"iana\"},\"application/vnd.mseq\":{\"source\":\"iana\",\"extensions\":[\"mseq\"]},\"application/vnd.msign\":{\"source\":\"iana\"},\"application/vnd.multiad.creator\":{\"source\":\"iana\"},\"application/vnd.multiad.creator.cif\":{\"source\":\"iana\"},\"application/vnd.music-niff\":{\"source\":\"iana\"},\"application/vnd.musician\":{\"source\":\"iana\",\"extensions\":[\"mus\"]},\"application/vnd.muvee.style\":{\"source\":\"iana\",\"extensions\":[\"msty\"]},\"application/vnd.mynfc\":{\"source\":\"iana\",\"extensions\":[\"taglet\"]},\"application/vnd.nacamar.ybrid+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.ncd.control\":{\"source\":\"iana\"},\"application/vnd.ncd.reference\":{\"source\":\"iana\"},\"application/vnd.nearst.inv+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.nebumind.line\":{\"source\":\"iana\"},\"application/vnd.nervana\":{\"source\":\"iana\"},\"application/vnd.netfpx\":{\"source\":\"iana\"},\"application/vnd.neurolanguage.nlu\":{\"source\":\"iana\",\"extensions\":[\"nlu\"]},\"application/vnd.nimn\":{\"source\":\"iana\"},\"application/vnd.nintendo.nitro.rom\":{\"source\":\"iana\"},\"application/vnd.nintendo.snes.rom\":{\"source\":\"iana\"},\"application/vnd.nitf\":{\"source\":\"iana\",\"extensions\":[\"ntf\",\"nitf\"]},\"application/vnd.noblenet-directory\":{\"source\":\"iana\",\"extensions\":[\"nnd\"]},\"application/vnd.noblenet-sealer\":{\"source\":\"iana\",\"extensions\":[\"nns\"]},\"application/vnd.noblenet-web\":{\"source\":\"iana\",\"extensions\":[\"nnw\"]},\"application/vnd.nokia.catalogs\":{\"source\":\"iana\"},\"application/vnd.nokia.conml+wbxml\":{\"source\":\"iana\"},\"application/vnd.nokia.conml+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.nokia.iptv.config+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.nokia.isds-radio-presets\":{\"source\":\"iana\"},\"application/vnd.nokia.landmark+wbxml\":{\"source\":\"iana\"},\"application/vnd.nokia.landmark+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.nokia.landmarkcollection+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.nokia.n-gage.ac+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"ac\"]},\"application/vnd.nokia.n-gage.data\":{\"source\":\"iana\",\"extensions\":[\"ngdat\"]},\"application/vnd.nokia.n-gage.symbian.install\":{\"source\":\"iana\",\"extensions\":[\"n-gage\"]},\"application/vnd.nokia.ncd\":{\"source\":\"iana\"},\"application/vnd.nokia.pcd+wbxml\":{\"source\":\"iana\"},\"application/vnd.nokia.pcd+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.nokia.radio-preset\":{\"source\":\"iana\",\"extensions\":[\"rpst\"]},\"application/vnd.nokia.radio-presets\":{\"source\":\"iana\",\"extensions\":[\"rpss\"]},\"application/vnd.novadigm.edm\":{\"source\":\"iana\",\"extensions\":[\"edm\"]},\"application/vnd.novadigm.edx\":{\"source\":\"iana\",\"extensions\":[\"edx\"]},\"application/vnd.novadigm.ext\":{\"source\":\"iana\",\"extensions\":[\"ext\"]},\"application/vnd.ntt-local.content-share\":{\"source\":\"iana\"},\"application/vnd.ntt-local.file-transfer\":{\"source\":\"iana\"},\"application/vnd.ntt-local.ogw_remote-access\":{\"source\":\"iana\"},\"application/vnd.ntt-local.sip-ta_remote\":{\"source\":\"iana\"},\"application/vnd.ntt-local.sip-ta_tcp_stream\":{\"source\":\"iana\"},\"application/vnd.oasis.opendocument.chart\":{\"source\":\"iana\",\"extensions\":[\"odc\"]},\"application/vnd.oasis.opendocument.chart-template\":{\"source\":\"iana\",\"extensions\":[\"otc\"]},\"application/vnd.oasis.opendocument.database\":{\"source\":\"iana\",\"extensions\":[\"odb\"]},\"application/vnd.oasis.opendocument.formula\":{\"source\":\"iana\",\"extensions\":[\"odf\"]},\"application/vnd.oasis.opendocument.formula-template\":{\"source\":\"iana\",\"extensions\":[\"odft\"]},\"application/vnd.oasis.opendocument.graphics\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"odg\"]},\"application/vnd.oasis.opendocument.graphics-template\":{\"source\":\"iana\",\"extensions\":[\"otg\"]},\"application/vnd.oasis.opendocument.image\":{\"source\":\"iana\",\"extensions\":[\"odi\"]},\"application/vnd.oasis.opendocument.image-template\":{\"source\":\"iana\",\"extensions\":[\"oti\"]},\"application/vnd.oasis.opendocument.presentation\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"odp\"]},\"application/vnd.oasis.opendocument.presentation-template\":{\"source\":\"iana\",\"extensions\":[\"otp\"]},\"application/vnd.oasis.opendocument.spreadsheet\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"ods\"]},\"application/vnd.oasis.opendocument.spreadsheet-template\":{\"source\":\"iana\",\"extensions\":[\"ots\"]},\"application/vnd.oasis.opendocument.text\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"odt\"]},\"application/vnd.oasis.opendocument.text-master\":{\"source\":\"iana\",\"extensions\":[\"odm\"]},\"application/vnd.oasis.opendocument.text-template\":{\"source\":\"iana\",\"extensions\":[\"ott\"]},\"application/vnd.oasis.opendocument.text-web\":{\"source\":\"iana\",\"extensions\":[\"oth\"]},\"application/vnd.obn\":{\"source\":\"iana\"},\"application/vnd.ocf+cbor\":{\"source\":\"iana\"},\"application/vnd.oci.image.manifest.v1+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oftn.l10n+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oipf.contentaccessdownload+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oipf.contentaccessstreaming+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oipf.cspg-hexbinary\":{\"source\":\"iana\"},\"application/vnd.oipf.dae.svg+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oipf.dae.xhtml+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oipf.mippvcontrolmessage+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oipf.pae.gem\":{\"source\":\"iana\"},\"application/vnd.oipf.spdiscovery+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oipf.spdlist+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oipf.ueprofile+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oipf.userprofile+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.olpc-sugar\":{\"source\":\"iana\",\"extensions\":[\"xo\"]},\"application/vnd.oma-scws-config\":{\"source\":\"iana\"},\"application/vnd.oma-scws-http-request\":{\"source\":\"iana\"},\"application/vnd.oma-scws-http-response\":{\"source\":\"iana\"},\"application/vnd.oma.bcast.associated-procedure-parameter+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.bcast.drm-trigger+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.bcast.imd+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.bcast.ltkm\":{\"source\":\"iana\"},\"application/vnd.oma.bcast.notification+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.bcast.provisioningtrigger\":{\"source\":\"iana\"},\"application/vnd.oma.bcast.sgboot\":{\"source\":\"iana\"},\"application/vnd.oma.bcast.sgdd+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.bcast.sgdu\":{\"source\":\"iana\"},\"application/vnd.oma.bcast.simple-symbol-container\":{\"source\":\"iana\"},\"application/vnd.oma.bcast.smartcard-trigger+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.bcast.sprov+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.bcast.stkm\":{\"source\":\"iana\"},\"application/vnd.oma.cab-address-book+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.cab-feature-handler+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.cab-pcc+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.cab-subs-invite+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.cab-user-prefs+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.dcd\":{\"source\":\"iana\"},\"application/vnd.oma.dcdc\":{\"source\":\"iana\"},\"application/vnd.oma.dd2+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"dd2\"]},\"application/vnd.oma.drm.risd+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.group-usage-list+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.lwm2m+cbor\":{\"source\":\"iana\"},\"application/vnd.oma.lwm2m+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.lwm2m+tlv\":{\"source\":\"iana\"},\"application/vnd.oma.pal+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.poc.detailed-progress-report+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.poc.final-report+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.poc.groups+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.poc.invocation-descriptor+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.poc.optimized-progress-report+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.push\":{\"source\":\"iana\"},\"application/vnd.oma.scidm.messages+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oma.xcap-directory+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.omads-email+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/vnd.omads-file+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/vnd.omads-folder+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/vnd.omaloc-supl-init\":{\"source\":\"iana\"},\"application/vnd.onepager\":{\"source\":\"iana\"},\"application/vnd.onepagertamp\":{\"source\":\"iana\"},\"application/vnd.onepagertamx\":{\"source\":\"iana\"},\"application/vnd.onepagertat\":{\"source\":\"iana\"},\"application/vnd.onepagertatp\":{\"source\":\"iana\"},\"application/vnd.onepagertatx\":{\"source\":\"iana\"},\"application/vnd.openblox.game+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"obgx\"]},\"application/vnd.openblox.game-binary\":{\"source\":\"iana\"},\"application/vnd.openeye.oeb\":{\"source\":\"iana\"},\"application/vnd.openofficeorg.extension\":{\"source\":\"apache\",\"extensions\":[\"oxt\"]},\"application/vnd.openstreetmap.data+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"osm\"]},\"application/vnd.opentimestamps.ots\":{\"source\":\"iana\"},\"application/vnd.openxmlformats-officedocument.custom-properties+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.customxmlproperties+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.drawing+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.drawingml.chart+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.extended-properties+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.presentationml.comments+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.presentationml.presentation\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"pptx\"]},\"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.presentationml.slide\":{\"source\":\"iana\",\"extensions\":[\"sldx\"]},\"application/vnd.openxmlformats-officedocument.presentationml.slide+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.presentationml.slideshow\":{\"source\":\"iana\",\"extensions\":[\"ppsx\"]},\"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.presentationml.tags+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.presentationml.template\":{\"source\":\"iana\",\"extensions\":[\"potx\"]},\"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"xlsx\"]},\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.template\":{\"source\":\"iana\",\"extensions\":[\"xltx\"]},\"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.theme+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.themeoverride+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.vmldrawing\":{\"source\":\"iana\"},\"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"docx\"]},\"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.wordprocessingml.template\":{\"source\":\"iana\",\"extensions\":[\"dotx\"]},\"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-package.core-properties+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.openxmlformats-package.relationships+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oracle.resource+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.orange.indata\":{\"source\":\"iana\"},\"application/vnd.osa.netdeploy\":{\"source\":\"iana\"},\"application/vnd.osgeo.mapguide.package\":{\"source\":\"iana\",\"extensions\":[\"mgp\"]},\"application/vnd.osgi.bundle\":{\"source\":\"iana\"},\"application/vnd.osgi.dp\":{\"source\":\"iana\",\"extensions\":[\"dp\"]},\"application/vnd.osgi.subsystem\":{\"source\":\"iana\",\"extensions\":[\"esa\"]},\"application/vnd.otps.ct-kip+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.oxli.countgraph\":{\"source\":\"iana\"},\"application/vnd.pagerduty+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.palm\":{\"source\":\"iana\",\"extensions\":[\"pdb\",\"pqa\",\"oprc\"]},\"application/vnd.panoply\":{\"source\":\"iana\"},\"application/vnd.paos.xml\":{\"source\":\"iana\"},\"application/vnd.patentdive\":{\"source\":\"iana\"},\"application/vnd.patientecommsdoc\":{\"source\":\"iana\"},\"application/vnd.pawaafile\":{\"source\":\"iana\",\"extensions\":[\"paw\"]},\"application/vnd.pcos\":{\"source\":\"iana\"},\"application/vnd.pg.format\":{\"source\":\"iana\",\"extensions\":[\"str\"]},\"application/vnd.pg.osasli\":{\"source\":\"iana\",\"extensions\":[\"ei6\"]},\"application/vnd.piaccess.application-licence\":{\"source\":\"iana\"},\"application/vnd.picsel\":{\"source\":\"iana\",\"extensions\":[\"efif\"]},\"application/vnd.pmi.widget\":{\"source\":\"iana\",\"extensions\":[\"wg\"]},\"application/vnd.poc.group-advertisement+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.pocketlearn\":{\"source\":\"iana\",\"extensions\":[\"plf\"]},\"application/vnd.powerbuilder6\":{\"source\":\"iana\",\"extensions\":[\"pbd\"]},\"application/vnd.powerbuilder6-s\":{\"source\":\"iana\"},\"application/vnd.powerbuilder7\":{\"source\":\"iana\"},\"application/vnd.powerbuilder7-s\":{\"source\":\"iana\"},\"application/vnd.powerbuilder75\":{\"source\":\"iana\"},\"application/vnd.powerbuilder75-s\":{\"source\":\"iana\"},\"application/vnd.preminet\":{\"source\":\"iana\"},\"application/vnd.previewsystems.box\":{\"source\":\"iana\",\"extensions\":[\"box\"]},\"application/vnd.proteus.magazine\":{\"source\":\"iana\",\"extensions\":[\"mgz\"]},\"application/vnd.psfs\":{\"source\":\"iana\"},\"application/vnd.publishare-delta-tree\":{\"source\":\"iana\",\"extensions\":[\"qps\"]},\"application/vnd.pvi.ptid1\":{\"source\":\"iana\",\"extensions\":[\"ptid\"]},\"application/vnd.pwg-multiplexed\":{\"source\":\"iana\"},\"application/vnd.pwg-xhtml-print+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.qualcomm.brew-app-res\":{\"source\":\"iana\"},\"application/vnd.quarantainenet\":{\"source\":\"iana\"},\"application/vnd.quark.quarkxpress\":{\"source\":\"iana\",\"extensions\":[\"qxd\",\"qxt\",\"qwd\",\"qwt\",\"qxl\",\"qxb\"]},\"application/vnd.quobject-quoxdocument\":{\"source\":\"iana\"},\"application/vnd.radisys.moml+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.radisys.msml+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.radisys.msml-audit+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.radisys.msml-audit-conf+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.radisys.msml-audit-conn+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.radisys.msml-audit-dialog+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.radisys.msml-audit-stream+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.radisys.msml-conf+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.radisys.msml-dialog+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.radisys.msml-dialog-base+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.radisys.msml-dialog-fax-detect+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.radisys.msml-dialog-fax-sendrecv+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.radisys.msml-dialog-group+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.radisys.msml-dialog-speech+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.radisys.msml-dialog-transform+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.rainstor.data\":{\"source\":\"iana\"},\"application/vnd.rapid\":{\"source\":\"iana\"},\"application/vnd.rar\":{\"source\":\"iana\",\"extensions\":[\"rar\"]},\"application/vnd.realvnc.bed\":{\"source\":\"iana\",\"extensions\":[\"bed\"]},\"application/vnd.recordare.musicxml\":{\"source\":\"iana\",\"extensions\":[\"mxl\"]},\"application/vnd.recordare.musicxml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"musicxml\"]},\"application/vnd.renlearn.rlprint\":{\"source\":\"iana\"},\"application/vnd.resilient.logic\":{\"source\":\"iana\"},\"application/vnd.restful+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.rig.cryptonote\":{\"source\":\"iana\",\"extensions\":[\"cryptonote\"]},\"application/vnd.rim.cod\":{\"source\":\"apache\",\"extensions\":[\"cod\"]},\"application/vnd.rn-realmedia\":{\"source\":\"apache\",\"extensions\":[\"rm\"]},\"application/vnd.rn-realmedia-vbr\":{\"source\":\"apache\",\"extensions\":[\"rmvb\"]},\"application/vnd.route66.link66+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"link66\"]},\"application/vnd.rs-274x\":{\"source\":\"iana\"},\"application/vnd.ruckus.download\":{\"source\":\"iana\"},\"application/vnd.s3sms\":{\"source\":\"iana\"},\"application/vnd.sailingtracker.track\":{\"source\":\"iana\",\"extensions\":[\"st\"]},\"application/vnd.sar\":{\"source\":\"iana\"},\"application/vnd.sbm.cid\":{\"source\":\"iana\"},\"application/vnd.sbm.mid2\":{\"source\":\"iana\"},\"application/vnd.scribus\":{\"source\":\"iana\"},\"application/vnd.sealed.3df\":{\"source\":\"iana\"},\"application/vnd.sealed.csf\":{\"source\":\"iana\"},\"application/vnd.sealed.doc\":{\"source\":\"iana\"},\"application/vnd.sealed.eml\":{\"source\":\"iana\"},\"application/vnd.sealed.mht\":{\"source\":\"iana\"},\"application/vnd.sealed.net\":{\"source\":\"iana\"},\"application/vnd.sealed.ppt\":{\"source\":\"iana\"},\"application/vnd.sealed.tiff\":{\"source\":\"iana\"},\"application/vnd.sealed.xls\":{\"source\":\"iana\"},\"application/vnd.sealedmedia.softseal.html\":{\"source\":\"iana\"},\"application/vnd.sealedmedia.softseal.pdf\":{\"source\":\"iana\"},\"application/vnd.seemail\":{\"source\":\"iana\",\"extensions\":[\"see\"]},\"application/vnd.seis+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.sema\":{\"source\":\"iana\",\"extensions\":[\"sema\"]},\"application/vnd.semd\":{\"source\":\"iana\",\"extensions\":[\"semd\"]},\"application/vnd.semf\":{\"source\":\"iana\",\"extensions\":[\"semf\"]},\"application/vnd.shade-save-file\":{\"source\":\"iana\"},\"application/vnd.shana.informed.formdata\":{\"source\":\"iana\",\"extensions\":[\"ifm\"]},\"application/vnd.shana.informed.formtemplate\":{\"source\":\"iana\",\"extensions\":[\"itp\"]},\"application/vnd.shana.informed.interchange\":{\"source\":\"iana\",\"extensions\":[\"iif\"]},\"application/vnd.shana.informed.package\":{\"source\":\"iana\",\"extensions\":[\"ipk\"]},\"application/vnd.shootproof+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.shopkick+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.shp\":{\"source\":\"iana\"},\"application/vnd.shx\":{\"source\":\"iana\"},\"application/vnd.sigrok.session\":{\"source\":\"iana\"},\"application/vnd.simtech-mindmapper\":{\"source\":\"iana\",\"extensions\":[\"twd\",\"twds\"]},\"application/vnd.siren+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.smaf\":{\"source\":\"iana\",\"extensions\":[\"mmf\"]},\"application/vnd.smart.notebook\":{\"source\":\"iana\"},\"application/vnd.smart.teacher\":{\"source\":\"iana\",\"extensions\":[\"teacher\"]},\"application/vnd.snesdev-page-table\":{\"source\":\"iana\"},\"application/vnd.software602.filler.form+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"fo\"]},\"application/vnd.software602.filler.form-xml-zip\":{\"source\":\"iana\"},\"application/vnd.solent.sdkm+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"sdkm\",\"sdkd\"]},\"application/vnd.spotfire.dxp\":{\"source\":\"iana\",\"extensions\":[\"dxp\"]},\"application/vnd.spotfire.sfs\":{\"source\":\"iana\",\"extensions\":[\"sfs\"]},\"application/vnd.sqlite3\":{\"source\":\"iana\"},\"application/vnd.sss-cod\":{\"source\":\"iana\"},\"application/vnd.sss-dtf\":{\"source\":\"iana\"},\"application/vnd.sss-ntf\":{\"source\":\"iana\"},\"application/vnd.stardivision.calc\":{\"source\":\"apache\",\"extensions\":[\"sdc\"]},\"application/vnd.stardivision.draw\":{\"source\":\"apache\",\"extensions\":[\"sda\"]},\"application/vnd.stardivision.impress\":{\"source\":\"apache\",\"extensions\":[\"sdd\"]},\"application/vnd.stardivision.math\":{\"source\":\"apache\",\"extensions\":[\"smf\"]},\"application/vnd.stardivision.writer\":{\"source\":\"apache\",\"extensions\":[\"sdw\",\"vor\"]},\"application/vnd.stardivision.writer-global\":{\"source\":\"apache\",\"extensions\":[\"sgl\"]},\"application/vnd.stepmania.package\":{\"source\":\"iana\",\"extensions\":[\"smzip\"]},\"application/vnd.stepmania.stepchart\":{\"source\":\"iana\",\"extensions\":[\"sm\"]},\"application/vnd.street-stream\":{\"source\":\"iana\"},\"application/vnd.sun.wadl+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"wadl\"]},\"application/vnd.sun.xml.calc\":{\"source\":\"apache\",\"extensions\":[\"sxc\"]},\"application/vnd.sun.xml.calc.template\":{\"source\":\"apache\",\"extensions\":[\"stc\"]},\"application/vnd.sun.xml.draw\":{\"source\":\"apache\",\"extensions\":[\"sxd\"]},\"application/vnd.sun.xml.draw.template\":{\"source\":\"apache\",\"extensions\":[\"std\"]},\"application/vnd.sun.xml.impress\":{\"source\":\"apache\",\"extensions\":[\"sxi\"]},\"application/vnd.sun.xml.impress.template\":{\"source\":\"apache\",\"extensions\":[\"sti\"]},\"application/vnd.sun.xml.math\":{\"source\":\"apache\",\"extensions\":[\"sxm\"]},\"application/vnd.sun.xml.writer\":{\"source\":\"apache\",\"extensions\":[\"sxw\"]},\"application/vnd.sun.xml.writer.global\":{\"source\":\"apache\",\"extensions\":[\"sxg\"]},\"application/vnd.sun.xml.writer.template\":{\"source\":\"apache\",\"extensions\":[\"stw\"]},\"application/vnd.sus-calendar\":{\"source\":\"iana\",\"extensions\":[\"sus\",\"susp\"]},\"application/vnd.svd\":{\"source\":\"iana\",\"extensions\":[\"svd\"]},\"application/vnd.swiftview-ics\":{\"source\":\"iana\"},\"application/vnd.sycle+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.syft+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.symbian.install\":{\"source\":\"apache\",\"extensions\":[\"sis\",\"sisx\"]},\"application/vnd.syncml+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true,\"extensions\":[\"xsm\"]},\"application/vnd.syncml.dm+wbxml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"extensions\":[\"bdm\"]},\"application/vnd.syncml.dm+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true,\"extensions\":[\"xdm\"]},\"application/vnd.syncml.dm.notification\":{\"source\":\"iana\"},\"application/vnd.syncml.dmddf+wbxml\":{\"source\":\"iana\"},\"application/vnd.syncml.dmddf+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true,\"extensions\":[\"ddf\"]},\"application/vnd.syncml.dmtnds+wbxml\":{\"source\":\"iana\"},\"application/vnd.syncml.dmtnds+xml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true},\"application/vnd.syncml.ds.notification\":{\"source\":\"iana\"},\"application/vnd.tableschema+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.tao.intent-module-archive\":{\"source\":\"iana\",\"extensions\":[\"tao\"]},\"application/vnd.tcpdump.pcap\":{\"source\":\"iana\",\"extensions\":[\"pcap\",\"cap\",\"dmp\"]},\"application/vnd.think-cell.ppttc+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.tmd.mediaflex.api+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.tml\":{\"source\":\"iana\"},\"application/vnd.tmobile-livetv\":{\"source\":\"iana\",\"extensions\":[\"tmo\"]},\"application/vnd.tri.onesource\":{\"source\":\"iana\"},\"application/vnd.trid.tpt\":{\"source\":\"iana\",\"extensions\":[\"tpt\"]},\"application/vnd.triscape.mxs\":{\"source\":\"iana\",\"extensions\":[\"mxs\"]},\"application/vnd.trueapp\":{\"source\":\"iana\",\"extensions\":[\"tra\"]},\"application/vnd.truedoc\":{\"source\":\"iana\"},\"application/vnd.ubisoft.webplayer\":{\"source\":\"iana\"},\"application/vnd.ufdl\":{\"source\":\"iana\",\"extensions\":[\"ufd\",\"ufdl\"]},\"application/vnd.uiq.theme\":{\"source\":\"iana\",\"extensions\":[\"utz\"]},\"application/vnd.umajin\":{\"source\":\"iana\",\"extensions\":[\"umj\"]},\"application/vnd.unity\":{\"source\":\"iana\",\"extensions\":[\"unityweb\"]},\"application/vnd.uoml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"uoml\"]},\"application/vnd.uplanet.alert\":{\"source\":\"iana\"},\"application/vnd.uplanet.alert-wbxml\":{\"source\":\"iana\"},\"application/vnd.uplanet.bearer-choice\":{\"source\":\"iana\"},\"application/vnd.uplanet.bearer-choice-wbxml\":{\"source\":\"iana\"},\"application/vnd.uplanet.cacheop\":{\"source\":\"iana\"},\"application/vnd.uplanet.cacheop-wbxml\":{\"source\":\"iana\"},\"application/vnd.uplanet.channel\":{\"source\":\"iana\"},\"application/vnd.uplanet.channel-wbxml\":{\"source\":\"iana\"},\"application/vnd.uplanet.list\":{\"source\":\"iana\"},\"application/vnd.uplanet.list-wbxml\":{\"source\":\"iana\"},\"application/vnd.uplanet.listcmd\":{\"source\":\"iana\"},\"application/vnd.uplanet.listcmd-wbxml\":{\"source\":\"iana\"},\"application/vnd.uplanet.signal\":{\"source\":\"iana\"},\"application/vnd.uri-map\":{\"source\":\"iana\"},\"application/vnd.valve.source.material\":{\"source\":\"iana\"},\"application/vnd.vcx\":{\"source\":\"iana\",\"extensions\":[\"vcx\"]},\"application/vnd.vd-study\":{\"source\":\"iana\"},\"application/vnd.vectorworks\":{\"source\":\"iana\"},\"application/vnd.vel+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.verimatrix.vcas\":{\"source\":\"iana\"},\"application/vnd.veritone.aion+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.veryant.thin\":{\"source\":\"iana\"},\"application/vnd.ves.encrypted\":{\"source\":\"iana\"},\"application/vnd.vidsoft.vidconference\":{\"source\":\"iana\"},\"application/vnd.visio\":{\"source\":\"iana\",\"extensions\":[\"vsd\",\"vst\",\"vss\",\"vsw\"]},\"application/vnd.visionary\":{\"source\":\"iana\",\"extensions\":[\"vis\"]},\"application/vnd.vividence.scriptfile\":{\"source\":\"iana\"},\"application/vnd.vsf\":{\"source\":\"iana\",\"extensions\":[\"vsf\"]},\"application/vnd.wap.sic\":{\"source\":\"iana\"},\"application/vnd.wap.slc\":{\"source\":\"iana\"},\"application/vnd.wap.wbxml\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"extensions\":[\"wbxml\"]},\"application/vnd.wap.wmlc\":{\"source\":\"iana\",\"extensions\":[\"wmlc\"]},\"application/vnd.wap.wmlscriptc\":{\"source\":\"iana\",\"extensions\":[\"wmlsc\"]},\"application/vnd.webturbo\":{\"source\":\"iana\",\"extensions\":[\"wtb\"]},\"application/vnd.wfa.dpp\":{\"source\":\"iana\"},\"application/vnd.wfa.p2p\":{\"source\":\"iana\"},\"application/vnd.wfa.wsc\":{\"source\":\"iana\"},\"application/vnd.windows.devicepairing\":{\"source\":\"iana\"},\"application/vnd.wmc\":{\"source\":\"iana\"},\"application/vnd.wmf.bootstrap\":{\"source\":\"iana\"},\"application/vnd.wolfram.mathematica\":{\"source\":\"iana\"},\"application/vnd.wolfram.mathematica.package\":{\"source\":\"iana\"},\"application/vnd.wolfram.player\":{\"source\":\"iana\",\"extensions\":[\"nbp\"]},\"application/vnd.wordperfect\":{\"source\":\"iana\",\"extensions\":[\"wpd\"]},\"application/vnd.wqd\":{\"source\":\"iana\",\"extensions\":[\"wqd\"]},\"application/vnd.wrq-hp3000-labelled\":{\"source\":\"iana\"},\"application/vnd.wt.stf\":{\"source\":\"iana\",\"extensions\":[\"stf\"]},\"application/vnd.wv.csp+wbxml\":{\"source\":\"iana\"},\"application/vnd.wv.csp+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.wv.ssp+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.xacml+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.xara\":{\"source\":\"iana\",\"extensions\":[\"xar\"]},\"application/vnd.xfdl\":{\"source\":\"iana\",\"extensions\":[\"xfdl\"]},\"application/vnd.xfdl.webform\":{\"source\":\"iana\"},\"application/vnd.xmi+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/vnd.xmpie.cpkg\":{\"source\":\"iana\"},\"application/vnd.xmpie.dpkg\":{\"source\":\"iana\"},\"application/vnd.xmpie.plan\":{\"source\":\"iana\"},\"application/vnd.xmpie.ppkg\":{\"source\":\"iana\"},\"application/vnd.xmpie.xlim\":{\"source\":\"iana\"},\"application/vnd.yamaha.hv-dic\":{\"source\":\"iana\",\"extensions\":[\"hvd\"]},\"application/vnd.yamaha.hv-script\":{\"source\":\"iana\",\"extensions\":[\"hvs\"]},\"application/vnd.yamaha.hv-voice\":{\"source\":\"iana\",\"extensions\":[\"hvp\"]},\"application/vnd.yamaha.openscoreformat\":{\"source\":\"iana\",\"extensions\":[\"osf\"]},\"application/vnd.yamaha.openscoreformat.osfpvg+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"osfpvg\"]},\"application/vnd.yamaha.remote-setup\":{\"source\":\"iana\"},\"application/vnd.yamaha.smaf-audio\":{\"source\":\"iana\",\"extensions\":[\"saf\"]},\"application/vnd.yamaha.smaf-phrase\":{\"source\":\"iana\",\"extensions\":[\"spf\"]},\"application/vnd.yamaha.through-ngn\":{\"source\":\"iana\"},\"application/vnd.yamaha.tunnel-udpencap\":{\"source\":\"iana\"},\"application/vnd.yaoweme\":{\"source\":\"iana\"},\"application/vnd.yellowriver-custom-menu\":{\"source\":\"iana\",\"extensions\":[\"cmp\"]},\"application/vnd.youtube.yt\":{\"source\":\"iana\"},\"application/vnd.zul\":{\"source\":\"iana\",\"extensions\":[\"zir\",\"zirz\"]},\"application/vnd.zzazz.deck+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"zaz\"]},\"application/voicexml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"vxml\"]},\"application/voucher-cms+json\":{\"source\":\"iana\",\"compressible\":true},\"application/vq-rtcpxr\":{\"source\":\"iana\"},\"application/wasm\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"wasm\"]},\"application/watcherinfo+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"wif\"]},\"application/webpush-options+json\":{\"source\":\"iana\",\"compressible\":true},\"application/whoispp-query\":{\"source\":\"iana\"},\"application/whoispp-response\":{\"source\":\"iana\"},\"application/widget\":{\"source\":\"iana\",\"extensions\":[\"wgt\"]},\"application/winhlp\":{\"source\":\"apache\",\"extensions\":[\"hlp\"]},\"application/wita\":{\"source\":\"iana\"},\"application/wordperfect5.1\":{\"source\":\"iana\"},\"application/wsdl+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"wsdl\"]},\"application/wspolicy+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"wspolicy\"]},\"application/x-7z-compressed\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"7z\"]},\"application/x-abiword\":{\"source\":\"apache\",\"extensions\":[\"abw\"]},\"application/x-ace-compressed\":{\"source\":\"apache\",\"extensions\":[\"ace\"]},\"application/x-amf\":{\"source\":\"apache\"},\"application/x-apple-diskimage\":{\"source\":\"apache\",\"extensions\":[\"dmg\"]},\"application/x-arj\":{\"compressible\":false,\"extensions\":[\"arj\"]},\"application/x-authorware-bin\":{\"source\":\"apache\",\"extensions\":[\"aab\",\"x32\",\"u32\",\"vox\"]},\"application/x-authorware-map\":{\"source\":\"apache\",\"extensions\":[\"aam\"]},\"application/x-authorware-seg\":{\"source\":\"apache\",\"extensions\":[\"aas\"]},\"application/x-bcpio\":{\"source\":\"apache\",\"extensions\":[\"bcpio\"]},\"application/x-bdoc\":{\"compressible\":false,\"extensions\":[\"bdoc\"]},\"application/x-bittorrent\":{\"source\":\"apache\",\"extensions\":[\"torrent\"]},\"application/x-blorb\":{\"source\":\"apache\",\"extensions\":[\"blb\",\"blorb\"]},\"application/x-bzip\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"bz\"]},\"application/x-bzip2\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"bz2\",\"boz\"]},\"application/x-cbr\":{\"source\":\"apache\",\"extensions\":[\"cbr\",\"cba\",\"cbt\",\"cbz\",\"cb7\"]},\"application/x-cdlink\":{\"source\":\"apache\",\"extensions\":[\"vcd\"]},\"application/x-cfs-compressed\":{\"source\":\"apache\",\"extensions\":[\"cfs\"]},\"application/x-chat\":{\"source\":\"apache\",\"extensions\":[\"chat\"]},\"application/x-chess-pgn\":{\"source\":\"apache\",\"extensions\":[\"pgn\"]},\"application/x-chrome-extension\":{\"extensions\":[\"crx\"]},\"application/x-cocoa\":{\"source\":\"nginx\",\"extensions\":[\"cco\"]},\"application/x-compress\":{\"source\":\"apache\"},\"application/x-conference\":{\"source\":\"apache\",\"extensions\":[\"nsc\"]},\"application/x-cpio\":{\"source\":\"apache\",\"extensions\":[\"cpio\"]},\"application/x-csh\":{\"source\":\"apache\",\"extensions\":[\"csh\"]},\"application/x-deb\":{\"compressible\":false},\"application/x-debian-package\":{\"source\":\"apache\",\"extensions\":[\"deb\",\"udeb\"]},\"application/x-dgc-compressed\":{\"source\":\"apache\",\"extensions\":[\"dgc\"]},\"application/x-director\":{\"source\":\"apache\",\"extensions\":[\"dir\",\"dcr\",\"dxr\",\"cst\",\"cct\",\"cxt\",\"w3d\",\"fgd\",\"swa\"]},\"application/x-doom\":{\"source\":\"apache\",\"extensions\":[\"wad\"]},\"application/x-dtbncx+xml\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"ncx\"]},\"application/x-dtbook+xml\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"dtb\"]},\"application/x-dtbresource+xml\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"res\"]},\"application/x-dvi\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"dvi\"]},\"application/x-envoy\":{\"source\":\"apache\",\"extensions\":[\"evy\"]},\"application/x-eva\":{\"source\":\"apache\",\"extensions\":[\"eva\"]},\"application/x-font-bdf\":{\"source\":\"apache\",\"extensions\":[\"bdf\"]},\"application/x-font-dos\":{\"source\":\"apache\"},\"application/x-font-framemaker\":{\"source\":\"apache\"},\"application/x-font-ghostscript\":{\"source\":\"apache\",\"extensions\":[\"gsf\"]},\"application/x-font-libgrx\":{\"source\":\"apache\"},\"application/x-font-linux-psf\":{\"source\":\"apache\",\"extensions\":[\"psf\"]},\"application/x-font-pcf\":{\"source\":\"apache\",\"extensions\":[\"pcf\"]},\"application/x-font-snf\":{\"source\":\"apache\",\"extensions\":[\"snf\"]},\"application/x-font-speedo\":{\"source\":\"apache\"},\"application/x-font-sunos-news\":{\"source\":\"apache\"},\"application/x-font-type1\":{\"source\":\"apache\",\"extensions\":[\"pfa\",\"pfb\",\"pfm\",\"afm\"]},\"application/x-font-vfont\":{\"source\":\"apache\"},\"application/x-freearc\":{\"source\":\"apache\",\"extensions\":[\"arc\"]},\"application/x-futuresplash\":{\"source\":\"apache\",\"extensions\":[\"spl\"]},\"application/x-gca-compressed\":{\"source\":\"apache\",\"extensions\":[\"gca\"]},\"application/x-glulx\":{\"source\":\"apache\",\"extensions\":[\"ulx\"]},\"application/x-gnumeric\":{\"source\":\"apache\",\"extensions\":[\"gnumeric\"]},\"application/x-gramps-xml\":{\"source\":\"apache\",\"extensions\":[\"gramps\"]},\"application/x-gtar\":{\"source\":\"apache\",\"extensions\":[\"gtar\"]},\"application/x-gzip\":{\"source\":\"apache\"},\"application/x-hdf\":{\"source\":\"apache\",\"extensions\":[\"hdf\"]},\"application/x-httpd-php\":{\"compressible\":true,\"extensions\":[\"php\"]},\"application/x-install-instructions\":{\"source\":\"apache\",\"extensions\":[\"install\"]},\"application/x-iso9660-image\":{\"source\":\"apache\",\"extensions\":[\"iso\"]},\"application/x-iwork-keynote-sffkey\":{\"extensions\":[\"key\"]},\"application/x-iwork-numbers-sffnumbers\":{\"extensions\":[\"numbers\"]},\"application/x-iwork-pages-sffpages\":{\"extensions\":[\"pages\"]},\"application/x-java-archive-diff\":{\"source\":\"nginx\",\"extensions\":[\"jardiff\"]},\"application/x-java-jnlp-file\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"jnlp\"]},\"application/x-javascript\":{\"compressible\":true},\"application/x-keepass2\":{\"extensions\":[\"kdbx\"]},\"application/x-latex\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"latex\"]},\"application/x-lua-bytecode\":{\"extensions\":[\"luac\"]},\"application/x-lzh-compressed\":{\"source\":\"apache\",\"extensions\":[\"lzh\",\"lha\"]},\"application/x-makeself\":{\"source\":\"nginx\",\"extensions\":[\"run\"]},\"application/x-mie\":{\"source\":\"apache\",\"extensions\":[\"mie\"]},\"application/x-mobipocket-ebook\":{\"source\":\"apache\",\"extensions\":[\"prc\",\"mobi\"]},\"application/x-mpegurl\":{\"compressible\":false},\"application/x-ms-application\":{\"source\":\"apache\",\"extensions\":[\"application\"]},\"application/x-ms-shortcut\":{\"source\":\"apache\",\"extensions\":[\"lnk\"]},\"application/x-ms-wmd\":{\"source\":\"apache\",\"extensions\":[\"wmd\"]},\"application/x-ms-wmz\":{\"source\":\"apache\",\"extensions\":[\"wmz\"]},\"application/x-ms-xbap\":{\"source\":\"apache\",\"extensions\":[\"xbap\"]},\"application/x-msaccess\":{\"source\":\"apache\",\"extensions\":[\"mdb\"]},\"application/x-msbinder\":{\"source\":\"apache\",\"extensions\":[\"obd\"]},\"application/x-mscardfile\":{\"source\":\"apache\",\"extensions\":[\"crd\"]},\"application/x-msclip\":{\"source\":\"apache\",\"extensions\":[\"clp\"]},\"application/x-msdos-program\":{\"extensions\":[\"exe\"]},\"application/x-msdownload\":{\"source\":\"apache\",\"extensions\":[\"exe\",\"dll\",\"com\",\"bat\",\"msi\"]},\"application/x-msmediaview\":{\"source\":\"apache\",\"extensions\":[\"mvb\",\"m13\",\"m14\"]},\"application/x-msmetafile\":{\"source\":\"apache\",\"extensions\":[\"wmf\",\"wmz\",\"emf\",\"emz\"]},\"application/x-msmoney\":{\"source\":\"apache\",\"extensions\":[\"mny\"]},\"application/x-mspublisher\":{\"source\":\"apache\",\"extensions\":[\"pub\"]},\"application/x-msschedule\":{\"source\":\"apache\",\"extensions\":[\"scd\"]},\"application/x-msterminal\":{\"source\":\"apache\",\"extensions\":[\"trm\"]},\"application/x-mswrite\":{\"source\":\"apache\",\"extensions\":[\"wri\"]},\"application/x-netcdf\":{\"source\":\"apache\",\"extensions\":[\"nc\",\"cdf\"]},\"application/x-ns-proxy-autoconfig\":{\"compressible\":true,\"extensions\":[\"pac\"]},\"application/x-nzb\":{\"source\":\"apache\",\"extensions\":[\"nzb\"]},\"application/x-perl\":{\"source\":\"nginx\",\"extensions\":[\"pl\",\"pm\"]},\"application/x-pilot\":{\"source\":\"nginx\",\"extensions\":[\"prc\",\"pdb\"]},\"application/x-pkcs12\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"p12\",\"pfx\"]},\"application/x-pkcs7-certificates\":{\"source\":\"apache\",\"extensions\":[\"p7b\",\"spc\"]},\"application/x-pkcs7-certreqresp\":{\"source\":\"apache\",\"extensions\":[\"p7r\"]},\"application/x-pki-message\":{\"source\":\"iana\"},\"application/x-rar-compressed\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"rar\"]},\"application/x-redhat-package-manager\":{\"source\":\"nginx\",\"extensions\":[\"rpm\"]},\"application/x-research-info-systems\":{\"source\":\"apache\",\"extensions\":[\"ris\"]},\"application/x-sea\":{\"source\":\"nginx\",\"extensions\":[\"sea\"]},\"application/x-sh\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"sh\"]},\"application/x-shar\":{\"source\":\"apache\",\"extensions\":[\"shar\"]},\"application/x-shockwave-flash\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"swf\"]},\"application/x-silverlight-app\":{\"source\":\"apache\",\"extensions\":[\"xap\"]},\"application/x-sql\":{\"source\":\"apache\",\"extensions\":[\"sql\"]},\"application/x-stuffit\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"sit\"]},\"application/x-stuffitx\":{\"source\":\"apache\",\"extensions\":[\"sitx\"]},\"application/x-subrip\":{\"source\":\"apache\",\"extensions\":[\"srt\"]},\"application/x-sv4cpio\":{\"source\":\"apache\",\"extensions\":[\"sv4cpio\"]},\"application/x-sv4crc\":{\"source\":\"apache\",\"extensions\":[\"sv4crc\"]},\"application/x-t3vm-image\":{\"source\":\"apache\",\"extensions\":[\"t3\"]},\"application/x-tads\":{\"source\":\"apache\",\"extensions\":[\"gam\"]},\"application/x-tar\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"tar\"]},\"application/x-tcl\":{\"source\":\"apache\",\"extensions\":[\"tcl\",\"tk\"]},\"application/x-tex\":{\"source\":\"apache\",\"extensions\":[\"tex\"]},\"application/x-tex-tfm\":{\"source\":\"apache\",\"extensions\":[\"tfm\"]},\"application/x-texinfo\":{\"source\":\"apache\",\"extensions\":[\"texinfo\",\"texi\"]},\"application/x-tgif\":{\"source\":\"apache\",\"extensions\":[\"obj\"]},\"application/x-ustar\":{\"source\":\"apache\",\"extensions\":[\"ustar\"]},\"application/x-virtualbox-hdd\":{\"compressible\":true,\"extensions\":[\"hdd\"]},\"application/x-virtualbox-ova\":{\"compressible\":true,\"extensions\":[\"ova\"]},\"application/x-virtualbox-ovf\":{\"compressible\":true,\"extensions\":[\"ovf\"]},\"application/x-virtualbox-vbox\":{\"compressible\":true,\"extensions\":[\"vbox\"]},\"application/x-virtualbox-vbox-extpack\":{\"compressible\":false,\"extensions\":[\"vbox-extpack\"]},\"application/x-virtualbox-vdi\":{\"compressible\":true,\"extensions\":[\"vdi\"]},\"application/x-virtualbox-vhd\":{\"compressible\":true,\"extensions\":[\"vhd\"]},\"application/x-virtualbox-vmdk\":{\"compressible\":true,\"extensions\":[\"vmdk\"]},\"application/x-wais-source\":{\"source\":\"apache\",\"extensions\":[\"src\"]},\"application/x-web-app-manifest+json\":{\"compressible\":true,\"extensions\":[\"webapp\"]},\"application/x-www-form-urlencoded\":{\"source\":\"iana\",\"compressible\":true},\"application/x-x509-ca-cert\":{\"source\":\"iana\",\"extensions\":[\"der\",\"crt\",\"pem\"]},\"application/x-x509-ca-ra-cert\":{\"source\":\"iana\"},\"application/x-x509-next-ca-cert\":{\"source\":\"iana\"},\"application/x-xfig\":{\"source\":\"apache\",\"extensions\":[\"fig\"]},\"application/x-xliff+xml\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"xlf\"]},\"application/x-xpinstall\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"xpi\"]},\"application/x-xz\":{\"source\":\"apache\",\"extensions\":[\"xz\"]},\"application/x-zmachine\":{\"source\":\"apache\",\"extensions\":[\"z1\",\"z2\",\"z3\",\"z4\",\"z5\",\"z6\",\"z7\",\"z8\"]},\"application/x400-bp\":{\"source\":\"iana\"},\"application/xacml+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/xaml+xml\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"xaml\"]},\"application/xcap-att+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xav\"]},\"application/xcap-caps+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xca\"]},\"application/xcap-diff+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xdf\"]},\"application/xcap-el+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xel\"]},\"application/xcap-error+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/xcap-ns+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xns\"]},\"application/xcon-conference-info+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/xcon-conference-info-diff+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/xenc+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xenc\"]},\"application/xhtml+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xhtml\",\"xht\"]},\"application/xhtml-voice+xml\":{\"source\":\"apache\",\"compressible\":true},\"application/xliff+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xlf\"]},\"application/xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xml\",\"xsl\",\"xsd\",\"rng\"]},\"application/xml-dtd\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"dtd\"]},\"application/xml-external-parsed-entity\":{\"source\":\"iana\"},\"application/xml-patch+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/xmpp+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/xop+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xop\"]},\"application/xproc+xml\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"xpl\"]},\"application/xslt+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xsl\",\"xslt\"]},\"application/xspf+xml\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"xspf\"]},\"application/xv+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"mxml\",\"xhvml\",\"xvml\",\"xvm\"]},\"application/yang\":{\"source\":\"iana\",\"extensions\":[\"yang\"]},\"application/yang-data+json\":{\"source\":\"iana\",\"compressible\":true},\"application/yang-data+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/yang-patch+json\":{\"source\":\"iana\",\"compressible\":true},\"application/yang-patch+xml\":{\"source\":\"iana\",\"compressible\":true},\"application/yin+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"yin\"]},\"application/zip\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"zip\"]},\"application/zlib\":{\"source\":\"iana\"},\"application/zstd\":{\"source\":\"iana\"},\"audio/1d-interleaved-parityfec\":{\"source\":\"iana\"},\"audio/32kadpcm\":{\"source\":\"iana\"},\"audio/3gpp\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"3gpp\"]},\"audio/3gpp2\":{\"source\":\"iana\"},\"audio/aac\":{\"source\":\"iana\"},\"audio/ac3\":{\"source\":\"iana\"},\"audio/adpcm\":{\"source\":\"apache\",\"extensions\":[\"adp\"]},\"audio/amr\":{\"source\":\"iana\",\"extensions\":[\"amr\"]},\"audio/amr-wb\":{\"source\":\"iana\"},\"audio/amr-wb+\":{\"source\":\"iana\"},\"audio/aptx\":{\"source\":\"iana\"},\"audio/asc\":{\"source\":\"iana\"},\"audio/atrac-advanced-lossless\":{\"source\":\"iana\"},\"audio/atrac-x\":{\"source\":\"iana\"},\"audio/atrac3\":{\"source\":\"iana\"},\"audio/basic\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"au\",\"snd\"]},\"audio/bv16\":{\"source\":\"iana\"},\"audio/bv32\":{\"source\":\"iana\"},\"audio/clearmode\":{\"source\":\"iana\"},\"audio/cn\":{\"source\":\"iana\"},\"audio/dat12\":{\"source\":\"iana\"},\"audio/dls\":{\"source\":\"iana\"},\"audio/dsr-es201108\":{\"source\":\"iana\"},\"audio/dsr-es202050\":{\"source\":\"iana\"},\"audio/dsr-es202211\":{\"source\":\"iana\"},\"audio/dsr-es202212\":{\"source\":\"iana\"},\"audio/dv\":{\"source\":\"iana\"},\"audio/dvi4\":{\"source\":\"iana\"},\"audio/eac3\":{\"source\":\"iana\"},\"audio/encaprtp\":{\"source\":\"iana\"},\"audio/evrc\":{\"source\":\"iana\"},\"audio/evrc-qcp\":{\"source\":\"iana\"},\"audio/evrc0\":{\"source\":\"iana\"},\"audio/evrc1\":{\"source\":\"iana\"},\"audio/evrcb\":{\"source\":\"iana\"},\"audio/evrcb0\":{\"source\":\"iana\"},\"audio/evrcb1\":{\"source\":\"iana\"},\"audio/evrcnw\":{\"source\":\"iana\"},\"audio/evrcnw0\":{\"source\":\"iana\"},\"audio/evrcnw1\":{\"source\":\"iana\"},\"audio/evrcwb\":{\"source\":\"iana\"},\"audio/evrcwb0\":{\"source\":\"iana\"},\"audio/evrcwb1\":{\"source\":\"iana\"},\"audio/evs\":{\"source\":\"iana\"},\"audio/flexfec\":{\"source\":\"iana\"},\"audio/fwdred\":{\"source\":\"iana\"},\"audio/g711-0\":{\"source\":\"iana\"},\"audio/g719\":{\"source\":\"iana\"},\"audio/g722\":{\"source\":\"iana\"},\"audio/g7221\":{\"source\":\"iana\"},\"audio/g723\":{\"source\":\"iana\"},\"audio/g726-16\":{\"source\":\"iana\"},\"audio/g726-24\":{\"source\":\"iana\"},\"audio/g726-32\":{\"source\":\"iana\"},\"audio/g726-40\":{\"source\":\"iana\"},\"audio/g728\":{\"source\":\"iana\"},\"audio/g729\":{\"source\":\"iana\"},\"audio/g7291\":{\"source\":\"iana\"},\"audio/g729d\":{\"source\":\"iana\"},\"audio/g729e\":{\"source\":\"iana\"},\"audio/gsm\":{\"source\":\"iana\"},\"audio/gsm-efr\":{\"source\":\"iana\"},\"audio/gsm-hr-08\":{\"source\":\"iana\"},\"audio/ilbc\":{\"source\":\"iana\"},\"audio/ip-mr_v2.5\":{\"source\":\"iana\"},\"audio/isac\":{\"source\":\"apache\"},\"audio/l16\":{\"source\":\"iana\"},\"audio/l20\":{\"source\":\"iana\"},\"audio/l24\":{\"source\":\"iana\",\"compressible\":false},\"audio/l8\":{\"source\":\"iana\"},\"audio/lpc\":{\"source\":\"iana\"},\"audio/melp\":{\"source\":\"iana\"},\"audio/melp1200\":{\"source\":\"iana\"},\"audio/melp2400\":{\"source\":\"iana\"},\"audio/melp600\":{\"source\":\"iana\"},\"audio/mhas\":{\"source\":\"iana\"},\"audio/midi\":{\"source\":\"apache\",\"extensions\":[\"mid\",\"midi\",\"kar\",\"rmi\"]},\"audio/mobile-xmf\":{\"source\":\"iana\",\"extensions\":[\"mxmf\"]},\"audio/mp3\":{\"compressible\":false,\"extensions\":[\"mp3\"]},\"audio/mp4\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"m4a\",\"mp4a\"]},\"audio/mp4a-latm\":{\"source\":\"iana\"},\"audio/mpa\":{\"source\":\"iana\"},\"audio/mpa-robust\":{\"source\":\"iana\"},\"audio/mpeg\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"mpga\",\"mp2\",\"mp2a\",\"mp3\",\"m2a\",\"m3a\"]},\"audio/mpeg4-generic\":{\"source\":\"iana\"},\"audio/musepack\":{\"source\":\"apache\"},\"audio/ogg\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"oga\",\"ogg\",\"spx\",\"opus\"]},\"audio/opus\":{\"source\":\"iana\"},\"audio/parityfec\":{\"source\":\"iana\"},\"audio/pcma\":{\"source\":\"iana\"},\"audio/pcma-wb\":{\"source\":\"iana\"},\"audio/pcmu\":{\"source\":\"iana\"},\"audio/pcmu-wb\":{\"source\":\"iana\"},\"audio/prs.sid\":{\"source\":\"iana\"},\"audio/qcelp\":{\"source\":\"iana\"},\"audio/raptorfec\":{\"source\":\"iana\"},\"audio/red\":{\"source\":\"iana\"},\"audio/rtp-enc-aescm128\":{\"source\":\"iana\"},\"audio/rtp-midi\":{\"source\":\"iana\"},\"audio/rtploopback\":{\"source\":\"iana\"},\"audio/rtx\":{\"source\":\"iana\"},\"audio/s3m\":{\"source\":\"apache\",\"extensions\":[\"s3m\"]},\"audio/scip\":{\"source\":\"iana\"},\"audio/silk\":{\"source\":\"apache\",\"extensions\":[\"sil\"]},\"audio/smv\":{\"source\":\"iana\"},\"audio/smv-qcp\":{\"source\":\"iana\"},\"audio/smv0\":{\"source\":\"iana\"},\"audio/sofa\":{\"source\":\"iana\"},\"audio/sp-midi\":{\"source\":\"iana\"},\"audio/speex\":{\"source\":\"iana\"},\"audio/t140c\":{\"source\":\"iana\"},\"audio/t38\":{\"source\":\"iana\"},\"audio/telephone-event\":{\"source\":\"iana\"},\"audio/tetra_acelp\":{\"source\":\"iana\"},\"audio/tetra_acelp_bb\":{\"source\":\"iana\"},\"audio/tone\":{\"source\":\"iana\"},\"audio/tsvcis\":{\"source\":\"iana\"},\"audio/uemclip\":{\"source\":\"iana\"},\"audio/ulpfec\":{\"source\":\"iana\"},\"audio/usac\":{\"source\":\"iana\"},\"audio/vdvi\":{\"source\":\"iana\"},\"audio/vmr-wb\":{\"source\":\"iana\"},\"audio/vnd.3gpp.iufp\":{\"source\":\"iana\"},\"audio/vnd.4sb\":{\"source\":\"iana\"},\"audio/vnd.audiokoz\":{\"source\":\"iana\"},\"audio/vnd.celp\":{\"source\":\"iana\"},\"audio/vnd.cisco.nse\":{\"source\":\"iana\"},\"audio/vnd.cmles.radio-events\":{\"source\":\"iana\"},\"audio/vnd.cns.anp1\":{\"source\":\"iana\"},\"audio/vnd.cns.inf1\":{\"source\":\"iana\"},\"audio/vnd.dece.audio\":{\"source\":\"iana\",\"extensions\":[\"uva\",\"uvva\"]},\"audio/vnd.digital-winds\":{\"source\":\"iana\",\"extensions\":[\"eol\"]},\"audio/vnd.dlna.adts\":{\"source\":\"iana\"},\"audio/vnd.dolby.heaac.1\":{\"source\":\"iana\"},\"audio/vnd.dolby.heaac.2\":{\"source\":\"iana\"},\"audio/vnd.dolby.mlp\":{\"source\":\"iana\"},\"audio/vnd.dolby.mps\":{\"source\":\"iana\"},\"audio/vnd.dolby.pl2\":{\"source\":\"iana\"},\"audio/vnd.dolby.pl2x\":{\"source\":\"iana\"},\"audio/vnd.dolby.pl2z\":{\"source\":\"iana\"},\"audio/vnd.dolby.pulse.1\":{\"source\":\"iana\"},\"audio/vnd.dra\":{\"source\":\"iana\",\"extensions\":[\"dra\"]},\"audio/vnd.dts\":{\"source\":\"iana\",\"extensions\":[\"dts\"]},\"audio/vnd.dts.hd\":{\"source\":\"iana\",\"extensions\":[\"dtshd\"]},\"audio/vnd.dts.uhd\":{\"source\":\"iana\"},\"audio/vnd.dvb.file\":{\"source\":\"iana\"},\"audio/vnd.everad.plj\":{\"source\":\"iana\"},\"audio/vnd.hns.audio\":{\"source\":\"iana\"},\"audio/vnd.lucent.voice\":{\"source\":\"iana\",\"extensions\":[\"lvp\"]},\"audio/vnd.ms-playready.media.pya\":{\"source\":\"iana\",\"extensions\":[\"pya\"]},\"audio/vnd.nokia.mobile-xmf\":{\"source\":\"iana\"},\"audio/vnd.nortel.vbk\":{\"source\":\"iana\"},\"audio/vnd.nuera.ecelp4800\":{\"source\":\"iana\",\"extensions\":[\"ecelp4800\"]},\"audio/vnd.nuera.ecelp7470\":{\"source\":\"iana\",\"extensions\":[\"ecelp7470\"]},\"audio/vnd.nuera.ecelp9600\":{\"source\":\"iana\",\"extensions\":[\"ecelp9600\"]},\"audio/vnd.octel.sbc\":{\"source\":\"iana\"},\"audio/vnd.presonus.multitrack\":{\"source\":\"iana\"},\"audio/vnd.qcelp\":{\"source\":\"iana\"},\"audio/vnd.rhetorex.32kadpcm\":{\"source\":\"iana\"},\"audio/vnd.rip\":{\"source\":\"iana\",\"extensions\":[\"rip\"]},\"audio/vnd.rn-realaudio\":{\"compressible\":false},\"audio/vnd.sealedmedia.softseal.mpeg\":{\"source\":\"iana\"},\"audio/vnd.vmx.cvsd\":{\"source\":\"iana\"},\"audio/vnd.wave\":{\"compressible\":false},\"audio/vorbis\":{\"source\":\"iana\",\"compressible\":false},\"audio/vorbis-config\":{\"source\":\"iana\"},\"audio/wav\":{\"compressible\":false,\"extensions\":[\"wav\"]},\"audio/wave\":{\"compressible\":false,\"extensions\":[\"wav\"]},\"audio/webm\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"weba\"]},\"audio/x-aac\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"aac\"]},\"audio/x-aiff\":{\"source\":\"apache\",\"extensions\":[\"aif\",\"aiff\",\"aifc\"]},\"audio/x-caf\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"caf\"]},\"audio/x-flac\":{\"source\":\"apache\",\"extensions\":[\"flac\"]},\"audio/x-m4a\":{\"source\":\"nginx\",\"extensions\":[\"m4a\"]},\"audio/x-matroska\":{\"source\":\"apache\",\"extensions\":[\"mka\"]},\"audio/x-mpegurl\":{\"source\":\"apache\",\"extensions\":[\"m3u\"]},\"audio/x-ms-wax\":{\"source\":\"apache\",\"extensions\":[\"wax\"]},\"audio/x-ms-wma\":{\"source\":\"apache\",\"extensions\":[\"wma\"]},\"audio/x-pn-realaudio\":{\"source\":\"apache\",\"extensions\":[\"ram\",\"ra\"]},\"audio/x-pn-realaudio-plugin\":{\"source\":\"apache\",\"extensions\":[\"rmp\"]},\"audio/x-realaudio\":{\"source\":\"nginx\",\"extensions\":[\"ra\"]},\"audio/x-tta\":{\"source\":\"apache\"},\"audio/x-wav\":{\"source\":\"apache\",\"extensions\":[\"wav\"]},\"audio/xm\":{\"source\":\"apache\",\"extensions\":[\"xm\"]},\"chemical/x-cdx\":{\"source\":\"apache\",\"extensions\":[\"cdx\"]},\"chemical/x-cif\":{\"source\":\"apache\",\"extensions\":[\"cif\"]},\"chemical/x-cmdf\":{\"source\":\"apache\",\"extensions\":[\"cmdf\"]},\"chemical/x-cml\":{\"source\":\"apache\",\"extensions\":[\"cml\"]},\"chemical/x-csml\":{\"source\":\"apache\",\"extensions\":[\"csml\"]},\"chemical/x-pdb\":{\"source\":\"apache\"},\"chemical/x-xyz\":{\"source\":\"apache\",\"extensions\":[\"xyz\"]},\"font/collection\":{\"source\":\"iana\",\"extensions\":[\"ttc\"]},\"font/otf\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"otf\"]},\"font/sfnt\":{\"source\":\"iana\"},\"font/ttf\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"ttf\"]},\"font/woff\":{\"source\":\"iana\",\"extensions\":[\"woff\"]},\"font/woff2\":{\"source\":\"iana\",\"extensions\":[\"woff2\"]},\"image/aces\":{\"source\":\"iana\",\"extensions\":[\"exr\"]},\"image/apng\":{\"compressible\":false,\"extensions\":[\"apng\"]},\"image/avci\":{\"source\":\"iana\",\"extensions\":[\"avci\"]},\"image/avcs\":{\"source\":\"iana\",\"extensions\":[\"avcs\"]},\"image/avif\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"avif\"]},\"image/bmp\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"bmp\"]},\"image/cgm\":{\"source\":\"iana\",\"extensions\":[\"cgm\"]},\"image/dicom-rle\":{\"source\":\"iana\",\"extensions\":[\"drle\"]},\"image/emf\":{\"source\":\"iana\",\"extensions\":[\"emf\"]},\"image/fits\":{\"source\":\"iana\",\"extensions\":[\"fits\"]},\"image/g3fax\":{\"source\":\"iana\",\"extensions\":[\"g3\"]},\"image/gif\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"gif\"]},\"image/heic\":{\"source\":\"iana\",\"extensions\":[\"heic\"]},\"image/heic-sequence\":{\"source\":\"iana\",\"extensions\":[\"heics\"]},\"image/heif\":{\"source\":\"iana\",\"extensions\":[\"heif\"]},\"image/heif-sequence\":{\"source\":\"iana\",\"extensions\":[\"heifs\"]},\"image/hej2k\":{\"source\":\"iana\",\"extensions\":[\"hej2\"]},\"image/hsj2\":{\"source\":\"iana\",\"extensions\":[\"hsj2\"]},\"image/ief\":{\"source\":\"iana\",\"extensions\":[\"ief\"]},\"image/jls\":{\"source\":\"iana\",\"extensions\":[\"jls\"]},\"image/jp2\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"jp2\",\"jpg2\"]},\"image/jpeg\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"jpeg\",\"jpg\",\"jpe\"]},\"image/jph\":{\"source\":\"iana\",\"extensions\":[\"jph\"]},\"image/jphc\":{\"source\":\"iana\",\"extensions\":[\"jhc\"]},\"image/jpm\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"jpm\"]},\"image/jpx\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"jpx\",\"jpf\"]},\"image/jxr\":{\"source\":\"iana\",\"extensions\":[\"jxr\"]},\"image/jxra\":{\"source\":\"iana\",\"extensions\":[\"jxra\"]},\"image/jxrs\":{\"source\":\"iana\",\"extensions\":[\"jxrs\"]},\"image/jxs\":{\"source\":\"iana\",\"extensions\":[\"jxs\"]},\"image/jxsc\":{\"source\":\"iana\",\"extensions\":[\"jxsc\"]},\"image/jxsi\":{\"source\":\"iana\",\"extensions\":[\"jxsi\"]},\"image/jxss\":{\"source\":\"iana\",\"extensions\":[\"jxss\"]},\"image/ktx\":{\"source\":\"iana\",\"extensions\":[\"ktx\"]},\"image/ktx2\":{\"source\":\"iana\",\"extensions\":[\"ktx2\"]},\"image/naplps\":{\"source\":\"iana\"},\"image/pjpeg\":{\"compressible\":false},\"image/png\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"png\"]},\"image/prs.btif\":{\"source\":\"iana\",\"extensions\":[\"btif\"]},\"image/prs.pti\":{\"source\":\"iana\",\"extensions\":[\"pti\"]},\"image/pwg-raster\":{\"source\":\"iana\"},\"image/sgi\":{\"source\":\"apache\",\"extensions\":[\"sgi\"]},\"image/svg+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"svg\",\"svgz\"]},\"image/t38\":{\"source\":\"iana\",\"extensions\":[\"t38\"]},\"image/tiff\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"tif\",\"tiff\"]},\"image/tiff-fx\":{\"source\":\"iana\",\"extensions\":[\"tfx\"]},\"image/vnd.adobe.photoshop\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"psd\"]},\"image/vnd.airzip.accelerator.azv\":{\"source\":\"iana\",\"extensions\":[\"azv\"]},\"image/vnd.cns.inf2\":{\"source\":\"iana\"},\"image/vnd.dece.graphic\":{\"source\":\"iana\",\"extensions\":[\"uvi\",\"uvvi\",\"uvg\",\"uvvg\"]},\"image/vnd.djvu\":{\"source\":\"iana\",\"extensions\":[\"djvu\",\"djv\"]},\"image/vnd.dvb.subtitle\":{\"source\":\"iana\",\"extensions\":[\"sub\"]},\"image/vnd.dwg\":{\"source\":\"iana\",\"extensions\":[\"dwg\"]},\"image/vnd.dxf\":{\"source\":\"iana\",\"extensions\":[\"dxf\"]},\"image/vnd.fastbidsheet\":{\"source\":\"iana\",\"extensions\":[\"fbs\"]},\"image/vnd.fpx\":{\"source\":\"iana\",\"extensions\":[\"fpx\"]},\"image/vnd.fst\":{\"source\":\"iana\",\"extensions\":[\"fst\"]},\"image/vnd.fujixerox.edmics-mmr\":{\"source\":\"iana\",\"extensions\":[\"mmr\"]},\"image/vnd.fujixerox.edmics-rlc\":{\"source\":\"iana\",\"extensions\":[\"rlc\"]},\"image/vnd.globalgraphics.pgb\":{\"source\":\"iana\"},\"image/vnd.microsoft.icon\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"ico\"]},\"image/vnd.mix\":{\"source\":\"iana\"},\"image/vnd.mozilla.apng\":{\"source\":\"iana\"},\"image/vnd.ms-dds\":{\"compressible\":true,\"extensions\":[\"dds\"]},\"image/vnd.ms-modi\":{\"source\":\"iana\",\"extensions\":[\"mdi\"]},\"image/vnd.ms-photo\":{\"source\":\"apache\",\"extensions\":[\"wdp\"]},\"image/vnd.net-fpx\":{\"source\":\"iana\",\"extensions\":[\"npx\"]},\"image/vnd.pco.b16\":{\"source\":\"iana\",\"extensions\":[\"b16\"]},\"image/vnd.radiance\":{\"source\":\"iana\"},\"image/vnd.sealed.png\":{\"source\":\"iana\"},\"image/vnd.sealedmedia.softseal.gif\":{\"source\":\"iana\"},\"image/vnd.sealedmedia.softseal.jpg\":{\"source\":\"iana\"},\"image/vnd.svf\":{\"source\":\"iana\"},\"image/vnd.tencent.tap\":{\"source\":\"iana\",\"extensions\":[\"tap\"]},\"image/vnd.valve.source.texture\":{\"source\":\"iana\",\"extensions\":[\"vtf\"]},\"image/vnd.wap.wbmp\":{\"source\":\"iana\",\"extensions\":[\"wbmp\"]},\"image/vnd.xiff\":{\"source\":\"iana\",\"extensions\":[\"xif\"]},\"image/vnd.zbrush.pcx\":{\"source\":\"iana\",\"extensions\":[\"pcx\"]},\"image/webp\":{\"source\":\"apache\",\"extensions\":[\"webp\"]},\"image/wmf\":{\"source\":\"iana\",\"extensions\":[\"wmf\"]},\"image/x-3ds\":{\"source\":\"apache\",\"extensions\":[\"3ds\"]},\"image/x-cmu-raster\":{\"source\":\"apache\",\"extensions\":[\"ras\"]},\"image/x-cmx\":{\"source\":\"apache\",\"extensions\":[\"cmx\"]},\"image/x-freehand\":{\"source\":\"apache\",\"extensions\":[\"fh\",\"fhc\",\"fh4\",\"fh5\",\"fh7\"]},\"image/x-icon\":{\"source\":\"apache\",\"compressible\":true,\"extensions\":[\"ico\"]},\"image/x-jng\":{\"source\":\"nginx\",\"extensions\":[\"jng\"]},\"image/x-mrsid-image\":{\"source\":\"apache\",\"extensions\":[\"sid\"]},\"image/x-ms-bmp\":{\"source\":\"nginx\",\"compressible\":true,\"extensions\":[\"bmp\"]},\"image/x-pcx\":{\"source\":\"apache\",\"extensions\":[\"pcx\"]},\"image/x-pict\":{\"source\":\"apache\",\"extensions\":[\"pic\",\"pct\"]},\"image/x-portable-anymap\":{\"source\":\"apache\",\"extensions\":[\"pnm\"]},\"image/x-portable-bitmap\":{\"source\":\"apache\",\"extensions\":[\"pbm\"]},\"image/x-portable-graymap\":{\"source\":\"apache\",\"extensions\":[\"pgm\"]},\"image/x-portable-pixmap\":{\"source\":\"apache\",\"extensions\":[\"ppm\"]},\"image/x-rgb\":{\"source\":\"apache\",\"extensions\":[\"rgb\"]},\"image/x-tga\":{\"source\":\"apache\",\"extensions\":[\"tga\"]},\"image/x-xbitmap\":{\"source\":\"apache\",\"extensions\":[\"xbm\"]},\"image/x-xcf\":{\"compressible\":false},\"image/x-xpixmap\":{\"source\":\"apache\",\"extensions\":[\"xpm\"]},\"image/x-xwindowdump\":{\"source\":\"apache\",\"extensions\":[\"xwd\"]},\"message/cpim\":{\"source\":\"iana\"},\"message/delivery-status\":{\"source\":\"iana\"},\"message/disposition-notification\":{\"source\":\"iana\",\"extensions\":[\"disposition-notification\"]},\"message/external-body\":{\"source\":\"iana\"},\"message/feedback-report\":{\"source\":\"iana\"},\"message/global\":{\"source\":\"iana\",\"extensions\":[\"u8msg\"]},\"message/global-delivery-status\":{\"source\":\"iana\",\"extensions\":[\"u8dsn\"]},\"message/global-disposition-notification\":{\"source\":\"iana\",\"extensions\":[\"u8mdn\"]},\"message/global-headers\":{\"source\":\"iana\",\"extensions\":[\"u8hdr\"]},\"message/http\":{\"source\":\"iana\",\"compressible\":false},\"message/imdn+xml\":{\"source\":\"iana\",\"compressible\":true},\"message/news\":{\"source\":\"iana\"},\"message/partial\":{\"source\":\"iana\",\"compressible\":false},\"message/rfc822\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"eml\",\"mime\"]},\"message/s-http\":{\"source\":\"iana\"},\"message/sip\":{\"source\":\"iana\"},\"message/sipfrag\":{\"source\":\"iana\"},\"message/tracking-status\":{\"source\":\"iana\"},\"message/vnd.si.simp\":{\"source\":\"iana\"},\"message/vnd.wfa.wsc\":{\"source\":\"iana\",\"extensions\":[\"wsc\"]},\"model/3mf\":{\"source\":\"iana\",\"extensions\":[\"3mf\"]},\"model/e57\":{\"source\":\"iana\"},\"model/gltf+json\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"gltf\"]},\"model/gltf-binary\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"glb\"]},\"model/iges\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"igs\",\"iges\"]},\"model/mesh\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"msh\",\"mesh\",\"silo\"]},\"model/mtl\":{\"source\":\"iana\",\"extensions\":[\"mtl\"]},\"model/obj\":{\"source\":\"iana\",\"extensions\":[\"obj\"]},\"model/step\":{\"source\":\"iana\"},\"model/step+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"stpx\"]},\"model/step+zip\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"stpz\"]},\"model/step-xml+zip\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"stpxz\"]},\"model/stl\":{\"source\":\"iana\",\"extensions\":[\"stl\"]},\"model/vnd.collada+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"dae\"]},\"model/vnd.dwf\":{\"source\":\"iana\",\"extensions\":[\"dwf\"]},\"model/vnd.flatland.3dml\":{\"source\":\"iana\"},\"model/vnd.gdl\":{\"source\":\"iana\",\"extensions\":[\"gdl\"]},\"model/vnd.gs-gdl\":{\"source\":\"apache\"},\"model/vnd.gs.gdl\":{\"source\":\"iana\"},\"model/vnd.gtw\":{\"source\":\"iana\",\"extensions\":[\"gtw\"]},\"model/vnd.moml+xml\":{\"source\":\"iana\",\"compressible\":true},\"model/vnd.mts\":{\"source\":\"iana\",\"extensions\":[\"mts\"]},\"model/vnd.opengex\":{\"source\":\"iana\",\"extensions\":[\"ogex\"]},\"model/vnd.parasolid.transmit.binary\":{\"source\":\"iana\",\"extensions\":[\"x_b\"]},\"model/vnd.parasolid.transmit.text\":{\"source\":\"iana\",\"extensions\":[\"x_t\"]},\"model/vnd.pytha.pyox\":{\"source\":\"iana\"},\"model/vnd.rosette.annotated-data-model\":{\"source\":\"iana\"},\"model/vnd.sap.vds\":{\"source\":\"iana\",\"extensions\":[\"vds\"]},\"model/vnd.usdz+zip\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"usdz\"]},\"model/vnd.valve.source.compiled-map\":{\"source\":\"iana\",\"extensions\":[\"bsp\"]},\"model/vnd.vtu\":{\"source\":\"iana\",\"extensions\":[\"vtu\"]},\"model/vrml\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"wrl\",\"vrml\"]},\"model/x3d+binary\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"x3db\",\"x3dbz\"]},\"model/x3d+fastinfoset\":{\"source\":\"iana\",\"extensions\":[\"x3db\"]},\"model/x3d+vrml\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"x3dv\",\"x3dvz\"]},\"model/x3d+xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"x3d\",\"x3dz\"]},\"model/x3d-vrml\":{\"source\":\"iana\",\"extensions\":[\"x3dv\"]},\"multipart/alternative\":{\"source\":\"iana\",\"compressible\":false},\"multipart/appledouble\":{\"source\":\"iana\"},\"multipart/byteranges\":{\"source\":\"iana\"},\"multipart/digest\":{\"source\":\"iana\"},\"multipart/encrypted\":{\"source\":\"iana\",\"compressible\":false},\"multipart/form-data\":{\"source\":\"iana\",\"compressible\":false},\"multipart/header-set\":{\"source\":\"iana\"},\"multipart/mixed\":{\"source\":\"iana\"},\"multipart/multilingual\":{\"source\":\"iana\"},\"multipart/parallel\":{\"source\":\"iana\"},\"multipart/related\":{\"source\":\"iana\",\"compressible\":false},\"multipart/report\":{\"source\":\"iana\"},\"multipart/signed\":{\"source\":\"iana\",\"compressible\":false},\"multipart/vnd.bint.med-plus\":{\"source\":\"iana\"},\"multipart/voice-message\":{\"source\":\"iana\"},\"multipart/x-mixed-replace\":{\"source\":\"iana\"},\"text/1d-interleaved-parityfec\":{\"source\":\"iana\"},\"text/cache-manifest\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"appcache\",\"manifest\"]},\"text/calendar\":{\"source\":\"iana\",\"extensions\":[\"ics\",\"ifb\"]},\"text/calender\":{\"compressible\":true},\"text/cmd\":{\"compressible\":true},\"text/coffeescript\":{\"extensions\":[\"coffee\",\"litcoffee\"]},\"text/cql\":{\"source\":\"iana\"},\"text/cql-expression\":{\"source\":\"iana\"},\"text/cql-identifier\":{\"source\":\"iana\"},\"text/css\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true,\"extensions\":[\"css\"]},\"text/csv\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"csv\"]},\"text/csv-schema\":{\"source\":\"iana\"},\"text/directory\":{\"source\":\"iana\"},\"text/dns\":{\"source\":\"iana\"},\"text/ecmascript\":{\"source\":\"iana\"},\"text/encaprtp\":{\"source\":\"iana\"},\"text/enriched\":{\"source\":\"iana\"},\"text/fhirpath\":{\"source\":\"iana\"},\"text/flexfec\":{\"source\":\"iana\"},\"text/fwdred\":{\"source\":\"iana\"},\"text/gff3\":{\"source\":\"iana\"},\"text/grammar-ref-list\":{\"source\":\"iana\"},\"text/html\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"html\",\"htm\",\"shtml\"]},\"text/jade\":{\"extensions\":[\"jade\"]},\"text/javascript\":{\"source\":\"iana\",\"compressible\":true},\"text/jcr-cnd\":{\"source\":\"iana\"},\"text/jsx\":{\"compressible\":true,\"extensions\":[\"jsx\"]},\"text/less\":{\"compressible\":true,\"extensions\":[\"less\"]},\"text/markdown\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"markdown\",\"md\"]},\"text/mathml\":{\"source\":\"nginx\",\"extensions\":[\"mml\"]},\"text/mdx\":{\"compressible\":true,\"extensions\":[\"mdx\"]},\"text/mizar\":{\"source\":\"iana\"},\"text/n3\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true,\"extensions\":[\"n3\"]},\"text/parameters\":{\"source\":\"iana\",\"charset\":\"UTF-8\"},\"text/parityfec\":{\"source\":\"iana\"},\"text/plain\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"txt\",\"text\",\"conf\",\"def\",\"list\",\"log\",\"in\",\"ini\"]},\"text/provenance-notation\":{\"source\":\"iana\",\"charset\":\"UTF-8\"},\"text/prs.fallenstein.rst\":{\"source\":\"iana\"},\"text/prs.lines.tag\":{\"source\":\"iana\",\"extensions\":[\"dsc\"]},\"text/prs.prop.logic\":{\"source\":\"iana\"},\"text/raptorfec\":{\"source\":\"iana\"},\"text/red\":{\"source\":\"iana\"},\"text/rfc822-headers\":{\"source\":\"iana\"},\"text/richtext\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"rtx\"]},\"text/rtf\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"rtf\"]},\"text/rtp-enc-aescm128\":{\"source\":\"iana\"},\"text/rtploopback\":{\"source\":\"iana\"},\"text/rtx\":{\"source\":\"iana\"},\"text/sgml\":{\"source\":\"iana\",\"extensions\":[\"sgml\",\"sgm\"]},\"text/shaclc\":{\"source\":\"iana\"},\"text/shex\":{\"source\":\"iana\",\"extensions\":[\"shex\"]},\"text/slim\":{\"extensions\":[\"slim\",\"slm\"]},\"text/spdx\":{\"source\":\"iana\",\"extensions\":[\"spdx\"]},\"text/strings\":{\"source\":\"iana\"},\"text/stylus\":{\"extensions\":[\"stylus\",\"styl\"]},\"text/t140\":{\"source\":\"iana\"},\"text/tab-separated-values\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"tsv\"]},\"text/troff\":{\"source\":\"iana\",\"extensions\":[\"t\",\"tr\",\"roff\",\"man\",\"me\",\"ms\"]},\"text/turtle\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"extensions\":[\"ttl\"]},\"text/ulpfec\":{\"source\":\"iana\"},\"text/uri-list\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"uri\",\"uris\",\"urls\"]},\"text/vcard\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"vcard\"]},\"text/vnd.a\":{\"source\":\"iana\"},\"text/vnd.abc\":{\"source\":\"iana\"},\"text/vnd.ascii-art\":{\"source\":\"iana\"},\"text/vnd.curl\":{\"source\":\"iana\",\"extensions\":[\"curl\"]},\"text/vnd.curl.dcurl\":{\"source\":\"apache\",\"extensions\":[\"dcurl\"]},\"text/vnd.curl.mcurl\":{\"source\":\"apache\",\"extensions\":[\"mcurl\"]},\"text/vnd.curl.scurl\":{\"source\":\"apache\",\"extensions\":[\"scurl\"]},\"text/vnd.debian.copyright\":{\"source\":\"iana\",\"charset\":\"UTF-8\"},\"text/vnd.dmclientscript\":{\"source\":\"iana\"},\"text/vnd.dvb.subtitle\":{\"source\":\"iana\",\"extensions\":[\"sub\"]},\"text/vnd.esmertec.theme-descriptor\":{\"source\":\"iana\",\"charset\":\"UTF-8\"},\"text/vnd.familysearch.gedcom\":{\"source\":\"iana\",\"extensions\":[\"ged\"]},\"text/vnd.ficlab.flt\":{\"source\":\"iana\"},\"text/vnd.fly\":{\"source\":\"iana\",\"extensions\":[\"fly\"]},\"text/vnd.fmi.flexstor\":{\"source\":\"iana\",\"extensions\":[\"flx\"]},\"text/vnd.gml\":{\"source\":\"iana\"},\"text/vnd.graphviz\":{\"source\":\"iana\",\"extensions\":[\"gv\"]},\"text/vnd.hans\":{\"source\":\"iana\"},\"text/vnd.hgl\":{\"source\":\"iana\"},\"text/vnd.in3d.3dml\":{\"source\":\"iana\",\"extensions\":[\"3dml\"]},\"text/vnd.in3d.spot\":{\"source\":\"iana\",\"extensions\":[\"spot\"]},\"text/vnd.iptc.newsml\":{\"source\":\"iana\"},\"text/vnd.iptc.nitf\":{\"source\":\"iana\"},\"text/vnd.latex-z\":{\"source\":\"iana\"},\"text/vnd.motorola.reflex\":{\"source\":\"iana\"},\"text/vnd.ms-mediapackage\":{\"source\":\"iana\"},\"text/vnd.net2phone.commcenter.command\":{\"source\":\"iana\"},\"text/vnd.radisys.msml-basic-layout\":{\"source\":\"iana\"},\"text/vnd.senx.warpscript\":{\"source\":\"iana\"},\"text/vnd.si.uricatalogue\":{\"source\":\"iana\"},\"text/vnd.sosi\":{\"source\":\"iana\"},\"text/vnd.sun.j2me.app-descriptor\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"extensions\":[\"jad\"]},\"text/vnd.trolltech.linguist\":{\"source\":\"iana\",\"charset\":\"UTF-8\"},\"text/vnd.wap.si\":{\"source\":\"iana\"},\"text/vnd.wap.sl\":{\"source\":\"iana\"},\"text/vnd.wap.wml\":{\"source\":\"iana\",\"extensions\":[\"wml\"]},\"text/vnd.wap.wmlscript\":{\"source\":\"iana\",\"extensions\":[\"wmls\"]},\"text/vtt\":{\"source\":\"iana\",\"charset\":\"UTF-8\",\"compressible\":true,\"extensions\":[\"vtt\"]},\"text/x-asm\":{\"source\":\"apache\",\"extensions\":[\"s\",\"asm\"]},\"text/x-c\":{\"source\":\"apache\",\"extensions\":[\"c\",\"cc\",\"cxx\",\"cpp\",\"h\",\"hh\",\"dic\"]},\"text/x-component\":{\"source\":\"nginx\",\"extensions\":[\"htc\"]},\"text/x-fortran\":{\"source\":\"apache\",\"extensions\":[\"f\",\"for\",\"f77\",\"f90\"]},\"text/x-gwt-rpc\":{\"compressible\":true},\"text/x-handlebars-template\":{\"extensions\":[\"hbs\"]},\"text/x-java-source\":{\"source\":\"apache\",\"extensions\":[\"java\"]},\"text/x-jquery-tmpl\":{\"compressible\":true},\"text/x-lua\":{\"extensions\":[\"lua\"]},\"text/x-markdown\":{\"compressible\":true,\"extensions\":[\"mkd\"]},\"text/x-nfo\":{\"source\":\"apache\",\"extensions\":[\"nfo\"]},\"text/x-opml\":{\"source\":\"apache\",\"extensions\":[\"opml\"]},\"text/x-org\":{\"compressible\":true,\"extensions\":[\"org\"]},\"text/x-pascal\":{\"source\":\"apache\",\"extensions\":[\"p\",\"pas\"]},\"text/x-processing\":{\"compressible\":true,\"extensions\":[\"pde\"]},\"text/x-sass\":{\"extensions\":[\"sass\"]},\"text/x-scss\":{\"extensions\":[\"scss\"]},\"text/x-setext\":{\"source\":\"apache\",\"extensions\":[\"etx\"]},\"text/x-sfv\":{\"source\":\"apache\",\"extensions\":[\"sfv\"]},\"text/x-suse-ymp\":{\"compressible\":true,\"extensions\":[\"ymp\"]},\"text/x-uuencode\":{\"source\":\"apache\",\"extensions\":[\"uu\"]},\"text/x-vcalendar\":{\"source\":\"apache\",\"extensions\":[\"vcs\"]},\"text/x-vcard\":{\"source\":\"apache\",\"extensions\":[\"vcf\"]},\"text/xml\":{\"source\":\"iana\",\"compressible\":true,\"extensions\":[\"xml\"]},\"text/xml-external-parsed-entity\":{\"source\":\"iana\"},\"text/yaml\":{\"compressible\":true,\"extensions\":[\"yaml\",\"yml\"]},\"video/1d-interleaved-parityfec\":{\"source\":\"iana\"},\"video/3gpp\":{\"source\":\"iana\",\"extensions\":[\"3gp\",\"3gpp\"]},\"video/3gpp-tt\":{\"source\":\"iana\"},\"video/3gpp2\":{\"source\":\"iana\",\"extensions\":[\"3g2\"]},\"video/av1\":{\"source\":\"iana\"},\"video/bmpeg\":{\"source\":\"iana\"},\"video/bt656\":{\"source\":\"iana\"},\"video/celb\":{\"source\":\"iana\"},\"video/dv\":{\"source\":\"iana\"},\"video/encaprtp\":{\"source\":\"iana\"},\"video/ffv1\":{\"source\":\"iana\"},\"video/flexfec\":{\"source\":\"iana\"},\"video/h261\":{\"source\":\"iana\",\"extensions\":[\"h261\"]},\"video/h263\":{\"source\":\"iana\",\"extensions\":[\"h263\"]},\"video/h263-1998\":{\"source\":\"iana\"},\"video/h263-2000\":{\"source\":\"iana\"},\"video/h264\":{\"source\":\"iana\",\"extensions\":[\"h264\"]},\"video/h264-rcdo\":{\"source\":\"iana\"},\"video/h264-svc\":{\"source\":\"iana\"},\"video/h265\":{\"source\":\"iana\"},\"video/iso.segment\":{\"source\":\"iana\",\"extensions\":[\"m4s\"]},\"video/jpeg\":{\"source\":\"iana\",\"extensions\":[\"jpgv\"]},\"video/jpeg2000\":{\"source\":\"iana\"},\"video/jpm\":{\"source\":\"apache\",\"extensions\":[\"jpm\",\"jpgm\"]},\"video/jxsv\":{\"source\":\"iana\"},\"video/mj2\":{\"source\":\"iana\",\"extensions\":[\"mj2\",\"mjp2\"]},\"video/mp1s\":{\"source\":\"iana\"},\"video/mp2p\":{\"source\":\"iana\"},\"video/mp2t\":{\"source\":\"iana\",\"extensions\":[\"ts\"]},\"video/mp4\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"mp4\",\"mp4v\",\"mpg4\"]},\"video/mp4v-es\":{\"source\":\"iana\"},\"video/mpeg\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"mpeg\",\"mpg\",\"mpe\",\"m1v\",\"m2v\"]},\"video/mpeg4-generic\":{\"source\":\"iana\"},\"video/mpv\":{\"source\":\"iana\"},\"video/nv\":{\"source\":\"iana\"},\"video/ogg\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"ogv\"]},\"video/parityfec\":{\"source\":\"iana\"},\"video/pointer\":{\"source\":\"iana\"},\"video/quicktime\":{\"source\":\"iana\",\"compressible\":false,\"extensions\":[\"qt\",\"mov\"]},\"video/raptorfec\":{\"source\":\"iana\"},\"video/raw\":{\"source\":\"iana\"},\"video/rtp-enc-aescm128\":{\"source\":\"iana\"},\"video/rtploopback\":{\"source\":\"iana\"},\"video/rtx\":{\"source\":\"iana\"},\"video/scip\":{\"source\":\"iana\"},\"video/smpte291\":{\"source\":\"iana\"},\"video/smpte292m\":{\"source\":\"iana\"},\"video/ulpfec\":{\"source\":\"iana\"},\"video/vc1\":{\"source\":\"iana\"},\"video/vc2\":{\"source\":\"iana\"},\"video/vnd.cctv\":{\"source\":\"iana\"},\"video/vnd.dece.hd\":{\"source\":\"iana\",\"extensions\":[\"uvh\",\"uvvh\"]},\"video/vnd.dece.mobile\":{\"source\":\"iana\",\"extensions\":[\"uvm\",\"uvvm\"]},\"video/vnd.dece.mp4\":{\"source\":\"iana\"},\"video/vnd.dece.pd\":{\"source\":\"iana\",\"extensions\":[\"uvp\",\"uvvp\"]},\"video/vnd.dece.sd\":{\"source\":\"iana\",\"extensions\":[\"uvs\",\"uvvs\"]},\"video/vnd.dece.video\":{\"source\":\"iana\",\"extensions\":[\"uvv\",\"uvvv\"]},\"video/vnd.directv.mpeg\":{\"source\":\"iana\"},\"video/vnd.directv.mpeg-tts\":{\"source\":\"iana\"},\"video/vnd.dlna.mpeg-tts\":{\"source\":\"iana\"},\"video/vnd.dvb.file\":{\"source\":\"iana\",\"extensions\":[\"dvb\"]},\"video/vnd.fvt\":{\"source\":\"iana\",\"extensions\":[\"fvt\"]},\"video/vnd.hns.video\":{\"source\":\"iana\"},\"video/vnd.iptvforum.1dparityfec-1010\":{\"source\":\"iana\"},\"video/vnd.iptvforum.1dparityfec-2005\":{\"source\":\"iana\"},\"video/vnd.iptvforum.2dparityfec-1010\":{\"source\":\"iana\"},\"video/vnd.iptvforum.2dparityfec-2005\":{\"source\":\"iana\"},\"video/vnd.iptvforum.ttsavc\":{\"source\":\"iana\"},\"video/vnd.iptvforum.ttsmpeg2\":{\"source\":\"iana\"},\"video/vnd.motorola.video\":{\"source\":\"iana\"},\"video/vnd.motorola.videop\":{\"source\":\"iana\"},\"video/vnd.mpegurl\":{\"source\":\"iana\",\"extensions\":[\"mxu\",\"m4u\"]},\"video/vnd.ms-playready.media.pyv\":{\"source\":\"iana\",\"extensions\":[\"pyv\"]},\"video/vnd.nokia.interleaved-multimedia\":{\"source\":\"iana\"},\"video/vnd.nokia.mp4vr\":{\"source\":\"iana\"},\"video/vnd.nokia.videovoip\":{\"source\":\"iana\"},\"video/vnd.objectvideo\":{\"source\":\"iana\"},\"video/vnd.radgamettools.bink\":{\"source\":\"iana\"},\"video/vnd.radgamettools.smacker\":{\"source\":\"iana\"},\"video/vnd.sealed.mpeg1\":{\"source\":\"iana\"},\"video/vnd.sealed.mpeg4\":{\"source\":\"iana\"},\"video/vnd.sealed.swf\":{\"source\":\"iana\"},\"video/vnd.sealedmedia.softseal.mov\":{\"source\":\"iana\"},\"video/vnd.uvvu.mp4\":{\"source\":\"iana\",\"extensions\":[\"uvu\",\"uvvu\"]},\"video/vnd.vivo\":{\"source\":\"iana\",\"extensions\":[\"viv\"]},\"video/vnd.youtube.yt\":{\"source\":\"iana\"},\"video/vp8\":{\"source\":\"iana\"},\"video/vp9\":{\"source\":\"iana\"},\"video/webm\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"webm\"]},\"video/x-f4v\":{\"source\":\"apache\",\"extensions\":[\"f4v\"]},\"video/x-fli\":{\"source\":\"apache\",\"extensions\":[\"fli\"]},\"video/x-flv\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"flv\"]},\"video/x-m4v\":{\"source\":\"apache\",\"extensions\":[\"m4v\"]},\"video/x-matroska\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"mkv\",\"mk3d\",\"mks\"]},\"video/x-mng\":{\"source\":\"apache\",\"extensions\":[\"mng\"]},\"video/x-ms-asf\":{\"source\":\"apache\",\"extensions\":[\"asf\",\"asx\"]},\"video/x-ms-vob\":{\"source\":\"apache\",\"extensions\":[\"vob\"]},\"video/x-ms-wm\":{\"source\":\"apache\",\"extensions\":[\"wm\"]},\"video/x-ms-wmv\":{\"source\":\"apache\",\"compressible\":false,\"extensions\":[\"wmv\"]},\"video/x-ms-wmx\":{\"source\":\"apache\",\"extensions\":[\"wmx\"]},\"video/x-ms-wvx\":{\"source\":\"apache\",\"extensions\":[\"wvx\"]},\"video/x-msvideo\":{\"source\":\"apache\",\"extensions\":[\"avi\"]},\"video/x-sgi-movie\":{\"source\":\"apache\",\"extensions\":[\"movie\"]},\"video/x-smv\":{\"source\":\"apache\",\"extensions\":[\"smv\"]},\"x-conference/x-cooltalk\":{\"source\":\"apache\",\"extensions\":[\"ice\"]},\"x-shader/x-fragment\":{\"compressible\":true},\"x-shader/x-vertex\":{\"compressible\":true}}","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","module.exports = defer;\n\n/**\n * Runs provided function on next iteration of the event loop\n *\n * @param {function} fn - function to run\n */\nfunction defer(fn)\n{\n  var nextTick = typeof setImmediate == 'function'\n    ? setImmediate\n    : (\n      typeof process == 'object' && typeof process.nextTick == 'function'\n      ? process.nextTick\n      : null\n    );\n\n  if (nextTick)\n  {\n    nextTick(fn);\n  }\n  else\n  {\n    setTimeout(fn, 0);\n  }\n}\n","var defer = require('./defer.js');\n\n// API\nmodule.exports = async;\n\n/**\n * Runs provided callback asynchronously\n * even if callback itself is not\n *\n * @param   {function} callback - callback to invoke\n * @returns {function} - augmented callback\n */\nfunction async(callback)\n{\n  var isAsync = false;\n\n  // check if async happened\n  defer(function() { isAsync = true; });\n\n  return function async_callback(err, result)\n  {\n    if (isAsync)\n    {\n      callback(err, result);\n    }\n    else\n    {\n      defer(function nextTick_callback()\n      {\n        callback(err, result);\n      });\n    }\n  };\n}\n","// API\nmodule.exports = abort;\n\n/**\n * Aborts leftover active jobs\n *\n * @param {object} state - current state object\n */\nfunction abort(state)\n{\n  Object.keys(state.jobs).forEach(clean.bind(state));\n\n  // reset leftover jobs\n  state.jobs = {};\n}\n\n/**\n * Cleans up leftover job by invoking abort function for the provided job id\n *\n * @this  state\n * @param {string|number} key - job id to abort\n */\nfunction clean(key)\n{\n  if (typeof this.jobs[key] == 'function')\n  {\n    this.jobs[key]();\n  }\n}\n","var async = require('./async.js')\n  , abort = require('./abort.js')\n  ;\n\n// API\nmodule.exports = iterate;\n\n/**\n * Iterates over each job object\n *\n * @param {array|object} list - array or object (named list) to iterate over\n * @param {function} iterator - iterator to run\n * @param {object} state - current job status\n * @param {function} callback - invoked when all elements processed\n */\nfunction iterate(list, iterator, state, callback)\n{\n  // store current index\n  var key = state['keyedList'] ? state['keyedList'][state.index] : state.index;\n\n  state.jobs[key] = runJob(iterator, key, list[key], function(error, output)\n  {\n    // don't repeat yourself\n    // skip secondary callbacks\n    if (!(key in state.jobs))\n    {\n      return;\n    }\n\n    // clean up jobs\n    delete state.jobs[key];\n\n    if (error)\n    {\n      // don't process rest of the results\n      // stop still active jobs\n      // and reset the list\n      abort(state);\n    }\n    else\n    {\n      state.results[key] = output;\n    }\n\n    // return salvaged results\n    callback(error, state.results);\n  });\n}\n\n/**\n * Runs iterator over provided job element\n *\n * @param   {function} iterator - iterator to invoke\n * @param   {string|number} key - key/index of the element in the list of jobs\n * @param   {mixed} item - job description\n * @param   {function} callback - invoked after iterator is done with the job\n * @returns {function|mixed} - job abort function or something else\n */\nfunction runJob(iterator, key, item, callback)\n{\n  var aborter;\n\n  // allow shortcut if iterator expects only two arguments\n  if (iterator.length == 2)\n  {\n    aborter = iterator(item, async(callback));\n  }\n  // otherwise go with full three arguments\n  else\n  {\n    aborter = iterator(item, key, async(callback));\n  }\n\n  return aborter;\n}\n","// API\nmodule.exports = state;\n\n/**\n * Creates initial state object\n * for iteration over list\n *\n * @param   {array|object} list - list to iterate over\n * @param   {function|null} sortMethod - function to use for keys sort,\n *                                     or `null` to keep them as is\n * @returns {object} - initial state object\n */\nfunction state(list, sortMethod)\n{\n  var isNamedList = !Array.isArray(list)\n    , initState =\n    {\n      index    : 0,\n      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,\n      jobs     : {},\n      results  : isNamedList ? {} : [],\n      size     : isNamedList ? Object.keys(list).length : list.length\n    }\n    ;\n\n  if (sortMethod)\n  {\n    // sort array keys based on it's values\n    // sort object's keys just on own merit\n    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)\n    {\n      return sortMethod(list[a], list[b]);\n    });\n  }\n\n  return initState;\n}\n","var abort = require('./abort.js')\n  , async = require('./async.js')\n  ;\n\n// API\nmodule.exports = terminator;\n\n/**\n * Terminates jobs in the attached state context\n *\n * @this  AsyncKitState#\n * @param {function} callback - final callback to invoke after termination\n */\nfunction terminator(callback)\n{\n  if (!Object.keys(this.jobs).length)\n  {\n    return;\n  }\n\n  // fast forward iteration index\n  this.index = this.size;\n\n  // abort jobs\n  abort(this);\n\n  // send back results we have so far\n  async(callback)(null, this.results);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = parallel;\n\n/**\n * Runs iterator over provided array elements in parallel\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction parallel(list, iterator, callback)\n{\n  var state = initState(list);\n\n  while (state.index < (state['keyedList'] || list).length)\n  {\n    iterate(list, iterator, state, function(error, result)\n    {\n      if (error)\n      {\n        callback(error, result);\n        return;\n      }\n\n      // looks like it's the last one\n      if (Object.keys(state.jobs).length === 0)\n      {\n        callback(null, state.results);\n        return;\n      }\n    });\n\n    state.index++;\n  }\n\n  return terminator.bind(state, callback);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = serialOrdered;\n// sorting helpers\nmodule.exports.ascending  = ascending;\nmodule.exports.descending = descending;\n\n/**\n * Runs iterator over provided sorted array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} sortMethod - custom sort function\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serialOrdered(list, iterator, sortMethod, callback)\n{\n  var state = initState(list, sortMethod);\n\n  iterate(list, iterator, state, function iteratorHandler(error, result)\n  {\n    if (error)\n    {\n      callback(error, result);\n      return;\n    }\n\n    state.index++;\n\n    // are we there yet?\n    if (state.index < (state['keyedList'] || list).length)\n    {\n      iterate(list, iterator, state, iteratorHandler);\n      return;\n    }\n\n    // done here\n    callback(null, state.results);\n  });\n\n  return terminator.bind(state, callback);\n}\n\n/*\n * -- Sort methods\n */\n\n/**\n * sort helper to sort array elements in ascending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction ascending(a, b)\n{\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n/**\n * sort helper to sort array elements in descending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction descending(a, b)\n{\n  return -1 * ascending(a, b);\n}\n","var serialOrdered = require('./serialOrdered.js');\n\n// Public API\nmodule.exports = serial;\n\n/**\n * Runs iterator over provided array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serial(list, iterator, callback)\n{\n  return serialOrdered(list, iterator, null, callback);\n}\n","module.exports =\n{\n  parallel      : require('./parallel.js'),\n  serial        : require('./serial.js'),\n  serialOrdered : require('./serialOrdered.js')\n};\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Object;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n","'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n","'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n","'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n","'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n","'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n","'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n","'use strict';\n\n/** @type {import('./abs')} */\nmodule.exports = Math.abs;\n","'use strict';\n\n/** @type {import('./floor')} */\nmodule.exports = Math.floor;\n","'use strict';\n\n/** @type {import('./max')} */\nmodule.exports = Math.max;\n","'use strict';\n\n/** @type {import('./min')} */\nmodule.exports = Math.min;\n","'use strict';\n\n/** @type {import('./pow')} */\nmodule.exports = Math.pow;\n","'use strict';\n\n/** @type {import('./round')} */\nmodule.exports = Math.round;\n","'use strict';\n\n/** @type {import('./isNaN')} */\nmodule.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","'use strict';\n\nvar $isNaN = require('./isNaN');\n\n/** @type {import('./sign')} */\nmodule.exports = function sign(number) {\n\tif ($isNaN(number) || number === 0) {\n\t\treturn number;\n\t}\n\treturn number < 0 ? -1 : +1;\n};\n","'use strict';\n\n/** @type {import('./gOPD')} */\nmodule.exports = Object.getOwnPropertyDescriptor;\n","'use strict';\n\n/** @type {import('.')} */\nvar $gOPD = require('./gOPD');\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\n/** @type {import('.')} */\nvar $defineProperty = Object.defineProperty || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n","'use strict';\n\n/** @type {import('./shams')} */\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\t/** @type {{ [k in symbol]?: unknown }} */\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (var _ in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\t// eslint-disable-next-line no-extra-parens\n\t\tvar descriptor = /** @type {PropertyDescriptor} */ (Object.getOwnPropertyDescriptor(obj, sym));\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\n/** @type {import('.')} */\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/** @type {import('./Reflect.getPrototypeOf')} */\nmodule.exports = (typeof Reflect !== 'undefined' && Reflect.getPrototypeOf) || null;\n","'use strict';\n\nvar $Object = require('es-object-atoms');\n\n/** @type {import('./Object.getPrototypeOf')} */\nmodule.exports = $Object.getPrototypeOf || null;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\n/** @type {import('./functionCall')} */\nmodule.exports = Function.prototype.call;\n","'use strict';\n\n/** @type {import('./functionApply')} */\nmodule.exports = Function.prototype.apply;\n","'use strict';\n\n/** @type {import('./reflectApply')} */\nmodule.exports = typeof Reflect !== 'undefined' && Reflect && Reflect.apply;\n","'use strict';\n\nvar bind = require('function-bind');\n\nvar $apply = require('./functionApply');\nvar $call = require('./functionCall');\nvar $reflectApply = require('./reflectApply');\n\n/** @type {import('./actualApply')} */\nmodule.exports = $reflectApply || bind.call($call, $apply);\n","'use strict';\n\nvar bind = require('function-bind');\nvar $TypeError = require('es-errors/type');\n\nvar $call = require('./functionCall');\nvar $actualApply = require('./actualApply');\n\n/** @type {(args: [Function, thisArg?: unknown, ...args: unknown[]]) => Function} TODO FIXME, find a way to use import('.') */\nmodule.exports = function callBindBasic(args) {\n\tif (args.length < 1 || typeof args[0] !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\treturn $actualApply(bind, $call, args);\n};\n","'use strict';\n\nvar callBind = require('call-bind-apply-helpers');\nvar gOPD = require('gopd');\n\nvar hasProtoAccessor;\ntry {\n\t// eslint-disable-next-line no-extra-parens, no-proto\n\thasProtoAccessor = /** @type {{ __proto__?: typeof Array.prototype }} */ ([]).__proto__ === Array.prototype;\n} catch (e) {\n\tif (!e || typeof e !== 'object' || !('code' in e) || e.code !== 'ERR_PROTO_ACCESS') {\n\t\tthrow e;\n\t}\n}\n\n// eslint-disable-next-line no-extra-parens\nvar desc = !!hasProtoAccessor && gOPD && gOPD(Object.prototype, /** @type {keyof typeof Object.prototype} */ ('__proto__'));\n\nvar $Object = Object;\nvar $getPrototypeOf = $Object.getPrototypeOf;\n\n/** @type {import('./get')} */\nmodule.exports = desc && typeof desc.get === 'function'\n\t? callBind([desc.get])\n\t: typeof $getPrototypeOf === 'function'\n\t\t? /** @type {import('./get')} */ function getDunder(value) {\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\treturn $getPrototypeOf(value == null ? value : $Object(value));\n\t\t}\n\t\t: false;\n","'use strict';\n\nvar reflectGetProto = require('./Reflect.getPrototypeOf');\nvar originalGetProto = require('./Object.getPrototypeOf');\n\nvar getDunderProto = require('dunder-proto/get');\n\n/** @type {import('.')} */\nmodule.exports = reflectGetProto\n\t? function getProto(O) {\n\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\treturn reflectGetProto(O);\n\t}\n\t: originalGetProto\n\t\t? function getProto(O) {\n\t\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\t\tthrow new TypeError('getProto: not an object');\n\t\t\t}\n\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\treturn originalGetProto(O);\n\t\t}\n\t\t: getDunderProto\n\t\t\t? function getProto(O) {\n\t\t\t\t// @ts-expect-error TS can't narrow inside a closure, for some reason\n\t\t\t\treturn getDunderProto(O);\n\t\t\t}\n\t\t\t: null;\n","'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n","'use strict';\n\nvar undefined;\n\nvar $Object = require('es-object-atoms');\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar abs = require('math-intrinsics/abs');\nvar floor = require('math-intrinsics/floor');\nvar max = require('math-intrinsics/max');\nvar min = require('math-intrinsics/min');\nvar pow = require('math-intrinsics/pow');\nvar round = require('math-intrinsics/round');\nvar sign = require('math-intrinsics/sign');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = require('gopd');\nvar $defineProperty = require('es-define-property');\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = require('get-proto');\nvar $ObjectGPO = require('get-proto/Object.getPrototypeOf');\nvar $ReflectGPO = require('get-proto/Reflect.getPrototypeOf');\n\nvar $apply = require('call-bind-apply-helpers/functionApply');\nvar $call = require('call-bind-apply-helpers/functionCall');\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float16Array%': typeof Float16Array === 'undefined' ? undefined : Float16Array,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': $Object,\n\t'%Object.getOwnPropertyDescriptor%': $gOPD,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\n\t'%Function.prototype.call%': $call,\n\t'%Function.prototype.apply%': $apply,\n\t'%Object.defineProperty%': $defineProperty,\n\t'%Object.getPrototypeOf%': $ObjectGPO,\n\t'%Math.abs%': abs,\n\t'%Math.floor%': floor,\n\t'%Math.max%': max,\n\t'%Math.min%': min,\n\t'%Math.pow%': pow,\n\t'%Math.round%': round,\n\t'%Math.sign%': sign,\n\t'%Reflect.getPrototypeOf%': $ReflectGPO\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call($call, Array.prototype.concat);\nvar $spliceApply = bind.call($apply, Array.prototype.splice);\nvar $replace = bind.call($call, String.prototype.replace);\nvar $strSlice = bind.call($call, String.prototype.slice);\nvar $exec = bind.call($call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar hasSymbols = require('has-symbols/shams');\n\n/** @type {import('.')} */\nmodule.exports = function hasToStringTagShams() {\n\treturn hasSymbols() && !!Symbol.toStringTag;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\n\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar hasOwn = require('hasown');\nvar $TypeError = require('es-errors/type');\n\nvar toStringTag = hasToStringTag ? Symbol.toStringTag : null;\n\n/** @type {import('.')} */\nmodule.exports = function setToStringTag(object, value) {\n\tvar overrideIfSet = arguments.length > 2 && !!arguments[2] && arguments[2].force;\n\tvar nonConfigurable = arguments.length > 2 && !!arguments[2] && arguments[2].nonConfigurable;\n\tif (\n\t\t(typeof overrideIfSet !== 'undefined' && typeof overrideIfSet !== 'boolean')\n\t\t|| (typeof nonConfigurable !== 'undefined' && typeof nonConfigurable !== 'boolean')\n\t) {\n\t\tthrow new $TypeError('if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans');\n\t}\n\tif (toStringTag && (overrideIfSet || !hasOwn(object, toStringTag))) {\n\t\tif ($defineProperty) {\n\t\t\t$defineProperty(object, toStringTag, {\n\t\t\t\tconfigurable: !nonConfigurable,\n\t\t\t\tenumerable: false,\n\t\t\t\tvalue: value,\n\t\t\t\twritable: false\n\t\t\t});\n\t\t} else {\n\t\t\tobject[toStringTag] = value; // eslint-disable-line no-param-reassign\n\t\t}\n\t}\n};\n","'use strict';\n\n// populates missing values\nmodule.exports = function (dst, src) {\n  Object.keys(src).forEach(function (prop) {\n    dst[prop] = dst[prop] || src[prop]; // eslint-disable-line no-param-reassign\n  });\n\n  return dst;\n};\n","'use strict';\n\nvar CombinedStream = require('combined-stream');\nvar util = require('util');\nvar path = require('path');\nvar http = require('http');\nvar https = require('https');\nvar parseUrl = require('url').parse;\nvar fs = require('fs');\nvar Stream = require('stream').Stream;\nvar crypto = require('crypto');\nvar mime = require('mime-types');\nvar asynckit = require('asynckit');\nvar setToStringTag = require('es-set-tostringtag');\nvar hasOwn = require('hasown');\nvar populate = require('./populate.js');\n\n/**\n * Create readable \"multipart/form-data\" streams.\n * Can be used to submit forms\n * and file uploads to other web applications.\n *\n * @constructor\n * @param {object} options - Properties to be added/overriden for FormData and CombinedStream\n */\nfunction FormData(options) {\n  if (!(this instanceof FormData)) {\n    return new FormData(options);\n  }\n\n  this._overheadLength = 0;\n  this._valueLength = 0;\n  this._valuesToMeasure = [];\n\n  CombinedStream.call(this);\n\n  options = options || {}; // eslint-disable-line no-param-reassign\n  for (var option in options) { // eslint-disable-line no-restricted-syntax\n    this[option] = options[option];\n  }\n}\n\n// make it a Stream\nutil.inherits(FormData, CombinedStream);\n\nFormData.LINE_BREAK = '\\r\\n';\nFormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\nFormData.prototype.append = function (field, value, options) {\n  options = options || {}; // eslint-disable-line no-param-reassign\n\n  // allow filename as single option\n  if (typeof options === 'string') {\n    options = { filename: options }; // eslint-disable-line no-param-reassign\n  }\n\n  var append = CombinedStream.prototype.append.bind(this);\n\n  // all that streamy business can't handle numbers\n  if (typeof value === 'number' || value == null) {\n    value = String(value); // eslint-disable-line no-param-reassign\n  }\n\n  // https://github.com/felixge/node-form-data/issues/38\n  if (Array.isArray(value)) {\n    /*\n     * Please convert your array into string\n     * the way web server expects it\n     */\n    this._error(new Error('Arrays are not supported.'));\n    return;\n  }\n\n  var header = this._multiPartHeader(field, value, options);\n  var footer = this._multiPartFooter();\n\n  append(header);\n  append(value);\n  append(footer);\n\n  // pass along options.knownLength\n  this._trackLength(header, value, options);\n};\n\nFormData.prototype._trackLength = function (header, value, options) {\n  var valueLength = 0;\n\n  /*\n   * used w/ getLengthSync(), when length is known.\n   * e.g. for streaming directly from a remote server,\n   * w/ a known file a size, and not wanting to wait for\n   * incoming file to finish to get its size.\n   */\n  if (options.knownLength != null) {\n    valueLength += Number(options.knownLength);\n  } else if (Buffer.isBuffer(value)) {\n    valueLength = value.length;\n  } else if (typeof value === 'string') {\n    valueLength = Buffer.byteLength(value);\n  }\n\n  this._valueLength += valueLength;\n\n  // @check why add CRLF? does this account for custom/multiple CRLFs?\n  this._overheadLength += Buffer.byteLength(header) + FormData.LINE_BREAK.length;\n\n  // empty or either doesn't have path or not an http response or not a stream\n  if (!value || (!value.path && !(value.readable && hasOwn(value, 'httpVersion')) && !(value instanceof Stream))) {\n    return;\n  }\n\n  // no need to bother with the length\n  if (!options.knownLength) {\n    this._valuesToMeasure.push(value);\n  }\n};\n\nFormData.prototype._lengthRetriever = function (value, callback) {\n  if (hasOwn(value, 'fd')) {\n    // take read range into a account\n    // `end` = Infinity > read file till the end\n    //\n    // TODO: Looks like there is bug in Node fs.createReadStream\n    // it doesn't respect `end` options without `start` options\n    // Fix it when node fixes it.\n    // https://github.com/joyent/node/issues/7819\n    if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n      // when end specified\n      // no need to calculate range\n      // inclusive, starts with 0\n      callback(null, value.end + 1 - (value.start ? value.start : 0)); // eslint-disable-line callback-return\n\n      // not that fast snoopy\n    } else {\n      // still need to fetch file size from fs\n      fs.stat(value.path, function (err, stat) {\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        // update final size based on the range options\n        var fileSize = stat.size - (value.start ? value.start : 0);\n        callback(null, fileSize);\n      });\n    }\n\n    // or http response\n  } else if (hasOwn(value, 'httpVersion')) {\n    callback(null, Number(value.headers['content-length'])); // eslint-disable-line callback-return\n\n    // or request stream http://github.com/mikeal/request\n  } else if (hasOwn(value, 'httpModule')) {\n    // wait till response come back\n    value.on('response', function (response) {\n      value.pause();\n      callback(null, Number(response.headers['content-length']));\n    });\n    value.resume();\n\n    // something else\n  } else {\n    callback('Unknown stream'); // eslint-disable-line callback-return\n  }\n};\n\nFormData.prototype._multiPartHeader = function (field, value, options) {\n  /*\n   * custom header specified (as string)?\n   * it becomes responsible for boundary\n   * (e.g. to handle extra CRLFs on .NET servers)\n   */\n  if (typeof options.header === 'string') {\n    return options.header;\n  }\n\n  var contentDisposition = this._getContentDisposition(value, options);\n  var contentType = this._getContentType(value, options);\n\n  var contents = '';\n  var headers = {\n    // add custom disposition as third element or keep it two elements if not\n    'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n    // if no content type. allow it to be empty array\n    'Content-Type': [].concat(contentType || [])\n  };\n\n  // allow custom headers.\n  if (typeof options.header === 'object') {\n    populate(headers, options.header);\n  }\n\n  var header;\n  for (var prop in headers) { // eslint-disable-line no-restricted-syntax\n    if (hasOwn(headers, prop)) {\n      header = headers[prop];\n\n      // skip nullish headers.\n      if (header == null) {\n        continue; // eslint-disable-line no-restricted-syntax, no-continue\n      }\n\n      // convert all headers to arrays.\n      if (!Array.isArray(header)) {\n        header = [header];\n      }\n\n      // add non-empty headers.\n      if (header.length) {\n        contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n      }\n    }\n  }\n\n  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n};\n\nFormData.prototype._getContentDisposition = function (value, options) { // eslint-disable-line consistent-return\n  var filename;\n\n  if (typeof options.filepath === 'string') {\n    // custom filepath for relative paths\n    filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n  } else if (options.filename || (value && (value.name || value.path))) {\n    /*\n     * custom filename take precedence\n     * formidable and the browser add a name property\n     * fs- and request- streams have path property\n     */\n    filename = path.basename(options.filename || (value && (value.name || value.path)));\n  } else if (value && value.readable && hasOwn(value, 'httpVersion')) {\n    // or try http response\n    filename = path.basename(value.client._httpMessage.path || '');\n  }\n\n  if (filename) {\n    return 'filename=\"' + filename + '\"';\n  }\n};\n\nFormData.prototype._getContentType = function (value, options) {\n  // use custom content-type above all\n  var contentType = options.contentType;\n\n  // or try `name` from formidable, browser\n  if (!contentType && value && value.name) {\n    contentType = mime.lookup(value.name);\n  }\n\n  // or try `path` from fs-, request- streams\n  if (!contentType && value && value.path) {\n    contentType = mime.lookup(value.path);\n  }\n\n  // or if it's http-reponse\n  if (!contentType && value && value.readable && hasOwn(value, 'httpVersion')) {\n    contentType = value.headers['content-type'];\n  }\n\n  // or guess it from the filepath or filename\n  if (!contentType && (options.filepath || options.filename)) {\n    contentType = mime.lookup(options.filepath || options.filename);\n  }\n\n  // fallback to the default content type if `value` is not simple value\n  if (!contentType && value && typeof value === 'object') {\n    contentType = FormData.DEFAULT_CONTENT_TYPE;\n  }\n\n  return contentType;\n};\n\nFormData.prototype._multiPartFooter = function () {\n  return function (next) {\n    var footer = FormData.LINE_BREAK;\n\n    var lastPart = this._streams.length === 0;\n    if (lastPart) {\n      footer += this._lastBoundary();\n    }\n\n    next(footer);\n  }.bind(this);\n};\n\nFormData.prototype._lastBoundary = function () {\n  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n};\n\nFormData.prototype.getHeaders = function (userHeaders) {\n  var header;\n  var formHeaders = {\n    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n  };\n\n  for (header in userHeaders) { // eslint-disable-line no-restricted-syntax\n    if (hasOwn(userHeaders, header)) {\n      formHeaders[header.toLowerCase()] = userHeaders[header];\n    }\n  }\n\n  return formHeaders;\n};\n\nFormData.prototype.setBoundary = function (boundary) {\n  if (typeof boundary !== 'string') {\n    throw new TypeError('FormData boundary must be a string');\n  }\n  this._boundary = boundary;\n};\n\nFormData.prototype.getBoundary = function () {\n  if (!this._boundary) {\n    this._generateBoundary();\n  }\n\n  return this._boundary;\n};\n\nFormData.prototype.getBuffer = function () {\n  var dataBuffer = new Buffer.alloc(0); // eslint-disable-line new-cap\n  var boundary = this.getBoundary();\n\n  // Create the form content. Add Line breaks to the end of data.\n  for (var i = 0, len = this._streams.length; i < len; i++) {\n    if (typeof this._streams[i] !== 'function') {\n      // Add content to the buffer.\n      if (Buffer.isBuffer(this._streams[i])) {\n        dataBuffer = Buffer.concat([dataBuffer, this._streams[i]]);\n      } else {\n        dataBuffer = Buffer.concat([dataBuffer, Buffer.from(this._streams[i])]);\n      }\n\n      // Add break after content.\n      if (typeof this._streams[i] !== 'string' || this._streams[i].substring(2, boundary.length + 2) !== boundary) {\n        dataBuffer = Buffer.concat([dataBuffer, Buffer.from(FormData.LINE_BREAK)]);\n      }\n    }\n  }\n\n  // Add the footer and return the Buffer object.\n  return Buffer.concat([dataBuffer, Buffer.from(this._lastBoundary())]);\n};\n\nFormData.prototype._generateBoundary = function () {\n  // This generates a 50 character boundary similar to those used by Firefox.\n\n  // They are optimized for boyer-moore parsing.\n  this._boundary = '--------------------------' + crypto.randomBytes(12).toString('hex');\n};\n\n// Note: getLengthSync DOESN'T calculate streams length\n// As workaround one can calculate file size manually and add it as knownLength option\nFormData.prototype.getLengthSync = function () {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  // Don't get confused, there are 3 \"internal\" streams for each keyval pair so it basically checks if there is any value added to the form\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  // https://github.com/form-data/form-data/issues/40\n  if (!this.hasKnownLength()) {\n    /*\n     * Some async length retrievers are present\n     * therefore synchronous length calculation is false.\n     * Please use getLength(callback) to get proper length\n     */\n    this._error(new Error('Cannot calculate proper length in synchronous way.'));\n  }\n\n  return knownLength;\n};\n\n// Public API to check if length of added values is known\n// https://github.com/form-data/form-data/issues/196\n// https://github.com/form-data/form-data/issues/262\nFormData.prototype.hasKnownLength = function () {\n  var hasKnownLength = true;\n\n  if (this._valuesToMeasure.length) {\n    hasKnownLength = false;\n  }\n\n  return hasKnownLength;\n};\n\nFormData.prototype.getLength = function (cb) {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  if (!this._valuesToMeasure.length) {\n    process.nextTick(cb.bind(this, null, knownLength));\n    return;\n  }\n\n  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function (err, values) {\n    if (err) {\n      cb(err);\n      return;\n    }\n\n    values.forEach(function (length) {\n      knownLength += length;\n    });\n\n    cb(null, knownLength);\n  });\n};\n\nFormData.prototype.submit = function (params, cb) {\n  var request;\n  var options;\n  var defaults = { method: 'post' };\n\n  // parse provided url if it's string or treat it as options object\n  if (typeof params === 'string') {\n    params = parseUrl(params); // eslint-disable-line no-param-reassign\n    /* eslint sort-keys: 0 */\n    options = populate({\n      port: params.port,\n      path: params.pathname,\n      host: params.hostname,\n      protocol: params.protocol\n    }, defaults);\n  } else { // use custom params\n    options = populate(params, defaults);\n    // if no port provided use default one\n    if (!options.port) {\n      options.port = options.protocol === 'https:' ? 443 : 80;\n    }\n  }\n\n  // put that good code in getHeaders to some use\n  options.headers = this.getHeaders(params.headers);\n\n  // https if specified, fallback to http in any other case\n  if (options.protocol === 'https:') {\n    request = https.request(options);\n  } else {\n    request = http.request(options);\n  }\n\n  // get content length and fire away\n  this.getLength(function (err, length) {\n    if (err && err !== 'Unknown stream') {\n      this._error(err);\n      return;\n    }\n\n    // add content length\n    if (length) {\n      request.setHeader('Content-Length', length);\n    }\n\n    this.pipe(request);\n    if (cb) {\n      var onResponse;\n\n      var callback = function (error, responce) {\n        request.removeListener('error', callback);\n        request.removeListener('response', onResponse);\n\n        return cb.call(this, error, responce);\n      };\n\n      onResponse = callback.bind(this, null);\n\n      request.on('error', callback);\n      request.on('response', onResponse);\n    }\n  }.bind(this));\n\n  return request;\n};\n\nFormData.prototype._error = function (err) {\n  if (!this.error) {\n    this.error = err;\n    this.pause();\n    this.emit('error', err);\n  }\n};\n\nFormData.prototype.toString = function () {\n  return '[object FormData]';\n};\nsetToStringTag(FormData.prototype, 'FormData');\n\n// Public API\nmodule.exports = FormData;\n","'use strict';\n\nvar parseUrl = require('url').parse;\n\nvar DEFAULT_PORTS = {\n  ftp: 21,\n  gopher: 70,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443,\n};\n\nvar stringEndsWith = String.prototype.endsWith || function(s) {\n  return s.length <= this.length &&\n    this.indexOf(s, this.length - s.length) !== -1;\n};\n\n/**\n * @param {string|object} url - The URL, or the result from url.parse.\n * @return {string} The URL of the proxy that should handle the request to the\n *  given URL. If no proxy is set, this will be an empty string.\n */\nfunction getProxyForUrl(url) {\n  var parsedUrl = typeof url === 'string' ? parseUrl(url) : url || {};\n  var proto = parsedUrl.protocol;\n  var hostname = parsedUrl.host;\n  var port = parsedUrl.port;\n  if (typeof hostname !== 'string' || !hostname || typeof proto !== 'string') {\n    return '';  // Don't proxy URLs without a valid scheme or host.\n  }\n\n  proto = proto.split(':', 1)[0];\n  // Stripping ports in this way instead of using parsedUrl.hostname to make\n  // sure that the brackets around IPv6 addresses are kept.\n  hostname = hostname.replace(/:\\d*$/, '');\n  port = parseInt(port) || DEFAULT_PORTS[proto] || 0;\n  if (!shouldProxy(hostname, port)) {\n    return '';  // Don't proxy URLs that match NO_PROXY.\n  }\n\n  var proxy =\n    getEnv('npm_config_' + proto + '_proxy') ||\n    getEnv(proto + '_proxy') ||\n    getEnv('npm_config_proxy') ||\n    getEnv('all_proxy');\n  if (proxy && proxy.indexOf('://') === -1) {\n    // Missing scheme in proxy, default to the requested URL's scheme.\n    proxy = proto + '://' + proxy;\n  }\n  return proxy;\n}\n\n/**\n * Determines whether a given URL should be proxied.\n *\n * @param {string} hostname - The host name of the URL.\n * @param {number} port - The effective port of the URL.\n * @returns {boolean} Whether the given URL should be proxied.\n * @private\n */\nfunction shouldProxy(hostname, port) {\n  var NO_PROXY =\n    (getEnv('npm_config_no_proxy') || getEnv('no_proxy')).toLowerCase();\n  if (!NO_PROXY) {\n    return true;  // Always proxy if NO_PROXY is not set.\n  }\n  if (NO_PROXY === '*') {\n    return false;  // Never proxy if wildcard is set.\n  }\n\n  return NO_PROXY.split(/[,\\s]/).every(function(proxy) {\n    if (!proxy) {\n      return true;  // Skip zero-length hosts.\n    }\n    var parsedProxy = proxy.match(/^(.+):(\\d+)$/);\n    var parsedProxyHostname = parsedProxy ? parsedProxy[1] : proxy;\n    var parsedProxyPort = parsedProxy ? parseInt(parsedProxy[2]) : 0;\n    if (parsedProxyPort && parsedProxyPort !== port) {\n      return true;  // Skip if ports don't match.\n    }\n\n    if (!/^[.*]/.test(parsedProxyHostname)) {\n      // No wildcards, so stop proxying if there is an exact match.\n      return hostname !== parsedProxyHostname;\n    }\n\n    if (parsedProxyHostname.charAt(0) === '*') {\n      // Remove leading wildcard.\n      parsedProxyHostname = parsedProxyHostname.slice(1);\n    }\n    // Stop proxying if the hostname ends with the no_proxy host.\n    return !stringEndsWith.call(hostname, parsedProxyHostname);\n  });\n}\n\n/**\n * Get the value for an environment variable.\n *\n * @param {string} key - The name of the environment variable.\n * @return {string} The value of the environment variable.\n * @private\n */\nfunction getEnv(key) {\n  return process.env[key.toLowerCase()] || process.env[key.toUpperCase()] || '';\n}\n\nexports.getProxyForUrl = getProxyForUrl;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(/\\s+/g, ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.formatWithOptions()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.formatWithOptions(exports.inspectOpts, ...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug') || exports.storage.getItem('DEBUG') ;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Preventive platform detection\n// istanbul ignore next\n(function detectUnsupportedEnvironment() {\n  var looksLikeNode = typeof process !== \"undefined\";\n  var looksLikeBrowser = typeof window !== \"undefined\" && typeof document !== \"undefined\";\n  var looksLikeV8 = isFunction(Error.captureStackTrace);\n  if (!looksLikeNode && (looksLikeBrowser || !looksLikeV8)) {\n    console.warn(\"The follow-redirects package should be excluded from browser builds.\");\n  }\n}());\n\n// Whether to use the native URL object or the legacy url module\nvar useNativeURL = false;\ntry {\n  assert(new URL(\"\"));\n}\ncatch (error) {\n  useNativeURL = error.code === \"ERR_INVALID_URL\";\n}\n\n// URL fields to preserve in copy operations\nvar preservedUrlFields = [\n  \"auth\",\n  \"host\",\n  \"hostname\",\n  \"href\",\n  \"path\",\n  \"pathname\",\n  \"port\",\n  \"protocol\",\n  \"query\",\n  \"search\",\n  \"hash\",\n];\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\n// Error types with codes\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\",\n  RedirectionError\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// istanbul ignore next\nvar destroy = Writable.prototype.destroy || noop;\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    try {\n      self._processResponse(response);\n    }\n    catch (cause) {\n      self.emit(\"error\", cause instanceof RedirectionError ?\n        cause : new RedirectionError({ cause: cause }));\n    }\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  destroyRequest(this._currentRequest);\n  this._currentRequest.abort();\n  this.emit(\"abort\");\n};\n\nRedirectableRequest.prototype.destroy = function (error) {\n  destroyRequest(this._currentRequest, error);\n  destroy.call(this, error);\n  return this;\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    self.removeListener(\"close\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n  this.on(\"close\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    throw new TypeError(\"Unsupported protocol \" + protocol);\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC72305.3.1: When making a request directly to an origin server, []\n  // a client MUST send only the absolute path [] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, []\n    // a client MUST send the target URI in absolute-form [].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      // istanbul ignore else\n      if (request === self._currentRequest) {\n        // Report any write errors\n        // istanbul ignore if\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          // istanbul ignore else\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC72316.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  destroyRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC72316.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    throw new TooManyRedirectsError();\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC72316.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, []\n  // RFC72316.4.23: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC72316.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource []\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) []\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = parseUrl(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Create the redirected request\n  var redirectUrl = resolveUrl(location, currentUrl);\n  debug(\"redirecting to\", redirectUrl.href);\n  this._isRedirect = true;\n  spreadUrlObject(redirectUrl, this._options);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrl.protocol !== currentUrlParts.protocol &&\n     redirectUrl.protocol !== \"https:\" ||\n     redirectUrl.host !== currentHost &&\n     !isSubdomain(redirectUrl.host, currentHost)) {\n    removeMatchingHeaders(/^(?:(?:proxy-)?authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    beforeRedirect(this._options, responseDetails, requestDetails);\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  this._performRequest();\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters, ensuring that input is an object\n      if (isURL(input)) {\n        input = spreadUrlObject(input);\n      }\n      else if (isString(input)) {\n        input = spreadUrlObject(parseUrl(input));\n      }\n      else {\n        callback = options;\n        options = validateUrl(input);\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\nfunction noop() { /* empty */ }\n\nfunction parseUrl(input) {\n  var parsed;\n  // istanbul ignore else\n  if (useNativeURL) {\n    parsed = new URL(input);\n  }\n  else {\n    // Ensure the URL is valid and absolute\n    parsed = validateUrl(url.parse(input));\n    if (!isString(parsed.protocol)) {\n      throw new InvalidUrlError({ input });\n    }\n  }\n  return parsed;\n}\n\nfunction resolveUrl(relative, base) {\n  // istanbul ignore next\n  return useNativeURL ? new URL(relative, base) : parseUrl(url.resolve(base, relative));\n}\n\nfunction validateUrl(input) {\n  if (/^\\[/.test(input.hostname) && !/^\\[[:0-9a-f]+\\]$/i.test(input.hostname)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  if (/^\\[/.test(input.host) && !/^\\[[:0-9a-f]+\\](:\\d+)?$/i.test(input.host)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  return input;\n}\n\nfunction spreadUrlObject(urlObject, target) {\n  var spread = target || {};\n  for (var key of preservedUrlFields) {\n    spread[key] = urlObject[key];\n  }\n\n  // Fix IPv6 hostname\n  if (spread.hostname.startsWith(\"[\")) {\n    spread.hostname = spread.hostname.slice(1, -1);\n  }\n  // Ensure port is a number\n  if (spread.port !== \"\") {\n    spread.port = Number(spread.port);\n  }\n  // Concatenate path\n  spread.path = spread.search ? spread.pathname + spread.search : spread.pathname;\n\n  return spread;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    // istanbul ignore else\n    if (isFunction(Error.captureStackTrace)) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  Object.defineProperties(CustomError.prototype, {\n    constructor: {\n      value: CustomError,\n      enumerable: false,\n    },\n    name: {\n      value: \"Error [\" + code + \"]\",\n      enumerable: false,\n    },\n  });\n  return CustomError;\n}\n\nfunction destroyRequest(request, error) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.destroy(error);\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\nfunction isURL(value) {\n  return URL && value instanceof URL;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","'use strict';\n\n/**\n * Create a bound version of a function with a specified `this` context\n *\n * @param {Function} fn - The function to bind\n * @param {*} thisArg - The value to be passed as the `this` parameter\n * @returns {Function} A new function that will call the original function with the specified `this` context\n */\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\nconst {iterator, toStringTag} = Symbol;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(toStringTag in val) && !(iterator in val);\n}\n\n/**\n * Determine if a value is an empty object (safely handles Buffers)\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an empty object, otherwise false\n */\nconst isEmptyObject = (val) => {\n  // Early return for non-objects or Buffers to prevent RangeError\n  if (!isObject(val) || isBuffer(val)) {\n    return false;\n  }\n\n  try {\n    return Object.keys(val).length === 0 && Object.getPrototypeOf(val) === Object.prototype;\n  } catch (e) {\n    // Fallback for any other objects that might cause RangeError with Object.keys()\n    return false;\n  }\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Buffer check\n    if (isBuffer(obj)) {\n      return;\n    }\n\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  if (isBuffer(obj)){\n    return null;\n  }\n\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless, skipUndefined} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else if (!skipUndefined || !isUndefined(val)) {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[iterator];\n\n  const _iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = _iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n}\n\n\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[toStringTag] === 'FormData' && thing[iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      //Buffer check\n      if (isBuffer(source)) {\n        return source;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\n\nconst isIterable = (thing) => thing != null && isFunction(thing[iterator]);\n\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isEmptyObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap,\n  isIterable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  const msg = error && error.message ? error.message : 'Error';\n\n  // Prefer explicit code; otherwise copy the low-level error's code (e.g. ECONNREFUSED)\n  const errCode = code == null && error ? error.code : code;\n  AxiosError.call(axiosError, msg, errCode, config, request, response);\n\n  // Chain the original error on the standard field; non-enumerable to avoid JSON noise\n  if (error && axiosError.cause == null) {\n    Object.defineProperty(axiosError, 'cause', { value: error, configurable: true });\n  }\n\n  axiosError.name = (error && error.name) || 'Error';\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","import FormData from 'form-data';\n\nexport default FormData;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (utils.isBoolean(value)) {\n      return value.toString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {void}\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","import crypto from 'crypto';\nimport URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz'\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n}\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  const randomValues = new Uint32Array(size);\n  crypto.randomFillSync(randomValues);\n  for (let i = 0; i < size; i++) {\n    str += alphabet[randomValues[i] % length];\n  }\n\n  return str;\n}\n\n\nexport default {\n  isNode: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob: typeof Blob !== 'undefined' && Blob || null\n  },\n  ALPHABET,\n  generateString,\n  protocols: [ 'http', 'https', 'file', 'data' ]\n};\n","'use strict';\n\nimport url from 'url';\nexport default url.URLSearchParams;\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv,\n  _navigator as navigator,\n  origin\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), {\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    },\n    ...options\n  });\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data) ||\n      utils.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils.isResponse(data) || utils.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data, this.parseReviver);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils.isObject(header) && utils.isIterable(header)) {\n      let obj = {}, dest, key;\n      for (const entry of header) {\n        if (!utils.isArray(entry)) {\n          throw TypeError('Object iterator must return a key-value pair');\n        }\n\n        obj[key = entry[0]] = (dest = obj[key]) ?\n          (utils.isArray(dest) ? [...dest, entry[1]] : [dest, entry[1]]) : entry[1];\n      }\n\n      setHeaders(obj, valueOrRewrite)\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  getSetCookie() {\n    return this.get(\"set-cookie\") || [];\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL, allowAbsoluteUrls) {\n  let isRelativeUrl = !isAbsoluteURL(requestedURL);\n  if (baseURL && (isRelativeUrl || allowAbsoluteUrls == false)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","import utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport buildFullPath from '../core/buildFullPath.js';\nimport buildURL from './../helpers/buildURL.js';\nimport proxyFromEnv from 'proxy-from-env';\nimport http from 'http';\nimport https from 'https';\nimport http2 from 'http2';\nimport util from 'util';\nimport followRedirects from 'follow-redirects';\nimport zlib from 'zlib';\nimport {VERSION} from '../env/data.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport platform from '../platform/index.js';\nimport fromDataURI from '../helpers/fromDataURI.js';\nimport stream from 'stream';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport AxiosTransformStream from '../helpers/AxiosTransformStream.js';\nimport {EventEmitter} from 'events';\nimport formDataToStream from \"../helpers/formDataToStream.js\";\nimport readBlob from \"../helpers/readBlob.js\";\nimport ZlibHeaderTransformStream from '../helpers/ZlibHeaderTransformStream.js';\nimport callbackify from \"../helpers/callbackify.js\";\nimport {progressEventReducer, progressEventDecorator, asyncDecorator} from \"../helpers/progressEventReducer.js\";\nimport estimateDataURLDecodedBytes from '../helpers/estimateDataURLDecodedBytes.js';\n\nconst zlibOptions = {\n  flush: zlib.constants.Z_SYNC_FLUSH,\n  finishFlush: zlib.constants.Z_SYNC_FLUSH\n};\n\nconst brotliOptions = {\n  flush: zlib.constants.BROTLI_OPERATION_FLUSH,\n  finishFlush: zlib.constants.BROTLI_OPERATION_FLUSH\n}\n\nconst isBrotliSupported = utils.isFunction(zlib.createBrotliDecompress);\n\nconst {http: httpFollow, https: httpsFollow} = followRedirects;\n\nconst isHttps = /https:?/;\n\nconst supportedProtocols = platform.protocols.map(protocol => {\n  return protocol + ':';\n});\n\n\nconst flushOnFinish = (stream, [throttled, flush]) => {\n  stream\n    .on('end', flush)\n    .on('error', flush);\n\n  return throttled;\n}\n\nclass Http2Sessions {\n  constructor() {\n    this.sessions = Object.create(null);\n  }\n\n  getSession(authority, options) {\n    options = Object.assign({\n      sessionTimeout: 1000\n    }, options);\n\n    let authoritySessions = this.sessions[authority];\n\n    if (authoritySessions) {\n      let len = authoritySessions.length;\n\n      for (let i = 0; i < len; i++) {\n        const [sessionHandle, sessionOptions] = authoritySessions[i];\n        if (!sessionHandle.destroyed && !sessionHandle.closed && util.isDeepStrictEqual(sessionOptions, options)) {\n          return sessionHandle;\n        }\n      }\n    }\n\n    const session = http2.connect(authority, options);\n\n    let removed;\n\n    const removeSession = () => {\n      if (removed) {\n        return;\n      }\n\n      removed = true;\n\n      let entries = authoritySessions, len = entries.length, i = len;\n\n      while (i--) {\n        if (entries[i][0] === session) {\n          if (len === 1) {\n            delete this.sessions[authority];\n          } else {\n            entries.splice(i, 1);\n          }\n          return;\n        }\n      }\n    };\n\n    const originalRequestFn = session.request;\n\n    const {sessionTimeout} = options;\n\n    if(sessionTimeout != null) {\n\n      let timer;\n      let streamsCount = 0;\n\n      session.request = function () {\n        const stream = originalRequestFn.apply(this, arguments);\n\n        streamsCount++;\n\n        if (timer) {\n          clearTimeout(timer);\n          timer = null;\n        }\n\n        stream.once('close', () => {\n          if (!--streamsCount) {\n            timer = setTimeout(() => {\n              timer = null;\n              removeSession();\n            }, sessionTimeout);\n          }\n        });\n\n        return stream;\n      }\n    }\n\n    session.once('close', removeSession);\n\n    let entry = [\n        session,\n        options\n      ];\n\n    authoritySessions ? authoritySessions.push(entry) : authoritySessions =  this.sessions[authority] = [entry];\n\n    return session;\n  }\n}\n\nconst http2Sessions = new Http2Sessions();\n\n\n/**\n * If the proxy or config beforeRedirects functions are defined, call them with the options\n * object.\n *\n * @param {Object<string, any>} options - The options object that was passed to the request.\n *\n * @returns {Object<string, any>}\n */\nfunction dispatchBeforeRedirect(options, responseDetails) {\n  if (options.beforeRedirects.proxy) {\n    options.beforeRedirects.proxy(options);\n  }\n  if (options.beforeRedirects.config) {\n    options.beforeRedirects.config(options, responseDetails);\n  }\n}\n\n/**\n * If the proxy or config afterRedirects functions are defined, call them with the options\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} configProxy configuration from Axios options object\n * @param {string} location\n *\n * @returns {http.ClientRequestArgs}\n */\nfunction setProxy(options, configProxy, location) {\n  let proxy = configProxy;\n  if (!proxy && proxy !== false) {\n    const proxyUrl = proxyFromEnv.getProxyForUrl(location);\n    if (proxyUrl) {\n      proxy = new URL(proxyUrl);\n    }\n  }\n  if (proxy) {\n    // Basic proxy authorization\n    if (proxy.username) {\n      proxy.auth = (proxy.username || '') + ':' + (proxy.password || '');\n    }\n\n    if (proxy.auth) {\n      // Support proxy auth object form\n      if (proxy.auth.username || proxy.auth.password) {\n        proxy.auth = (proxy.auth.username || '') + ':' + (proxy.auth.password || '');\n      }\n      const base64 = Buffer\n        .from(proxy.auth, 'utf8')\n        .toString('base64');\n      options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n    }\n\n    options.headers.host = options.hostname + (options.port ? ':' + options.port : '');\n    const proxyHost = proxy.hostname || proxy.host;\n    options.hostname = proxyHost;\n    // Replace 'host' since options is not a URL object\n    options.host = proxyHost;\n    options.port = proxy.port;\n    options.path = location;\n    if (proxy.protocol) {\n      options.protocol = proxy.protocol.includes(':') ? proxy.protocol : `${proxy.protocol}:`;\n    }\n  }\n\n  options.beforeRedirects.proxy = function beforeRedirect(redirectOptions) {\n    // Configure proxy for redirected request, passing the original config proxy to apply\n    // the exact same logic as if the redirected request was performed by axios directly.\n    setProxy(redirectOptions, configProxy, redirectOptions.href);\n  };\n}\n\nconst isHttpAdapterSupported = typeof process !== 'undefined' && utils.kindOf(process) === 'process';\n\n// temporary hotfix\n\nconst wrapAsync = (asyncExecutor) => {\n  return new Promise((resolve, reject) => {\n    let onDone;\n    let isDone;\n\n    const done = (value, isRejected) => {\n      if (isDone) return;\n      isDone = true;\n      onDone && onDone(value, isRejected);\n    }\n\n    const _resolve = (value) => {\n      done(value);\n      resolve(value);\n    };\n\n    const _reject = (reason) => {\n      done(reason, true);\n      reject(reason);\n    }\n\n    asyncExecutor(_resolve, _reject, (onDoneHandler) => (onDone = onDoneHandler)).catch(_reject);\n  })\n};\n\nconst resolveFamily = ({address, family}) => {\n  if (!utils.isString(address)) {\n    throw TypeError('address must be a string');\n  }\n  return ({\n    address,\n    family: family || (address.indexOf('.') < 0 ? 6 : 4)\n  });\n}\n\nconst buildAddressEntry = (address, family) => resolveFamily(utils.isObject(address) ? address : {address, family});\n\nconst http2Transport = {\n  request(options, cb) {\n      const authority = options.protocol + '//' + options.hostname + ':' + (options.port || 80);\n\n      const {http2Options, headers} = options;\n\n      const session = http2Sessions.getSession(authority, http2Options);\n\n      const {\n        HTTP2_HEADER_SCHEME,\n        HTTP2_HEADER_METHOD,\n        HTTP2_HEADER_PATH,\n        HTTP2_HEADER_STATUS\n      } = http2.constants;\n\n      const http2Headers = {\n        [HTTP2_HEADER_SCHEME]: options.protocol.replace(':', ''),\n        [HTTP2_HEADER_METHOD]: options.method,\n        [HTTP2_HEADER_PATH]: options.path,\n      }\n\n      utils.forEach(headers, (header, name) => {\n        name.charAt(0) !== ':' && (http2Headers[name] = header);\n      });\n\n      const req = session.request(http2Headers);\n\n      req.once('response', (responseHeaders) => {\n        const response = req; //duplex\n\n        responseHeaders = Object.assign({}, responseHeaders);\n\n        const status = responseHeaders[HTTP2_HEADER_STATUS];\n\n        delete responseHeaders[HTTP2_HEADER_STATUS];\n\n        response.headers = responseHeaders;\n\n        response.statusCode = +status;\n\n        cb(response);\n      })\n\n      return req;\n  }\n}\n\n/*eslint consistent-return:0*/\nexport default isHttpAdapterSupported && function httpAdapter(config) {\n  return wrapAsync(async function dispatchHttpRequest(resolve, reject, onDone) {\n    let {data, lookup, family, httpVersion = 1, http2Options} = config;\n    const {responseType, responseEncoding} = config;\n    const method = config.method.toUpperCase();\n    let isDone;\n    let rejected = false;\n    let req;\n\n    httpVersion = +httpVersion;\n\n    if (Number.isNaN(httpVersion)) {\n      throw TypeError(`Invalid protocol version: '${config.httpVersion}' is not a number`);\n    }\n\n    if (httpVersion !== 1 && httpVersion !== 2) {\n      throw TypeError(`Unsupported protocol version '${httpVersion}'`);\n    }\n\n    const isHttp2 = httpVersion === 2;\n\n    if (lookup) {\n      const _lookup = callbackify(lookup, (value) => utils.isArray(value) ? value : [value]);\n      // hotfix to support opt.all option which is required for node 20.x\n      lookup = (hostname, opt, cb) => {\n        _lookup(hostname, opt, (err, arg0, arg1) => {\n          if (err) {\n            return cb(err);\n          }\n\n          const addresses = utils.isArray(arg0) ? arg0.map(addr => buildAddressEntry(addr)) : [buildAddressEntry(arg0, arg1)];\n\n          opt.all ? cb(err, addresses) : cb(err, addresses[0].address, addresses[0].family);\n        });\n      }\n    }\n\n    const abortEmitter = new EventEmitter();\n\n    function abort(reason) {\n      try {\n        abortEmitter.emit('abort', !reason || reason.type ? new CanceledError(null, config, req) : reason);\n      } catch(err) {\n        console.warn('emit error', err);\n      }\n    }\n\n    abortEmitter.once('abort', reject);\n\n    const onFinished = () => {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(abort);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', abort);\n      }\n\n      abortEmitter.removeAllListeners();\n    }\n\n    if (config.cancelToken || config.signal) {\n      config.cancelToken && config.cancelToken.subscribe(abort);\n      if (config.signal) {\n        config.signal.aborted ? abort() : config.signal.addEventListener('abort', abort);\n      }\n    }\n\n    onDone((response, isRejected) => {\n      isDone = true;\n\n      if (isRejected) {\n        rejected = true;\n        onFinished();\n        return;\n      }\n\n      const {data} = response;\n\n      if (data instanceof stream.Readable || data instanceof stream.Duplex) {\n        const offListeners = stream.finished(data, () => {\n          offListeners();\n          onFinished();\n        });\n      } else {\n        onFinished();\n      }\n    });\n\n\n\n\n\n    // Parse url\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    const parsed = new URL(fullPath, platform.hasBrowserEnv ? platform.origin : undefined);\n    const protocol = parsed.protocol || supportedProtocols[0];\n\n    if (protocol === 'data:') {\n      // Apply the same semantics as HTTP: only enforce if a finite, non-negative cap is set.\n      if (config.maxContentLength > -1) {\n        // Use the exact string passed to fromDataURI (config.url); fall back to fullPath if needed.\n        const dataUrl = String(config.url || fullPath || '');\n        const estimated = estimateDataURLDecodedBytes(dataUrl);\n\n        if (estimated > config.maxContentLength) {\n          return reject(new AxiosError(\n            'maxContentLength size of ' + config.maxContentLength + ' exceeded',\n            AxiosError.ERR_BAD_RESPONSE,\n            config\n          ));\n        }\n      }\n\n      let convertedData;\n\n      if (method !== 'GET') {\n        return settle(resolve, reject, {\n          status: 405,\n          statusText: 'method not allowed',\n          headers: {},\n          config\n        });\n      }\n\n      try {\n        convertedData = fromDataURI(config.url, responseType === 'blob', {\n          Blob: config.env && config.env.Blob\n        });\n      } catch (err) {\n        throw AxiosError.from(err, AxiosError.ERR_BAD_REQUEST, config);\n      }\n\n      if (responseType === 'text') {\n        convertedData = convertedData.toString(responseEncoding);\n\n        if (!responseEncoding || responseEncoding === 'utf8') {\n          convertedData = utils.stripBOM(convertedData);\n        }\n      } else if (responseType === 'stream') {\n        convertedData = stream.Readable.from(convertedData);\n      }\n\n      return settle(resolve, reject, {\n        data: convertedData,\n        status: 200,\n        statusText: 'OK',\n        headers: new AxiosHeaders(),\n        config\n      });\n    }\n\n    if (supportedProtocols.indexOf(protocol) === -1) {\n      return reject(new AxiosError(\n        'Unsupported protocol ' + protocol,\n        AxiosError.ERR_BAD_REQUEST,\n        config\n      ));\n    }\n\n    const headers = AxiosHeaders.from(config.headers).normalize();\n\n    // Set User-Agent (required by some servers)\n    // See https://github.com/axios/axios/issues/69\n    // User-Agent is specified; handle case where no UA header is desired\n    // Only set header if it hasn't been set in config\n    headers.set('User-Agent', 'axios/' + VERSION, false);\n\n    const {onUploadProgress, onDownloadProgress} = config;\n    const maxRate = config.maxRate;\n    let maxUploadRate = undefined;\n    let maxDownloadRate = undefined;\n\n    // support for spec compliant FormData objects\n    if (utils.isSpecCompliantForm(data)) {\n      const userBoundary = headers.getContentType(/boundary=([-_\\w\\d]{10,70})/i);\n\n      data = formDataToStream(data, (formHeaders) => {\n        headers.set(formHeaders);\n      }, {\n        tag: `axios-${VERSION}-boundary`,\n        boundary: userBoundary && userBoundary[1] || undefined\n      });\n      // support for https://www.npmjs.com/package/form-data api\n    } else if (utils.isFormData(data) && utils.isFunction(data.getHeaders)) {\n      headers.set(data.getHeaders());\n\n      if (!headers.hasContentLength()) {\n        try {\n          const knownLength = await util.promisify(data.getLength).call(data);\n          Number.isFinite(knownLength) && knownLength >= 0 && headers.setContentLength(knownLength);\n          /*eslint no-empty:0*/\n        } catch (e) {\n        }\n      }\n    } else if (utils.isBlob(data) || utils.isFile(data)) {\n      data.size && headers.setContentType(data.type || 'application/octet-stream');\n      headers.setContentLength(data.size || 0);\n      data = stream.Readable.from(readBlob(data));\n    } else if (data && !utils.isStream(data)) {\n      if (Buffer.isBuffer(data)) {\n        // Nothing to do...\n      } else if (utils.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(new AxiosError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers.setContentLength(data.length, false);\n\n      if (config.maxBodyLength > -1 && data.length > config.maxBodyLength) {\n        return reject(new AxiosError(\n          'Request body larger than maxBodyLength limit',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n    }\n\n    const contentLength = utils.toFiniteNumber(headers.getContentLength());\n\n    if (utils.isArray(maxRate)) {\n      maxUploadRate = maxRate[0];\n      maxDownloadRate = maxRate[1];\n    } else {\n      maxUploadRate = maxDownloadRate = maxRate;\n    }\n\n    if (data && (onUploadProgress || maxUploadRate)) {\n      if (!utils.isStream(data)) {\n        data = stream.Readable.from(data, {objectMode: false});\n      }\n\n      data = stream.pipeline([data, new AxiosTransformStream({\n        maxRate: utils.toFiniteNumber(maxUploadRate)\n      })], utils.noop);\n\n      onUploadProgress && data.on('progress', flushOnFinish(\n        data,\n        progressEventDecorator(\n          contentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress), false, 3)\n        )\n      ));\n    }\n\n    // HTTP basic authentication\n    let auth = undefined;\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    if (!auth && parsed.username) {\n      const urlUsername = parsed.username;\n      const urlPassword = parsed.password;\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    auth && headers.delete('authorization');\n\n    let path;\n\n    try {\n      path = buildURL(\n        parsed.pathname + parsed.search,\n        config.params,\n        config.paramsSerializer\n      ).replace(/^\\?/, '');\n    } catch (err) {\n      const customErr = new Error(err.message);\n      customErr.config = config;\n      customErr.url = config.url;\n      customErr.exists = true;\n      return reject(customErr);\n    }\n\n    headers.set(\n      'Accept-Encoding',\n      'gzip, compress, deflate' + (isBrotliSupported ? ', br' : ''), false\n      );\n\n    const options = {\n      path,\n      method: method,\n      headers: headers.toJSON(),\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth,\n      protocol,\n      family,\n      beforeRedirect: dispatchBeforeRedirect,\n      beforeRedirects: {},\n      http2Options\n    };\n\n    // cacheable-lookup integration hotfix\n    !utils.isUndefined(lookup) && (options.lookup = lookup);\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname.startsWith(\"[\") ? parsed.hostname.slice(1, -1) : parsed.hostname;\n      options.port = parsed.port;\n      setProxy(options, config.proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    let transport;\n    const isHttpsRequest = isHttps.test(options.protocol);\n    options.agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n\n    if (isHttp2) {\n       transport = http2Transport;\n    } else {\n      if (config.transport) {\n        transport = config.transport;\n      } else if (config.maxRedirects === 0) {\n        transport = isHttpsRequest ? https : http;\n      } else {\n        if (config.maxRedirects) {\n          options.maxRedirects = config.maxRedirects;\n        }\n        if (config.beforeRedirect) {\n          options.beforeRedirects.config = config.beforeRedirect;\n        }\n        transport = isHttpsRequest ? httpsFollow : httpFollow;\n      }\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    } else {\n      // follow-redirects does not skip comparison, so it should always succeed for axios -1 unlimited\n      options.maxBodyLength = Infinity;\n    }\n\n    if (config.insecureHTTPParser) {\n      options.insecureHTTPParser = config.insecureHTTPParser;\n    }\n\n    // Create the request\n    req = transport.request(options, function handleResponse(res) {\n      if (req.destroyed) return;\n\n      const streams = [res];\n\n      const responseLength = utils.toFiniteNumber(res.headers['content-length']);\n\n      if (onDownloadProgress || maxDownloadRate) {\n        const transformStream = new AxiosTransformStream({\n          maxRate: utils.toFiniteNumber(maxDownloadRate)\n        });\n\n        onDownloadProgress && transformStream.on('progress', flushOnFinish(\n          transformStream,\n          progressEventDecorator(\n            responseLength,\n            progressEventReducer(asyncDecorator(onDownloadProgress), true, 3)\n          )\n        ));\n\n        streams.push(transformStream);\n      }\n\n      // decompress the response body transparently if required\n      let responseStream = res;\n\n      // return the last request in case of redirects\n      const lastRequest = res.req || req;\n\n      // if decompress disabled we should not decompress\n      if (config.decompress !== false && res.headers['content-encoding']) {\n        // if no content, but headers still say that it is encoded,\n        // remove the header not confuse downstream operations\n        if (method === 'HEAD' || res.statusCode === 204) {\n          delete res.headers['content-encoding'];\n        }\n\n        switch ((res.headers['content-encoding'] || '').toLowerCase()) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'x-gzip':\n        case 'compress':\n        case 'x-compress':\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib.createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'deflate':\n          streams.push(new ZlibHeaderTransformStream());\n\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib.createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'br':\n          if (isBrotliSupported) {\n            streams.push(zlib.createBrotliDecompress(brotliOptions));\n            delete res.headers['content-encoding'];\n          }\n        }\n      }\n\n      responseStream = streams.length > 1 ? stream.pipeline(streams, utils.noop) : streams[0];\n\n\n\n      const response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: new AxiosHeaders(res.headers),\n        config,\n        request: lastRequest\n      };\n\n      if (responseType === 'stream') {\n        response.data = responseStream;\n        settle(resolve, reject, response);\n      } else {\n        const responseBuffer = [];\n        let totalResponseBytes = 0;\n\n        responseStream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n          totalResponseBytes += chunk.length;\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n            // stream.destroy() emit aborted event before calling reject() on Node.js v16\n            rejected = true;\n            responseStream.destroy();\n            abort(new AxiosError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              AxiosError.ERR_BAD_RESPONSE, config, lastRequest));\n          }\n        });\n\n        responseStream.on('aborted', function handlerStreamAborted() {\n          if (rejected) {\n            return;\n          }\n\n          const err = new AxiosError(\n            'stream has been aborted',\n            AxiosError.ERR_BAD_RESPONSE,\n            config,\n            lastRequest\n          );\n          responseStream.destroy(err);\n          reject(err);\n        });\n\n        responseStream.on('error', function handleStreamError(err) {\n          if (req.destroyed) return;\n          reject(AxiosError.from(err, null, config, lastRequest));\n        });\n\n        responseStream.on('end', function handleStreamEnd() {\n          try {\n            let responseData = responseBuffer.length === 1 ? responseBuffer[0] : Buffer.concat(responseBuffer);\n            if (responseType !== 'arraybuffer') {\n              responseData = responseData.toString(responseEncoding);\n              if (!responseEncoding || responseEncoding === 'utf8') {\n                responseData = utils.stripBOM(responseData);\n              }\n            }\n            response.data = responseData;\n          } catch (err) {\n            return reject(AxiosError.from(err, null, config, response.request, response));\n          }\n          settle(resolve, reject, response);\n        });\n      }\n\n      abortEmitter.once('abort', err => {\n        if (!responseStream.destroyed) {\n          responseStream.emit('error', err);\n          responseStream.destroy();\n        }\n      });\n    });\n\n    abortEmitter.once('abort', err => {\n      if (req.close) {\n        req.close();\n      } else {\n        req.destroy(err);\n      }\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      // @todo remove\n      // if (req.aborted && err.code !== AxiosError.ERR_FR_TOO_MANY_REDIRECTS) return;\n      reject(AxiosError.from(err, null, config, req));\n    });\n\n    // set tcp keep alive to prevent drop connection by peer\n    req.on('socket', function handleRequestSocket(socket) {\n      // default interval of sending ack packet is 1 minute\n      socket.setKeepAlive(true, 1000 * 60);\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n      const timeout = parseInt(config.timeout, 10);\n\n      if (Number.isNaN(timeout)) {\n        abort(new AxiosError(\n          'error trying to parse `config.timeout` to int',\n          AxiosError.ERR_BAD_OPTION_VALUE,\n          config,\n          req\n        ));\n\n        return;\n      }\n\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devouring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(timeout, function handleRequestTimeout() {\n        if (isDone) return;\n        let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n        const transitional = config.transitional || transitionalDefaults;\n        if (config.timeoutErrorMessage) {\n          timeoutErrorMessage = config.timeoutErrorMessage;\n        }\n        abort(new AxiosError(\n          timeoutErrorMessage,\n          transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n          config,\n          req\n        ));\n      });\n    } else {\n      // explicitly reset the socket timeout value for a possible `keep-alive` request\n      req.setTimeout(0);\n    }\n\n\n    // Send the request\n    if (utils.isStream(data)) {\n      let ended = false;\n      let errored = false;\n\n      data.on('end', () => {\n        ended = true;\n      });\n\n      data.once('error', err => {\n        errored = true;\n        req.destroy(err);\n      });\n\n      data.on('close', () => {\n        if (!ended && !errored) {\n          abort(new CanceledError('Request stream has been aborted', config, req));\n        }\n      });\n\n      data.pipe(req);\n    } else {\n      data && req.write(data);\n      req.end();\n    }\n  });\n}\n\nexport const __setProxy = setProxy;\n","export const VERSION = \"1.13.2\";","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport parseProtocol from './parseProtocol.js';\nimport platform from '../platform/index.js';\n\nconst DATA_URL_PATTERN = /^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\\s\\S]*)$/;\n\n/**\n * Parse data uri to a Buffer or Blob\n *\n * @param {String} uri\n * @param {?Boolean} asBlob\n * @param {?Object} options\n * @param {?Function} options.Blob\n *\n * @returns {Buffer|Blob}\n */\nexport default function fromDataURI(uri, asBlob, options) {\n  const _Blob = options && options.Blob || platform.classes.Blob;\n  const protocol = parseProtocol(uri);\n\n  if (asBlob === undefined && _Blob) {\n    asBlob = true;\n  }\n\n  if (protocol === 'data') {\n    uri = protocol.length ? uri.slice(protocol.length + 1) : uri;\n\n    const match = DATA_URL_PATTERN.exec(uri);\n\n    if (!match) {\n      throw new AxiosError('Invalid URL', AxiosError.ERR_INVALID_URL);\n    }\n\n    const mime = match[1];\n    const isBase64 = match[2];\n    const body = match[3];\n    const buffer = Buffer.from(decodeURIComponent(body), isBase64 ? 'base64' : 'utf8');\n\n    if (asBlob) {\n      if (!_Blob) {\n        throw new AxiosError('Blob is not supported', AxiosError.ERR_NOT_SUPPORT);\n      }\n\n      return new _Blob([buffer], {type: mime});\n    }\n\n    return buffer;\n  }\n\n  throw new AxiosError('Unsupported protocol ' + protocol, AxiosError.ERR_NOT_SUPPORT);\n}\n","'use strict';\n\nimport stream from 'stream';\nimport utils from '../utils.js';\n\nconst kInternals = Symbol('internals');\n\nclass AxiosTransformStream extends stream.Transform{\n  constructor(options) {\n    options = utils.toFlatObject(options, {\n      maxRate: 0,\n      chunkSize: 64 * 1024,\n      minChunkSize: 100,\n      timeWindow: 500,\n      ticksRate: 2,\n      samplesCount: 15\n    }, null, (prop, source) => {\n      return !utils.isUndefined(source[prop]);\n    });\n\n    super({\n      readableHighWaterMark: options.chunkSize\n    });\n\n    const internals = this[kInternals] = {\n      timeWindow: options.timeWindow,\n      chunkSize: options.chunkSize,\n      maxRate: options.maxRate,\n      minChunkSize: options.minChunkSize,\n      bytesSeen: 0,\n      isCaptured: false,\n      notifiedBytesLoaded: 0,\n      ts: Date.now(),\n      bytes: 0,\n      onReadCallback: null\n    };\n\n    this.on('newListener', event => {\n      if (event === 'progress') {\n        if (!internals.isCaptured) {\n          internals.isCaptured = true;\n        }\n      }\n    });\n  }\n\n  _read(size) {\n    const internals = this[kInternals];\n\n    if (internals.onReadCallback) {\n      internals.onReadCallback();\n    }\n\n    return super._read(size);\n  }\n\n  _transform(chunk, encoding, callback) {\n    const internals = this[kInternals];\n    const maxRate = internals.maxRate;\n\n    const readableHighWaterMark = this.readableHighWaterMark;\n\n    const timeWindow = internals.timeWindow;\n\n    const divider = 1000 / timeWindow;\n    const bytesThreshold = (maxRate / divider);\n    const minChunkSize = internals.minChunkSize !== false ? Math.max(internals.minChunkSize, bytesThreshold * 0.01) : 0;\n\n    const pushChunk = (_chunk, _callback) => {\n      const bytes = Buffer.byteLength(_chunk);\n      internals.bytesSeen += bytes;\n      internals.bytes += bytes;\n\n      internals.isCaptured && this.emit('progress', internals.bytesSeen);\n\n      if (this.push(_chunk)) {\n        process.nextTick(_callback);\n      } else {\n        internals.onReadCallback = () => {\n          internals.onReadCallback = null;\n          process.nextTick(_callback);\n        };\n      }\n    }\n\n    const transformChunk = (_chunk, _callback) => {\n      const chunkSize = Buffer.byteLength(_chunk);\n      let chunkRemainder = null;\n      let maxChunkSize = readableHighWaterMark;\n      let bytesLeft;\n      let passed = 0;\n\n      if (maxRate) {\n        const now = Date.now();\n\n        if (!internals.ts || (passed = (now - internals.ts)) >= timeWindow) {\n          internals.ts = now;\n          bytesLeft = bytesThreshold - internals.bytes;\n          internals.bytes = bytesLeft < 0 ? -bytesLeft : 0;\n          passed = 0;\n        }\n\n        bytesLeft = bytesThreshold - internals.bytes;\n      }\n\n      if (maxRate) {\n        if (bytesLeft <= 0) {\n          // next time window\n          return setTimeout(() => {\n            _callback(null, _chunk);\n          }, timeWindow - passed);\n        }\n\n        if (bytesLeft < maxChunkSize) {\n          maxChunkSize = bytesLeft;\n        }\n      }\n\n      if (maxChunkSize && chunkSize > maxChunkSize && (chunkSize - maxChunkSize) > minChunkSize) {\n        chunkRemainder = _chunk.subarray(maxChunkSize);\n        _chunk = _chunk.subarray(0, maxChunkSize);\n      }\n\n      pushChunk(_chunk, chunkRemainder ? () => {\n        process.nextTick(_callback, null, chunkRemainder);\n      } : _callback);\n    };\n\n    transformChunk(chunk, function transformNextChunk(err, _chunk) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (_chunk) {\n        transformChunk(_chunk, transformNextChunk);\n      } else {\n        callback(null);\n      }\n    });\n  }\n}\n\nexport default AxiosTransformStream;\n","const {asyncIterator} = Symbol;\n\nconst readBlob = async function* (blob) {\n  if (blob.stream) {\n    yield* blob.stream()\n  } else if (blob.arrayBuffer) {\n    yield await blob.arrayBuffer()\n  } else if (blob[asyncIterator]) {\n    yield* blob[asyncIterator]();\n  } else {\n    yield blob;\n  }\n}\n\nexport default readBlob;\n","import util from 'util';\nimport {Readable} from 'stream';\nimport utils from \"../utils.js\";\nimport readBlob from \"./readBlob.js\";\nimport platform from \"../platform/index.js\";\n\nconst BOUNDARY_ALPHABET = platform.ALPHABET.ALPHA_DIGIT + '-_';\n\nconst textEncoder = typeof TextEncoder === 'function' ? new TextEncoder() : new util.TextEncoder();\n\nconst CRLF = '\\r\\n';\nconst CRLF_BYTES = textEncoder.encode(CRLF);\nconst CRLF_BYTES_COUNT = 2;\n\nclass FormDataPart {\n  constructor(name, value) {\n    const {escapeName} = this.constructor;\n    const isStringValue = utils.isString(value);\n\n    let headers = `Content-Disposition: form-data; name=\"${escapeName(name)}\"${\n      !isStringValue && value.name ? `; filename=\"${escapeName(value.name)}\"` : ''\n    }${CRLF}`;\n\n    if (isStringValue) {\n      value = textEncoder.encode(String(value).replace(/\\r?\\n|\\r\\n?/g, CRLF));\n    } else {\n      headers += `Content-Type: ${value.type || \"application/octet-stream\"}${CRLF}`\n    }\n\n    this.headers = textEncoder.encode(headers + CRLF);\n\n    this.contentLength = isStringValue ? value.byteLength : value.size;\n\n    this.size = this.headers.byteLength + this.contentLength + CRLF_BYTES_COUNT;\n\n    this.name = name;\n    this.value = value;\n  }\n\n  async *encode(){\n    yield this.headers;\n\n    const {value} = this;\n\n    if(utils.isTypedArray(value)) {\n      yield value;\n    } else {\n      yield* readBlob(value);\n    }\n\n    yield CRLF_BYTES;\n  }\n\n  static escapeName(name) {\n      return String(name).replace(/[\\r\\n\"]/g, (match) => ({\n        '\\r' : '%0D',\n        '\\n' : '%0A',\n        '\"' : '%22',\n      }[match]));\n  }\n}\n\nconst formDataToStream = (form, headersHandler, options) => {\n  const {\n    tag = 'form-data-boundary',\n    size = 25,\n    boundary = tag + '-' + platform.generateString(size, BOUNDARY_ALPHABET)\n  } = options || {};\n\n  if(!utils.isFormData(form)) {\n    throw TypeError('FormData instance required');\n  }\n\n  if (boundary.length < 1 || boundary.length > 70) {\n    throw Error('boundary must be 10-70 characters long')\n  }\n\n  const boundaryBytes = textEncoder.encode('--' + boundary + CRLF);\n  const footerBytes = textEncoder.encode('--' + boundary + '--' + CRLF);\n  let contentLength = footerBytes.byteLength;\n\n  const parts = Array.from(form.entries()).map(([name, value]) => {\n    const part = new FormDataPart(name, value);\n    contentLength += part.size;\n    return part;\n  });\n\n  contentLength += boundaryBytes.byteLength * parts.length;\n\n  contentLength = utils.toFiniteNumber(contentLength);\n\n  const computedHeaders = {\n    'Content-Type': `multipart/form-data; boundary=${boundary}`\n  }\n\n  if (Number.isFinite(contentLength)) {\n    computedHeaders['Content-Length'] = contentLength;\n  }\n\n  headersHandler && headersHandler(computedHeaders);\n\n  return Readable.from((async function *() {\n    for(const part of parts) {\n      yield boundaryBytes;\n      yield* part.encode();\n    }\n\n    yield footerBytes;\n  })());\n};\n\nexport default formDataToStream;\n","\"use strict\";\n\nimport stream from \"stream\";\n\nclass ZlibHeaderTransformStream extends stream.Transform {\n  __transform(chunk, encoding, callback) {\n    this.push(chunk);\n    callback();\n  }\n\n  _transform(chunk, encoding, callback) {\n    if (chunk.length !== 0) {\n      this._transform = this.__transform;\n\n      // Add Default Compression headers if no zlib headers are present\n      if (chunk[0] !== 120) { // Hex: 78\n        const header = Buffer.alloc(2);\n        header[0] = 120; // Hex: 78\n        header[1] = 156; // Hex: 9C \n        this.push(header, encoding);\n      }\n    }\n\n    this.__transform(chunk, encoding, callback);\n  }\n}\n\nexport default ZlibHeaderTransformStream;\n","import utils from \"../utils.js\";\n\nconst callbackify = (fn, reducer) => {\n  return utils.isAsyncFn(fn) ? function (...args) {\n    const cb = args.pop();\n    fn.apply(this, args).then((value) => {\n      try {\n        reducer ? cb(null, ...reducer(value)) : cb(null, value);\n      } catch (err) {\n        cb(err);\n      }\n    }, cb);\n  } : fn;\n}\n\nexport default callbackify;\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn(...args);\n  }\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs)\n        }, threshold - passed);\n      }\n    }\n  }\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;\n","import speedometer from \"./speedometer.js\";\nimport throttle from \"./throttle.js\";\nimport utils from \"../utils.js\";\n\nexport const progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n}\n\nexport const progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n}\n\nexport const asyncDecorator = (fn) => (...args) => utils.asap(() => fn(...args));\n","/**\n * Estimate decoded byte length of a data:// URL *without* allocating large buffers.\n * - For base64: compute exact decoded size using length and padding;\n *               handle %XX at the character-count level (no string allocation).\n * - For non-base64: use UTF-8 byteLength of the encoded body as a safe upper bound.\n *\n * @param {string} url\n * @returns {number}\n */\nexport default function estimateDataURLDecodedBytes(url) {\n  if (!url || typeof url !== 'string') return 0;\n  if (!url.startsWith('data:')) return 0;\n\n  const comma = url.indexOf(',');\n  if (comma < 0) return 0;\n\n  const meta = url.slice(5, comma);\n  const body = url.slice(comma + 1);\n  const isBase64 = /;base64/i.test(meta);\n\n  if (isBase64) {\n    let effectiveLen = body.length;\n    const len = body.length; // cache length\n\n    for (let i = 0; i < len; i++) {\n      if (body.charCodeAt(i) === 37 /* '%' */ && i + 2 < len) {\n        const a = body.charCodeAt(i + 1);\n        const b = body.charCodeAt(i + 2);\n        const isHex =\n          ((a >= 48 && a <= 57) || (a >= 65 && a <= 70) || (a >= 97 && a <= 102)) &&\n          ((b >= 48 && b <= 57) || (b >= 65 && b <= 70) || (b >= 97 && b <= 102));\n\n        if (isHex) {\n          effectiveLen -= 2;\n          i += 2;\n        }\n      }\n    }\n\n    let pad = 0;\n    let idx = len - 1;\n\n    const tailIsPct3D = (j) =>\n      j >= 2 &&\n      body.charCodeAt(j - 2) === 37 && // '%'\n      body.charCodeAt(j - 1) === 51 && // '3'\n      (body.charCodeAt(j) === 68 || body.charCodeAt(j) === 100); // 'D' or 'd'\n\n    if (idx >= 0) {\n      if (body.charCodeAt(idx) === 61 /* '=' */) {\n        pad++;\n        idx--;\n      } else if (tailIsPct3D(idx)) {\n        pad++;\n        idx -= 3;\n      }\n    }\n\n    if (pad === 1 && idx >= 0) {\n      if (body.charCodeAt(idx) === 61 /* '=' */) {\n        pad++;\n      } else if (tailIsPct3D(idx)) {\n        pad++;\n      }\n    }\n\n    const groups = Math.floor(effectiveLen / 4);\n    const bytes = groups * 3 - (pad || 0);\n    return bytes > 0 ? bytes : 0;\n  }\n\n  return Buffer.byteLength(body, 'utf8');\n}\n","import platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure, sameSite) {\n      if (typeof document === 'undefined') return;\n\n      const cookie = [`${name}=${encodeURIComponent(value)}`];\n\n      if (utils.isNumber(expires)) {\n        cookie.push(`expires=${new Date(expires).toUTCString()}`);\n      }\n      if (utils.isString(path)) {\n        cookie.push(`path=${path}`);\n      }\n      if (utils.isString(domain)) {\n        cookie.push(`domain=${domain}`);\n      }\n      if (secure === true) {\n        cookie.push('secure');\n      }\n      if (utils.isString(sameSite)) {\n        cookie.push(`SameSite=${sameSite}`);\n      }\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      if (typeof document === 'undefined') return null;\n      const match = document.cookie.match(new RegExp('(?:^|; )' + name + '=([^;]*)'));\n      return match ? decodeURIComponent(match[1]) : null;\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000, '/');\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop, caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, prop, caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop, caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b, prop) => mergeDeepProperties(headersToObject(a), headersToObject(b), prop, true)\n  };\n\n  utils.forEach(Object.keys({...config1, ...config2}), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let { data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth } = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // browser handles it\n    } else if (utils.isFunction(data.getHeaders)) {\n      // Node.js FormData (like form-data package)\n      const formHeaders = data.getHeaders();\n      // Only set safe headers to avoid overwriting security headers\n      const allowedHeaders = ['content-type', 'content-length'];\n      Object.entries(formHeaders).forEach(([key, val]) => {\n        if (allowedHeaders.includes(key.toLowerCase())) {\n          headers.set(key, val);\n        }\n      });\n    }\n  }  \n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n","import utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport {progressEventReducer} from '../helpers/progressEventReducer.js';\nimport resolveConfig from \"../helpers/resolveConfig.js\";\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n  request.onerror = function handleError(event) {\n       // Browsers deliver a ProgressEvent in XHR onerror\n       // (message may be empty; when present, surface it)\n       // See https://developer.mozilla.org/docs/Web/API/XMLHttpRequest/error_event\n       const msg = event && event.message ? event.message : 'Network Error';\n       const err = new AxiosError(msg, AxiosError.ERR_NETWORK, config, request);\n       // attach the underlying event for consumers who want details\n       err.event = event || null;\n       reject(err);\n       request = null;\n    };\n    \n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","import CanceledError from \"../cancel/CanceledError.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport utils from '../utils.js';\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    }\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\n    }, timeout)\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    }\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils.asap(unsubscribe);\n\n    return signal;\n  }\n}\n\nexport default composeSignals;\n","\nexport const streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n}\n\nexport const readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n}\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n}\n\nexport const trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  }\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport composeSignals from \"../helpers/composeSignals.js\";\nimport {trackStream} from \"../helpers/trackStream.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport {progressEventReducer, progressEventDecorator, asyncDecorator} from \"../helpers/progressEventReducer.js\";\nimport resolveConfig from \"../helpers/resolveConfig.js\";\nimport settle from \"../core/settle.js\";\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst {isFunction} = utils;\n\nconst globalFetchAPI = (({Request, Response}) => ({\n  Request, Response\n}))(utils.global);\n\nconst {\n  ReadableStream, TextEncoder\n} = utils.global;\n\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n}\n\nconst factory = (env) => {\n  env = utils.merge.call({\n    skipUndefined: true\n  }, globalFetchAPI, env);\n\n  const {fetch: envFetch, Request, Response} = env;\n  const isFetchSupported = envFetch ? isFunction(envFetch) : typeof fetch === 'function';\n  const isRequestSupported = isFunction(Request);\n  const isResponseSupported = isFunction(Response);\n\n  if (!isFetchSupported) {\n    return false;\n  }\n\n  const isReadableStreamSupported = isFetchSupported && isFunction(ReadableStream);\n\n  const encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n      ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n      async (str) => new Uint8Array(await new Request(str).arrayBuffer())\n  );\n\n  const supportsRequestStream = isRequestSupported && isReadableStreamSupported && test(() => {\n    let duplexAccessed = false;\n\n    const hasContentType = new Request(platform.origin, {\n      body: new ReadableStream(),\n      method: 'POST',\n      get duplex() {\n        duplexAccessed = true;\n        return 'half';\n      },\n    }).headers.has('Content-Type');\n\n    return duplexAccessed && !hasContentType;\n  });\n\n  const supportsResponseStream = isResponseSupported && isReadableStreamSupported &&\n    test(() => utils.isReadableStream(new Response('').body));\n\n  const resolvers = {\n    stream: supportsResponseStream && ((res) => res.body)\n  };\n\n  isFetchSupported && ((() => {\n    ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n      !resolvers[type] && (resolvers[type] = (res, config) => {\n        let method = res && res[type];\n\n        if (method) {\n          return method.call(res);\n        }\n\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      })\n    });\n  })());\n\n  const getBodyLength = async (body) => {\n    if (body == null) {\n      return 0;\n    }\n\n    if (utils.isBlob(body)) {\n      return body.size;\n    }\n\n    if (utils.isSpecCompliantForm(body)) {\n      const _request = new Request(platform.origin, {\n        method: 'POST',\n        body,\n      });\n      return (await _request.arrayBuffer()).byteLength;\n    }\n\n    if (utils.isArrayBufferView(body) || utils.isArrayBuffer(body)) {\n      return body.byteLength;\n    }\n\n    if (utils.isURLSearchParams(body)) {\n      body = body + '';\n    }\n\n    if (utils.isString(body)) {\n      return (await encodeText(body)).byteLength;\n    }\n  }\n\n  const resolveBodyLength = async (headers, body) => {\n    const length = utils.toFiniteNumber(headers.getContentLength());\n\n    return length == null ? getBodyLength(body) : length;\n  }\n\n  return async (config) => {\n    let {\n      url,\n      method,\n      data,\n      signal,\n      cancelToken,\n      timeout,\n      onDownloadProgress,\n      onUploadProgress,\n      responseType,\n      headers,\n      withCredentials = 'same-origin',\n      fetchOptions\n    } = resolveConfig(config);\n\n    let _fetch = envFetch || fetch;\n\n    responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n    let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n    let request = null;\n\n    const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n    });\n\n    let requestContentLength;\n\n    try {\n      if (\n        onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n        (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n      ) {\n        let _request = new Request(url, {\n          method: 'POST',\n          body: data,\n          duplex: \"half\"\n        });\n\n        let contentTypeHeader;\n\n        if (utils.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n          headers.setContentType(contentTypeHeader)\n        }\n\n        if (_request.body) {\n          const [onProgress, flush] = progressEventDecorator(\n            requestContentLength,\n            progressEventReducer(asyncDecorator(onUploadProgress))\n          );\n\n          data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n        }\n      }\n\n      if (!utils.isString(withCredentials)) {\n        withCredentials = withCredentials ? 'include' : 'omit';\n      }\n\n      // Cloudflare Workers throws when credentials are defined\n      // see https://github.com/cloudflare/workerd/issues/902\n      const isCredentialsSupported = isRequestSupported && \"credentials\" in Request.prototype;\n\n      const resolvedOptions = {\n        ...fetchOptions,\n        signal: composedSignal,\n        method: method.toUpperCase(),\n        headers: headers.normalize().toJSON(),\n        body: data,\n        duplex: \"half\",\n        credentials: isCredentialsSupported ? withCredentials : undefined\n      };\n\n      request = isRequestSupported && new Request(url, resolvedOptions);\n\n      let response = await (isRequestSupported ? _fetch(request, fetchOptions) : _fetch(url, resolvedOptions));\n\n      const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n      if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n        const options = {};\n\n        ['status', 'statusText', 'headers'].forEach(prop => {\n          options[prop] = response[prop];\n        });\n\n        const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length'));\n\n        const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n          responseContentLength,\n          progressEventReducer(asyncDecorator(onDownloadProgress), true)\n        ) || [];\n\n        response = new Response(\n          trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n            flush && flush();\n            unsubscribe && unsubscribe();\n          }),\n          options\n        );\n      }\n\n      responseType = responseType || 'text';\n\n      let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config);\n\n      !isStreamResponse && unsubscribe && unsubscribe();\n\n      return await new Promise((resolve, reject) => {\n        settle(resolve, reject, {\n          data: responseData,\n          headers: AxiosHeaders.from(response.headers),\n          status: response.status,\n          statusText: response.statusText,\n          config,\n          request\n        })\n      })\n    } catch (err) {\n      unsubscribe && unsubscribe();\n\n      if (err && err.name === 'TypeError' && /Load failed|fetch/i.test(err.message)) {\n        throw Object.assign(\n          new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n          {\n            cause: err.cause || err\n          }\n        )\n      }\n\n      throw AxiosError.from(err, err && err.code, config, request);\n    }\n  }\n}\n\nconst seedCache = new Map();\n\nexport const getFetch = (config) => {\n  let env = (config && config.env) || {};\n  const {fetch, Request, Response} = env;\n  const seeds = [\n    Request, Response, fetch\n  ];\n\n  let len = seeds.length, i = len,\n    seed, target, map = seedCache;\n\n  while (i--) {\n    seed = seeds[i];\n    target = map.get(seed);\n\n    target === undefined && map.set(seed, target = (i ? new Map() : factory(env)))\n\n    map = target;\n  }\n\n  return target;\n};\n\nconst adapter = getFetch();\n\nexport default adapter;\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport * as fetchAdapter from './fetch.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\n/**\n * Known adapters mapping.\n * Provides environment-specific adapters for Axios:\n * - `http` for Node.js\n * - `xhr` for browsers\n * - `fetch` for fetch API-based requests\n * \n * @type {Object<string, Function|Object>}\n */\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: {\n    get: fetchAdapter.getFetch,\n  }\n};\n\n// Assign adapter names for easier debugging and identification\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', { value });\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', { value });\n  }\n});\n\n/**\n * Render a rejection reason string for unknown or unsupported adapters\n * \n * @param {string} reason\n * @returns {string}\n */\nconst renderReason = (reason) => `- ${reason}`;\n\n/**\n * Check if the adapter is resolved (function, null, or false)\n * \n * @param {Function|null|false} adapter\n * @returns {boolean}\n */\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\n/**\n * Get the first suitable adapter from the provided list.\n * Tries each adapter in order until a supported one is found.\n * Throws an AxiosError if no adapter is suitable.\n * \n * @param {Array<string|Function>|string|Function} adapters - Adapter(s) by name or function.\n * @param {Object} config - Axios request configuration\n * @throws {AxiosError} If no suitable adapter is available\n * @returns {Function} The resolved adapter function\n */\nfunction getAdapter(adapters, config) {\n  adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n  const { length } = adapters;\n  let nameOrAdapter;\n  let adapter;\n\n  const rejectedReasons = {};\n\n  for (let i = 0; i < length; i++) {\n    nameOrAdapter = adapters[i];\n    let id;\n\n    adapter = nameOrAdapter;\n\n    if (!isResolvedHandle(nameOrAdapter)) {\n      adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n      if (adapter === undefined) {\n        throw new AxiosError(`Unknown adapter '${id}'`);\n      }\n    }\n\n    if (adapter && (utils.isFunction(adapter) || (adapter = adapter.get(config)))) {\n      break;\n    }\n\n    rejectedReasons[id || '#' + i] = adapter;\n  }\n\n  if (!adapter) {\n    const reasons = Object.entries(rejectedReasons)\n      .map(([id, state]) => `adapter ${id} ` +\n        (state === false ? 'is not supported by the environment' : 'is not available in the build')\n      );\n\n    let s = length ?\n      (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n      'as no adapter specified';\n\n    throw new AxiosError(\n      `There is no suitable adapter to dispatch the request ` + s,\n      'ERR_NOT_SUPPORT'\n    );\n  }\n\n  return adapter;\n}\n\n/**\n * Exports Axios adapters and utility to resolve an adapter\n */\nexport default {\n  /**\n   * Resolve an adapter from a list of adapter names or functions.\n   * @type {Function}\n   */\n  getAdapter,\n\n  /**\n   * Exposes all known adapters\n   * @type {Object<string, Function|Object>}\n   */\n  adapters: knownAdapters\n};\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter, config);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig || {};\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.allowAbsoluteUrls\n    if (config.allowAbsoluteUrls !== undefined) {\n      // do nothing\n    } else if (this.defaults.allowAbsoluteUrls !== undefined) {\n      config.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls;\n    } else {\n      config.allowAbsoluteUrls = true;\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift(...requestInterceptorChain);\n      chain.push(...responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n  WebServerIsDown: 521,\n  ConnectionTimedOut: 522,\n  OriginIsUnreachable: 523,\n  TimeoutOccurred: 524,\n  SslHandshakeFailed: 525,\n  InvalidSslCertificate: 526,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","// lib/api.ts\r\n'use client';\r\n\r\nimport axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\r\n\r\nconst DEFAULT_BASE_URL = 'http://localhost:8000/api/v1';\r\nconst API_BASE_URL = (process.env.NEXT_PUBLIC_API_URL || DEFAULT_BASE_URL).replace(/\\/$/, '');\r\n\r\ninterface ApiResponse<T = unknown> {\r\n  success?: boolean;\r\n  data: T;\r\n  message?: string;\r\n  error?: string;\r\n}\r\n\r\ntype Filters = Record<string, string | number | boolean | undefined>;\r\ntype RevenueRecord = {\r\n  id?: number | string;\r\n  amount?: number;\r\n  date?: string;\r\n  created_at?: string;\r\n  [key: string]: unknown;\r\n};\r\ntype ExpenseRecord = RevenueRecord;\r\ntype TransactionRecord = (RevenueRecord | ExpenseRecord) & {\r\n  transaction_type: 'revenue' | 'expense';\r\n};\r\n\r\ninterface AuthTokens {\r\n  access_token: string;\r\n  token_type: string;\r\n}\r\n\r\ninterface User {\r\n  id: number;\r\n  email: string;\r\n  username?: string;\r\n  full_name: string;\r\n  role: string;\r\n  department?: string;\r\n  phone?: string | null;\r\n  is_active: boolean;\r\n  created_at?: string;\r\n  manager_id?: number;\r\n}\r\n\r\ntype LoginResponse = AuthTokens & { user: User };\r\nexport type ApiUser = User;\r\nexport interface ApiRole {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  permissions?: string[];\r\n  user_count?: number;\r\n  permission_count?: number;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nclass ApiClient {\r\n  private client: AxiosInstance;\r\n\r\n  constructor() {\r\n    this.client = axios.create({\r\n      baseURL: API_BASE_URL,\r\n      timeout: 300000, // 5 minutes timeout for ML training requests (can take longer)\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    this.setupInterceptors();\r\n  }\r\n\r\n  private setupInterceptors() {\r\n    this.client.interceptors.request.use(\r\n      (config) => {\r\n        if (typeof window !== 'undefined') {\r\n          const token = localStorage.getItem('access_token');\r\n          if (token) {\r\n            config.headers = config.headers ?? {};\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n          }\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(error),\r\n    );\r\n\r\n    this.client.interceptors.response.use(\r\n      (response) => response,\r\n      async (error) => {\r\n        const originalRequest = error.config;\r\n        const requestUrl = originalRequest?.url || '';\r\n\r\n        // Handle 401 Unauthorized - but DON'T redirect on login endpoint\r\n        // The login page handles its own error states and redirects\r\n        if (error.response?.status === 401 && !originalRequest?._retry) {\r\n          originalRequest._retry = true;\r\n          if (typeof window !== 'undefined') {\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('refresh_token');\r\n\r\n            // Only redirect if NOT on the login endpoint\r\n            // Login endpoint errors should be handled by the login page component\r\n            const isLoginEndpoint = requestUrl.includes('/auth/login-json') ||\r\n              requestUrl.includes('/auth/login');\r\n\r\n            if (!isLoginEndpoint && !window.location.pathname.includes('/auth/login')) {\r\n              // Redirect to home page for other 401 errors (not login-related)\r\n              window.location.href = '/';\r\n            }\r\n            // For login endpoint 401s, let the error propagate to the component\r\n          }\r\n        }\r\n\r\n        // Handle 403 Forbidden - user doesn't have permission\r\n        if (error.response?.status === 403) {\r\n          const url = error.config?.url || '';\r\n          const errorDetail = error.response?.data?.detail || 'Insufficient permissions';\r\n\r\n          // Suppress warnings for expected 403s on role-restricted endpoints\r\n          // These are handled gracefully by the calling code\r\n          const suppressWarnings = url.includes('/inventory/summary') ||\r\n            url.includes('/sales/summary') ||\r\n            url.includes('/sales/summary/overview') ||\r\n            url.includes('/sales/journal-entries') ||\r\n            url.includes('/backup');\r\n\r\n          // For user endpoints, provide more helpful error messages\r\n          if (url.includes('/users/') && !url.includes('/users/me')) {\r\n            // Don't suppress warnings for user endpoints - these are important\r\n            if (typeof window !== 'undefined') {\r\n              console.warn('Access forbidden to user resource:', errorDetail);\r\n            }\r\n            // Enhance error with more context\r\n            error.response.data = {\r\n              ...error.response.data,\r\n              detail: errorDetail,\r\n              message: `You don't have permission to access this user. ${errorDetail}`,\r\n            };\r\n          } else if (!suppressWarnings && typeof window !== 'undefined') {\r\n            console.warn('Access forbidden:', errorDetail);\r\n          }\r\n        }\r\n\r\n        // Handle 404 Not Found - suppress console warnings for non-critical endpoints\r\n        if (error.response?.status === 404) {\r\n          const url = error.config?.url || '';\r\n          // Only log 404s in development mode to reduce console noise\r\n          if (process.env.NODE_ENV === 'development' && typeof window !== 'undefined') {\r\n            console.warn('Resource not found:', url);\r\n          }\r\n        }\r\n\r\n        // Handle network errors - suppress repetitive errors for polling endpoints\r\n        if (!error.response) {\r\n          const url = error.config?.url || '';\r\n          // Suppress errors for polling endpoints to reduce console noise\r\n          // These are expected when backend is down\r\n          const isPollingEndpoint = url.includes('/notifications/unread/count') ||\r\n            url.includes('/dashboard/recent-activity') ||\r\n            url.includes('/health');\r\n\r\n          if (!isPollingEndpoint) {\r\n            // Only log non-polling endpoint errors\r\n            const errorMessage = error.message || 'Network error: Unable to connect to server';\r\n\r\n            if (process.env.NODE_ENV === 'development') {\r\n              console.error('Network error:', errorMessage);\r\n\r\n              if (error.code === 'ECONNREFUSED' || error.message?.includes('Network Error')) {\r\n                console.error('Backend server may not be running. Please ensure the backend is running on http://localhost:8000');\r\n              } else if (error.code === 'ERR_NETWORK') {\r\n                console.error('Network request failed. Check your internet connection and backend server status.');\r\n              }\r\n            }\r\n          }\r\n          // Polling endpoint errors are silently handled - they're expected when backend is down\r\n        }\r\n\r\n        return Promise.reject(error);\r\n      },\r\n    );\r\n  }\r\n\r\n  private normalizeResponse<T>(payload: unknown): ApiResponse<T> {\r\n    // Handle different response formats from the backend\r\n    if (!payload) {\r\n      return { data: null as unknown as T };\r\n    }\r\n\r\n    // If payload is already in ApiResponse format\r\n    if (typeof payload === 'object' && payload !== null) {\r\n      if ('data' in payload) {\r\n        return payload as ApiResponse<T>;\r\n      }\r\n      // If payload is the data itself (direct response)\r\n      return { data: payload as T };\r\n    }\r\n\r\n    // Fallback: wrap primitive values\r\n    return { data: payload as T };\r\n  }\r\n\r\n  /**\r\n   * Extract error message from various error formats\r\n   */\r\n  private extractErrorMessage(error: unknown): string {\r\n    if (error && typeof error === 'object') {\r\n      // Axios error format\r\n      if ('response' in error) {\r\n        const axiosError = error as { response?: { data?: { detail?: string; message?: string; error?: string } } };\r\n        return axiosError.response?.data?.detail ||\r\n          axiosError.response?.data?.message ||\r\n          axiosError.response?.data?.error ||\r\n          'An error occurred';\r\n      }\r\n      // Standard Error object\r\n      if ('message' in error) {\r\n        return (error as { message: string }).message;\r\n      }\r\n    }\r\n    // Fallback\r\n    return error instanceof Error ? error.message : 'An unknown error occurred';\r\n  }\r\n\r\n  private async get<T>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.get<T>(url, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async post<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.post<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async put<T, B = unknown>(url: string, data?: B, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.put<T>(url, data, config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  private async delete<T>(url: string, data?: unknown, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.delete<T>(url, { ...config, data });\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n\r\n  // Auth endpoints\r\n  async login(identifier: string, password: string): Promise<ApiResponse<LoginResponse>> {\r\n    const response = await this.client.post<LoginResponse>('/auth/login-json', {\r\n      username: identifier,\r\n      password,\r\n    });\r\n    const normalized = this.normalizeResponse<LoginResponse>(response.data);\r\n\r\n    // Only set token if we have a valid access token and user data\r\n    if (normalized.data?.access_token && normalized.data?.user) {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.setItem('access_token', normalized.data.access_token);\r\n      }\r\n    } else {\r\n      // Clear any existing tokens if response is invalid\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n        localStorage.removeItem('refresh_token');\r\n      }\r\n      throw new Error('Invalid login response: missing access token or user data');\r\n    }\r\n\r\n    return normalized;\r\n  }\r\n\r\n  async register(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post<User>('/auth/register', userData);\r\n  }\r\n\r\n  async logout(): Promise<void> {\r\n    try {\r\n      await this.post('/auth/logout');\r\n    } finally {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('access_token');\r\n      }\r\n    }\r\n  }\r\n\r\n  async refreshToken(): Promise<ApiResponse<{ access_token: string }>> {\r\n    if (typeof window === 'undefined') throw new Error('Token refresh is client only');\r\n    const token = localStorage.getItem('access_token');\r\n    if (!token) throw new Error('No token to refresh');\r\n    const response = await this.client.post('/auth/refresh', { token });\r\n    const normalized = this.normalizeResponse<{ access_token: string }>(response.data);\r\n    localStorage.setItem('access_token', normalized.data.access_token);\r\n    return normalized;\r\n  }\r\n\r\n  async generateOTP(): Promise<ApiResponse<{ otp_code: string; message: string }>> {\r\n    return this.post('/auth/generate-otp');\r\n  }\r\n\r\n  async verifyOTP(otp_code: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/verify-otp', { otp_code });\r\n  }\r\n\r\n  async requestOTP(email: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/request-otp', { email });\r\n  }\r\n\r\n  async resetPassword(email: string, code: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/auth/reset-password', { email, code, newPassword });\r\n  }\r\n\r\n  // User endpoints\r\n  async getCurrentUser(): Promise<ApiResponse<User>> {\r\n    return this.get('/users/me');\r\n  }\r\n\r\n  async updateCurrentUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put('/users/me', userData);\r\n  }\r\n\r\n  async changePassword(currentPassword: string, newPassword: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/users/me/change-password', { current_password: currentPassword, new_password: newPassword });\r\n  }\r\n\r\n  async getUsers(): Promise<ApiResponse<User[]>> {\r\n    try {\r\n      const response = await this.get<User[]>('/users/');\r\n      // Ensure we always return an array\r\n      if (Array.isArray(response.data)) {\r\n        return response;\r\n      }\r\n      return { ...response, data: [] };\r\n    } catch (error: unknown) {\r\n      const axiosError = error as { response?: { status?: number } };\r\n      if (axiosError.response?.status === 403) {\r\n        // Return empty array instead of throwing for 403 on list endpoint\r\n        // This allows the UI to handle permission errors gracefully\r\n        return { data: [] };\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getUser(userId: number): Promise<ApiResponse<User>> {\r\n    try {\r\n      return await this.get(`/users/${userId}`);\r\n    } catch (error: unknown) {\r\n      // Provide better error context for user fetch failures\r\n      const axiosError = error as { response?: { status?: number; data?: { detail?: string } } };\r\n      if (axiosError.response?.status === 403) {\r\n        const detail = axiosError.response.data?.detail || 'Insufficient permissions';\r\n        const enhancedError = new Error(`Cannot access user ${userId}: ${detail}`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      if (axiosError.response?.status === 404) {\r\n        const enhancedError = new Error(`User ${userId} not found`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getSubordinates(userId: number): Promise<ApiResponse<User[]>> {\r\n    return this.get(`/users/${userId}/subordinates`);\r\n  }\r\n\r\n  async createUser(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    try {\r\n      return await this.post('/users', userData);\r\n    } catch (error: unknown) {\r\n      // Provide better error context for user creation failures\r\n      const axiosError = error as { response?: { status?: number; data?: { detail?: string } } };\r\n      if (axiosError.response?.status === 403) {\r\n        const detail = axiosError.response.data?.detail || 'Insufficient permissions';\r\n        const enhancedError = new Error(`Cannot create user: ${detail}. You may not have permission to create users with this role.`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      if (axiosError.response?.status === 400) {\r\n        const detail = axiosError.response.data?.detail || 'Invalid user data';\r\n        const enhancedError = new Error(`Failed to create user: ${detail}`);\r\n        (enhancedError as unknown as { response?: unknown }).response = axiosError.response;\r\n        throw enhancedError;\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a subordinate (accountant or employee)\r\n   * Used by finance managers to create accountants/employees\r\n   */\r\n  async createSubordinate(userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.post('/users/subordinates', userData);\r\n  }\r\n\r\n  async updateUser(userId: number, userData: Partial<User>): Promise<ApiResponse<User>> {\r\n    return this.put(`/users/${userId}`, userData);\r\n  }\r\n\r\n  async deleteUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/delete`, { password });\r\n  }\r\n\r\n  async activateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateUser(userId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/users/${userId}/deactivate`, { password });\r\n  }\r\n\r\n  // Permission endpoints\r\n  async getUserPermissions(userId: number): Promise<ApiResponse<{ permissions: Record<string, unknown>[] }>> {\r\n    return this.get(`/users/${userId}/permissions`);\r\n  }\r\n\r\n  async updateUserPermissions(userId: number, permissions: Record<string, unknown>[]): Promise<ApiResponse<{ message: string; permissions: Record<string, unknown>[] }>> {\r\n    return this.put(`/users/${userId}/permissions`, { permissions });\r\n  }\r\n\r\n  // Financial endpoints\r\n  async getRevenues(filters?: Filters): Promise<ApiResponse<RevenueRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/revenue', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getRevenue(revenueId: number): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.get(`/revenue/${revenueId}`);\r\n  }\r\n\r\n  async createRevenue(revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.post('/revenue', revenueData);\r\n  }\r\n\r\n  async updateRevenue(revenueId: number, revenueData: RevenueRecord): Promise<ApiResponse<RevenueRecord>> {\r\n    return this.put(`/revenue/${revenueId}`, revenueData);\r\n  }\r\n\r\n  async deleteRevenue(revenueId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/revenue/${revenueId}/delete`, { password });\r\n  }\r\n\r\n  async getExpenses(filters?: Filters): Promise<ApiResponse<ExpenseRecord[]>> {\r\n    // For reports, we need all data, so increase limit significantly\r\n    const params = { ...filters, limit: 10000, skip: 0 };\r\n    const response = await this.get('/expenses', { params });\r\n    const data = Array.isArray(response.data) ? response.data : [];\r\n    return { ...response, data };\r\n  }\r\n\r\n  async getExpense(expenseId: number): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.get(`/expenses/${expenseId}`);\r\n  }\r\n\r\n  async createExpense(expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.post('/expenses', expenseData);\r\n  }\r\n\r\n  async updateExpense(expenseId: number, expenseData: ExpenseRecord): Promise<ApiResponse<ExpenseRecord>> {\r\n    return this.put(`/expenses/${expenseId}`, expenseData);\r\n  }\r\n\r\n  async deleteExpense(expenseId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/expenses/${expenseId}/delete`, { password });\r\n  }\r\n\r\n  // Transactions (combined revenues and expenses)\r\n  async getTransactions(): Promise<ApiResponse<TransactionRecord[]>> {\r\n    try {\r\n      const [revenuesResponse, expensesResponse] = await Promise.all([\r\n        this.getRevenues(),\r\n        this.getExpenses(),\r\n      ]);\r\n\r\n      const revenues = (revenuesResponse.data || []).map((r: RevenueRecord): TransactionRecord => ({\r\n        ...r,\r\n        transaction_type: 'revenue',\r\n        id: `revenue-${r.id}`,\r\n      }));\r\n\r\n      const expenses = (expensesResponse.data || []).map((e: ExpenseRecord): TransactionRecord => ({\r\n        ...e,\r\n        transaction_type: 'expense',\r\n        id: `expense-${e.id}`,\r\n        amount: -Math.abs(Number(e.amount ?? 0)), // Make expenses negative\r\n      }));\r\n\r\n      const transactions = [...revenues, ...expenses].sort((a, b) => {\r\n        const dateA = new Date(a.date || a.created_at || 0).getTime();\r\n        const dateB = new Date(b.date || b.created_at || 0).getTime();\r\n        return dateB - dateA; // Most recent first\r\n      });\r\n\r\n      return { data: transactions };\r\n    } catch (error) {\r\n      // Error handled by caller\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Dashboard\r\n  async getDashboardOverview(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/overview');\r\n  }\r\n\r\n  async getDashboardKPIs(period: 'week' | 'month' | 'quarter' | 'year' = 'month'): Promise<ApiResponse<unknown>> {\r\n    return this.get('/dashboard/kpis', { params: { period } });\r\n  }\r\n\r\n  async getDashboardRecentActivity(limit = 10): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/dashboard/recent-activity', { params: { limit } });\r\n  }\r\n\r\n  // Analytics\r\n  async getAdvancedKPIs(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/kpis', { params });\r\n  }\r\n\r\n  async getTrendAnalysis(params?: {\r\n    metric?: 'revenue' | 'expenses' | 'profit';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/trends', { params });\r\n  }\r\n\r\n  async getTimeSeriesData(params?: {\r\n    interval?: 'day' | 'week' | 'month' | 'quarter' | 'year';\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/time-series', { params });\r\n  }\r\n\r\n  async getCategoryBreakdown(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<unknown>> {\r\n    return this.get('/analytics/category-breakdown', { params });\r\n  }\r\n\r\n  async getAnalyticsOverview(params?: {\r\n    period?: 'week' | 'month' | 'quarter' | 'year' | 'custom';\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get('/analytics/overview', { params });\r\n  }\r\n\r\n  // Reports\r\n  async getReports(filters?: Filters): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    return this.get('/reports', { params: filters });\r\n  }\r\n\r\n  async getReport(reportId: number): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.get(`/reports/${reportId}`);\r\n  }\r\n\r\n  async createReport(reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.post('/reports', reportData);\r\n  }\r\n\r\n  async updateReport(reportId: number, reportData: Record<string, unknown>): Promise<ApiResponse<Record<string, unknown>>> {\r\n    return this.put(`/reports/${reportId}`, reportData);\r\n  }\r\n\r\n  async deleteReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/reports/${reportId}`);\r\n  }\r\n\r\n  async downloadReport(reportId: number): Promise<ApiResponse<{ download_url: string; file_size: number; filename: string }>> {\r\n    return this.post(`/reports/${reportId}/download`);\r\n  }\r\n\r\n  async regenerateReport(reportId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/reports/${reportId}/regenerate`);\r\n  }\r\n\r\n  async getAvailableReportTypes(): Promise<ApiResponse<{ report_types: Array<{ type: string; name: string; description: string }> }>> {\r\n    return this.get('/reports/types/available');\r\n  }\r\n\r\n  // Financial Reports - Direct data fetching\r\n  async getIncomeStatement(startDate?: string, endDate?: string): Promise<ApiResponse<Record<string, unknown>>> {\r\n    const params: Filters = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n\r\n    // Fetch revenue and expense data to calculate income statement\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n\r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n\r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) =>\r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) =>\r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n\r\n    // Calculate totals - ONLY from approved entries\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n\r\n    // Group by category - handle both enum and string categories - ONLY from approved entries\r\n    const revenueByCategory: Record<string, number> = {};\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const catValue =\r\n        r.category && typeof r.category === 'object' && 'value' in r.category\r\n          ? (r.category as { value?: unknown }).value\r\n          : r.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      revenueByCategory[catKey] = (revenueByCategory[catKey] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const catValue =\r\n        e.category && typeof e.category === 'object' && 'value' in e.category\r\n          ? (e.category as { value?: unknown }).value\r\n          : e.category;\r\n      const catKey = typeof catValue === 'string' ? catValue : 'other';\r\n      expenseByCategory[catKey] = (expenseByCategory[catKey] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        revenue: {\r\n          total: totalRevenue,\r\n          by_category: revenueByCategory,\r\n        },\r\n        expenses: {\r\n          total: totalExpenses,\r\n          by_category: expenseByCategory,\r\n        },\r\n        profit,\r\n        profit_margin: totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0,\r\n      },\r\n    };\r\n  }\r\n\r\n  async getCashFlow(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    summary: { total_inflow: number; total_outflow: number; net_cash_flow: number };\r\n    daily_cash_flow: Record<string, { inflow: number; outflow: number; net: number }>;\r\n  }>> {\r\n    const params: Record<string, unknown> = {};\r\n    // Convert date strings to ISO datetime format (YYYY-MM-DD -> YYYY-MM-DDTHH:mm:ss)\r\n    if (startDate) {\r\n      const start = new Date(startDate + 'T00:00:00');\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (endDate) {\r\n      // Set end date to end of day\r\n      const end = new Date(endDate + 'T23:59:59');\r\n      params.end_date = end.toISOString();\r\n    }\r\n\r\n    // Fetch revenue and expense data to calculate cash flow\r\n    // Always fetch all data first, then filter client-side if needed\r\n    const [revenuesRes, expensesRes] = await Promise.all([this.getRevenues(), this.getExpenses()]);\r\n\r\n    let revenues = revenuesRes.data || [];\r\n    let expenses = expensesRes.data || [];\r\n\r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n\r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue and expense entries\r\n    // This ensures cash flow is only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) =>\r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) =>\r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n\r\n    // Calculate daily cash flow - ONLY from approved entries\r\n    const cashFlowByDay: Record<string, { inflow: number; outflow: number; net: number }> = {};\r\n\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = r.date || r.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(r.amount || 0);\r\n      cashFlowByDay[day].inflow += amount;\r\n      cashFlowByDay[day].net += amount;\r\n    });\r\n\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      // Handle different date formats - try date, created_at, or use current date\r\n      const dateStr = e.date || e.created_at;\r\n      const day = dateStr ? new Date(dateStr).toISOString().split('T')[0] : new Date().toISOString().split('T')[0];\r\n      if (!cashFlowByDay[day]) {\r\n        cashFlowByDay[day] = { inflow: 0, outflow: 0, net: 0 };\r\n      }\r\n      const amount = Number(e.amount || 0);\r\n      cashFlowByDay[day].outflow += amount;\r\n      cashFlowByDay[day].net -= amount;\r\n    });\r\n\r\n    const totalInflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.inflow, 0);\r\n    const totalOutflow = Object.values(cashFlowByDay).reduce((sum, day) => sum + day.outflow, 0);\r\n    const netCashFlow = totalInflow - totalOutflow;\r\n\r\n    return {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        summary: {\r\n          total_inflow: totalInflow,\r\n          total_outflow: totalOutflow,\r\n          net_cash_flow: netCashFlow,\r\n        },\r\n        daily_cash_flow: cashFlowByDay,\r\n      },\r\n    };\r\n  }\r\n\r\n  // Financial Summary Report\r\n  async getFinancialSummary(\r\n    startDate?: string,\r\n    endDate?: string,\r\n  ): Promise<ApiResponse<{\r\n    period: { start_date?: string; end_date?: string };\r\n    financials: {\r\n      total_revenue: number;\r\n      total_expenses: number;\r\n      profit: number;\r\n      profit_margin: number;\r\n    };\r\n    revenue_by_category: Record<string, number>;\r\n    expenses_by_category: Record<string, number>;\r\n    transaction_counts: { revenue: number; expenses: number; total: number };\r\n    generated_at: string;\r\n  }>> {\r\n    // Always fetch all data first, then calculate summary\r\n    const [allRevenuesRes, allExpensesRes] = await Promise.all([\r\n      this.getRevenues(),\r\n      this.getExpenses(),\r\n    ]);\r\n\r\n    let revenues = allRevenuesRes.data || [];\r\n    let expenses = allExpensesRes.data || [];\r\n\r\n    // Filter by date range if provided (client-side filtering)\r\n    if (startDate && endDate) {\r\n      const start = new Date(startDate + 'T00:00:00').getTime();\r\n      const end = new Date(endDate + 'T23:59:59').getTime();\r\n\r\n      revenues = revenues.filter((r: RevenueRecord) => {\r\n        const dateStr = r.date || r.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n\r\n      expenses = expenses.filter((e: ExpenseRecord) => {\r\n        const dateStr = e.date || e.created_at;\r\n        if (!dateStr) return true; // Include entries without dates\r\n        try {\r\n          const entryDate = new Date(dateStr).getTime();\r\n          return entryDate >= start && entryDate <= end;\r\n        } catch {\r\n          return true; // Include if date parsing fails\r\n        }\r\n      });\r\n    }\r\n\r\n    // Filter to only include APPROVED revenue entries for calculations\r\n    // This ensures revenue and net profit are only calculated from approved entries\r\n    const approvedRevenues = revenues.filter((r: RevenueRecord) =>\r\n      r.is_approved === true || r.is_approved === 'true' || r.approved === true\r\n    );\r\n\r\n    // Filter to only include APPROVED expense entries for calculations\r\n    const approvedExpenses = expenses.filter((e: ExpenseRecord) =>\r\n      e.is_approved === true || e.is_approved === 'true' || e.approved === true\r\n    );\r\n\r\n    // Calculate totals from filtered data - ONLY approved revenue and expenses\r\n    const totalRevenue = approvedRevenues.reduce((sum: number, r: RevenueRecord) => sum + Number(r.amount || 0), 0);\r\n    const totalExpenses = approvedExpenses.reduce((sum: number, e: ExpenseRecord) => sum + Number(e.amount || 0), 0);\r\n    const profit = totalRevenue - totalExpenses;\r\n    const profitMargin = totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0;\r\n\r\n    // Process category summaries - ONLY from approved revenue\r\n    const revenueByCategory: Record<string, number> = {};\r\n    const normalizeCategory = (raw: unknown): string => {\r\n      if (typeof raw === 'string') return raw || 'other';\r\n      if (raw && typeof raw === 'object' && 'value' in raw) {\r\n        const value = (raw as { value?: unknown }).value;\r\n        return typeof value === 'string' ? value : String(value ?? 'other');\r\n      }\r\n      return String(raw ?? 'other');\r\n    };\r\n\r\n    approvedRevenues.forEach((r: RevenueRecord) => {\r\n      const cat = normalizeCategory(r.category);\r\n      revenueByCategory[cat] = (revenueByCategory[cat] || 0) + Number(r.amount || 0);\r\n    });\r\n\r\n    // Process category summaries - ONLY from approved expenses\r\n    const expenseByCategory: Record<string, number> = {};\r\n    approvedExpenses.forEach((e: ExpenseRecord) => {\r\n      const cat = normalizeCategory(e.category);\r\n      expenseByCategory[cat] = (expenseByCategory[cat] || 0) + Number(e.amount || 0);\r\n    });\r\n\r\n    // Calculate actual transaction counts - ONLY approved items\r\n    const revenueCount = approvedRevenues.length;\r\n    const expenseCount = approvedExpenses.length;\r\n\r\n    const result = {\r\n      data: {\r\n        period: { start_date: startDate, end_date: endDate },\r\n        financials: {\r\n          total_revenue: totalRevenue,\r\n          total_expenses: totalExpenses,\r\n          profit,\r\n          profit_margin: profitMargin,\r\n        },\r\n        revenue_by_category: revenueByCategory,\r\n        expenses_by_category: expenseByCategory,\r\n        transaction_counts: {\r\n          revenue: revenueCount,\r\n          expenses: expenseCount,\r\n          total: revenueCount + expenseCount,\r\n        },\r\n        generated_at: new Date().toISOString(),\r\n      },\r\n    };\r\n\r\n    return result;\r\n  }\r\n\r\n  // Approvals\r\n  async getApprovals(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/approvals');\r\n  }\r\n\r\n  async getApproval(approvalId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/approvals/${approvalId}`);\r\n  }\r\n\r\n  async getApprovalComments(approvalId: number): Promise<ApiResponse<unknown[]>> {\r\n    return this.get(`/approvals/${approvalId}/comments`);\r\n  }\r\n\r\n  async createApprovalComment(approvalId: number, comment: string): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${approvalId}/comments`, { comment });\r\n  }\r\n\r\n  async approveItem(itemId: number, itemType: 'revenue' | 'expense'): Promise<ApiResponse<unknown>> {\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/approve`);\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/approve`);\r\n    }\r\n  }\r\n\r\n  async rejectItem(\r\n    itemId: number,\r\n    itemType: 'revenue' | 'expense',\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // Reject revenue or expense entry through their respective endpoints\r\n    if (itemType === 'revenue') {\r\n      return this.post(`/revenue/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    } else {\r\n      return this.post(`/expenses/${itemId}/reject`, { reason: reason || 'No reason provided', password });\r\n    }\r\n  }\r\n\r\n  async approveWorkflow(workflowId: number): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/approve`);\r\n  }\r\n\r\n  async rejectWorkflow(\r\n    workflowId: number,\r\n    reason: string,\r\n    password: string,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.post(`/approvals/${workflowId}/reject`, { rejection_reason: reason, password });\r\n  }\r\n\r\n  // Notifications\r\n  async getNotifications(unreadOnly?: boolean): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/notifications', { params: { unread_only: unreadOnly } });\r\n  }\r\n\r\n  async getNotification(notificationId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async markNotificationAsRead(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/notifications/${notificationId}/mark-read`);\r\n  }\r\n\r\n  async markAllNotificationsAsRead(): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/notifications/mark-all-read');\r\n  }\r\n\r\n  async deleteNotification(notificationId: number): Promise<ApiResponse<{ message: string }>> {\r\n    return this.delete(`/notifications/${notificationId}`);\r\n  }\r\n\r\n  async getUnreadCount(): Promise<ApiResponse<{ unread_count: number }>> {\r\n    return this.get('/notifications/unread/count');\r\n  }\r\n\r\n  async getNotificationPreferences(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/notifications/preferences');\r\n  }\r\n\r\n  async updateNotificationPreferences(\r\n    preferences: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put('/notifications/preferences', preferences);\r\n  }\r\n\r\n  // Admin endpoints\r\n  async getAdminSystemStats(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/system/stats');\r\n  }\r\n\r\n  async getSystemSettings(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/settings');\r\n  }\r\n\r\n  async getSystemHealth(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/health');\r\n  }\r\n\r\n  async getHierarchy(): Promise<ApiResponse<unknown>> {\r\n    return this.get('/admin/hierarchy');\r\n  }\r\n\r\n  async getRoles(): Promise<ApiResponse<ApiRole[]>> {\r\n    return this.get('/admin/roles');\r\n  }\r\n\r\n  async getPermissions(): Promise<ApiResponse<string[]>> {\r\n    return this.get('/admin/permissions');\r\n  }\r\n\r\n  async createRole(roleData: { name: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.post('/admin/roles', payload);\r\n  }\r\n\r\n  async updateRole(roleId: number, roleData: { name?: string; description?: string; permissions?: string[] }): Promise<ApiResponse<ApiRole>> {\r\n    const payload = {\r\n      ...roleData,\r\n      permissions: roleData.permissions?.map((perm) => perm.trim()).filter(Boolean),\r\n    };\r\n    return this.put(`/admin/roles/${roleId}`, payload);\r\n  }\r\n\r\n  async deleteRole(roleId: number): Promise<ApiResponse<null>> {\r\n    return this.delete(`/admin/roles/${roleId}`);\r\n  }\r\n\r\n  // Backup endpoints\r\n  async createBackup(includeFiles: boolean = false): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/create', null, {\r\n      params: { include_files: includeFiles }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async listBackups(): Promise<ApiResponse<{ backups: unknown[] }>> {\r\n    return this.get('/admin/backup/list');\r\n  }\r\n\r\n  async restoreBackup(backupName: string): Promise<ApiResponse<{ message: string }>> {\r\n    const response = await this.client.post('/admin/backup/restore', null, {\r\n      params: { backup_name: backupName }\r\n    });\r\n    return this.normalizeResponse<{ message: string }>(response.data);\r\n  }\r\n\r\n  async deleteBackup(backupName: string, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/admin/backup/${encodeURIComponent(backupName)}/delete`, { password });\r\n  }\r\n\r\n  async getVerificationHistory(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/users/me/verification-history');\r\n  }\r\n\r\n  // 2FA endpoints\r\n  async get2FAStatus(): Promise<ApiResponse<{ enabled: boolean }>> {\r\n    return this.get('/users/me/2fa/status');\r\n  }\r\n\r\n  async setup2FA(): Promise<ApiResponse<{ secret: string; qr_code_url: string; manual_entry_key: string }>> {\r\n    return this.post('/users/me/2fa/setup');\r\n  }\r\n\r\n  async verify2FA(code: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/verify', { code });\r\n  }\r\n\r\n  async disable2FA(currentPassword: string): Promise<ApiResponse<{ message: string; enabled: boolean }>> {\r\n    return this.post('/users/me/2fa/disable', { current_password: currentPassword });\r\n  }\r\n\r\n  // IP Restriction endpoints\r\n  async getIPRestrictionStatus(): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.get('/users/me/ip-restriction');\r\n  }\r\n\r\n  async updateIPRestriction(enabled: boolean): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.put('/users/me/ip-restriction', { enabled });\r\n  }\r\n\r\n  async addAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.post('/users/me/ip-restriction/allowed-ips', { ip_address: ipAddress });\r\n  }\r\n\r\n  async removeAllowedIP(ipAddress: string): Promise<ApiResponse<{ enabled: boolean; allowed_ips: string[] }>> {\r\n    return this.delete(`/users/me/ip-restriction/allowed-ips/${encodeURIComponent(ipAddress)}`);\r\n  }\r\n\r\n  async triggerBackup(includeFiles = false): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post('/admin/backup/create', undefined, { params: { include_files: includeFiles } });\r\n  }\r\n\r\n  // Department endpoints\r\n  async getDepartments(): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/departments');\r\n  }\r\n\r\n  async getDepartment(departmentId: string | number): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.get(`/departments/${encodedId}`);\r\n  }\r\n\r\n  async createDepartment(departmentData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/departments', departmentData);\r\n  }\r\n\r\n  async updateDepartment(\r\n    departmentId: string | number,\r\n    departmentData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.put(`/departments/${encodedId}`, departmentData);\r\n  }\r\n\r\n  async deleteDepartment(\r\n    departmentId: string | number,\r\n    password: string,\r\n  ): Promise<ApiResponse<{ message: string }>> {\r\n    // URL encode the department ID to handle special characters like colons\r\n    const encodedId = encodeURIComponent(String(departmentId));\r\n    return this.post(`/departments/${encodedId}/delete`, { password });\r\n  }\r\n\r\n  // Project endpoints\r\n  async getProjects(filters?: Record<string, unknown>): Promise<ApiResponse<unknown[]>> {\r\n    return this.get('/projects', { params: filters });\r\n  }\r\n\r\n  async getProject(projectId: number): Promise<ApiResponse<unknown>> {\r\n    return this.get(`/projects/${projectId}`);\r\n  }\r\n\r\n  async createProject(projectData: Record<string, unknown>): Promise<ApiResponse<unknown>> {\r\n    return this.post('/projects', projectData);\r\n  }\r\n\r\n  async updateProject(\r\n    projectId: number,\r\n    projectData: Record<string, unknown>,\r\n  ): Promise<ApiResponse<unknown>> {\r\n    return this.put(`/projects/${projectId}`, projectData);\r\n  }\r\n\r\n  async deleteProject(projectId: number, password: string): Promise<ApiResponse<{ message: string }>> {\r\n    return this.post(`/projects/${projectId}/delete`, { password });\r\n  }\r\n\r\n  // Audit Logs endpoints (Admin only)\r\n  async getAuditLogs(filters?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    user_id?: number;\r\n    action?: string;\r\n    resource_type?: string;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }): Promise<ApiResponse<Record<string, unknown>[]>> {\r\n    const params: Record<string, unknown> = {};\r\n    if (filters) {\r\n      if (filters.skip !== undefined) params.skip = filters.skip;\r\n      if (filters.limit !== undefined) params.limit = filters.limit;\r\n      if (filters.user_id !== undefined) params.user_id = filters.user_id;\r\n      if (filters.action) params.action = filters.action;\r\n      if (filters.resource_type) params.resource_type = filters.resource_type;\r\n      if (filters.start_date) {\r\n        // Convert to ISO format for backend\r\n        const start = new Date(filters.start_date + 'T00:00:00');\r\n        params.start_date = start.toISOString();\r\n      }\r\n      if (filters.end_date) {\r\n        // Convert to ISO format for backend\r\n        const end = new Date(filters.end_date + 'T23:59:59');\r\n        params.end_date = end.toISOString();\r\n      }\r\n    }\r\n    return this.get('/admin/audit/logs', { params });\r\n  }\r\n\r\n  // ============================================================================\r\n  // BUDGETING & FORECASTING (FP&A)\r\n  // ============================================================================\r\n\r\n  // Budget Management\r\n  async getBudgets(params?: { skip?: number; limit?: number; status?: string; department?: string }) {\r\n    return this.get('/budgeting/budgets', { params });\r\n  }\r\n\r\n  async getBudget(id: number) {\r\n    return this.get(`/budgeting/budgets/${id}`);\r\n  }\r\n\r\n  async createBudget(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/budgets', data);\r\n  }\r\n\r\n  async createBudgetFromTemplate(templateName: string, data: Record<string, unknown>) {\r\n    const params: Record<string, unknown> = {\r\n      template_name: templateName\r\n    };\r\n    if (data.name) params.name = data.name;\r\n    if (data.start_date) params.start_date = data.start_date;\r\n    if (data.end_date) params.end_date = data.end_date;\r\n    if (data.department) params.department = data.department;\r\n    if (data.project) params.project = data.project;\r\n\r\n    return this.post(`/budgeting/budgets/from-template`, {}, { params });\r\n  }\r\n\r\n  async updateBudget(id: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${id}`, data);\r\n  }\r\n\r\n  async deleteBudget(id: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${id}/delete`, { password });\r\n  }\r\n\r\n  async validateBudget(id: number) {\r\n    return this.post(`/budgeting/budgets/${id}/validate`);\r\n  }\r\n\r\n  // Budget Items\r\n  async getBudgetItems(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/items`);\r\n  }\r\n\r\n  async createBudgetItem(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items`, data);\r\n  }\r\n\r\n  async updateBudgetItem(budgetId: number, itemId: number, data: Record<string, unknown>) {\r\n    return this.put(`/budgeting/budgets/${budgetId}/items/${itemId}`, data);\r\n  }\r\n\r\n  async deleteBudgetItem(budgetId: number, itemId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  // Scenario Planning\r\n  async getScenarios(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/scenarios`);\r\n  }\r\n\r\n  async createScenario(budgetId: number, data: Record<string, unknown>) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios`, data);\r\n  }\r\n\r\n  async compareScenarios(budgetId: number, scenarioIds: number[]) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/compare`, { scenario_ids: scenarioIds });\r\n  }\r\n\r\n  async deleteScenario(budgetId: number, scenarioId: number, password: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/scenarios/${scenarioId}/delete`, { password });\r\n  }\r\n\r\n  // Forecasting\r\n  async getForecasts(params?: { skip?: number; limit?: number }) {\r\n    // Always provide explicit defaults to match backend expectations\r\n    const queryParams = {\r\n      skip: params?.skip !== undefined && params.skip >= 0 ? params.skip : 0,\r\n      limit: params?.limit !== undefined && params.limit >= 1 && params.limit <= 1000 ? params.limit : 100\r\n    };\r\n\r\n    return this.get('/budgeting/forecasts', { params: queryParams });\r\n  }\r\n\r\n  async createForecast(data: Record<string, unknown>) {\r\n    return this.post('/budgeting/forecasts', data);\r\n  }\r\n\r\n  async getForecast(id: number) {\r\n    return this.get(`/budgeting/forecasts/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Update a forecast\r\n   * @param id - Forecast ID\r\n   * @param data - Forecast update data (name, description, and optionally forecast_data)\r\n   */\r\n  async updateForecast(\r\n    id: number,\r\n    data: {\r\n      name?: string;\r\n      description?: string;\r\n      forecast_data?: Array<{\r\n        period?: string;\r\n        date?: string;\r\n        forecasted_value?: number;\r\n        method?: string;\r\n      }>;\r\n    },\r\n  ) {\r\n    return this.put(`/budgeting/forecasts/${id}`, data);\r\n  }\r\n\r\n  async deleteForecast(id: number, password: string) {\r\n    return this.post(`/budgeting/forecasts/${id}/delete`, { password });\r\n  }\r\n\r\n  // ============================================================================\r\n  // AI/ML MODEL TRAINING\r\n  // ============================================================================\r\n\r\n  /**\r\n   * Train all AI/ML models\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   */\r\n  async trainAllModels(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/all',\r\n      params: { start_date: startDate, end_date: endDate }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train ARIMA model for expenses\r\n   * @param startDate - Training data start date (YYYY-MM-DD)\r\n   * @param endDate - Training data end date (YYYY-MM-DD)\r\n   * @param order - ARIMA order (p,d,q) as string \"p,d,q\"\r\n   */\r\n  async trainExpensesArima(startDate: string, endDate: string, order: string = \"1,1,1\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/arima',\r\n      params: { start_date: startDate, end_date: endDate, order },\r\n      timeout: 120000 // 2 minutes for ARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for expenses\r\n   */\r\n  async trainExpensesProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Linear Regression model for expenses\r\n   */\r\n  async trainExpensesLinearRegression(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/expenses/linear-regression',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train Prophet model for revenue\r\n   */\r\n  async trainRevenueProphet(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/prophet',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for Prophet\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for revenue\r\n   */\r\n  async trainRevenueXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for revenue\r\n   */\r\n  async trainRevenueLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/revenue/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train SARIMA model for inventory\r\n   */\r\n  async trainInventorySARIMA(startDate: string, endDate: string, order: string = \"1,1,1\", seasonalOrder: string = \"1,1,1,12\") {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/sarima',\r\n      params: { start_date: startDate, end_date: endDate, order, seasonal_order: seasonalOrder },\r\n      timeout: 180000 // 3 minutes for SARIMA\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train XGBoost model for inventory\r\n   */\r\n  async trainInventoryXGBoost(startDate: string, endDate: string) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/xgboost',\r\n      params: { start_date: startDate, end_date: endDate },\r\n      timeout: 180000 // 3 minutes for XGBoost\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Train LSTM model for inventory\r\n   */\r\n  async trainInventoryLSTM(startDate: string, endDate: string, epochs: number = 50, batchSize: number = 32) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/train/inventory/lstm',\r\n      params: { start_date: startDate, end_date: endDate, epochs, batch_size: batchSize },\r\n      timeout: 300000 // 5 minutes for LSTM (can take longer)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get auto-learning status and statistics\r\n   */\r\n  async getAutoLearnStatus() {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/auto-learn/status'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Manually trigger auto-learning for a metric\r\n   * @param metric - 'expense', 'revenue', or 'inventory'\r\n   */\r\n  async triggerAutoLearn(metric: 'expense' | 'revenue' | 'inventory') {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: `/budgeting/ml/auto-learn/trigger/${metric}`,\r\n      timeout: 300000 // 5 minutes for training\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get list of all trained models\r\n   * @param metric - Optional filter by metric\r\n   */\r\n  async getTrainedModels(metric?: 'expense' | 'revenue' | 'inventory') {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/models',\r\n      params: metric ? { metric } : {}\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get ML scheduler status and scheduled jobs\r\n   */\r\n  async getSchedulerStatus() {\r\n    return this.request({\r\n      method: 'GET',\r\n      url: '/budgeting/ml/scheduler/status'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Generate forecast with AI-powered advice and recommendations\r\n   * @param metric - 'expense', 'revenue', or 'inventory'\r\n   * @param modelType - 'arima', 'sarima', 'prophet', 'xgboost', 'lstm', 'linear_regression'\r\n   * @param periods - Number of periods to forecast\r\n   */\r\n  async generateForecastWithAdvice(\r\n    metric: 'expense' | 'revenue' | 'inventory',\r\n    modelType: 'arima' | 'sarima' | 'prophet' | 'xgboost' | 'lstm' | 'linear_regression',\r\n    periods: number = 12\r\n  ) {\r\n    return this.request({\r\n      method: 'POST',\r\n      url: '/budgeting/ml/forecast/with-advice',\r\n      params: { metric, model_type: modelType, periods },\r\n      timeout: 120000 // 2 minutes\r\n    });\r\n  }\r\n\r\n  // Variance Analysis\r\n  async calculateVariance(budgetId: number, periodStart: string, periodEnd: string) {\r\n    return this.post(`/budgeting/budgets/${budgetId}/variance`, {}, {\r\n      params: { period_start: periodStart, period_end: periodEnd }\r\n    });\r\n  }\r\n\r\n  async getVarianceHistory(budgetId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance`, { params });\r\n  }\r\n\r\n  async getVarianceSummary(budgetId: number) {\r\n    return this.get(`/budgeting/budgets/${budgetId}/variance/summary`);\r\n  }\r\n\r\n  // ============================================================================\r\n  // INVENTORY MANAGEMENT API\r\n  // ============================================================================\r\n\r\n  async createInventoryItem(itemData: {\r\n    item_name: string;\r\n    buying_price: number;\r\n    expense_amount?: number;\r\n    selling_price: number;\r\n    quantity: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.post('/inventory/items', itemData);\r\n  }\r\n\r\n  async getInventoryItems(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    category?: string;\r\n    is_active?: boolean;\r\n    search?: string;\r\n  }) {\r\n    return this.get('/inventory/items', { params });\r\n  }\r\n\r\n  async getInventoryItem(itemId: number) {\r\n    return this.get(`/inventory/items/${itemId}`);\r\n  }\r\n\r\n  async updateInventoryItem(itemId: number, itemData: {\r\n    item_name?: string;\r\n    buying_price?: number;\r\n    expense_amount?: number;\r\n    selling_price?: number;\r\n    quantity?: number;\r\n    description?: string;\r\n    category?: string;\r\n    sku?: string;\r\n    is_active?: boolean;\r\n  }) {\r\n    return this.put(`/inventory/items/${itemId}`, itemData);\r\n  }\r\n\r\n  async deleteInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/delete`, { password });\r\n  }\r\n\r\n  async activateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/activate`, { password });\r\n  }\r\n\r\n  async deactivateInventoryItem(itemId: number, password: string) {\r\n    return this.post(`/inventory/items/${itemId}/deactivate`, { password });\r\n  }\r\n\r\n  async getInventoryAuditLogs(itemId: number, params?: { skip?: number; limit?: number }) {\r\n    return this.get(`/inventory/items/${itemId}/audit`, { params });\r\n  }\r\n\r\n  async getLowStockItems(threshold?: number) {\r\n    return this.get('/inventory/items/low-stock/list', { params: { threshold } });\r\n  }\r\n\r\n  async getInventorySummary() {\r\n    return this.get('/inventory/summary');\r\n  }\r\n\r\n  // ============================================================================\r\n  // SALES API\r\n  // ============================================================================\r\n\r\n  async createSale(saleData: {\r\n    item_id: number;\r\n    quantity_sold: number;\r\n    customer_name?: string;\r\n    customer_email?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post('/sales/', saleData);\r\n  }\r\n\r\n  async getSales(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    status?: 'pending' | 'posted' | 'cancelled';\r\n    item_id?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    // Enforce backend maximum limit of 1000 to prevent 422 errors\r\n    // Backend has a hard limit of 1000 (le=1000), so cap any higher values\r\n    let safeLimit: number | undefined = params?.limit;\r\n    if (safeLimit !== undefined && safeLimit > 1000) {\r\n      console.warn(`getSales: Limit ${safeLimit} exceeds backend maximum of 1000. Capping to 1000.`);\r\n      safeLimit = 1000;\r\n    }\r\n\r\n    const safeParams = params ? {\r\n      ...params,\r\n      limit: safeLimit\r\n    } : undefined;\r\n\r\n    return this.get('/sales', { params: safeParams });\r\n  }\r\n\r\n  async getSale(saleId: number) {\r\n    return this.get(`/sales/${saleId}`);\r\n  }\r\n\r\n  async postSale(saleId: number, postData: {\r\n    debit_account?: string;\r\n    credit_account?: string;\r\n    reference_number?: string;\r\n    notes?: string;\r\n  }) {\r\n    return this.post(`/sales/${saleId}/post`, postData);\r\n  }\r\n\r\n  async cancelSale(saleId: number) {\r\n    return this.post(`/sales/${saleId}/cancel`, {});\r\n  }\r\n\r\n  async getSalesSummary(params?: { start_date?: string; end_date?: string }) {\r\n    return this.get('/sales/summary/overview', { params });\r\n  }\r\n\r\n  async getReceipt(saleId: number) {\r\n    return this.get(`/sales/receipt/${saleId}`);\r\n  }\r\n\r\n  async getJournalEntries(params?: {\r\n    skip?: number;\r\n    limit?: number;\r\n    start_date?: string;\r\n    end_date?: string;\r\n  }) {\r\n    return this.get('/sales/journal-entries/list', { params });\r\n  }\r\n\r\n  /**\r\n   * Submit a contact/support message\r\n   * You can override the endpoint path with NEXT_PUBLIC_CONTACT_ENDPOINT (e.g. \"/contact\")\r\n   * Note: The base URL already includes /api/v1, so the path should be relative to that\r\n   */\r\n  async submitContact(payload: { name: string; email: string; message: string }) {\r\n    const contactPath = process.env.NEXT_PUBLIC_CONTACT_ENDPOINT || '/contact';\r\n    return this.post(contactPath, payload);\r\n  }\r\n\r\n  // Generic request method\r\n  async request<T = unknown>(config: AxiosRequestConfig): Promise<ApiResponse<T>> {\r\n    const response = await this.client.request<T>(config);\r\n    return this.normalizeResponse<T>(response.data);\r\n  }\r\n}\r\n\r\nexport const apiClient = new ApiClient();\r\nexport default apiClient;"],"names":[],"mappings":"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","ignoreList":[0,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117]}
frontend/.next/static/chunks/c3c58030d6d5652e.js:`;function ea(){let{user:e}=(0,d.useAuth)(),a=(0,c.default)(e=>e.user),[I,P]=(0,s.useState)(!0),[ea,ei]=(0,s.useState)(null),[en,er]=(0,s.useState)(()=>{let e=new Date;return e.setFullYear(e.getFullYear()-1),e.setDate(1),e.toISOString().split("T")[0]}),[el,eo]=(0,s.useState)(()=>{let e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}),[ed,ec]=(0,s.useState)(null),[eh,eg]=(0,s.useState)(null),[em,ep]=(0,s.useState)(null),[ex,eu]=(0,s.useState)(null),[ey,ef]=(0,s.useState)(null),[ej,ev]=(0,s.useState)([]),[eb,e_]=(0,s.useState)(null),[e$,ew]=(0,s.useState)(!1),[eS,eN]=(0,s.useState)(null),eC=e=>{if(null==e||""===e)return 0;let t=Number(e);return isNaN(t)?0:t},eA=(0,s.useCallback)(async(t=!0)=>{if(!e)return void P(!1);P(!0),ei(null);try{let s=e?.role?.toLowerCase(),i=null,n="admin"===s||"super_admin"===s;if(n)i=null;else if(("finance_manager"===s||"finance_admin"===s)&&e?.id)try{let t="string"==typeof e.id?parseInt(e.id,10):e.id,s=await o.apiClient.getSubordinates(t),a=(s?.data||[]).map(e=>{let t="string"==typeof e.id?parseInt(e.id,10):Number(e.id),s=(e.role||"").toLowerCase();if(!Number.isNaN(t)&&("accountant"===s||"employee"===s))return t}).filter(e=>void 0!==e);i=[t,...a]}catch(t){console.warn("Failed to fetch subordinates, using only finance admin ID:",t),i=["string"==typeof e.id?parseInt(e.id,10):e.id]}else if("accountant"===s&&e?.id){let t="string"==typeof e.id?parseInt(e.id,10):e.id,s=null,n=a?.managerId;if(n)s="string"==typeof n?parseInt(n,10):Number(n);else try{let e=await o.apiClient.getCurrentUser(),t=e?.data;t?.manager_id!==void 0&&t?.manager_id!==null&&(s="string"==typeof t.manager_id?parseInt(t.manager_id,10):Number(t.manager_id))}catch(e){console.warn("Failed to fetch current user profile for manager_id:",e)}if(s)try{let e=s,t=await o.apiClient.getSubordinates(e),a=(t?.data||[]).map(e=>{let t="string"==typeof e.id?parseInt(e.id,10):Number(e.id),s=(e.role||"").toLowerCase();if(!Number.isNaN(t)&&("accountant"===s||"employee"===s))return t}).filter(e=>void 0!==e);i=[e,...a]}catch(e){console.error("Failed to fetch Finance Admin subordinates for accountant:",e),i=[s]}else console.warn("Accountant has no manager (Finance Admin) assigned - using only accountant ID"),i=[t]}else"employee"===s&&e?.id&&(i=["string"==typeof e.id?parseInt(e.id,10):e.id]);let r=t?{startDate:en,endDate:el}:{startDate:void 0,endDate:void 0},l=[];try{let e=await o.apiClient.getSales({status:"posted",limit:1e3,start_date:r.startDate?new Date(r.startDate+"T00:00:00").toISOString():void 0,end_date:r.endDate?new Date(r.endDate+"T23:59:59").toISOString():void 0});l=(Array.isArray(e?.data)?e.data:e?.data&&"object"==typeof e.data&&"data"in e.data&&e.data.data||[])||[],!n&&i&&i.length>0&&(l=l.filter(e=>{let t=e.sold_by_id||e.soldBy||e.sold_by||e.created_by_id||e.createdBy;if(!t)return!1;let s="string"==typeof t?parseInt(t,10):"number"==typeof t?t:NaN;return!isNaN(s)&&i.includes(s)}))}catch(e){console.warn("Failed to fetch detailed sales data for reports:",e)}let d=e?.role==="finance_manager"||e?.role==="finance_admin"||e?.role==="admin"||e?.role==="super_admin"||e?.role==="manager",c=e?.role==="accountant"||e?.role==="finance_manager"||e?.role==="finance_admin"||e?.role==="admin"||e?.role==="super_admin"||e?.role==="manager",g=e?.role==="finance_manager"||e?.role==="finance_admin"||e?.role==="admin"||e?.role==="super_admin"||e?.role==="manager",[m,p,x,u,y,f]=await Promise.allSettled([o.apiClient.getFinancialSummary(r.startDate,r.endDate),o.apiClient.getIncomeStatement(r.startDate,r.endDate),o.apiClient.getCashFlow(r.startDate,r.endDate),d?o.apiClient.getInventorySummary().catch(e=>{if(e.response?.status===403)return{data:null};throw e}):Promise.resolve({data:null}),c?o.apiClient.getSalesSummary({start_date:r.startDate?new Date(r.startDate+"T00:00:00").toISOString():void 0,end_date:r.endDate?new Date(r.endDate+"T23:59:59").toISOString():void 0}).catch(e=>{if(e.response?.status===403)return{data:null};throw e}):Promise.resolve({data:null}),g?o.apiClient.getForecasts({limit:100}).catch(e=>{if(e.response?.status===403)return{data:[]};throw e}):Promise.resolve({data:[]})]),j=l.filter(e=>"posted"===e.status||"POSTED"===e.status||e.status?.toLowerCase()==="posted"),v=j.reduce((e,t)=>e+eC(t.total_sale),0),b={};if(j.forEach(e=>{let t=e.item?.category||e.category||"Sales";b[t]=(b[t]||0)+eC(e.total_sale)}),"fulfilled"===m.status){let e=m.value.data||m.value;if(e&&(e.financials||e.revenue_by_category||e.expenses_by_category)){let t=eC(e.financials?.total_revenue),s=eC(e.financials?.total_expenses),a=t+v,i=a-s,n={...e,financials:{...e.financials,total_sales:eC(v),total_revenue:a,total_expenses:s,profit:i,profit_margin:a>0?i/a*100:0},sales_by_category:b,transaction_counts:{...e.transaction_counts,sales:j.length,total:(e.transaction_counts?.total||0)+j.length}};ec(n)}else console.warn("Invalid summary data structure:",e),ec(null)}else if("fulfilled"===p.status){let e=p.value.data,t=Object.keys(e.revenue?.by_category||{}).length,s=Object.keys(e.expenses?.by_category||{}).length,a=e.revenue&&"object"==typeof e.revenue?e.revenue:{},i=e.expenses&&"object"==typeof e.expenses?e.expenses:{},n=eC(a.total),r=eC(i.total),l=n+v,o=l-r;ec({period:{start_date:en,end_date:el},financials:{total_revenue:l,total_sales:eC(v),total_expenses:r,profit:o,profit_margin:l>0?o/l*100:0},revenue_by_category:e.revenue?.by_category||{},sales_by_category:b,expenses_by_category:e.expenses?.by_category||{},transaction_counts:{revenue:t>0?t:0,sales:j.length,expenses:s>0?s:0,total:t+s+j.length},generated_at:new Date().toISOString()})}else ec(null);if("fulfilled"===p.status){let e=p.value.data||p.value;if(e&&(e.revenue||e.expenses)){let t=eC(e.revenue&&"object"==typeof e.revenue&&null!==e.revenue&&"total"in e.revenue?e.revenue.total:0),s=eC(e.expenses&&"object"==typeof e.expenses&&null!==e.expenses&&"total"in e.expenses?e.expenses.total:0),a=t+v,i=a-s,n={...e,sales:{total:eC(v),by_category:b},revenue:{by_category:(e.revenue&&"object"==typeof e.revenue&&"by_category"in e.revenue?e.revenue.by_category:void 0)||{},total:a},profit:i,profit_margin:a>0?i/a*100:0};eg(n)}else eg(null)}else console.error("Failed to load income statement:",p.reason),eg(null);if("fulfilled"===x.status){let e=x.value.data||x.value;if(e&&(e.summary||e.daily_cash_flow)){let t={};j.forEach(e=>{let s=e.created_at?new Date(e.created_at).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];t[s]||(t[s]={inflow:0,outflow:0,net:0});let a=eC(e.total_sale);t[s].inflow+=a,t[s].net+=a});let s={...e.daily_cash_flow};Object.entries(t).forEach(([e,t])=>{s[e]?(s[e].inflow+=t.inflow,s[e].net+=t.net):s[e]=t});let a=eC(e.summary?.total_inflow),i=eC(e.summary?.net_cash_flow),n=v;if("fulfilled"===y.status){let e=y.value.data||y.value;e&&"object"==typeof e&&"total_revenue"in e&&(n=eC(e.total_revenue))}let r={...e,summary:{...e.summary,total_inflow:a+n,net_cash_flow:i+n},daily_cash_flow:s};ep(r)}else ep(null)}else console.error("Failed to load cash flow:",x.reason),ep(null);if("fulfilled"===u.status){let e=u.value.data||u.value;e&&"object"==typeof e&&("total_items"in e||"total_selling_value"in e)?eu(e):eu(null)}else u.reason?.response?.status!==403&&console.warn("Failed to load inventory summary:",u.reason),eu(null);if("fulfilled"===y.status){let e=y.value.data||y.value;if(e&&"object"==typeof e&&("total_sales"in e||"total_revenue"in e)){if(ef(e),"fulfilled"===m.status){let t=m.value.data||m.value;if(t&&(t.financials||t.revenue_by_category||t.expenses_by_category)){let s=eC(t.financials?.total_revenue),a=eC(t.financials?.total_expenses),i=eC(e.total_revenue),n=s+i,r=n-a,l={...t,financials:{...t.financials,total_sales:i,total_revenue:n,total_expenses:a,profit:r,profit_margin:n>0?r/n*100:0},sales_by_category:b,transaction_counts:{...t.transaction_counts,sales:e.posted_sales||j.length,total:(t.transaction_counts?.total||0)+(e.posted_sales||j.length)}};ec(l)}}}else ef(null)}else y.reason?.response?.status!==403&&console.warn("Failed to load sales summary:",y.reason),ef(null);if("fulfilled"===f.status){let e=f.value?.data||f.value||[],t=(Array.isArray(e)?e:[]).map(e=>{if("string"==typeof e.forecast_data)try{e.forecast_data=JSON.parse(e.forecast_data)}catch{e.forecast_data=[]}if("string"==typeof e.method_params)try{e.method_params=JSON.parse(e.method_params)}catch{e.method_params={}}return e});ev(t)}else f.reason?.response?.status!==403&&console.warn("Failed to load forecasts:",f.reason),ev([]);if("rejected"===m.status&&"rejected"===p.status&&"rejected"===x.status){let e=m.reason||p.reason||x.reason,t="Failed to load reports";if(e?.response?.data?.detail){let s=e.response.data.detail;"string"==typeof s?t=s:Array.isArray(s)&&(t=s.map(e=>"string"==typeof e?e:e.msg||JSON.stringify(e)).join(", "))}else e?.message&&(t=e.message);ei(t),h.toast.error(t),ec(null),eg(null),ep(null)}}catch(t){let e="Failed to load reports";if(t.response?.data?.detail){let s=t.response.data.detail;e=Array.isArray(s)?s.map(e=>"string"==typeof e?e:e.msg?`${e.loc?.join(".")||"Field"}: ${e.msg}`:JSON.stringify(e)).join(", "):"object"==typeof s&&s&&"msg"in s?`${s.loc?.join(".")||"Field"}: ${s.msg}`:"string"==typeof s?s:JSON.stringify(s)}else t.message&&(e=t.message);ei(e),h.toast.error(e)}finally{P(!1)}},[e,a?.managerId,en,el]);(0,s.useEffect)(()=>{if(e){let e=setTimeout(()=>{eA(!0)},100);return()=>clearTimeout(e)}},[e,eA]),(0,s.useEffect)(()=>{if(e&&en&&el){let e=setTimeout(()=>{eA(!0)},300);return()=>clearTimeout(e)}},[en,el,eA,e]);let ez=e=>{let t=eC(e);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},eF=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",eT=e=>e&&"string"==typeof e?e.charAt(0).toUpperCase()+e.slice(1).replace(/_/g," "):"",eI=async(e,t)=>{eN(`${e}-${t}`);try{let s=await o.apiClient.generateForecastWithAdvice(e,t,12),a=s?.data||s;a?.status==="success"&&(e_(s=>({...s,[e]:{...a,model_type:t,generated_at:new Date().toISOString()}})),h.toast.success(`${eT(e)} forecast with AI advice generated successfully!`))}catch(t){let e=t?.response?.data?.detail||t?.message||"Failed to generate forecast";h.toast.error(e)}finally{eN(null)}},eP=async()=>{if(e&&(e?.role==="admin"||e?.role==="super_admin"||e?.role==="finance_admin"||e?.role==="finance_manager"||e?.role==="manager")){ew(!0);try{let e={},t={expense:["arima","linear_regression"],revenue:["xgboost","prophet"],inventory:["sarima","xgboost"]};for(let s of["expense","revenue","inventory"])for(let a of t[s])try{let t=await o.apiClient.generateForecastWithAdvice(s,a,12),i=t?.data||t;if(i?.status==="success"){e[s]={...i,model_type:a,generated_at:new Date().toISOString()};break}}catch(e){continue}e_(e)}catch(e){console.error("Failed to load ML insights:",e)}finally{ew(!1)}}};return e?(0,t.jsx)(l.default,{children:(0,t.jsxs)(D,{children:[(0,t.jsxs)(k,{children:[(0,t.jsx)("h1",{children:"Financial Reports"}),(0,t.jsx)("p",{children:"Income Statement and Cash Flow Analysis"})]}),(0,t.jsxs)(R,{children:[(0,t.jsxs)(O,{children:[(0,t.jsx)(r.Label,{htmlFor:"startDate",children:"Start Date"}),(0,t.jsx)(n.Input,{id:"startDate",type:"date",value:en,onChange:e=>er(e.target.value)})]}),(0,t.jsxs)(O,{children:[(0,t.jsx)(r.Label,{htmlFor:"endDate",children:"End Date"}),(0,t.jsx)(n.Input,{id:"endDate",type:"date",value:el,onChange:e=>eo(e.target.value)})]}),(0,t.jsxs)(Q,{children:[(0,t.jsx)(i.Button,{onClick:()=>{let e=new Date;e.setFullYear(e.getFullYear()-1),e.setDate(1);let t=new Date;t.setDate(t.getDate()+1),er(e.toISOString().split("T")[0]),eo(t.toISOString().split("T")[0]),eA(!0)},variant:"outline",disabled:I,children:"Show All Data (1 Year)"}),(0,t.jsx)(i.Button,{onClick:e=>{e.preventDefault(),eA(!1)},variant:"outline",disabled:I,children:"Load Without Date Filter"}),(0,t.jsx)(i.Button,{onClick:()=>eA(!0),disabled:I,children:I?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.RefreshCw,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]})]}),ea&&(0,t.jsxs)(J,{children:[(0,t.jsx)(b.AlertCircle,{}),(0,t.jsx)("span",{children:ea})]}),I?(0,t.jsxs)(G,{children:[(0,t.jsx)(Y,{}),(0,t.jsx)("p",{children:"Loading financial reports..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(W,{children:(0,t.jsxs)(B,{children:[(0,t.jsx)(L,{children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{children:[(0,t.jsx)(v.BarChart3,{}),"Financial Summary Report"]}),(0,t.jsxs)("p",{children:["Period: ",eF(en)," - ",eF(el),ed?.generated_at&&(0,t.jsxs)(t.Fragment,{children:["  Generated: ",eF(ed.generated_at)]})]})]})}),ed?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(M,{children:[(0,t.jsxs)(U,{$type:"revenue",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(y.ArrowUpRight,{size:16}),"Total Revenue"]}),(0,t.jsx)("div",{className:"value",children:ez(ed.financials?.total_revenue)}),(0,t.jsxs)("div",{className:"sub-value",children:[ed.transaction_counts?.revenue||0," revenue transactions"]})]}),(0,t.jsxs)(U,{$type:"revenue",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(_.ShoppingCart,{size:16}),"Total Sales"]}),(0,t.jsx)("div",{className:"value",children:ez(ed.financials?.total_sales)}),(0,t.jsxs)("div",{className:"sub-value",children:[ed.transaction_counts?.sales||0," sales transactions"]})]}),(0,t.jsxs)(U,{$type:"expense",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(f.ArrowDownRight,{size:16}),"Total Expenses"]}),(0,t.jsx)("div",{className:"value",children:ez(ed.financials?.total_expenses)}),(0,t.jsxs)("div",{className:"sub-value",children:[ed.transaction_counts?.expenses||0," expense transactions"]})]}),(0,t.jsxs)(U,{$type:"profit",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(p.TrendingUp,{size:16}),"Net Profit"]}),(0,t.jsx)("div",{className:"value",children:ez(ed.financials?.profit)}),(0,t.jsxs)("div",{className:"sub-value",children:["Profit Margin: ",eC(ed.financials?.profit_margin).toFixed(2),"%"]})]}),(0,t.jsxs)(U,{children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(j.FileText,{size:16}),"Total Transactions"]}),(0,t.jsx)("div",{className:"value",children:ed.transaction_counts?.total||0}),(0,t.jsxs)("div",{className:"sub-value",children:[ed.transaction_counts?.revenue||0," revenue + ",ed.transaction_counts?.sales||0," sales + ",ed.transaction_counts?.expenses||0," expenses"]})]})]}),(0,t.jsxs)(K,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(H,{children:"Top Revenue Categories"}),(0,t.jsxs)(E,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Category"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Amount"})]})}),(0,t.jsx)("tbody",{children:ed.revenue_by_category&&Object.entries(ed.revenue_by_category).length>0?Object.entries(ed.revenue_by_category).sort(([,e],[,t])=>t-e).slice(0,5).map(([e,s])=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:eT(e)}),(0,t.jsx)("td",{style:{textAlign:"right"},children:ez(s)})]},e)):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:2,style:{textAlign:"center",color:T},children:"No revenue data"})})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(H,{children:"Top Sales Categories"}),(0,t.jsxs)(E,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Category"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Amount"})]})}),(0,t.jsx)("tbody",{children:ed.sales_by_category&&Object.entries(ed.sales_by_category).length>0?Object.entries(ed.sales_by_category).sort(([,e],[,t])=>t-e).slice(0,5).map(([e,s])=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:eT(e)}),(0,t.jsx)("td",{style:{textAlign:"right"},children:ez(s)})]},e)):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:2,style:{textAlign:"center",color:T},children:"No sales data"})})})]})]})]}),(0,t.jsxs)("div",{style:{marginTop:g.theme.spacing.xl},children:[(0,t.jsx)(H,{children:"Top Expense Categories"}),(0,t.jsxs)(E,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Category"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Amount"})]})}),(0,t.jsx)("tbody",{children:ed.expenses_by_category&&Object.entries(ed.expenses_by_category).length>0?Object.entries(ed.expenses_by_category).sort(([,e],[,t])=>t-e).slice(0,5).map(([e,s])=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:eT(e)}),(0,t.jsx)("td",{style:{textAlign:"right",color:"#dc2626",fontWeight:g.theme.typography.fontWeights.bold},children:ez(s)})]},e)):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:2,style:{textAlign:"center",color:T},children:"No expense data"})})})]})]})]}):(0,t.jsxs)(q,{children:[(0,t.jsx)(v.BarChart3,{size:48}),(0,t.jsx)("h3",{children:"No summary data available"})]})]})}),(0,t.jsx)(W,{children:(0,t.jsxs)(B,{children:[(0,t.jsx)(L,{children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{children:[(0,t.jsx)(j.FileText,{}),"Income Statement (Profit & Loss)"]}),(0,t.jsxs)("p",{children:["Period: ",eF(en)," - ",eF(el)]})]})}),eh?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(M,{children:[(0,t.jsxs)(U,{$type:"revenue",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(y.ArrowUpRight,{size:16}),"Total Revenue"]}),(0,t.jsx)("div",{className:"value",children:ez(eh.revenue?.total||0)}),(0,t.jsx)("div",{className:"sub-value",children:"Includes sales revenue"})]}),(0,t.jsxs)(U,{$type:"revenue",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(_.ShoppingCart,{size:16}),"Sales Revenue"]}),(0,t.jsx)("div",{className:"value",children:ez(eh.sales?.total||0)})]}),(0,t.jsxs)(U,{$type:"expense",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(f.ArrowDownRight,{size:16}),"Total Expenses"]}),(0,t.jsx)("div",{className:"value",children:ez(eh.expenses?.total||0)})]}),(0,t.jsxs)(U,{$type:"profit",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(p.TrendingUp,{size:16}),"Net Profit"]}),(0,t.jsx)("div",{className:"value",children:ez(eh.profit||0)}),(0,t.jsxs)("div",{className:"sub-value",children:["Profit Margin: ",(eh.profit_margin||0).toFixed(2),"%"]})]})]}),(0,t.jsxs)("div",{style:{marginTop:g.theme.spacing.xl},children:[(0,t.jsx)(H,{children:"Revenue by Category"}),(0,t.jsxs)(E,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Category"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Amount"})]})}),(0,t.jsx)("tbody",{children:eh.revenue?.by_category&&Object.entries(eh.revenue.by_category).length>0?Object.entries(eh.revenue.by_category).sort(([,e],[,t])=>t-e).map(([e,s])=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:eT(e)}),(0,t.jsx)("td",{style:{textAlign:"right"},children:ez(s)})]},e)):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:2,style:{textAlign:"center",color:T},children:"No revenue data for this period"})})})]})]}),eh.sales?.by_category&&Object.entries(eh.sales.by_category).length>0&&(0,t.jsxs)("div",{style:{marginTop:g.theme.spacing.xl},children:[(0,t.jsx)(H,{children:"Sales by Category"}),(0,t.jsxs)(E,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Category"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Amount"})]})}),(0,t.jsx)("tbody",{children:Object.entries(eh.sales.by_category).sort(([,e],[,t])=>t-e).map(([e,s])=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:eT(e)}),(0,t.jsx)("td",{style:{textAlign:"right"},children:ez(s)})]},e))})]})]}),(0,t.jsxs)("div",{style:{marginTop:g.theme.spacing.xl},children:[(0,t.jsx)(H,{children:"Expenses by Category"}),(0,t.jsxs)(E,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Category"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Amount"})]})}),(0,t.jsx)("tbody",{children:eh.expenses?.by_category&&Object.entries(eh.expenses.by_category).length>0?Object.entries(eh.expenses.by_category).sort(([,e],[,t])=>t-e).map(([e,s])=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:eT(e)}),(0,t.jsx)("td",{style:{textAlign:"right",color:"#dc2626",fontWeight:g.theme.typography.fontWeights.bold},children:ez(s)})]},e)):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:2,style:{textAlign:"center",color:T},children:"No expense data for this period"})})})]})]})]}):(0,t.jsxs)(q,{children:[(0,t.jsx)(j.FileText,{size:48}),(0,t.jsx)("h3",{children:"No income statement data available"})]})]})}),(0,t.jsx)(W,{children:(0,t.jsxs)(B,{children:[(0,t.jsx)(L,{children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{children:[(0,t.jsx)(v.BarChart3,{}),"Cash Flow Statement"]}),(0,t.jsxs)("p",{children:["Period: ",eF(en)," - ",eF(el)]})]})}),em?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(M,{children:[(0,t.jsxs)(U,{$type:"revenue",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(y.ArrowUpRight,{size:16}),"Cash Inflow"]}),(0,t.jsx)("div",{className:"value",children:ez(em.summary?.total_inflow||0)}),(0,t.jsx)("div",{className:"sub-value",children:"Money coming in"})]}),(0,t.jsxs)(U,{$type:"expense",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(f.ArrowDownRight,{size:16}),"Cash Outflow"]}),(0,t.jsx)("div",{className:"value",children:ez(em.summary?.total_outflow||0)}),(0,t.jsx)("div",{className:"sub-value",children:"Money going out"})]}),(0,t.jsxs)(U,{$type:"profit",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(p.TrendingUp,{size:16}),"Net Cash Flow"]}),(0,t.jsx)("div",{className:"value",children:ez(em.summary?.net_cash_flow||0)}),(0,t.jsx)("div",{className:"sub-value",children:"Actual cash available"})]})]}),(0,t.jsxs)("div",{style:{marginTop:g.theme.spacing.xl},children:[(0,t.jsx)(H,{children:"Daily Cash Flow"}),(0,t.jsxs)(V,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Date"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Inflow"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Outflow"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Net"})]})}),(0,t.jsx)("tbody",{children:em.daily_cash_flow&&Object.entries(em.daily_cash_flow).length>0?Object.entries(em.daily_cash_flow).sort(([e],[t])=>t.localeCompare(e)).map(([e,s])=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:eF(e)}),(0,t.jsx)("td",{style:{textAlign:"right"},children:s.inflow>0?ez(s.inflow):""}),(0,t.jsx)("td",{style:{textAlign:"right"},children:s.outflow>0?ez(s.outflow):""}),(0,t.jsx)("td",{style:{textAlign:"right"},children:ez(s.net||0)})]},e)):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,style:{textAlign:"center",color:T},children:"No cash flow data for this period"})})})]})]})]}):(0,t.jsxs)(q,{children:[(0,t.jsx)(v.BarChart3,{size:48}),(0,t.jsx)("h3",{children:"No cash flow data available"})]})]})}),(e?.role==="accountant"||e?.role==="finance_manager"||e?.role==="finance_admin"||e?.role==="admin"||e?.role==="super_admin"||e?.role==="manager")&&(0,t.jsx)(W,{children:(0,t.jsxs)(B,{children:[(0,t.jsx)(L,{children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{children:[(0,t.jsx)(_.ShoppingCart,{}),"Sales Summary Report"]}),(0,t.jsxs)("p",{children:["Period: ",eF(en)," - ",eF(el),ey?.period_start&&ey?.period_end&&(0,t.jsxs)(t.Fragment,{children:["  Sales Period: ",eF(ey.period_start)," - ",eF(ey.period_end)]})]})]})}),ey?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(M,{children:[(0,t.jsxs)(U,{$type:"revenue",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(_.ShoppingCart,{size:16}),"Total Sales"]}),(0,t.jsx)("div",{className:"value",children:ey.total_sales||0}),(0,t.jsx)("div",{className:"sub-value",children:"All sales transactions"})]}),(0,t.jsxs)(U,{$type:"revenue",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(m.DollarSign,{size:16}),"Total Sales Revenue"]}),(0,t.jsx)("div",{className:"value",children:ez(ey.total_revenue||0)}),(0,t.jsx)("div",{className:"sub-value",children:"From posted sales only"})]}),(0,t.jsxs)(U,{$type:"profit",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(p.TrendingUp,{size:16}),"Posted Sales"]}),(0,t.jsx)("div",{className:"value",children:ey.posted_sales||0}),(0,t.jsx)("div",{className:"sub-value",children:"Approved and posted"})]}),(0,t.jsxs)(U,{$type:"expense",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(b.AlertCircle,{size:16}),"Pending Sales"]}),(0,t.jsx)("div",{className:"value",children:ey.pending_sales||0}),(0,t.jsx)("div",{className:"sub-value",children:"Awaiting approval"})]})]}),(0,t.jsxs)("div",{style:{marginTop:g.theme.spacing.xl},children:[(0,t.jsx)(H,{children:"Sales Status Breakdown"}),(0,t.jsxs)(E,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Status"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Count"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Percentage"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Posted (Approved)"}),(0,t.jsx)("td",{style:{textAlign:"right"},children:ey.posted_sales||0}),(0,t.jsxs)("td",{style:{textAlign:"right"},children:[ey.total_sales>0?((ey.posted_sales||0)/ey.total_sales*100).toFixed(1):0,"%"]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Pending (Awaiting Approval)"}),(0,t.jsx)("td",{style:{textAlign:"right"},children:ey.pending_sales||0}),(0,t.jsxs)("td",{style:{textAlign:"right"},children:[ey.total_sales>0?((ey.pending_sales||0)/ey.total_sales*100).toFixed(1):0,"%"]})]}),(0,t.jsxs)("tr",{style:{fontWeight:g.theme.typography.fontWeights.bold,borderTop:`2px solid ${g.theme.colors.border}`},children:[(0,t.jsx)("td",{children:"Total"}),(0,t.jsx)("td",{style:{textAlign:"right"},children:ey.total_sales||0}),(0,t.jsx)("td",{style:{textAlign:"right"},children:"100%"})]})]})]})]})]}):(0,t.jsxs)(q,{children:[(0,t.jsx)(_.ShoppingCart,{size:48}),(0,t.jsx)("h3",{children:"No sales data available"}),(0,t.jsx)("p",{children:"Sales summary is only available to Accountant, Finance Admin, Admin, and Manager roles."})]})]})}),(e?.role==="finance_manager"||e?.role==="finance_admin"||e?.role==="admin"||e?.role==="super_admin"||e?.role==="manager")&&(0,t.jsx)(W,{children:(0,t.jsxs)(B,{children:[(0,t.jsx)(L,{children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{children:[(0,t.jsx)($.Package,{}),"Inventory Summary"]}),(0,t.jsx)("p",{children:"Current inventory valuation and stock levels"})]})}),ex?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(M,{children:[(0,t.jsxs)(U,{$type:"revenue",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)($.Package,{size:16}),"Total Items"]}),(0,t.jsx)("div",{className:"value",children:ex.total_items||0}),(0,t.jsx)("div",{className:"sub-value",children:"Active inventory items"})]}),(0,t.jsxs)(U,{$type:"expense",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(m.DollarSign,{size:16}),"Total Cost Value"]}),(0,t.jsx)("div",{className:"value",children:ez(ex.total_cost_value||0)}),(0,t.jsx)("div",{className:"sub-value",children:"Investment in inventory"})]}),(0,t.jsxs)(U,{$type:"revenue",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(p.TrendingUp,{size:16}),"Total Selling Value"]}),(0,t.jsx)("div",{className:"value",children:ez(ex.total_selling_value||0)}),(0,t.jsx)("div",{className:"sub-value",children:"Potential revenue if all sold"})]}),(0,t.jsxs)(U,{$type:"profit",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(p.TrendingUp,{size:16}),"Potential Profit"]}),(0,t.jsx)("div",{className:"value",children:ez(ex.potential_profit||0)}),(0,t.jsx)("div",{className:"sub-value",children:"Profit if all inventory sold"})]}),void 0!==ex.total_quantity_in_stock&&(0,t.jsxs)(U,{children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)($.Package,{size:16}),"Total Stock Quantity"]}),(0,t.jsx)("div",{className:"value",children:ex.total_quantity_in_stock.toLocaleString()}),(0,t.jsx)("div",{className:"sub-value",children:"Total units in stock"})]})]}),(0,t.jsxs)("div",{style:{marginTop:g.theme.spacing.xl},children:[(0,t.jsx)(H,{children:"Inventory Valuation Analysis"}),(0,t.jsxs)(E,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Metric"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Value"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Total Inventory Items"}),(0,t.jsx)("td",{style:{textAlign:"right"},children:ex.total_items||0})]}),void 0!==ex.total_quantity_in_stock&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Total Stock Quantity"}),(0,t.jsxs)("td",{style:{textAlign:"right"},children:[ex.total_quantity_in_stock.toLocaleString()," units"]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Total Cost Value (Investment)"}),(0,t.jsx)("td",{style:{textAlign:"right"},children:ez(ex.total_cost_value||0)})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Total Selling Value (Potential Revenue)"}),(0,t.jsx)("td",{style:{textAlign:"right"},children:ez(ex.total_selling_value||0)})]}),(0,t.jsxs)("tr",{style:{fontWeight:g.theme.typography.fontWeights.bold,borderTop:`2px solid ${g.theme.colors.border}`},children:[(0,t.jsx)("td",{children:"Potential Profit"}),(0,t.jsx)("td",{style:{textAlign:"right",color:z},children:ez(ex.potential_profit||0)})]}),ex.total_cost_value>0&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Profit Margin (Potential)"}),(0,t.jsxs)("td",{style:{textAlign:"right"},children:[((ex.potential_profit||0)/ex.total_cost_value*100).toFixed(2),"%"]})]})]})]})]})]}):(0,t.jsxs)(q,{children:[(0,t.jsx)($.Package,{size:48}),(0,t.jsx)("h3",{children:"No inventory data available"}),(0,t.jsx)("p",{children:"Inventory summary is only available to Finance Admin, Admin, and Manager roles."})]})]})}),(e?.role==="finance_manager"||e?.role==="finance_admin"||e?.role==="admin"||e?.role==="super_admin"||e?.role==="manager")&&(0,t.jsx)(W,{children:(0,t.jsxs)(B,{children:[(0,t.jsxs)(L,{children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{children:[(0,t.jsx)(S.Brain,{}),"AI-Powered Insights & Recommendations"]}),(0,t.jsx)("p",{children:"Get intelligent forecasts and actionable advice based on ML analysis"})]}),(0,t.jsx)("div",{style:{display:"flex",gap:g.theme.spacing.sm},children:(0,t.jsx)(i.Button,{variant:"outline",size:"sm",onClick:eP,disabled:e$,children:e$?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Loader2,{size:14,style:{marginRight:g.theme.spacing.xs,animation:"spin 1s linear infinite"}}),"Loading..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.RefreshCw,{size:14,style:{marginRight:g.theme.spacing.xs}}),"Generate Insights"]})})})]}),eb&&Object.keys(eb).length>0?(0,t.jsx)(t.Fragment,{children:Object.entries(eb).map(([e,s])=>{if(!s||!s.forecast)return null;let a=s.trend_analysis,i=s.advice||[],n=s.alerts||[];return(0,t.jsxs)("div",{style:{marginBottom:g.theme.spacing.xl},children:[(0,t.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:g.theme.spacing.md},children:(0,t.jsxs)(H,{children:[eT(e)," Forecast & Insights",s.model_type&&"string"==typeof s.model_type&&(0,t.jsxs)("span",{style:{fontSize:g.theme.typography.fontSizes.sm,fontWeight:400,color:T,marginLeft:g.theme.spacing.sm},children:["(Model: ",s.model_type.toUpperCase(),")"]})]})}),a&&(0,t.jsxs)("div",{style:{background:g.theme.colors.backgroundSecondary,padding:g.theme.spacing.lg,borderRadius:g.theme.borderRadius.md,marginBottom:g.theme.spacing.md},children:[(0,t.jsx)("div",{style:{fontSize:g.theme.typography.fontSizes.sm,fontWeight:g.theme.typography.fontWeights.medium,color:T,marginBottom:g.theme.spacing.sm},children:"Trend Analysis"}),(0,t.jsxs)("div",{style:{display:"flex",gap:g.theme.spacing.md,flexWrap:"wrap"},children:[(0,t.jsxs)(ee,{$direction:a?.direction||"stable",children:[a?.direction==="increasing"?(0,t.jsx)(y.ArrowUpRight,{size:14}):a?.direction==="decreasing"?(0,t.jsx)(f.ArrowDownRight,{size:14}):(0,t.jsx)(p.TrendingUp,{size:14}),eT(a?.direction||"stable")," ",a?.percentage!==void 0&&null!==a.percentage&&`(${Math.abs(a.percentage).toFixed(1)}%)`]}),(0,t.jsxs)("span",{style:{color:T,fontSize:g.theme.typography.fontSizes.sm},children:[a?.average!==void 0&&`Avg: ${ez(a.average)}`,a?.average!==void 0&&(a?.max!==void 0||a?.min!==void 0)&&" | ",a?.max!==void 0&&`Max: ${ez(a.max)}`,a?.max!==void 0&&a?.min!==void 0&&" | ",a?.min!==void 0&&`Min: ${ez(a.min)}`]})]})]}),s.summary&&(0,t.jsx)("div",{style:{background:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:g.theme.borderRadius.md,padding:g.theme.spacing.md,marginBottom:g.theme.spacing.md},children:(0,t.jsxs)("div",{style:{display:"flex",gap:g.theme.spacing.sm,alignItems:"flex-start",color:"#1e40af",fontSize:g.theme.typography.fontSizes.sm,lineHeight:"1.6"},children:[(0,t.jsx)(C,{size:16,style:{marginTop:"2px",flexShrink:0}}),(0,t.jsx)("div",{children:s.summary||"No summary available"})]})}),n.length>0&&(0,t.jsxs)("div",{style:{marginBottom:g.theme.spacing.md},children:[(0,t.jsx)(H,{style:{fontSize:g.theme.typography.fontSizes.md,marginBottom:g.theme.spacing.sm},children:"Alerts"}),n.map((e,s)=>e&&"object"==typeof e?(0,t.jsxs)(X,{$severity:e.severity||"low",children:[(0,t.jsx)(b.AlertCircle,{className:"alert-icon",size:18}),(0,t.jsx)("div",{className:"alert-message",children:e.message||"No message"})]},s):null)]}),i.length>0&&(0,t.jsxs)("div",{style:{marginBottom:g.theme.spacing.md},children:[(0,t.jsx)(H,{style:{fontSize:g.theme.typography.fontSizes.md,marginBottom:g.theme.spacing.sm},children:"Recommendations"}),i.map((e,s)=>{if(!e||"object"!=typeof e)return null;let a="high"===e.priority?"high":"medium"===e.priority?"medium":"low";return(0,t.jsxs)(Z,{$priority:a,children:[(0,t.jsxs)("div",{className:"insight-header",children:[(0,t.jsx)(A.Target,{size:18}),(0,t.jsx)("h4",{children:e.title||"Recommendation"}),(0,t.jsx)(et,{$priority:a,children:e.priority||"low"})]}),(0,t.jsx)("div",{className:"insight-message",children:e.message||"No message available"}),e.actions&&Array.isArray(e.actions)&&e.actions.length>0&&(0,t.jsxs)("div",{className:"insight-actions",children:[(0,t.jsx)("strong",{style:{fontSize:g.theme.typography.fontSizes.sm,color:F},children:"Recommended Actions:"}),(0,t.jsx)("ul",{children:e.actions.map((e,s)=>(0,t.jsx)("li",{children:"string"==typeof e?e:"Action item"},s))})]})]},s)})]}),s.forecast&&Array.isArray(s.forecast)&&s.forecast.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)(H,{style:{fontSize:g.theme.typography.fontSizes.md,marginBottom:g.theme.spacing.sm},children:["Forecast Preview (",s.forecast.length," periods)"]}),(0,t.jsxs)(E,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Period"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Forecasted Value"})]})}),(0,t.jsxs)("tbody",{children:[Array.isArray(s.forecast)&&s.forecast.slice(0,6).map((e,s)=>{if(!e||"object"!=typeof e)return null;let a=e.period||(e.date?eF(e.date):`Period ${s+1}`),i=void 0!==e.forecasted_value?e.forecasted_value:void 0!==e.value?e.value:0;return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:a}),(0,t.jsx)("td",{style:{textAlign:"right",fontWeight:g.theme.typography.fontWeights.bold},children:ez(i)})]},s)}),Array.isArray(s.forecast)&&s.forecast.length>6&&(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:2,style:{textAlign:"center",color:T,fontStyle:"italic"},children:["... and ",s.forecast.length-6," more periods"]})})]})]})]})]},e)})}):(0,t.jsxs)(q,{children:[(0,t.jsx)(S.Brain,{size:48}),(0,t.jsx)("h3",{children:"No ML insights available"}),(0,t.jsx)("p",{children:'Click "Generate Insights" to get AI-powered forecasts and recommendations'}),(0,t.jsx)("div",{style:{marginTop:g.theme.spacing.lg,display:"flex",gap:g.theme.spacing.sm,flexWrap:"wrap",justifyContent:"center"},children:["expense","revenue","inventory"].map(e=>(0,t.jsx)("div",{style:{marginBottom:g.theme.spacing.sm},children:(0,t.jsx)(es,{variant:"outline",onClick:()=>{let t={expense:["arima","linear_regression"],revenue:["xgboost","prophet"],inventory:["sarima","xgboost"]}[e]?.[0]||"arima";eI(e,t)},disabled:eS===`${e}-arima`||eS===`${e}-xgboost`||eS===`${e}-sarima`||eS===`${e}-linear_regression`||eS===`${e}-prophet`,children:eS?.startsWith(e)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Loader2,{size:14,style:{marginRight:g.theme.spacing.xs,animation:"spin 1s linear infinite"}}),"Generating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.Zap,{size:14,style:{marginRight:g.theme.spacing.xs}}),"Quick ",eT(e)," Forecast"]})})},e))})]})]})}),(e?.role==="finance_manager"||e?.role==="finance_admin"||e?.role==="admin"||e?.role==="super_admin"||e?.role==="manager")&&(0,t.jsx)(W,{children:(0,t.jsxs)(B,{children:[(0,t.jsx)(L,{children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{children:[(0,t.jsx)(w.LineChart,{}),"Forecast Report"]}),(0,t.jsx)("p",{children:"View and analyze all financial forecasts"})]})}),ej&&ej.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(M,{children:[(0,t.jsxs)(U,{children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(w.LineChart,{size:16}),"Total Forecasts"]}),(0,t.jsx)("div",{className:"value",children:ej.length}),(0,t.jsx)("div",{className:"sub-value",children:"Active forecasts"})]}),(0,t.jsxs)(U,{$type:"revenue",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(p.TrendingUp,{size:16}),"Revenue Forecasts"]}),(0,t.jsx)("div",{className:"value",children:ej.filter(e=>"revenue"===e.forecast_type).length}),(0,t.jsx)("div",{className:"sub-value",children:"Revenue forecasting models"})]}),(0,t.jsxs)(U,{$type:"expense",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(f.ArrowDownRight,{size:16}),"Expense Forecasts"]}),(0,t.jsx)("div",{className:"value",children:ej.filter(e=>"expense"===e.forecast_type).length}),(0,t.jsx)("div",{className:"sub-value",children:"Expense forecasting models"})]}),(0,t.jsxs)(U,{$type:"profit",children:[(0,t.jsxs)("div",{className:"label",children:[(0,t.jsx)(v.BarChart3,{size:16}),"AI Models"]}),(0,t.jsx)("div",{className:"value",children:ej.filter(e=>"arima"===e.method||"prophet"===e.method||"xgboost"===e.method||"lstm"===e.method||"linear_regression"===e.method||"sarima"===e.method).length}),(0,t.jsx)("div",{className:"sub-value",children:"Machine learning forecasts"})]})]}),(0,t.jsxs)("div",{style:{marginTop:g.theme.spacing.xl},children:[(0,t.jsx)(H,{children:"All Forecasts"}),(0,t.jsxs)(E,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Forecast Name"}),(0,t.jsx)("th",{children:"Type"}),(0,t.jsx)("th",{children:"Method"}),(0,t.jsx)("th",{children:"Period"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Total Forecasted"}),(0,t.jsx)("th",{children:"Data Points"}),(0,t.jsx)("th",{children:"Created"})]})}),(0,t.jsx)("tbody",{children:ej.map(e=>{let s=e.forecast_data||[],a=s.reduce((e,t)=>e+(t.forecasted_value||0),0),i="arima"===e.method||"prophet"===e.method||"xgboost"===e.method||"lstm"===e.method||"linear_regression"===e.method||"sarima"===e.method;return(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{children:[(0,t.jsx)("strong",{children:e.name}),e.description&&(0,t.jsx)("div",{style:{fontSize:g.theme.typography.fontSizes.xs,color:T,marginTop:g.theme.spacing.xs},children:e.description})]}),(0,t.jsx)("td",{children:(0,t.jsx)("span",{style:{textTransform:"capitalize"},children:e.forecast_type})}),(0,t.jsx)("td",{children:(0,t.jsxs)("span",{style:{textTransform:"capitalize"},children:[e.method.replace(/_/g," "),i&&" (AI)"]})}),(0,t.jsxs)("td",{children:[eF(e.start_date)," - ",eF(e.end_date)]}),(0,t.jsx)("td",{style:{textAlign:"right",fontWeight:g.theme.typography.fontWeights.bold},children:ez(a)}),(0,t.jsx)("td",{children:s.length}),(0,t.jsx)("td",{children:eF(e.created_at)})]},e.id)})})]})]}),(0,t.jsxs)("div",{style:{marginTop:g.theme.spacing.xl},children:[(0,t.jsx)(H,{children:"Forecast Summary by Type"}),(0,t.jsxs)(E,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Forecast Type"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Count"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Total Forecasted Value"}),(0,t.jsx)("th",{style:{textAlign:"right"},children:"Average per Forecast"})]})}),(0,t.jsx)("tbody",{children:["revenue","expense","profit","inventory"].map(e=>{let s=ej.filter(t=>t.forecast_type===e);if(0===s.length)return null;let a=s.reduce((e,t)=>e+(t.forecast_data||[]).reduce((e,t)=>e+(t.forecasted_value||0),0),0);return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{textTransform:"capitalize",fontWeight:g.theme.typography.fontWeights.medium},children:e}),(0,t.jsx)("td",{style:{textAlign:"right"},children:s.length}),(0,t.jsx)("td",{style:{textAlign:"right",fontWeight:g.theme.typography.fontWeights.bold},children:ez(a)}),(0,t.jsx)("td",{style:{textAlign:"right"},children:ez(a/s.length)})]},e)}).filter(Boolean)})]})]})]}):(0,t.jsxs)(q,{children:[(0,t.jsx)(w.LineChart,{size:48}),(0,t.jsx)("h3",{children:"No forecasts available"}),(0,t.jsx)("p",{children:"Forecast reports are only available to Finance Admin, Admin, and Manager roles. Create forecasts to see them here."})]})]})})]})]})}):(0,t.jsx)(l.default,{children:(0,t.jsx)(D,{children:(0,t.jsxs)(q,{children:[(0,t.jsx)(j.FileText,{size:48}),(0,t.jsx)("h3",{children:"Please log in to view reports"})]})})})}e.s(["default",()=>ea],20347)}]);
frontend/.next/static/chunks/df81da0516d25860.js:`,X=e=>{if("number"==typeof e)return e;if("string"==typeof e){let t=parseInt(e,10);return Number.isNaN(t)?void 0:t}},Z=e=>"string"==typeof e?e:void 0,Q=e=>e&&"object"==typeof e?e:{};function ee(){let{user:e}=(0,x.useAuth)(),n=(0,b.default)(e=>e.user),[y,v]=(0,a.useState)([]),[_,$]=(0,a.useState)(!0),[w,j]=(0,a.useState)(null),[ee,et]=(0,a.useState)(""),[ea,en]=(0,a.useState)("all"),[ei,er]=(0,a.useState)("all"),[eo,es]=(0,a.useState)({totalRevenue:0,totalSales:0,totalExpenses:0,totalInventory:0,netAmount:0,totalTransactions:0}),[el,ed]=(0,a.useState)(!1),ec=(0,a.useCallback)(async()=>{if(e){ed(!0);try{let t=e?.role?.toLowerCase();if("admin"!==t&&"super_admin"!==t&&"finance_admin"!==t&&"finance_manager"!==t&&"manager"!==t&&"accountant"!==t)return void ed(!1);let[a,n,i]=await Promise.allSettled([g.default.getFinancialSummary().catch(()=>({data:null})),g.default.getSalesSummary().catch(()=>({data:null})),g.default.getInventorySummary().catch(()=>({data:null}))]),r=0,o=0;if("fulfilled"===a.status){let e=a.value?.data;e?.financials&&(r=Number(e.financials.total_revenue||0),o=Number(e.financials.total_expenses||0))}let s=0;if("fulfilled"===n.status){let e=n.value?.data;e&&"object"==typeof e&&"total_revenue"in e&&(s=Number(e.total_revenue||0))}let l=0;if("fulfilled"===i.status){let e=i.value?.data;e&&"object"==typeof e&&"total_cost_value"in e&&(l=Number(e.total_cost_value||0))}let d=r+s-o-l;es(e=>({...e,totalRevenue:r,totalSales:s,totalExpenses:o,totalInventory:l,netAmount:d}))}catch(e){console.warn("Failed to load summary from backend:",e)}finally{ed(!1)}}},[e,n?.managerId]),ep=(0,a.useCallback)(async()=>{if(!e)return void $(!1);$(!0),j(null);try{let t=e?.role?.toLowerCase(),a="admin"===t||"super_admin"===t,i=null;if(a)i=null;else if(("finance_manager"===t||"finance_admin"===t)&&e?.id)try{let t="string"==typeof e.id?parseInt(e.id,10):e.id,a=await g.default.getSubordinates(t),n=(a?.data||[]).map(e=>{let t="string"==typeof e.id?parseInt(e.id,10):Number(e.id),a=(e.role||"").toLowerCase();if(!Number.isNaN(t)&&("accountant"===a||"employee"===a))return t}).filter(e=>void 0!==e);i=[t,...n]}catch(t){console.warn("Failed to fetch subordinates, using only finance admin ID:",t),i=["string"==typeof e.id?parseInt(e.id,10):e.id]}else if("accountant"===t&&e?.id){let t="string"==typeof e.id?parseInt(e.id,10):e.id,a=null,r=n?.managerId;if(r)a="string"==typeof r?parseInt(r,10):Number(r);else try{let e=await g.default.getCurrentUser(),t=e?.data;t?.manager_id!==void 0&&t?.manager_id!==null&&(a="string"==typeof t.manager_id?parseInt(t.manager_id,10):Number(t.manager_id))}catch(e){console.warn("Failed to fetch current user profile for manager_id:",e)}if(a)try{let e=a,t=await g.default.getSubordinates(e),n=(t?.data||[]).map(e=>{let t="string"==typeof e.id?parseInt(e.id,10):Number(e.id),a=(e.role||"").toLowerCase();if(!Number.isNaN(t)&&("accountant"===a||"employee"===a))return t}).filter(e=>void 0!==e);i=[e,...n]}catch(e){console.error("Failed to fetch Finance Admin subordinates for accountant:",e),i=[a]}else console.warn("Accountant has no manager (Finance Admin) assigned - using only accountant ID"),i=[t]}else"employee"===t&&e?.id&&(i=["string"==typeof e.id?parseInt(e.id,10):e.id]);let[r,o,s]=await Promise.all([g.default.getTransactions().catch(()=>({data:[]})),g.default.getSales({limit:1e3}).catch(()=>({data:[]})),g.default.getInventoryItems({limit:1e3}).catch(()=>({data:[]}))]),l=r.data||[],d=o?.data||[],c=(Array.isArray(d)?d:Q(d).data||[]).map(e=>{let t=Q(e),a=X(t.id)??0,n=X(t.sold_by_id??t.soldBy??t.sold_by),i=X(t.created_by_id??t.createdBy??t.created_by);return{id:`sale-${a}`,transaction_type:"sale",title:Z(t.item_name)||`Sale #${a}`,description:Z(t.customer_name)?`Customer: ${t.customer_name}`:Z(t.notes)||`Receipt: ${Z(t.receipt_number)||`#${a}`}`,category:Q(t.item).category||"Sales",amount:"number"==typeof t.total_sale?t.total_sale:0,date:Z(t.created_at)||Z(t.date),is_approved:"posted"===t.status,created_at:Z(t.created_at),status:Z(t.status)||"pending",item_name:Z(t.item_name),quantity_sold:X(t.quantity_sold),receipt_number:Z(t.receipt_number),customer_name:Z(t.customer_name),soldById:n,createdById:i}}),p=s?.data||[],u=(Array.isArray(p)?p:Q(p).data||[]).map(e=>{let t=Q(e),a=X(t.id)??0,n=X(t.quantity)??0,i=("number"==typeof t.total_cost?t.total_cost:"number"==typeof t.buying_price?t.buying_price:0)*n,r=X(t.created_by_id??t.createdBy??t.created_by);return{id:`inventory-${a}`,transaction_type:"inventory",title:Z(t.item_name)||`Inventory Item #${a}`,description:Z(t.description)||`SKU: ${Z(t.sku)||"N/A"}`,category:Z(t.category)||"Inventory",amount:i,date:Z(t.created_at)||Z(t.date),is_approved:!1!==t.is_active,created_at:Z(t.created_at),status:!1===t.is_active?"inactive":"active",item_name:Z(t.item_name),quantity:n,sku:Z(t.sku),buying_price:"number"==typeof t.buying_price?t.buying_price:void 0,total_cost:"number"==typeof t.total_cost?t.total_cost:void 0,createdById:r}});!a&&i&&i.length>0&&(l=l.filter(e=>{let t=X(e.created_by_id??e.createdBy??e.created_by);return void 0!==t&&i.includes(t)}),c=c.filter(e=>{let t=X(e.soldById??e.createdById);return void 0!==t&&i.includes(t)}),u=u.filter(e=>{let t=X(e.createdById);return void 0!==t&&i.includes(t)}));let m=[...(l||[]).map(e=>({id:e.id?.toString()||"",transaction_type:e.transaction_type,title:"string"==typeof e.title?e.title:"Transaction",description:"string"==typeof e.description?e.description:void 0,category:"string"==typeof e.category?e.category:"N/A",amount:"number"==typeof e.amount?e.amount:0,date:Z(e.date)||Z(e.created_at),is_approved:!!e.is_approved,created_at:Z(e.created_at),status:e.status||"pending",item_name:Z(e.item_name),quantity:"number"==typeof e.quantity?e.quantity:void 0,quantity_sold:"number"==typeof e.quantity_sold?e.quantity_sold:void 0,receipt_number:Z(e.receipt_number),customer_name:Z(e.customer_name),sku:Z(e.sku),buying_price:"number"==typeof e.buying_price?e.buying_price:void 0,total_cost:"number"==typeof e.total_cost?e.total_cost:void 0,createdById:X(e.created_by_id),soldById:X(e.sold_by_id)})),...c,...u].sort((e,t)=>{let a=new Date(e.date||e.created_at||0).getTime();return new Date(t.date||t.created_at||0).getTime()-a});v(m),es(e=>({...e,totalTransactions:m.length}))}catch(t){let e="Failed to load transactions";if("object"==typeof t&&null!==t&&"response"in t){let a=t.response,n=a?.data?.detail;"string"==typeof n?e=n:Array.isArray(n)?e=n.map(e=>e.msg||JSON.stringify(e)).join(", "):n&&"object"==typeof n&&"msg"in n&&(e=n.msg||e)}else t instanceof Error&&(e=t.message);j(e),h.toast.error(e)}finally{$(!1)}},[e,n?.managerId]);(0,a.useEffect)(()=>{e&&ep()},[e,ep]),(0,a.useEffect)(()=>{e&&!_&&ec()},[e,_,ec]);let eu=y.filter(e=>{let t=e.title.toLowerCase().includes(ee.toLowerCase())||e.description?.toLowerCase().includes(ee.toLowerCase())||e.source?.toLowerCase().includes(ee.toLowerCase())||e.vendor?.toLowerCase().includes(ee.toLowerCase())||e.item_name?.toLowerCase().includes(ee.toLowerCase())||e.receipt_number?.toLowerCase().includes(ee.toLowerCase())||e.customer_name?.toLowerCase().includes(ee.toLowerCase())||e.sku?.toLowerCase().includes(ee.toLowerCase()),a="all"===ea||e.transaction_type===ea,n=!1;return n="all"===ei||("approved"===ei?e.is_approved||"posted"===e.status||"active"===e.status:"pending"===ei?!e.is_approved&&"posted"!==e.status&&"cancelled"!==e.status&&"active"!==e.status:"posted"===ei?"posted"===e.status:"active"===ei?"active"===e.status:"inactive"===ei?"inactive"===e.status:e.status===ei),t&&a&&n}),em=eu.filter(e=>"revenue"===e.transaction_type).reduce((e,t)=>e+Math.abs(t.amount),0),eg=eu.filter(e=>"sale"===e.transaction_type).reduce((e,t)=>e+Math.abs(t.amount),0),eh=eu.filter(e=>"expense"===e.transaction_type).reduce((e,t)=>e+Math.abs(t.amount),0),ef=eu.filter(e=>"inventory"===e.transaction_type).reduce((e,t)=>e+Math.abs(t.amount),0),ey=eu.length,ex=!el&&eo.totalRevenue>0?eo.totalRevenue:em,eb=!el&&eo.totalSales>0?eo.totalSales:eg,ev=!el&&eo.totalExpenses>0?eo.totalExpenses:eh,e_=!el&&eo.totalInventory>0?eo.totalInventory:ef,e$=!el&&(eo.totalRevenue>0||eo.totalSales>0||eo.totalExpenses>0)?eo.netAmount:em+eg-eh-ef;return _?(0,t.jsx)(m.default,{children:(0,t.jsx)(C,{children:(0,t.jsx)(S,{children:(0,t.jsxs)(K,{children:[(0,t.jsx)(Y,{}),(0,t.jsx)("p",{children:"Loading transactions..."})]})})})}):(0,t.jsx)(m.default,{children:(0,t.jsx)(C,{children:(0,t.jsxs)(S,{children:[(0,t.jsxs)(N,{children:[(0,t.jsx)("h1",{children:"Transactions"}),(0,t.jsx)("p",{children:"View all revenue and expense transactions"})]}),w&&(0,t.jsxs)(I,{children:[(0,t.jsx)(o.AlertCircle,{}),(0,t.jsx)("span",{children:w})]}),(0,t.jsxs)(k,{children:[(0,t.jsxs)(A,{$type:"revenue",children:[(0,t.jsxs)("div",{className:"label",children:["Total Revenue",el&&(0,t.jsx)("span",{style:{fontSize:"10px",marginLeft:"4px",opacity:.7},children:"(Loading...)"})]}),(0,t.jsx)("div",{className:"value",children:(0,f.formatCurrency)(ex)})]}),(0,t.jsxs)(A,{$type:"revenue",children:[(0,t.jsxs)("div",{className:"label",children:["Total Sales",el&&(0,t.jsx)("span",{style:{fontSize:"10px",marginLeft:"4px",opacity:.7},children:"(Loading...)"})]}),(0,t.jsx)("div",{className:"value",children:(0,f.formatCurrency)(eb)})]}),(0,t.jsxs)(A,{$type:"expense",children:[(0,t.jsxs)("div",{className:"label",children:["Total Expenses",el&&(0,t.jsx)("span",{style:{fontSize:"10px",marginLeft:"4px",opacity:.7},children:"(Loading...)"})]}),(0,t.jsx)("div",{className:"value",children:(0,f.formatCurrency)(ev)})]})]}),(0,t.jsxs)(z,{children:[(0,t.jsxs)(A,{$type:"expense",children:[(0,t.jsxs)("div",{className:"label",children:["Total Inventory Cost",el&&(0,t.jsx)("span",{style:{fontSize:"10px",marginLeft:"4px",opacity:.7},children:"(Loading...)"})]}),(0,t.jsx)("div",{className:"value",children:(0,f.formatCurrency)(e_)})]}),(0,t.jsxs)(A,{$type:"net",children:[(0,t.jsxs)("div",{className:"label",children:["Net Amount",el&&(0,t.jsx)("span",{style:{fontSize:"10px",marginLeft:"4px",opacity:.7},children:"(Loading...)"})]}),(0,t.jsx)("div",{className:"value",style:{color:e$>=0?"#16a34a":"#dc2626"},children:(0,f.formatCurrency)(e$)})]}),(0,t.jsxs)(A,{$type:"total",children:[(0,t.jsx)("div",{className:"label",children:"Total Transactions"}),(0,t.jsx)("div",{className:"value",children:ey})]})]}),(0,t.jsx)(P,{children:(0,t.jsxs)(R,{children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(d.Search,{}),(0,t.jsx)(T,{type:"text",placeholder:"Search transactions...",value:ee,onChange:e=>et(e.target.value)})]}),(0,t.jsxs)(B,{value:ea,onChange:e=>en(e.target.value),children:[(0,t.jsx)("option",{value:"all",children:"All Types"}),(0,t.jsx)("option",{value:"revenue",children:"Revenue"}),(0,t.jsx)("option",{value:"expense",children:"Expense"}),(0,t.jsx)("option",{value:"sale",children:"Sales"}),(0,t.jsx)("option",{value:"inventory",children:"Inventory"})]}),(0,t.jsxs)(B,{value:ei,onChange:e=>er(e.target.value),children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"approved",children:"Approved"}),(0,t.jsx)("option",{value:"posted",children:"Posted"}),(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"inactive",children:"Inactive"}),(0,t.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]})}),(0,t.jsx)(E,{children:0===eu.length?(0,t.jsxs)(W,{children:[(0,t.jsx)(c.TrendingUp,{}),(0,t.jsx)("h3",{children:"No transactions found"}),(0,t.jsx)("p",{children:"Try adjusting your filters or create a new transaction."})]}):(0,t.jsx)("div",{style:{overflowX:"auto"},children:(0,t.jsxs)(F,{children:[(0,t.jsx)(q,{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Type"}),(0,t.jsx)("th",{children:"Title"}),(0,t.jsx)("th",{children:"Category"}),(0,t.jsx)("th",{children:"Amount"}),(0,t.jsx)("th",{children:"Date"}),(0,t.jsx)("th",{children:"Status"}),(0,t.jsx)("th",{children:"Actions"})]})}),(0,t.jsx)(D,{children:eu.map(e=>{let a=e.id.split("-")[1],n="expense"===e.transaction_type,o="sale"===e.transaction_type;return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{whiteSpace:"nowrap"},children:(0,t.jsxs)(O,{$type:e.transaction_type,children:[n?(0,t.jsx)(l.ArrowDownRight,{size:12}):o?(0,t.jsx)(p.ShoppingCart,{size:12}):"inventory"===e.transaction_type?(0,t.jsx)(u.Package,{size:12}):(0,t.jsx)(s.ArrowUpRight,{size:12}),"revenue"===e.transaction_type?"Revenue":"expense"===e.transaction_type?"Expense":"sale"===e.transaction_type?"Sale":"Inventory"]})}),(0,t.jsx)("td",{children:(0,t.jsx)(J,{children:e.title})}),(0,t.jsx)("td",{style:{whiteSpace:"nowrap"},children:(0,t.jsx)(M,{children:e.category||"N/A"})}),(0,t.jsxs)(V,{$isExpense:n||"inventory"===e.transaction_type,style:{whiteSpace:"nowrap"},children:[n||"inventory"===e.transaction_type?"-":"+",(0,f.formatCurrency)(Math.abs(e.amount))]}),(0,t.jsx)("td",{style:{whiteSpace:"nowrap"},children:(0,f.formatDate)(e.date||e.created_at||"")}),(0,t.jsxs)("td",{style:{whiteSpace:"nowrap"},children:[(0,t.jsx)(U,{$approved:!!e.is_approved,$status:e.status,children:"posted"===e.status?"Posted":"cancelled"===e.status?"Cancelled":"active"===e.status?"Active":"inactive"===e.status?"Inactive":e.is_approved?"Approved":"Pending"}),e.is_recurring&&(0,t.jsx)(H,{children:"Recurring"})]}),(0,t.jsx)("td",{style:{whiteSpace:"nowrap"},children:(0,t.jsx)(G,{children:o?(0,t.jsx)(r.default,{href:`/sales/accounting?sale_id=${a}`,children:(0,t.jsx)(i.Button,{size:"sm",variant:"secondary",children:"View"})}):"inventory"===e.transaction_type?(0,t.jsx)(r.default,{href:`/inventory/manage?item_id=${a}`,children:(0,t.jsx)(i.Button,{size:"sm",variant:"secondary",children:"View"})}):(0,t.jsx)(r.default,{href:n?`/expenses/edit/${a}`:`/revenue/edit/${a}`,children:(0,t.jsx)(i.Button,{size:"sm",variant:"secondary",children:"View"})})})})]},e.id)})})]})})})]})})})}e.s(["default",()=>ee])}]);
frontend/.next/static/chunks/e206857295683fdd.js:(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67034,(e,t,r)=>{var n={675:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,i=u(e),o=i[0],a=i[1],l=new s((o+a)*3/4-a),c=0,f=a>0?o-4:o;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[c++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,s=n%3,i=[],o=0,a=n-s;o<a;o+=16383)i.push(function(e,t,n){for(var s,i=[],o=t;o<n;o+=3)s=(e[o]<<16&0xff0000)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(r[s>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return i.join("")}(e,o,o+16383>a?a:o+16383));return 1===s?i.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===s&&i.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),i.join("")};for(var r=[],n=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=i.length;o<a;++o)r[o]=i[o],n[i.charCodeAt(o)]=o;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},72:function(e,t,r){"use strict";var n=r(675),s=r(783),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e){var n=e,s=t;if(("string"!=typeof s||""===s)&&(s="utf8"),!a.isEncoding(s))throw TypeError("Unknown encoding: "+s);var i=0|p(n,s),u=o(i),l=u.write(n,s);return l!==i&&(u=u.slice(0,l)),u}if(ArrayBuffer.isView(e))return f(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(B(e,ArrayBuffer)||e&&B(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(B(e,SharedArrayBuffer)||e&&B(e.buffer,SharedArrayBuffer)))return function(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var c=e.valueOf&&e.valueOf();if(null!=c&&c!==e)return a.from(c,t,r);var d=function(e){if(a.isBuffer(e)){var t=0|h(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?o(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(d)return d;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),o(e<0?0:0|h(e))}function f(e){for(var t=e.length<0?0:0|h(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}t.Buffer=a,t.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(l(e),e<=0)?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)};function h(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||B(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var s=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return T(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return _(e).length;default:if(s)return n?-1:T(e).length;t=(""+t).toLowerCase(),s=!0}}function d(e,t,r){var s,i,o,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var s="",i=t;i<r;++i)s+=U[e[i]];return s}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var s=t;s<r;++s)n+=String.fromCharCode(127&e[s]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var s=t;s<r;++s)n+=String.fromCharCode(e[s]);return n}(this,t,r);case"base64":return s=this,i=t,o=r,0===i&&o===s.length?n.fromByteArray(s):n.fromByteArray(s.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),s="",i=0;i<n.length;i+=2)s+=String.fromCharCode(n[i]+256*n[i+1]);return s}(this,t,r);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,s){var i;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(i=r*=1)!=i&&(r=s?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(s)return -1;else r=e.length-1;else if(r<0)if(!s)return -1;else r=0;if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,s);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(s)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return m(e,[t],r,n,s)}throw TypeError("val must be string, number or Buffer")}function m(e,t,r,n,s){var i,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,a/=2,u/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(s){var c=-1;for(i=r;i<a;i++)if(l(e,i)===l(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===u)return c*o}else -1!==c&&(i-=i-c),c=-1}else for(r+u>a&&(r=a-u),i=r;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(l(e,i+h)!==l(t,h)){f=!1;break}if(f)return i}return -1}a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(B(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),B(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,s=0,i=Math.min(r,n);s<i;++s)if(e[s]!==t[s]){r=e[s],n=t[s];break}return r<n?-1:+(n<r)},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=a.allocUnsafe(t),s=0;for(r=0;r<e.length;++r){var i=e[r];if(B(i,Uint8Array)&&(i=a.from(i)),!a.isBuffer(i))throw TypeError('"list" argument must be an Array of Buffers');i.copy(n,s),s+=i.length}return n},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):d.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},i&&(a.prototype[i]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,s){if(B(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===s&&(s=this.length),t<0||r>e.length||n<0||s>this.length)throw RangeError("out of range index");if(n>=s&&t>=r)return 0;if(n>=s)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var i=s-n,o=r-t,u=Math.min(i,o),l=this.slice(n,s),c=e.slice(t,r),f=0;f<u;++f)if(l[f]!==c[f]){i=l[f],o=c[f];break}return i<o?-1:+(o<i)},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)};function b(e,t,r){r=Math.min(e.length,r);for(var n=[],s=t;s<r;){var i,o,a,u,l=e[s],c=null,f=l>239?4:l>223?3:l>191?2:1;if(s+f<=r)switch(f){case 1:l<128&&(c=l);break;case 2:(192&(i=e[s+1]))==128&&(u=(31&l)<<6|63&i)>127&&(c=u);break;case 3:i=e[s+1],o=e[s+2],(192&i)==128&&(192&o)==128&&(u=(15&l)<<12|(63&i)<<6|63&o)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:i=e[s+1],o=e[s+2],a=e[s+3],(192&i)==128&&(192&o)==128&&(192&a)==128&&(u=(15&l)<<18|(63&i)<<12|(63&o)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),s+=f}var h=n,p=h.length;if(p<=4096)return String.fromCharCode.apply(String,h);for(var d="",g=0;g<p;)d+=String.fromCharCode.apply(String,h.slice(g,g+=4096));return d}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function v(e,t,r,n,s,i){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<i)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function E(e,t,r,n,s,i){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function S(e,t,r,n,i){return t*=1,r>>>=0,i||E(e,t,r,4,34028234663852886e22,-34028234663852886e22),s.write(e,t,r,n,23,4),r+4}function A(e,t,r,n,i){return t*=1,r>>>=0,i||E(e,t,r,8,17976931348623157e292,-17976931348623157e292),s.write(e,t,r,n,52,8),r+8}a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s,i,o,a,u,l,c,f,h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var p=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var s=e.length-r;n?(n=Number(n))>s&&(n=s):n=s;var i=t.length;n>i/2&&(n=i/2);for(var o=0;o<n;++o){var a,u=parseInt(t.substr(2*o,2),16);if((a=u)!=a)break;e[r+o]=u}return o}(this,e,t,r);case"utf8":case"utf-8":return s=t,i=r,x(T(e,this.length-s),this,s,i);case"ascii":return o=t,a=r,x(O(e),this,o,a);case"latin1":case"binary":return function(e,t,r,n){return x(O(t),e,r,n)}(this,e,t,r);case"base64":return u=t,l=r,x(_(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,f=r,x(function(e,t){for(var r,n,s=[],i=0;i<e.length&&!((t-=2)<0);++i)n=(r=e.charCodeAt(i))>>8,s.push(r%256),s.push(n);return s}(e,this.length-c),this,c,f);default:if(p)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e],s=1,i=0;++i<t&&(s*=256);)n+=this[e+i]*s;return n},a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n},a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e],s=1,i=0;++i<t&&(s*=256);)n+=this[e+i]*s;return n>=(s*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=t,s=1,i=this[e+--n];n>0&&(s*=256);)i+=this[e+--n]*s;return i>=(s*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),s.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),s.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),s.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),s.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var s=Math.pow(2,8*r)-1;v(this,e,t,r,s,0)}var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var s=Math.pow(2,8*r)-1;v(this,e,t,r,s,0)}var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var s=Math.pow(2,8*r-1);v(this,e,t,r,s-1,-s)}var i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var s=Math.pow(2,8*r-1);v(this,e,t,r,s-1,-s)}var i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return S(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return S(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return A(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return A(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var s=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=s-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return s},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var s,i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var o=a.isBuffer(e)?e:a.from(e,n),u=o.length;if(0===u)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<r-t;++s)this[s+t]=o[s%u]}return this};var R=/[^+/0-9A-Za-z-_]/g;function T(e,t){t=t||1/0;for(var r,n=e.length,s=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!s){if(r>56319||o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}s=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),s=r;continue}r=(s-55296<<10|r-56320)+65536}else s&&(t-=3)>-1&&i.push(239,191,189);if(s=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return i}function O(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function _(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function x(e,t,r,n){for(var s=0;s<n&&!(s+r>=t.length)&&!(s>=e.length);++s)t[s+r]=e[s];return s}function B(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var U=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,s=0;s<16;++s)t[n+s]=e[r]+e[s];return t}()},783:function(e,t){t.read=function(e,t,r,n,s){var i,o,a=8*s-n-1,u=(1<<a)-1,l=u>>1,c=-7,f=r?s-1:0,h=r?-1:1,p=e[t+f];for(f+=h,i=p&(1<<-c)-1,p>>=-c,c+=a;c>0;i=256*i+e[t+f],f+=h,c-=8);for(o=i&(1<<-c)-1,i>>=-c,c+=n;c>0;o=256*o+e[t+f],f+=h,c-=8);if(0===i)i=1-l;else{if(i===u)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),i-=l}return(p?-1:1)*o*Math.pow(2,i-n)},t.write=function(e,t,r,n,s,i){var o,a,u,l=8*i-s-1,c=(1<<l)-1,f=c>>1,h=5960464477539062e-23*(23===s),p=n?0:i-1,d=n?1:-1,g=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+f>=1?t+=h/u:t+=h*Math.pow(2,1-f),t*u>=2&&(o++,u/=2),o+f>=c?(a=0,o=c):o+f>=1?(a=(t*u-1)*Math.pow(2,s),o+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,s),o=0));s>=8;e[r+p]=255&a,p+=d,a/=256,s-=8);for(o=o<<s|a,l+=s;l>0;e[r+p]=255&o,p+=d,o/=256,l-=8);e[r+p-d]|=128*g}}},s={};function i(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}},o=!0;try{n[e](r,r.exports,i),o=!1}finally{o&&delete s[e]}return r.exports}i.ab="/ROOT/node_modules/next/dist/compiled/buffer/",t.exports=i(72)},54858,e=>{"use strict";let t,r,n,s;var i,o,a,u,l=e.i(47167);function c(e,t){return function(){return e.apply(t,arguments)}}let{toString:f}=Object.prototype,{getPrototypeOf:h}=Object,{iterator:p,toStringTag:d}=Symbol,g=(t=Object.create(null),e=>{let r=f.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}),y=e=>(e=e.toLowerCase(),t=>g(t)===e),m=e=>t=>typeof t===e,{isArray:b}=Array,w=m("undefined");function v(e){return null!==e&&!w(e)&&null!==e.constructor&&!w(e.constructor)&&A(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}let E=y("ArrayBuffer"),S=m("string"),A=m("function"),R=m("number"),T=e=>null!==e&&"object"==typeof e,O=e=>{if("object"!==g(e))return!1;let t=h(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(d in e)&&!(p in e)},_=y("Date"),x=y("File"),B=y("Blob"),U=y("FileList"),C=y("URLSearchParams"),[I,P,j,k]=["ReadableStream","Request","Response","Headers"].map(y);function N(e,t,{allOwnKeys:r=!1}={}){let n,s;if(null!=e)if("object"!=typeof e&&(e=[e]),b(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{let s;if(v(e))return;let i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;for(n=0;n<o;n++)s=i[n],t.call(null,e[s],s,e)}}function L(e,t){let r;if(v(e))return null;t=t.toLowerCase();let n=Object.keys(e),s=n.length;for(;s-- >0;)if(t===(r=n[s]).toLowerCase())return r;return null}let $="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g,D=e=>!w(e)&&e!==$,F=(r="undefined"!=typeof Uint8Array&&h(Uint8Array),e=>r&&e instanceof r),M=y("HTMLFormElement"),q=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),z=y("RegExp"),H=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};N(r,(r,s)=>{let i;!1!==(i=t(r,s,e))&&(n[s]=i||r)}),Object.defineProperties(e,n)},W=y("AsyncFunction"),J=(i="function"==typeof setImmediate,o=A($.postMessage),i?setImmediate:o?(a=`axios@${Math.random()}`,u=[],$.addEventListener("message",({source:e,data:t})=>{e===$&&t===a&&u.length&&u.shift()()},!1),e=>{u.push(e),$.postMessage(a,"*")}):e=>setTimeout(e)),V="undefined"!=typeof queueMicrotask?queueMicrotask.bind($):void 0!==l.default&&l.default.nextTick||J,K={isArray:b,isArrayBuffer:E,isBuffer:v,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||A(e.append)&&("formdata"===(t=g(e))||"object"===t&&A(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&E(e.buffer)},isString:S,isNumber:R,isBoolean:e=>!0===e||!1===e,isObject:T,isPlainObject:O,isEmptyObject:e=>{if(!T(e)||v(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(e){return!1}},isReadableStream:I,isRequest:P,isResponse:j,isHeaders:k,isUndefined:w,isDate:_,isFile:x,isBlob:B,isRegExp:z,isFunction:A,isStream:e=>T(e)&&A(e.pipe),isURLSearchParams:C,isTypedArray:F,isFileList:U,forEach:N,merge:function e(){let{caseless:t,skipUndefined:r}=D(this)&&this||{},n={},s=(s,i)=>{let o=t&&L(n,i)||i;O(n[o])&&O(s)?n[o]=e(n[o],s):O(s)?n[o]=e({},s):b(s)?n[o]=s.slice():r&&w(s)||(n[o]=s)};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&N(arguments[e],s);return n},extend:(e,t,r,{allOwnKeys:n}={})=>(N(t,(t,n)=>{r&&A(t)?e[n]=c(t,r):e[n]=t},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let s,i,o,a={};if(t=t||{},null==e)return t;do{for(i=(s=Object.getOwnPropertyNames(e)).length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=!1!==r&&h(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype)return t},kindOf:g,kindOfTest:y,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return -1!==n&&n===r},toArray:e=>{if(!e)return null;if(b(e))return e;let t=e.length;if(!R(t))return null;let r=Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{let r,n=(e&&e[p]).call(e);for(;(r=n.next())&&!r.done;){let n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let r,n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:M,hasOwnProperty:q,hasOwnProp:q,reduceDescriptors:H,freezeMethods:e=>{H(e,(t,r)=>{if(A(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;if(A(e[r])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet:(e,t)=>{let r={};return(b(e)?e:String(e).split(t)).forEach(e=>{r[e]=!0}),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e*=1)?e:t,findKey:L,global:$,isContextDefined:D,isSpecCompliantForm:function(e){return!!(e&&A(e.append)&&"FormData"===e[d]&&e[p])},toJSONObject:e=>{let t=Array(10),r=(e,n)=>{if(T(e)){if(t.indexOf(e)>=0)return;if(v(e))return e;if(!("toJSON"in e)){t[n]=e;let s=b(e)?[]:{};return N(e,(e,t)=>{let i=r(e,n+1);w(i)||(s[t]=i)}),t[n]=void 0,s}}return e};return r(e,0)},isAsyncFn:W,isThenable:e=>e&&(T(e)||A(e))&&A(e.then)&&A(e.catch),setImmediate:J,asap:V,isIterable:e=>null!=e&&A(e[p])};var X=e.i(67034);function G(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}K.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});let Y=G.prototype,Q={};function Z(e){return K.isPlainObject(e)||K.isArray(e)}function ee(e){return K.endsWith(e,"[]")?e.slice(0,-2):e}function et(e,t,r){return e?e.concat(t).map(function(e,t){return e=ee(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Q[e]={value:e}}),Object.defineProperties(G,Q),Object.defineProperty(Y,"isAxiosError",{value:!0}),G.from=(e,t,r,n,s,i)=>{let o=Object.create(Y);K.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);let a=e&&e.message?e.message:"Error",u=null==t&&e?e.code:t;return G.call(o,a,u,r,n,s),e&&null==o.cause&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};let er=K.toFlatObject(K,{},null,function(e){return/^is[A-Z]/.test(e)}),en=function(e,t,r){if(!K.isObject(e))throw TypeError("target must be an object");t=t||new FormData;let n=(r=K.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!K.isUndefined(t[e])})).metaTokens,s=r.visitor||l,i=r.dots,o=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&K.isSpecCompliantForm(t);if(!K.isFunction(s))throw TypeError("visitor must be a function");function u(e){if(null===e)return"";if(K.isDate(e))return e.toISOString();if(K.isBoolean(e))return e.toString();if(!a&&K.isBlob(e))throw new G("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(e)||K.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):X.Buffer.from(e):e}function l(e,r,s){let a=e;if(e&&!s&&"object"==typeof e)if(K.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else{var l;if(K.isArray(e)&&(l=e,K.isArray(l)&&!l.some(Z))||(K.isFileList(e)||K.endsWith(r,"[]"))&&(a=K.toArray(e)))return r=ee(r),a.forEach(function(e,n){K.isUndefined(e)||null===e||t.append(!0===o?et([r],n,i):null===o?r:r+"[]",u(e))}),!1}return!!Z(e)||(t.append(et(s,r,i),u(e)),!1)}let c=[],f=Object.assign(er,{defaultVisitor:l,convertValue:u,isVisitable:Z});if(!K.isObject(e))throw TypeError("data must be an object");return!function e(r,n){if(!K.isUndefined(r)){if(-1!==c.indexOf(r))throw Error("Circular reference detected in "+n.join("."));c.push(r),K.forEach(r,function(r,i){!0===(!(K.isUndefined(r)||null===r)&&s.call(t,r,K.isString(i)?i.trim():i,n,f))&&e(r,n?n.concat(i):[i])}),c.pop()}}(e),t};function es(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function ei(e,t){this._pairs=[],e&&en(e,this,t)}let eo=ei.prototype;function ea(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function eu(e,t,r){let n;if(!t)return e;let s=r&&r.encode||ea;K.isFunction(r)&&(r={serialize:r});let i=r&&r.serialize;if(n=i?i(t,r):K.isURLSearchParams(t)?t.toString():new ei(t,r).toString(s)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}eo.append=function(e,t){this._pairs.push([e,t])},eo.toString=function(e){let t=e?function(t){return e.call(this,t,es)}:es;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};let el=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){K.forEach(this.handlers,function(t){null!==t&&e(t)})}},ec={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ef="undefined"!=typeof URLSearchParams?URLSearchParams:ei,eh="undefined"!=typeof FormData?FormData:null,ep="undefined"!=typeof Blob?Blob:null,ed="undefined"!=typeof window&&"undefined"!=typeof document,eg="object"==typeof navigator&&navigator||void 0,ey=ed&&(!eg||0>["ReactNative","NativeScript","NS"].indexOf(eg.product)),em="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,eb=ed&&window.location.href||"http://localhost";e.s(["hasBrowserEnv",()=>ed,"hasStandardBrowserEnv",()=>ey,"hasStandardBrowserWebWorkerEnv",()=>em,"navigator",()=>eg,"origin",()=>eb],57536);let ew={...e.i(57536),isBrowser:!0,classes:{URLSearchParams:ef,FormData:eh,Blob:ep},protocols:["http","https","file","blob","url","data"]},ev=function(e){if(K.isFormData(e)&&K.isFunction(e.entries)){let t={};return K.forEachEntry(e,(e,r)=>{!function e(t,r,n,s){let i=t[s++];if("__proto__"===i)return!0;let o=Number.isFinite(+i),a=s>=t.length;return(i=!i&&K.isArray(n)?n.length:i,a)?K.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r:(n[i]&&K.isObject(n[i])||(n[i]=[]),e(t,r,n[i],s)&&K.isArray(n[i])&&(n[i]=function(e){let t,r,n={},s=Object.keys(e),i=s.length;for(t=0;t<i;t++)n[r=s[t]]=e[r];return n}(n[i]))),!o}(K.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),r,t,0)}),t}return null},eE={transitional:ec,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let r,n=t.getContentType()||"",s=n.indexOf("application/json")>-1,i=K.isObject(e);if(i&&K.isHTMLForm(e)&&(e=new FormData(e)),K.isFormData(e))return s?JSON.stringify(ev(e)):e;if(K.isArrayBuffer(e)||K.isBuffer(e)||K.isStream(e)||K.isFile(e)||K.isBlob(e)||K.isReadableStream(e))return e;if(K.isArrayBufferView(e))return e.buffer;if(K.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1){var o,a;return(o=e,a=this.formSerializer,en(o,new ew.classes.URLSearchParams,{visitor:function(e,t,r,n){return ew.isNode&&K.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)},...a})).toString()}if((r=K.isFileList(e))||n.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return en(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}if(i||s){t.setContentType("application/json",!1);var u=e;if(K.isString(u))try{return(0,JSON.parse)(u),K.trim(u)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(u)}return e}],transformResponse:[function(e){let t=this.transitional||eE.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(K.isResponse(e)||K.isReadableStream(e))return e;if(e&&K.isString(e)&&(r&&!this.responseType||n)){let r=t&&t.silentJSONParsing;try{return JSON.parse(e,this.parseReviver)}catch(e){if(!r&&n){if("SyntaxError"===e.name)throw G.from(e,G.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ew.classes.FormData,Blob:ew.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],e=>{eE.headers[e]={}});let eS=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eA=Symbol("internals");function eR(e){return e&&String(e).trim().toLowerCase()}function eT(e){return!1===e||null==e?e:K.isArray(e)?e.map(eT):String(e)}function eO(e,t,r,n,s){if(K.isFunction(n))return n.call(this,t,r);if(s&&(t=r),K.isString(t)){if(K.isString(n))return -1!==t.indexOf(n);if(K.isRegExp(n))return n.test(t)}}class e_{constructor(e){e&&this.set(e)}set(e,t,r){let n=this;function s(e,t,r){let s=eR(t);if(!s)throw Error("header name must be a non-empty string");let i=K.findKey(n,s);i&&void 0!==n[i]&&!0!==r&&(void 0!==r||!1===n[i])||(n[i||t]=eT(e))}let i=(e,t)=>K.forEach(e,(e,r)=>s(e,r,t));if(K.isPlainObject(e)||e instanceof this.constructor)i(e,t);else{let n;if(K.isString(e)&&(e=e.trim())&&(n=e,!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim()))){var o;let r,n,s,a;i((a={},(o=e)&&o.split("\n").forEach(function(e){s=e.indexOf(":"),r=e.substring(0,s).trim().toLowerCase(),n=e.substring(s+1).trim(),!r||a[r]&&eS[r]||("set-cookie"===r?a[r]?a[r].push(n):a[r]=[n]:a[r]=a[r]?a[r]+", "+n:n)}),a),t)}else if(K.isObject(e)&&K.isIterable(e)){let r={},n,s;for(let t of e){if(!K.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[s=t[0]]=(n=r[s])?K.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(r,t)}else null!=e&&s(t,e,r)}return this}get(e,t){if(e=eR(e)){let r=K.findKey(this,e);if(r){let e=this[r];if(!t)return e;if(!0===t){let t,r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=n.exec(e);)r[t[1]]=t[2];return r}if(K.isFunction(t))return t.call(this,e,r);if(K.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=eR(e)){let r=K.findKey(this,e);return!!(r&&void 0!==this[r]&&(!t||eO(this,this[r],r,t)))}return!1}delete(e,t){let r=this,n=!1;function s(e){if(e=eR(e)){let s=K.findKey(r,e);s&&(!t||eO(r,r[s],s,t))&&(delete r[s],n=!0)}}return K.isArray(e)?e.forEach(s):s(e),n}clear(e){let t=Object.keys(this),r=t.length,n=!1;for(;r--;){let s=t[r];(!e||eO(this,this[s],s,e,!0))&&(delete this[s],n=!0)}return n}normalize(e){let t=this,r={};return K.forEach(this,(n,s)=>{let i=K.findKey(r,s);if(i){t[i]=eT(n),delete t[s];return}let o=e?s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r):String(s).trim();o!==s&&delete t[s],t[o]=eT(n),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return K.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&K.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let r=new this(e);return t.forEach(e=>r.set(e)),r}static accessor(e){let t=(this[eA]=this[eA]={accessors:{}}).accessors,r=this.prototype;function n(e){let n=eR(e);if(!t[n]){let s;s=K.toCamelCase(" "+e),["get","set","has"].forEach(t=>{Object.defineProperty(r,t+s,{value:function(r,n,s){return this[t].call(this,e,r,n,s)},configurable:!0})}),t[n]=!0}}return K.isArray(e)?e.forEach(n):n(e),this}}function ex(e,t){let r=this||eE,n=t||r,s=e_.from(n.headers),i=n.data;return K.forEach(e,function(e){i=e.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function eB(e){return!!(e&&e.__CANCEL__)}function eU(e,t,r){G.call(this,null==e?"canceled":e,G.ERR_CANCELED,t,r),this.name="CanceledError"}function eC(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new G("Request failed with status code "+r.status,[G.ERR_BAD_REQUEST,G.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}e_.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),K.reduceDescriptors(e_.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}),K.freezeMethods(e_),K.inherits(eU,G,{__CANCEL__:!0});let eI=function(e,t){let r,n=Array(e=e||10),s=Array(e),i=0,o=0;return t=void 0!==t?t:1e3,function(a){let u=Date.now(),l=s[o];r||(r=u),n[i]=a,s[i]=u;let c=o,f=0;for(;c!==i;)f+=n[c++],c%=e;if((i=(i+1)%e)===o&&(o=(o+1)%e),u-r<t)return;let h=l&&u-l;return h?Math.round(1e3*f/h):void 0}},eP=function(e,t){let r,n,s=0,i=1e3/t,o=(t,i=Date.now())=>{s=i,r=null,n&&(clearTimeout(n),n=null),e(...t)};return[(...e)=>{let t=Date.now(),a=t-s;a>=i?o(e,t):(r=e,n||(n=setTimeout(()=>{n=null,o(r)},i-a)))},()=>r&&o(r)]},ej=(e,t,r=3)=>{let n=0,s=eI(50,250);return eP(r=>{let i=r.loaded,o=r.lengthComputable?r.total:void 0,a=i-n,u=s(a);n=i,e({loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:u||void 0,estimated:u&&o&&i<=o?(o-i)/u:void 0,event:r,lengthComputable:null!=o,[t?"download":"upload"]:!0})},r)},ek=(e,t)=>{let r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},eN=e=>(...t)=>K.asap(()=>e(...t)),eL=ew.hasStandardBrowserEnv?(n=new URL(ew.origin),s=ew.navigator&&/(msie|trident)/i.test(ew.navigator.userAgent),e=>(e=new URL(e,ew.origin),n.protocol===e.protocol&&n.host===e.host&&(s||n.port===e.port))):()=>!0,e$=ew.hasStandardBrowserEnv?{write(e,t,r,n,s,i,o){if("undefined"==typeof document)return;let a=[`${e}=${encodeURIComponent(t)}`];K.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),K.isString(n)&&a.push(`path=${n}`),K.isString(s)&&a.push(`domain=${s}`),!0===i&&a.push("secure"),K.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if("undefined"==typeof document)return null;let t=document.cookie.match(RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function eD(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||!1==r)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}let eF=e=>e instanceof e_?{...e}:e;function eM(e,t){t=t||{};let r={};function n(e,t,r,n){return K.isPlainObject(e)&&K.isPlainObject(t)?K.merge.call({caseless:n},e,t):K.isPlainObject(t)?K.merge({},t):K.isArray(t)?t.slice():t}function s(e,t,r,s){return K.isUndefined(t)?K.isUndefined(e)?void 0:n(void 0,e,r,s):n(e,t,r,s)}function i(e,t){if(!K.isUndefined(t))return n(void 0,t)}function o(e,t){return K.isUndefined(t)?K.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,s,i){return i in t?n(r,s):i in e?n(void 0,r):void 0}let u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t,r)=>s(eF(e),eF(t),r,!0)};return K.forEach(Object.keys({...e,...t}),function(n){let i=u[n]||s,o=i(e[n],t[n],n);K.isUndefined(o)&&i!==a||(r[n]=o)}),r}let eq=e=>{let t=eM({},e),{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=e_.from(o),t.url=eu(eD(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),K.isFormData(r)){if(ew.hasStandardBrowserEnv||ew.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(K.isFunction(r.getHeaders)){let e=r.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,r])=>{t.includes(e.toLowerCase())&&o.set(e,r)})}}if(ew.hasStandardBrowserEnv&&(n&&K.isFunction(n)&&(n=n(t)),n||!1!==n&&eL(t.url))){let e=s&&i&&e$.read(i);e&&o.set(s,e)}return t},ez="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){var n;let s,i,o,a,u,l,c=eq(e),f=c.data,h=e_.from(c.headers).normalize(),{responseType:p,onUploadProgress:d,onDownloadProgress:g}=c;function y(){a&&a(),u&&u(),c.cancelToken&&c.cancelToken.unsubscribe(s),c.signal&&c.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function b(){if(!m)return;let n=e_.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());eC(function(e){t(e),y()},function(e){r(e),y()},{data:p&&"text"!==p&&"json"!==p?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m}),m=null}m.open(c.method.toUpperCase(),c.url,!0),m.timeout=c.timeout,"onloadend"in m?m.onloadend=b:m.onreadystatechange=function(){!m||4!==m.readyState||(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(b)},m.onabort=function(){m&&(r(new G("Request aborted",G.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){let n=new G(t&&t.message?t.message:"Network Error",G.ERR_NETWORK,e,m);n.event=t||null,r(n),m=null},m.ontimeout=function(){let t=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded",n=c.transitional||ec;c.timeoutErrorMessage&&(t=c.timeoutErrorMessage),r(new G(t,n.clarifyTimeoutError?G.ETIMEDOUT:G.ECONNABORTED,e,m)),m=null},void 0===f&&h.setContentType(null),"setRequestHeader"in m&&K.forEach(h.toJSON(),function(e,t){m.setRequestHeader(t,e)}),K.isUndefined(c.withCredentials)||(m.withCredentials=!!c.withCredentials),p&&"json"!==p&&(m.responseType=c.responseType),g&&([o,u]=ej(g,!0),m.addEventListener("progress",o)),d&&m.upload&&([i,a]=ej(d),m.upload.addEventListener("progress",i),m.upload.addEventListener("loadend",a)),(c.cancelToken||c.signal)&&(s=t=>{m&&(r(!t||t.type?new eU(null,e,m):t),m.abort(),m=null)},c.cancelToken&&c.cancelToken.subscribe(s),c.signal&&(c.signal.aborted?s():c.signal.addEventListener("abort",s)));let w=(n=c.url,(l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n))&&l[1]||"");w&&-1===ew.protocols.indexOf(w)?r(new G("Unsupported protocol "+w+":",G.ERR_BAD_REQUEST,e)):m.send(f||null)})},eH=function*(e,t){let r,n=e.byteLength;if(!t||n<t)return void(yield e);let s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},eW=async function*(e,t){for await(let r of eJ(e))yield*eH(r,t)},eJ=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);let t=e.getReader();try{for(;;){let{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},eV=(e,t,r,n)=>{let s,i=eW(e,t),o=0,a=e=>{!s&&(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{let{done:t,value:n}=await i.next();if(t){a(),e.close();return}let s=n.byteLength;if(r){let e=o+=s;r(e)}e.enqueue(new Uint8Array(n))}catch(e){throw a(e),e}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},{isFunction:eK}=K,eX=(({Request:e,Response:t})=>({Request:e,Response:t}))(K.global),{ReadableStream:eG,TextEncoder:eY}=K.global,eQ=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},eZ=e=>{let t,{fetch:r,Request:n,Response:s}=e=K.merge.call({skipUndefined:!0},eX,e),i=r?eK(r):"function"==typeof fetch,o=eK(n),a=eK(s);if(!i)return!1;let u=i&&eK(eG),l=i&&("function"==typeof eY?(t=new eY,e=>t.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer())),c=o&&u&&eQ(()=>{let e=!1,t=new n(ew.origin,{body:new eG,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),f=a&&u&&eQ(()=>K.isReadableStream(new s("").body)),h={stream:f&&(e=>e.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{h[e]||(h[e]=(t,r)=>{let n=t&&t[e];if(n)return n.call(t);throw new G(`Response type '${e}' is not supported`,G.ERR_NOT_SUPPORT,r)})});let p=async e=>{if(null==e)return 0;if(K.isBlob(e))return e.size;if(K.isSpecCompliantForm(e)){let t=new n(ew.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return K.isArrayBufferView(e)||K.isArrayBuffer(e)?e.byteLength:(K.isURLSearchParams(e)&&(e+=""),K.isString(e))?(await l(e)).byteLength:void 0},d=async(e,t)=>{let r=K.toFiniteNumber(e.getContentLength());return null==r?p(t):r};return async e=>{let t,{url:i,method:a,data:u,signal:l,cancelToken:p,timeout:g,onDownloadProgress:y,onUploadProgress:m,responseType:b,headers:w,withCredentials:v="same-origin",fetchOptions:E}=eq(e),S=r||fetch;b=b?(b+"").toLowerCase():"text";let A=((e,t)=>{let{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController,s=function(e){if(!r){r=!0,o();let t=e instanceof Error?e:this.reason;n.abort(t instanceof G?t:new eU(t instanceof Error?t.message:t))}},i=t&&setTimeout(()=>{i=null,s(new G(`timeout ${t} of ms exceeded`,G.ETIMEDOUT))},t),o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));let{signal:a}=n;return a.unsubscribe=()=>K.asap(o),a}})([l,p&&p.toAbortSignal()],g),R=null,T=A&&A.unsubscribe&&(()=>{A.unsubscribe()});try{if(m&&c&&"get"!==a&&"head"!==a&&0!==(t=await d(w,u))){let e,r=new n(i,{method:"POST",body:u,duplex:"half"});if(K.isFormData(u)&&(e=r.headers.get("content-type"))&&w.setContentType(e),r.body){let[e,n]=ek(t,ej(eN(m)));u=eV(r.body,65536,e,n)}}K.isString(v)||(v=v?"include":"omit");let r=o&&"credentials"in n.prototype,l={...E,signal:A,method:a.toUpperCase(),headers:w.normalize().toJSON(),body:u,duplex:"half",credentials:r?v:void 0};R=o&&new n(i,l);let p=await (o?S(R,E):S(i,l)),g=f&&("stream"===b||"response"===b);if(f&&(y||g&&T)){let e={};["status","statusText","headers"].forEach(t=>{e[t]=p[t]});let t=K.toFiniteNumber(p.headers.get("content-length")),[r,n]=y&&ek(t,ej(eN(y),!0))||[];p=new s(eV(p.body,65536,r,()=>{n&&n(),T&&T()}),e)}b=b||"text";let O=await h[K.findKey(h,b)||"text"](p,e);return!g&&T&&T(),await new Promise((t,r)=>{eC(t,r,{data:O,headers:e_.from(p.headers),status:p.status,statusText:p.statusText,config:e,request:R})})}catch(t){if(T&&T(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new G("Network Error",G.ERR_NETWORK,e,R),{cause:t.cause||t});throw G.from(t,t&&t.code,e,R)}}},e0=new Map,e1=e=>{let t=e&&e.env||{},{fetch:r,Request:n,Response:s}=t,i=[n,s,r],o=i.length,a,u,l=e0;for(;o--;)a=i[o],void 0===(u=l.get(a))&&l.set(a,u=o?new Map:eZ(t)),l=u;return u};e1();let e2={http:null,xhr:ez,fetch:{get:e1}};K.forEach(e2,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let e5=e=>`- ${e}`,e8=e=>K.isFunction(e)||null===e||!1===e,e3=function(e,t){let r,n,{length:s}=e=K.isArray(e)?e:[e],i={};for(let o=0;o<s;o++){let s;if(n=r=e[o],!e8(r)&&void 0===(n=e2[(s=String(r)).toLowerCase()]))throw new G(`Unknown adapter '${s}'`);if(n&&(K.isFunction(n)||(n=n.get(t))))break;i[s||"#"+o]=n}if(!n){let e=Object.entries(i).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new G("There is no suitable adapter to dispatch the request "+(s?e.length>1?"since :\n"+e.map(e5).join("\n"):" "+e5(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function e6(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new eU(null,e)}function e4(e){return e6(e),e.headers=e_.from(e.headers),e.data=ex.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),e3(e.adapter||eE.adapter,e)(e).then(function(t){return e6(e),t.data=ex.call(e,e.transformResponse,t),t.headers=e_.from(t.headers),t},function(t){return!eB(t)&&(e6(e),t&&t.response&&(t.response.data=ex.call(e,e.transformResponse,t.response),t.response.headers=e_.from(t.response.headers))),Promise.reject(t)})}let e9="1.13.2",e7={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{e7[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});let te={};e7.transitional=function(e,t,r){function n(e,t){return"[Axios v"+e9+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,s,i)=>{if(!1===e)throw new G(n(s," has been removed"+(t?" in "+t:"")),G.ERR_DEPRECATED);return t&&!te[s]&&(te[s]=!0,console.warn(n(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,s,i)}},e7.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};let tt=function(e,t,r){if("object"!=typeof e)throw new G("options must be an object",G.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),s=n.length;for(;s-- >0;){let i=n[s],o=t[i];if(o){let t=e[i],r=void 0===t||o(t,i,e);if(!0!==r)throw new G("option "+i+" must be "+r,G.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new G("Unknown option "+i,G.ERR_BAD_OPTION)}};class tr{constructor(e){this.defaults=e||{},this.interceptors={request:new el,response:new el}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=Error();let r=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}catch(e){}}throw e}}_request(e,t){let r,n;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:s,paramsSerializer:i,headers:o}=t=eM(this.defaults,t);void 0!==s&&tt(s,{silentJSONParsing:e7.transitional(e7.boolean),forcedJSONParsing:e7.transitional(e7.boolean),clarifyTimeoutError:e7.transitional(e7.boolean)},!1),null!=i&&(K.isFunction(i)?t.paramsSerializer={serialize:i}:tt(i,{encode:e7.function,serialize:e7.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),tt(t,{baseUrl:e7.spelling("baseURL"),withXsrfToken:e7.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&K.merge(o.common,o[t.method]);o&&K.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=e_.concat(a,o);let u=[],l=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(l=l&&e.synchronous,u.unshift(e.fulfilled,e.rejected))});let c=[];this.interceptors.response.forEach(function(e){c.push(e.fulfilled,e.rejected)});let f=0;if(!l){let e=[e4.bind(this),void 0];for(e.unshift(...u),e.push(...c),n=e.length,r=Promise.resolve(t);f<n;)r=r.then(e[f++],e[f++]);return r}n=u.length;let h=t;for(;f<n;){let e=u[f++],t=u[f++];try{h=e(h)}catch(e){t.call(this,e);break}}try{r=e4.call(this,h)}catch(e){return Promise.reject(e)}for(f=0,n=c.length;f<n;)r=r.then(c[f++],c[f++]);return r}getUri(e){return eu(eD((e=eM(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}K.forEach(["delete","get","head","options"],function(e){tr.prototype[e]=function(t,r){return this.request(eM(r||{},{method:e,url:t,data:(r||{}).data}))}}),K.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,s){return this.request(eM(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}tr.prototype[e]=t(),tr.prototype[e+"Form"]=t(!0)});class tn{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t,n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,s){r.reason||(r.reason=new eU(e,n,s),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new tn(function(t){e=t}),cancel:e}}}let ts={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ts).forEach(([e,t])=>{ts[t]=e});let ti=function e(t){let r=new tr(t),n=c(tr.prototype.request,r);return K.extend(n,tr.prototype,r,{allOwnKeys:!0}),K.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(eM(t,r))},n}(eE);ti.Axios=tr,ti.CanceledError=eU,ti.CancelToken=tn,ti.isCancel=eB,ti.VERSION=e9,ti.toFormData=en,ti.AxiosError=G,ti.Cancel=ti.CanceledError,ti.all=function(e){return Promise.all(e)},ti.spread=function(e){return function(t){return e.apply(null,t)}},ti.isAxiosError=function(e){return K.isObject(e)&&!0===e.isAxiosError},ti.mergeConfig=eM,ti.AxiosHeaders=e_,ti.formToJSON=e=>ev(K.isHTMLForm(e)?new FormData(e):e),ti.getAdapter=e3,ti.HttpStatusCode=ts,ti.default=ti;let to=(l.default.env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api/v1").replace(/\/$/,""),ta=new class{client;constructor(){this.client=ti.create({baseURL:to,timeout:3e5,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.client.interceptors.request.use(e=>{{let t=localStorage.getItem("access_token");t&&(e.headers=e.headers??{},e.headers.Authorization=`Bearer ${t}`)}return e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{let t=e.config,r=t?.url||"";if(e.response?.status===401&&!t?._retry&&(t._retry=!0,localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),r.includes("/auth/login-json")||r.includes("/auth/login")||window.location.pathname.includes("/auth/login")||(window.location.href="/")),e.response?.status===403){let t=e.config?.ur